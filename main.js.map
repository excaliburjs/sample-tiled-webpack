{"version":3,"file":"main.js","mappings":"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,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,EACXC,IAAK,IAAM,GACXC,IAAK,IAAM,EACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,EACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,EACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACX3mB,GAAI,IAAM,GACV4mB,IAAK,IAAM,GACXC,IAAK,IAAM,EACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,EACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,EACXC,IAAK,IAAM,EACXC,IAAK,IAAM,GACXC,IAAK,IAAM,EACXC,IAAK,IAAM,EACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,EACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,EACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,GAAI,IAAM,GACVC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,EACXC,IAAK,IAAM,EACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,EACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,EACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,EACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,EACXC,IAAK,IAAM,EACXC,IAAK,IAAM,EACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,GACXC,IAAK,IAAM,G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","sources":["webpack://sample-tiled-webpack/./node_modules/@excaliburjs/plugin-tiled/dist/excalibur-tiled.min.js","webpack://sample-tiled-webpack/./node_modules/excalibur/build/esm/excalibur.js","webpack://sample-tiled-webpack/./src/config.ts","webpack://sample-tiled-webpack/./src/main.ts","webpack://sample-tiled-webpack/./src/player.ts","webpack://sample-tiled-webpack/./src/resources.ts","webpack://sample-tiled-webpack/external var \"JSDOM\"","webpack://sample-tiled-webpack/webpack/bootstrap","webpack://sample-tiled-webpack/webpack/runtime/define property getters","webpack://sample-tiled-webpack/webpack/runtime/hasOwnProperty shorthand","webpack://sample-tiled-webpack/webpack/runtime/make namespace object","webpack://sample-tiled-webpack/webpack/startup"],"sourcesContent":["/*! For license information please see excalibur-tiled.min.js.LICENSE.txt */\n!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t(function(){try{return require(\"JSDOM\")}catch(e){}}(),require(\"excalibur\")):\"function\"==typeof define&&define.amd?define([\"JSDOM\",\"excalibur\"],t):\"object\"==typeof exports?exports.ex=t(function(){try{return require(\"JSDOM\")}catch(e){}}(),require(\"excalibur\")):(e.ex=e.ex||{},e.ex.Plugin=e.ex.Plugin||{},e.ex.Plugin.Tiled=t(e.JSDOM,e.ex))}(self,((e,t)=>(()=>{var i={\"./node_modules/compare-versions/lib/esm/compare.js\":(e,t,i)=>{\"use strict\";i.r(t),i.d(t,{compare:()=>s});var A=i(\"./node_modules/compare-versions/lib/esm/compareVersions.js\");const s=(e,t,i)=>{o(i);const s=(0,A.compareVersions)(e,t);return r[i].includes(s)},r={\">\":[1],\">=\":[0,1],\"=\":[0],\"<=\":[-1,0],\"<\":[-1],\"!=\":[-1,1]},a=Object.keys(r),o=e=>{if(\"string\"!=typeof e)throw new TypeError(\"Invalid operator type, expected string but got \"+typeof e);if(-1===a.indexOf(e))throw new Error(`Invalid operator, expected one of ${a.join(\"|\")}`)}},\"./node_modules/compare-versions/lib/esm/compareVersions.js\":(e,t,i)=>{\"use strict\";i.r(t),i.d(t,{compareVersions:()=>s});var A=i(\"./node_modules/compare-versions/lib/esm/utils.js\");const s=(e,t)=>{const i=(0,A.validateAndParse)(e),s=(0,A.validateAndParse)(t),r=i.pop(),a=s.pop(),o=(0,A.compareSegments)(i,s);return 0!==o?o:r&&a?(0,A.compareSegments)(r.split(\".\"),a.split(\".\")):r||a?r?-1:1:0}},\"./node_modules/compare-versions/lib/esm/utils.js\":(e,t,i)=>{\"use strict\";i.r(t),i.d(t,{compareSegments:()=>n,semver:()=>A,validateAndParse:()=>s});const A=/^[v^~<>=]*?(\\d+)(?:\\.([x*]|\\d+)(?:\\.([x*]|\\d+)(?:\\.([x*]|\\d+))?(?:-([\\da-z\\-]+(?:\\.[\\da-z\\-]+)*))?(?:\\+[\\da-z\\-]+(?:\\.[\\da-z\\-]+)*)?)?)?$/i,s=e=>{if(\"string\"!=typeof e)throw new TypeError(\"Invalid argument expected string\");const t=e.match(A);if(!t)throw new Error(`Invalid argument not valid semver ('${e}' received)`);return t.shift(),t},r=e=>\"*\"===e||\"x\"===e||\"X\"===e,a=e=>{const t=parseInt(e,10);return isNaN(t)?e:t},o=(e,t)=>{if(r(e)||r(t))return 0;const[i,A]=((e,t)=>typeof e!=typeof t?[String(e),String(t)]:[e,t])(a(e),a(t));return i>A?1:i<A?-1:0},n=(e,t)=>{for(let i=0;i<Math.max(e.length,t.length);i++){const A=o(e[i]||\"0\",t[i]||\"0\");if(0!==A)return A}return 0}},\"./node_modules/fast-xml-parser/src/json2xml.js\":(e,t,i)=>{\"use strict\";const A=i(\"./node_modules/fast-xml-parser/src/util.js\").buildOptions,s={attributeNamePrefix:\"@_\",attrNodeName:!1,textNodeName:\"#text\",ignoreAttributes:!0,cdataTagName:!1,cdataPositionChar:\"\\\\c\",format:!1,indentBy:\"  \",supressEmptyNode:!1,tagValueProcessor:function(e){return e},attrValueProcessor:function(e){return e}},r=[\"attributeNamePrefix\",\"attrNodeName\",\"textNodeName\",\"ignoreAttributes\",\"cdataTagName\",\"cdataPositionChar\",\"format\",\"indentBy\",\"supressEmptyNode\",\"tagValueProcessor\",\"attrValueProcessor\",\"rootNodeName\"];function a(e){this.options=A(e,s,r),this.options.ignoreAttributes||this.options.attrNodeName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=p),this.options.cdataTagName?this.isCDATA=I:this.isCDATA=function(){return!1},this.replaceCDATAstr=n,this.replaceCDATAarr=l,this.processTextOrObjNode=o,this.options.format?(this.indentate=u,this.tagEndChar=\">\\n\",this.newLine=\"\\n\"):(this.indentate=function(){return\"\"},this.tagEndChar=\">\",this.newLine=\"\"),this.options.supressEmptyNode?(this.buildTextNode=h,this.buildObjNode=c):(this.buildTextNode=g,this.buildObjNode=d),this.buildTextValNode=g,this.buildObjectNode=d}function o(e,t,i){const A=this.j2x(e,i+1);return void 0!==e[this.options.textNodeName]&&1===Object.keys(e).length?this.buildTextNode(A.val,t,A.attrStr,i):this.buildObjNode(A.val,t,A.attrStr,i)}function n(e,t){return e=this.options.tagValueProcessor(\"\"+e),\"\"===this.options.cdataPositionChar||\"\"===e?e+\"<![CDATA[\"+t+\"]]\"+this.tagEndChar:e.replace(this.options.cdataPositionChar,\"<![CDATA[\"+t+\"]]\"+this.tagEndChar)}function l(e,t){if(e=this.options.tagValueProcessor(\"\"+e),\"\"===this.options.cdataPositionChar||\"\"===e)return e+\"<![CDATA[\"+t.join(\"]]><![CDATA[\")+\"]]\"+this.tagEndChar;for(let i in t)e=e.replace(this.options.cdataPositionChar,\"<![CDATA[\"+t[i]+\"]]>\");return e+this.newLine}function d(e,t,i,A){return i&&-1===e.indexOf(\"<\")?this.indentate(A)+\"<\"+t+i+\">\"+e+\"</\"+t+this.tagEndChar:this.indentate(A)+\"<\"+t+i+this.tagEndChar+e+this.indentate(A)+\"</\"+t+this.tagEndChar}function c(e,t,i,A){return\"\"!==e?this.buildObjectNode(e,t,i,A):this.indentate(A)+\"<\"+t+i+\"/\"+this.tagEndChar}function g(e,t,i,A){return this.indentate(A)+\"<\"+t+i+\">\"+this.options.tagValueProcessor(e)+\"</\"+t+this.tagEndChar}function h(e,t,i,A){return\"\"!==e?this.buildTextValNode(e,t,i,A):this.indentate(A)+\"<\"+t+i+\"/\"+this.tagEndChar}function u(e){return this.options.indentBy.repeat(e)}function p(e){return!!e.startsWith(this.options.attributeNamePrefix)&&e.substr(this.attrPrefixLen)}function I(e){return e===this.options.cdataTagName}a.prototype.parse=function(e){return Array.isArray(e)&&this.options.rootNodeName&&this.options.rootNodeName.length>1&&(e={[this.options.rootNodeName]:e}),this.j2x(e,0).val},a.prototype.j2x=function(e,t){let i=\"\",A=\"\";for(let s in e)if(void 0===e[s]);else if(null===e[s])A+=this.indentate(t)+\"<\"+s+\"/\"+this.tagEndChar;else if(e[s]instanceof Date)A+=this.buildTextNode(e[s],s,\"\",t);else if(\"object\"!=typeof e[s]){const r=this.isAttribute(s);r?i+=\" \"+r+'=\"'+this.options.attrValueProcessor(\"\"+e[s])+'\"':this.isCDATA(s)?e[this.options.textNodeName]?A+=this.replaceCDATAstr(e[this.options.textNodeName],e[s]):A+=this.replaceCDATAstr(\"\",e[s]):s===this.options.textNodeName?e[this.options.cdataTagName]||(A+=this.options.tagValueProcessor(\"\"+e[s])):A+=this.buildTextNode(e[s],s,\"\",t)}else if(Array.isArray(e[s]))if(this.isCDATA(s))A+=this.indentate(t),e[this.options.textNodeName]?A+=this.replaceCDATAarr(e[this.options.textNodeName],e[s]):A+=this.replaceCDATAarr(\"\",e[s]);else{const i=e[s].length;for(let r=0;r<i;r++){const i=e[s][r];void 0===i||(A+=null===i?this.indentate(t)+\"<\"+s+\"/\"+this.tagEndChar:\"object\"==typeof i?this.processTextOrObjNode(i,s,t):this.buildTextNode(i,s,\"\",t))}}else if(this.options.attrNodeName&&s===this.options.attrNodeName){const t=Object.keys(e[s]),A=t.length;for(let r=0;r<A;r++)i+=\" \"+t[r]+'=\"'+this.options.attrValueProcessor(\"\"+e[s][t[r]])+'\"'}else A+=this.processTextOrObjNode(e[s],s,t);return{attrStr:i,val:A}},e.exports=a},\"./node_modules/fast-xml-parser/src/nimndata.js\":(e,t,i)=>{\"use strict\";const A=function(e){return String.fromCharCode(e)},s={nilChar:A(176),missingChar:A(201),nilPremitive:A(175),missingPremitive:A(200),emptyChar:A(178),emptyValue:A(177),boundryChar:A(179),objStart:A(198),arrStart:A(204),arrayEnd:A(185)},r=[s.nilChar,s.nilPremitive,s.missingChar,s.missingPremitive,s.boundryChar,s.emptyChar,s.emptyValue,s.arrayEnd,s.objStart,s.arrStart],a=function(e,t,i){if(\"string\"==typeof t)return e&&e[0]&&void 0!==e[0].val?o(e[0].val,t):o(e,t);{const r=void 0===(A=e)?s.missingChar:null===A?s.nilChar:!(A.child&&0===Object.keys(A.child).length&&(!A.attrsMap||0===Object.keys(A.attrsMap).length))||s.emptyChar;if(!0===r){let A=\"\";if(Array.isArray(t)){A+=s.arrStart;const r=t[0],l=e.length;if(\"string\"==typeof r)for(let t=0;t<l;t++){const i=o(e[t].val,r);A=n(A,i)}else for(let t=0;t<l;t++){const s=a(e[t],r,i);A=n(A,s)}A+=s.arrayEnd}else{A+=s.objStart;const r=Object.keys(t);Array.isArray(e)&&(e=e[0]);for(let s in r){const o=r[s];let l;l=!i.ignoreAttributes&&e.attrsMap&&e.attrsMap[o]?a(e.attrsMap[o],t[o],i):o===i.textNodeName?a(e.val,t[o],i):a(e.child[o],t[o],i),A=n(A,l)}}return A}return r}var A},o=function(e){switch(e){case void 0:return s.missingPremitive;case null:return s.nilPremitive;case\"\":return s.emptyValue;default:return e}},n=function(e,t){return l(t[0])||l(e[e.length-1])||(e+=s.boundryChar),e+t},l=function(e){return-1!==r.indexOf(e)},d=i(\"./node_modules/fast-xml-parser/src/xmlstr2xmlnode.js\"),c=i(\"./node_modules/fast-xml-parser/src/util.js\").buildOptions;t.convert2nimn=function(e,t,i){return i=c(i,d.defaultOptions,d.props),a(e,t,i)}},\"./node_modules/fast-xml-parser/src/node2json.js\":(e,t,i)=>{\"use strict\";const A=i(\"./node_modules/fast-xml-parser/src/util.js\"),s=function(e,t,i){const r={};if(!t.alwaysCreateTextNode&&(!e.child||A.isEmptyObject(e.child))&&(!e.attrsMap||A.isEmptyObject(e.attrsMap)))return A.isExist(e.val)?e.val:\"\";if(A.isExist(e.val)&&(\"string\"!=typeof e.val||\"\"!==e.val&&e.val!==t.cdataPositionChar)){const s=A.isTagNameInArrayMode(e.tagname,t.arrayMode,i);r[t.textNodeName]=s?[e.val]:e.val}A.merge(r,e.attrsMap,t.arrayMode);const a=Object.keys(e.child);for(let o=0;o<a.length;o++){const n=a[o];if(e.child[n]&&e.child[n].length>1){r[n]=[];for(let i in e.child[n])e.child[n].hasOwnProperty(i)&&r[n].push(s(e.child[n][i],t,n))}else{const a=s(e.child[n][0],t,n),o=!0===t.arrayMode&&\"object\"==typeof a||A.isTagNameInArrayMode(n,t.arrayMode,i);r[n]=o?[a]:a}}return r};t.convertToJson=s},\"./node_modules/fast-xml-parser/src/node2json_str.js\":(e,t,i)=>{\"use strict\";const A=i(\"./node_modules/fast-xml-parser/src/util.js\"),s=i(\"./node_modules/fast-xml-parser/src/util.js\").buildOptions,r=i(\"./node_modules/fast-xml-parser/src/xmlstr2xmlnode.js\"),a=function(e,t,i){let s=\"{\";const r=Object.keys(e.child);for(let i=0;i<r.length;i++){const A=r[i];if(e.child[A]&&e.child[A].length>1){s+='\"'+A+'\" : [ ';for(let i in e.child[A])s+=a(e.child[A][i],t)+\" , \";s=s.substr(0,s.length-1)+\" ] \"}else s+='\"'+A+'\" : '+a(e.child[A][0],t)+\" ,\"}return A.merge(s,e.attrsMap),A.isEmptyObject(s)?A.isExist(e.val)?e.val:\"\":(A.isExist(e.val)&&(\"string\"!=typeof e.val||\"\"!==e.val&&e.val!==t.cdataPositionChar)&&(s+='\"'+t.textNodeName+'\" : '+(!0!==(o=e.val)&&!1!==o&&isNaN(o)?'\"'+o+'\"':o)),\",\"===s[s.length-1]&&(s=s.substr(0,s.length-2)),s+\"}\");var o};t.convertToJsonString=function(e,t){return(t=s(t,r.defaultOptions,r.props)).indentBy=t.indentBy||\"\",a(e,t,0)}},\"./node_modules/fast-xml-parser/src/parser.js\":(e,t,i)=>{\"use strict\";const A=i(\"./node_modules/fast-xml-parser/src/node2json.js\"),s=i(\"./node_modules/fast-xml-parser/src/xmlstr2xmlnode.js\"),r=i(\"./node_modules/fast-xml-parser/src/xmlstr2xmlnode.js\"),a=i(\"./node_modules/fast-xml-parser/src/util.js\").buildOptions,o=i(\"./node_modules/fast-xml-parser/src/validator.js\");t.parse=function(e,t={},i){if(i){!0===i&&(i={});const t=o.validate(e,i);if(!0!==t)throw Error(t.err.msg)}t.parseTrueNumberOnly&&!1!==t.parseNodeValue&&!t.numParseOptions&&(t.numParseOptions={leadingZeros:!1});let n=a(t,r.defaultOptions,r.props);const l=s.getTraversalObj(e,n);return A.convertToJson(l,n)},t.convertTonimn=i(\"./node_modules/fast-xml-parser/src/nimndata.js\").convert2nimn,t.getTraversalObj=s.getTraversalObj,t.convertToJson=A.convertToJson,t.convertToJsonString=i(\"./node_modules/fast-xml-parser/src/node2json_str.js\").convertToJsonString,t.validate=o.validate,t.j2xParser=i(\"./node_modules/fast-xml-parser/src/json2xml.js\"),t.parseToNimn=function(e,i,A){return t.convertTonimn(t.getTraversalObj(e,A),i,A)}},\"./node_modules/fast-xml-parser/src/util.js\":(e,t)=>{\"use strict\";const i=\":A-Za-z_\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD\",A=\"[\"+i+\"][\"+i+\"\\\\-.\\\\d\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040]*\",s=new RegExp(\"^\"+A+\"$\");t.isExist=function(e){return void 0!==e},t.isEmptyObject=function(e){return 0===Object.keys(e).length},t.merge=function(e,t,i){if(t){const A=Object.keys(t),s=A.length;for(let r=0;r<s;r++)e[A[r]]=\"strict\"===i?[t[A[r]]]:t[A[r]]}},t.getValue=function(e){return t.isExist(e)?e:\"\"},t.buildOptions=function(e,t,i){let A={};if(!e)return t;for(let s=0;s<i.length;s++)void 0!==e[i[s]]?A[i[s]]=e[i[s]]:A[i[s]]=t[i[s]];return A},t.isTagNameInArrayMode=function(e,t,i){return!1!==t&&(t instanceof RegExp?t.test(e):\"function\"==typeof t?!!t(e,i):\"strict\"===t)},t.isName=function(e){return!(null==s.exec(e))},t.getAllMatches=function(e,t){const i=[];let A=t.exec(e);for(;A;){const s=[];s.startIndex=t.lastIndex-A[0].length;const r=A.length;for(let e=0;e<r;e++)s.push(A[e]);i.push(s),A=t.exec(e)}return i},t.nameRegexp=A},\"./node_modules/fast-xml-parser/src/validator.js\":(e,t,i)=>{\"use strict\";const A=i(\"./node_modules/fast-xml-parser/src/util.js\"),s={allowBooleanAttributes:!1},r=[\"allowBooleanAttributes\"];function a(e,t){const i=t;for(;t<e.length;t++)if(\"?\"!=e[t]&&\" \"!=e[t]);else{const A=e.substr(i,t-i);if(t>5&&\"xml\"===A)return u(\"InvalidXml\",\"XML declaration allowed only at the start of the document.\",I(e,t));if(\"?\"==e[t]&&\">\"==e[t+1]){t++;break}}return t}function o(e,t){if(e.length>t+5&&\"-\"===e[t+1]&&\"-\"===e[t+2]){for(t+=3;t<e.length;t++)if(\"-\"===e[t]&&\"-\"===e[t+1]&&\">\"===e[t+2]){t+=2;break}}else if(e.length>t+8&&\"D\"===e[t+1]&&\"O\"===e[t+2]&&\"C\"===e[t+3]&&\"T\"===e[t+4]&&\"Y\"===e[t+5]&&\"P\"===e[t+6]&&\"E\"===e[t+7]){let i=1;for(t+=8;t<e.length;t++)if(\"<\"===e[t])i++;else if(\">\"===e[t]&&(i--,0===i))break}else if(e.length>t+9&&\"[\"===e[t+1]&&\"C\"===e[t+2]&&\"D\"===e[t+3]&&\"A\"===e[t+4]&&\"T\"===e[t+5]&&\"A\"===e[t+6]&&\"[\"===e[t+7])for(t+=8;t<e.length;t++)if(\"]\"===e[t]&&\"]\"===e[t+1]&&\">\"===e[t+2]){t+=2;break}return t}t.validate=function(e,t){t=A.buildOptions(t,s,r);const i=[];let n=!1,l=!1;\"\\ufeff\"===e[0]&&(e=e.substr(1));for(let s=0;s<e.length;s++)if(\"<\"===e[s]&&\"?\"===e[s+1]){if(s+=2,s=a(e,s),s.err)return s}else{if(\"<\"!==e[s]){if(\" \"===e[s]||\"\\t\"===e[s]||\"\\n\"===e[s]||\"\\r\"===e[s])continue;return u(\"InvalidChar\",\"char '\"+e[s]+\"' is not expected.\",I(e,s))}{let r=s;if(s++,\"!\"===e[s]){s=o(e,s);continue}{let p=!1;\"/\"===e[s]&&(p=!0,s++);let f=\"\";for(;s<e.length&&\">\"!==e[s]&&\" \"!==e[s]&&\"\\t\"!==e[s]&&\"\\n\"!==e[s]&&\"\\r\"!==e[s];s++)f+=e[s];if(f=f.trim(),\"/\"===f[f.length-1]&&(f=f.substring(0,f.length-1),s--),c=f,!A.isName(c)){let t;return t=0===f.trim().length?\"Invalid space after '<'.\":\"Tag '\"+f+\"' is an invalid name.\",u(\"InvalidTag\",t,I(e,s))}const C=d(e,s);if(!1===C)return u(\"InvalidAttr\",\"Attributes for '\"+f+\"' have open quote.\",I(e,s));let m=C.value;if(s=C.index,\"/\"===m[m.length-1]){const i=s-m.length;m=m.substring(0,m.length-1);const A=g(m,t);if(!0!==A)return u(A.err.code,A.err.msg,I(e,i+A.err.line));n=!0}else if(p){if(!C.tagClosed)return u(\"InvalidTag\",\"Closing tag '\"+f+\"' doesn't have proper closing.\",I(e,s));if(m.trim().length>0)return u(\"InvalidTag\",\"Closing tag '\"+f+\"' can't have attributes or invalid starting.\",I(e,r));{const t=i.pop();if(f!==t.tagName){let i=I(e,t.tagStartPos);return u(\"InvalidTag\",\"Expected closing tag '\"+t.tagName+\"' (opened in line \"+i.line+\", col \"+i.col+\") instead of closing tag '\"+f+\"'.\",I(e,r))}0==i.length&&(l=!0)}}else{const A=g(m,t);if(!0!==A)return u(A.err.code,A.err.msg,I(e,s-m.length+A.err.line));if(!0===l)return u(\"InvalidXml\",\"Multiple possible root nodes found.\",I(e,s));i.push({tagName:f,tagStartPos:r}),n=!0}for(s++;s<e.length;s++)if(\"<\"===e[s]){if(\"!\"===e[s+1]){s++,s=o(e,s);continue}if(\"?\"!==e[s+1])break;if(s=a(e,++s),s.err)return s}else if(\"&\"===e[s]){const t=h(e,s);if(-1==t)return u(\"InvalidChar\",\"char '&' is not expected.\",I(e,s));s=t}\"<\"===e[s]&&s--}}}var c;return n?1==i.length?u(\"InvalidTag\",\"Unclosed tag '\"+i[0].tagName+\"'.\",I(e,i[0].tagStartPos)):!(i.length>0)||u(\"InvalidXml\",\"Invalid '\"+JSON.stringify(i.map((e=>e.tagName)),null,4).replace(/\\r?\\n/g,\"\")+\"' found.\",{line:1,col:1}):u(\"InvalidXml\",\"Start tag expected.\",1)};const n='\"',l=\"'\";function d(e,t){let i=\"\",A=\"\",s=!1;for(;t<e.length;t++){if(e[t]===n||e[t]===l)\"\"===A?A=e[t]:A!==e[t]||(A=\"\");else if(\">\"===e[t]&&\"\"===A){s=!0;break}i+=e[t]}return\"\"===A&&{value:i,index:t,tagClosed:s}}const c=new RegExp(\"(\\\\s*)([^\\\\s=]+)(\\\\s*=)?(\\\\s*(['\\\"])(([\\\\s\\\\S])*?)\\\\5)?\",\"g\");function g(e,t){const i=A.getAllMatches(e,c),s={};for(let e=0;e<i.length;e++){if(0===i[e][1].length)return u(\"InvalidAttr\",\"Attribute '\"+i[e][2]+\"' has no space in starting.\",f(i[e]));if(void 0===i[e][3]&&!t.allowBooleanAttributes)return u(\"InvalidAttr\",\"boolean attribute '\"+i[e][2]+\"' is not allowed.\",f(i[e]));const A=i[e][2];if(!p(A))return u(\"InvalidAttr\",\"Attribute '\"+A+\"' is an invalid name.\",f(i[e]));if(s.hasOwnProperty(A))return u(\"InvalidAttr\",\"Attribute '\"+A+\"' is repeated.\",f(i[e]));s[A]=1}return!0}function h(e,t){if(\";\"===e[++t])return-1;if(\"#\"===e[t])return function(e,t){let i=/\\d/;for(\"x\"===e[t]&&(t++,i=/[\\da-fA-F]/);t<e.length;t++){if(\";\"===e[t])return t;if(!e[t].match(i))break}return-1}(e,++t);let i=0;for(;t<e.length;t++,i++)if(!(e[t].match(/\\w/)&&i<20)){if(\";\"===e[t])break;return-1}return t}function u(e,t,i){return{err:{code:e,msg:t,line:i.line||i,col:i.col}}}function p(e){return A.isName(e)}function I(e,t){const i=e.substring(0,t).split(/\\r?\\n/);return{line:i.length,col:i[i.length-1].length+1}}function f(e){return e.startIndex+e[1].length}},\"./node_modules/fast-xml-parser/src/xmlNode.js\":e=>{\"use strict\";e.exports=function(e,t,i){this.tagname=e,this.parent=t,this.child={},this.attrsMap={},this.val=i,this.addChild=function(e){Array.isArray(this.child[e.tagname])?this.child[e.tagname].push(e):this.child[e.tagname]=[e]}}},\"./node_modules/fast-xml-parser/src/xmlstr2xmlnode.js\":(e,t,i)=>{\"use strict\";const A=i(\"./node_modules/fast-xml-parser/src/util.js\"),s=i(\"./node_modules/fast-xml-parser/src/util.js\").buildOptions,r=i(\"./node_modules/fast-xml-parser/src/xmlNode.js\"),a=i(\"./node_modules/strnum/strnum.js\");\"<((!\\\\[CDATA\\\\[([\\\\s\\\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\\\/)(NAME)\\\\s*>))([^<]*)\".replace(/NAME/g,A.nameRegexp),!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const o={attributeNamePrefix:\"@_\",attrNodeName:!1,textNodeName:\"#text\",ignoreAttributes:!0,ignoreNameSpace:!1,allowBooleanAttributes:!1,parseNodeValue:!0,parseAttributeValue:!1,arrayMode:!1,trimValues:!0,cdataTagName:!1,cdataPositionChar:\"\\\\c\",numParseOptions:{hex:!0,leadingZeros:!0},tagValueProcessor:function(e,t){return e},attrValueProcessor:function(e,t){return e},stopNodes:[],alwaysCreateTextNode:!1};t.defaultOptions=o;const n=[\"attributeNamePrefix\",\"attrNodeName\",\"textNodeName\",\"ignoreAttributes\",\"ignoreNameSpace\",\"allowBooleanAttributes\",\"parseNodeValue\",\"parseAttributeValue\",\"arrayMode\",\"trimValues\",\"cdataTagName\",\"cdataPositionChar\",\"tagValueProcessor\",\"attrValueProcessor\",\"parseTrueNumberOnly\",\"numParseOptions\",\"stopNodes\",\"alwaysCreateTextNode\"];function l(e,t,i){return t&&(i.trimValues&&(t=t.trim()),t=c(t=i.tagValueProcessor(t,e),i.parseNodeValue,i.numParseOptions)),t}function d(e,t){if(t.ignoreNameSpace){const t=e.split(\":\"),i=\"/\"===e.charAt(0)?\"/\":\"\";if(\"xmlns\"===t[0])return\"\";2===t.length&&(e=i+t[1])}return e}function c(e,t,i){if(t&&\"string\"==typeof e){const t=e.trim();return\"true\"===t||\"false\"!==t&&a(e,i)}return A.isExist(e)?e:\"\"}t.props=n;const g=new RegExp(\"([^\\\\s=]+)\\\\s*(=\\\\s*(['\\\"])(.*?)\\\\3)?\",\"g\");function h(e,t){if(!t.ignoreAttributes&&\"string\"==typeof e){e=e.replace(/\\r?\\n/g,\" \");const i=A.getAllMatches(e,g),s=i.length,r={};for(let e=0;e<s;e++){const A=d(i[e][1],t);A.length&&(void 0!==i[e][4]?(t.trimValues&&(i[e][4]=i[e][4].trim()),i[e][4]=t.attrValueProcessor(i[e][4],A),r[t.attributeNamePrefix+A]=c(i[e][4],t.parseAttributeValue,t.numParseOptions)):t.allowBooleanAttributes&&(r[t.attributeNamePrefix+A]=!0))}if(!Object.keys(r).length)return;if(t.attrNodeName){const e={};return e[t.attrNodeName]=r,e}return r}}function u(e,t){let i,A=\"\";for(let s=t;s<e.length;s++){let t=e[s];if(i)t===i&&(i=\"\");else if('\"'===t||\"'\"===t)i=t;else{if(\">\"===t)return{data:A,index:s};\"\\t\"===t&&(t=\" \")}A+=t}}function p(e,t,i,A){const s=e.indexOf(t,i);if(-1===s)throw new Error(A);return s+t.length-1}t.getTraversalObj=function(e,t){e=e.replace(/\\r\\n?/g,\"\\n\"),t=s(t,o,n);const i=new r(\"!xml\");let a=i,d=\"\";for(let i=0;i<e.length;i++)if(\"<\"===e[i])if(\"/\"===e[i+1]){const s=p(e,\">\",i,\"Closing Tag is not closed.\");let r=e.substring(i+2,s).trim();if(t.ignoreNameSpace){const e=r.indexOf(\":\");-1!==e&&(r=r.substr(e+1))}a&&(a.val?a.val=A.getValue(a.val)+\"\"+l(r,d,t):a.val=l(r,d,t)),t.stopNodes.length&&t.stopNodes.includes(a.tagname)&&(a.child=[],null==a.attrsMap&&(a.attrsMap={}),a.val=e.substr(a.startIndex+1,i-a.startIndex-1)),a=a.parent,d=\"\",i=s}else if(\"?\"===e[i+1])i=p(e,\"?>\",i,\"Pi Tag is not closed.\");else if(\"!--\"===e.substr(i+1,3))i=p(e,\"--\\x3e\",i,\"Comment is not closed.\");else if(\"!D\"===e.substr(i+1,2)){const t=p(e,\">\",i,\"DOCTYPE is not closed.\");i=e.substring(i,t).indexOf(\"[\")>=0?e.indexOf(\"]>\",i)+1:t}else if(\"![\"===e.substr(i+1,2)){const s=p(e,\"]]>\",i,\"CDATA is not closed.\")-2,o=e.substring(i+9,s);if(d&&(a.val=A.getValue(a.val)+\"\"+l(a.tagname,d,t),d=\"\"),t.cdataTagName){const e=new r(t.cdataTagName,a,o);a.addChild(e),a.val=A.getValue(a.val)+t.cdataPositionChar,o&&(e.val=o)}else a.val=(a.val||\"\")+(o||\"\");i=s+2}else{const s=u(e,i+1);let o=s.data;const n=s.index,c=o.indexOf(\" \");let g=o,p=!0;if(-1!==c&&(g=o.substr(0,c).replace(/\\s\\s*$/,\"\"),o=o.substr(c+1)),t.ignoreNameSpace){const e=g.indexOf(\":\");-1!==e&&(g=g.substr(e+1),p=g!==s.data.substr(e+1))}if(a&&d&&\"!xml\"!==a.tagname&&(a.val=A.getValue(a.val)+\"\"+l(a.tagname,d,t)),o.length>0&&o.lastIndexOf(\"/\")===o.length-1){\"/\"===g[g.length-1]?(g=g.substr(0,g.length-1),o=g):o=o.substr(0,o.length-1);const e=new r(g,a,\"\");g!==o&&(e.attrsMap=h(o,t)),a.addChild(e)}else{const e=new r(g,a);t.stopNodes.length&&t.stopNodes.includes(e.tagname)&&(e.startIndex=n),g!==o&&p&&(e.attrsMap=h(o,t)),a.addChild(e),a=e}d=\"\",i=n}else d+=e[i];return i}},\"./node_modules/pako/index.js\":(e,t,i)=>{\"use strict\";var A={};(0,i(\"./node_modules/pako/lib/utils/common.js\").assign)(A,i(\"./node_modules/pako/lib/deflate.js\"),i(\"./node_modules/pako/lib/inflate.js\"),i(\"./node_modules/pako/lib/zlib/constants.js\")),e.exports=A},\"./node_modules/pako/lib/deflate.js\":(e,t,i)=>{\"use strict\";var A=i(\"./node_modules/pako/lib/zlib/deflate.js\"),s=i(\"./node_modules/pako/lib/utils/common.js\"),r=i(\"./node_modules/pako/lib/utils/strings.js\"),a=i(\"./node_modules/pako/lib/zlib/messages.js\"),o=i(\"./node_modules/pako/lib/zlib/zstream.js\"),n=Object.prototype.toString,l=0,d=-1,c=0,g=8;function h(e){if(!(this instanceof h))return new h(e);this.options=s.assign({level:d,method:g,chunkSize:16384,windowBits:15,memLevel:8,strategy:c,to:\"\"},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var i=A.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(i!==l)throw new Error(a[i]);if(t.header&&A.deflateSetHeader(this.strm,t.header),t.dictionary){var u;if(u=\"string\"==typeof t.dictionary?r.string2buf(t.dictionary):\"[object ArrayBuffer]\"===n.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(i=A.deflateSetDictionary(this.strm,u))!==l)throw new Error(a[i]);this._dict_set=!0}}function u(e,t){var i=new h(t);if(i.push(e,!0),i.err)throw i.msg||a[i.err];return i.result}h.prototype.push=function(e,t){var i,a,o=this.strm,d=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,\"string\"==typeof e?o.input=r.string2buf(e):\"[object ArrayBuffer]\"===n.call(e)?o.input=new Uint8Array(e):o.input=e,o.next_in=0,o.avail_in=o.input.length;do{if(0===o.avail_out&&(o.output=new s.Buf8(d),o.next_out=0,o.avail_out=d),1!==(i=A.deflate(o,a))&&i!==l)return this.onEnd(i),this.ended=!0,!1;0!==o.avail_out&&(0!==o.avail_in||4!==a&&2!==a)||(\"string\"===this.options.to?this.onData(r.buf2binstring(s.shrinkBuf(o.output,o.next_out))):this.onData(s.shrinkBuf(o.output,o.next_out)))}while((o.avail_in>0||0===o.avail_out)&&1!==i);return 4===a?(i=A.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===l):2!==a||(this.onEnd(l),o.avail_out=0,!0)},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===l&&(\"string\"===this.options.to?this.result=this.chunks.join(\"\"):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=h,t.deflate=u,t.deflateRaw=function(e,t){return(t=t||{}).raw=!0,u(e,t)},t.gzip=function(e,t){return(t=t||{}).gzip=!0,u(e,t)}},\"./node_modules/pako/lib/inflate.js\":(e,t,i)=>{\"use strict\";var A=i(\"./node_modules/pako/lib/zlib/inflate.js\"),s=i(\"./node_modules/pako/lib/utils/common.js\"),r=i(\"./node_modules/pako/lib/utils/strings.js\"),a=i(\"./node_modules/pako/lib/zlib/constants.js\"),o=i(\"./node_modules/pako/lib/zlib/messages.js\"),n=i(\"./node_modules/pako/lib/zlib/zstream.js\"),l=i(\"./node_modules/pako/lib/zlib/gzheader.js\"),d=Object.prototype.toString;function c(e){if(!(this instanceof c))return new c(e);this.options=s.assign({chunkSize:16384,windowBits:0,to:\"\"},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new n,this.strm.avail_out=0;var i=A.inflateInit2(this.strm,t.windowBits);if(i!==a.Z_OK)throw new Error(o[i]);if(this.header=new l,A.inflateGetHeader(this.strm,this.header),t.dictionary&&(\"string\"==typeof t.dictionary?t.dictionary=r.string2buf(t.dictionary):\"[object ArrayBuffer]\"===d.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(i=A.inflateSetDictionary(this.strm,t.dictionary))!==a.Z_OK))throw new Error(o[i])}function g(e,t){var i=new c(t);if(i.push(e,!0),i.err)throw i.msg||o[i.err];return i.result}c.prototype.push=function(e,t){var i,o,n,l,c,g=this.strm,h=this.options.chunkSize,u=this.options.dictionary,p=!1;if(this.ended)return!1;o=t===~~t?t:!0===t?a.Z_FINISH:a.Z_NO_FLUSH,\"string\"==typeof e?g.input=r.binstring2buf(e):\"[object ArrayBuffer]\"===d.call(e)?g.input=new Uint8Array(e):g.input=e,g.next_in=0,g.avail_in=g.input.length;do{if(0===g.avail_out&&(g.output=new s.Buf8(h),g.next_out=0,g.avail_out=h),(i=A.inflate(g,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&u&&(i=A.inflateSetDictionary(this.strm,u)),i===a.Z_BUF_ERROR&&!0===p&&(i=a.Z_OK,p=!1),i!==a.Z_STREAM_END&&i!==a.Z_OK)return this.onEnd(i),this.ended=!0,!1;g.next_out&&(0!==g.avail_out&&i!==a.Z_STREAM_END&&(0!==g.avail_in||o!==a.Z_FINISH&&o!==a.Z_SYNC_FLUSH)||(\"string\"===this.options.to?(n=r.utf8border(g.output,g.next_out),l=g.next_out-n,c=r.buf2string(g.output,n),g.next_out=l,g.avail_out=h-l,l&&s.arraySet(g.output,g.output,n,l,0),this.onData(c)):this.onData(s.shrinkBuf(g.output,g.next_out)))),0===g.avail_in&&0===g.avail_out&&(p=!0)}while((g.avail_in>0||0===g.avail_out)&&i!==a.Z_STREAM_END);return i===a.Z_STREAM_END&&(o=a.Z_FINISH),o===a.Z_FINISH?(i=A.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===a.Z_OK):o!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),g.avail_out=0,!0)},c.prototype.onData=function(e){this.chunks.push(e)},c.prototype.onEnd=function(e){e===a.Z_OK&&(\"string\"===this.options.to?this.result=this.chunks.join(\"\"):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=c,t.inflate=g,t.inflateRaw=function(e,t){return(t=t||{}).raw=!0,g(e,t)},t.ungzip=g},\"./node_modules/pako/lib/utils/common.js\":(e,t)=>{\"use strict\";var i=\"undefined\"!=typeof Uint8Array&&\"undefined\"!=typeof Uint16Array&&\"undefined\"!=typeof Int32Array;function A(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var i=t.shift();if(i){if(\"object\"!=typeof i)throw new TypeError(i+\"must be non-object\");for(var s in i)A(i,s)&&(e[s]=i[s])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var s={arraySet:function(e,t,i,A,s){if(t.subarray&&e.subarray)e.set(t.subarray(i,i+A),s);else for(var r=0;r<A;r++)e[s+r]=t[i+r]},flattenChunks:function(e){var t,i,A,s,r,a;for(A=0,t=0,i=e.length;t<i;t++)A+=e[t].length;for(a=new Uint8Array(A),s=0,t=0,i=e.length;t<i;t++)r=e[t],a.set(r,s),s+=r.length;return a}},r={arraySet:function(e,t,i,A,s){for(var r=0;r<A;r++)e[s+r]=t[i+r]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,s)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,r))},t.setTyped(i)},\"./node_modules/pako/lib/utils/strings.js\":(e,t,i)=>{\"use strict\";var A=i(\"./node_modules/pako/lib/utils/common.js\"),s=!0,r=!0;try{String.fromCharCode.apply(null,[0])}catch(e){s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){r=!1}for(var a=new A.Buf8(256),o=0;o<256;o++)a[o]=o>=252?6:o>=248?5:o>=240?4:o>=224?3:o>=192?2:1;function n(e,t){if(t<65534&&(e.subarray&&r||!e.subarray&&s))return String.fromCharCode.apply(null,A.shrinkBuf(e,t));for(var i=\"\",a=0;a<t;a++)i+=String.fromCharCode(e[a]);return i}a[254]=a[254]=1,t.string2buf=function(e){var t,i,s,r,a,o=e.length,n=0;for(r=0;r<o;r++)55296==(64512&(i=e.charCodeAt(r)))&&r+1<o&&56320==(64512&(s=e.charCodeAt(r+1)))&&(i=65536+(i-55296<<10)+(s-56320),r++),n+=i<128?1:i<2048?2:i<65536?3:4;for(t=new A.Buf8(n),a=0,r=0;a<n;r++)55296==(64512&(i=e.charCodeAt(r)))&&r+1<o&&56320==(64512&(s=e.charCodeAt(r+1)))&&(i=65536+(i-55296<<10)+(s-56320),r++),i<128?t[a++]=i:i<2048?(t[a++]=192|i>>>6,t[a++]=128|63&i):i<65536?(t[a++]=224|i>>>12,t[a++]=128|i>>>6&63,t[a++]=128|63&i):(t[a++]=240|i>>>18,t[a++]=128|i>>>12&63,t[a++]=128|i>>>6&63,t[a++]=128|63&i);return t},t.buf2binstring=function(e){return n(e,e.length)},t.binstring2buf=function(e){for(var t=new A.Buf8(e.length),i=0,s=t.length;i<s;i++)t[i]=e.charCodeAt(i);return t},t.buf2string=function(e,t){var i,A,s,r,o=t||e.length,l=new Array(2*o);for(A=0,i=0;i<o;)if((s=e[i++])<128)l[A++]=s;else if((r=a[s])>4)l[A++]=65533,i+=r-1;else{for(s&=2===r?31:3===r?15:7;r>1&&i<o;)s=s<<6|63&e[i++],r--;r>1?l[A++]=65533:s<65536?l[A++]=s:(s-=65536,l[A++]=55296|s>>10&1023,l[A++]=56320|1023&s)}return n(l,A)},t.utf8border=function(e,t){var i;for((t=t||e.length)>e.length&&(t=e.length),i=t-1;i>=0&&128==(192&e[i]);)i--;return i<0||0===i?t:i+a[e[i]]>t?i:t}},\"./node_modules/pako/lib/zlib/adler32.js\":e=>{\"use strict\";e.exports=function(e,t,i,A){for(var s=65535&e|0,r=e>>>16&65535|0,a=0;0!==i;){i-=a=i>2e3?2e3:i;do{r=r+(s=s+t[A++]|0)|0}while(--a);s%=65521,r%=65521}return s|r<<16|0}},\"./node_modules/pako/lib/zlib/constants.js\":e=>{\"use strict\";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},\"./node_modules/pako/lib/zlib/crc32.js\":e=>{\"use strict\";var t=function(){for(var e,t=[],i=0;i<256;i++){e=i;for(var A=0;A<8;A++)e=1&e?3988292384^e>>>1:e>>>1;t[i]=e}return t}();e.exports=function(e,i,A,s){var r=t,a=s+A;e^=-1;for(var o=s;o<a;o++)e=e>>>8^r[255&(e^i[o])];return-1^e}},\"./node_modules/pako/lib/zlib/deflate.js\":(e,t,i)=>{\"use strict\";var A,s=i(\"./node_modules/pako/lib/utils/common.js\"),r=i(\"./node_modules/pako/lib/zlib/trees.js\"),a=i(\"./node_modules/pako/lib/zlib/adler32.js\"),o=i(\"./node_modules/pako/lib/zlib/crc32.js\"),n=i(\"./node_modules/pako/lib/zlib/messages.js\"),l=0,d=0,c=-2,g=2,h=8,u=286,p=30,I=19,f=2*u+1,C=15,m=3,B=258,E=B+m+1,y=42,Q=103,w=113,b=666;function _(e,t){return e.msg=n[t],t}function v(e){return(e<<1)-(e>4?9:0)}function x(e){for(var t=e.length;--t>=0;)e[t]=0}function T(e){var t=e.state,i=t.pending;i>e.avail_out&&(i=e.avail_out),0!==i&&(s.arraySet(e.output,t.pending_buf,t.pending_out,i,e.next_out),e.next_out+=i,t.pending_out+=i,e.total_out+=i,e.avail_out-=i,t.pending-=i,0===t.pending&&(t.pending_out=0))}function k(e,t){r._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,T(e.strm)}function D(e,t){e.pending_buf[e.pending++]=t}function L(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function N(e,t){var i,A,s=e.max_chain_length,r=e.strstart,a=e.prev_length,o=e.nice_match,n=e.strstart>e.w_size-E?e.strstart-(e.w_size-E):0,l=e.window,d=e.w_mask,c=e.prev,g=e.strstart+B,h=l[r+a-1],u=l[r+a];e.prev_length>=e.good_match&&(s>>=2),o>e.lookahead&&(o=e.lookahead);do{if(l[(i=t)+a]===u&&l[i+a-1]===h&&l[i]===l[r]&&l[++i]===l[r+1]){r+=2,i++;do{}while(l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&r<g);if(A=B-(g-r),r=g-B,A>a){if(e.match_start=t,a=A,A>=o)break;h=l[r+a-1],u=l[r+a]}}}while((t=c[t&d])>n&&0!=--s);return a<=e.lookahead?a:e.lookahead}function F(e){var t,i,A,r,n,l,d,c,g,h,u=e.w_size;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=u+(u-E)){s.arraySet(e.window,e.window,u,u,0),e.match_start-=u,e.strstart-=u,e.block_start-=u,t=i=e.hash_size;do{A=e.head[--t],e.head[t]=A>=u?A-u:0}while(--i);t=i=u;do{A=e.prev[--t],e.prev[t]=A>=u?A-u:0}while(--i);r+=u}if(0===e.strm.avail_in)break;if(l=e.strm,d=e.window,c=e.strstart+e.lookahead,g=r,h=void 0,(h=l.avail_in)>g&&(h=g),i=0===h?0:(l.avail_in-=h,s.arraySet(d,l.input,l.next_in,h,c),1===l.state.wrap?l.adler=a(l.adler,d,h,c):2===l.state.wrap&&(l.adler=o(l.adler,d,h,c)),l.next_in+=h,l.total_in+=h,h),e.lookahead+=i,e.lookahead+e.insert>=m)for(n=e.strstart-e.insert,e.ins_h=e.window[n],e.ins_h=(e.ins_h<<e.hash_shift^e.window[n+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[n+m-1])&e.hash_mask,e.prev[n&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=n,n++,e.insert--,!(e.lookahead+e.insert<m)););}while(e.lookahead<E&&0!==e.strm.avail_in)}function S(e,t){for(var i,A;;){if(e.lookahead<E){if(F(e),e.lookahead<E&&t===l)return 1;if(0===e.lookahead)break}if(i=0,e.lookahead>=m&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+m-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==i&&e.strstart-i<=e.w_size-E&&(e.match_length=N(e,i)),e.match_length>=m)if(A=r._tr_tally(e,e.strstart-e.match_start,e.match_length-m),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=m){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+m-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else A=r._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(A&&(k(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<m-1?e.strstart:m-1,4===t?(k(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(k(e,!1),0===e.strm.avail_out)?1:2}function G(e,t){for(var i,A,s;;){if(e.lookahead<E){if(F(e),e.lookahead<E&&t===l)return 1;if(0===e.lookahead)break}if(i=0,e.lookahead>=m&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+m-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=m-1,0!==i&&e.prev_length<e.max_lazy_match&&e.strstart-i<=e.w_size-E&&(e.match_length=N(e,i),e.match_length<=5&&(1===e.strategy||e.match_length===m&&e.strstart-e.match_start>4096)&&(e.match_length=m-1)),e.prev_length>=m&&e.match_length<=e.prev_length){s=e.strstart+e.lookahead-m,A=r._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-m),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=s&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+m-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=m-1,e.strstart++,A&&(k(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((A=r._tr_tally(e,0,e.window[e.strstart-1]))&&k(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(A=r._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<m-1?e.strstart:m-1,4===t?(k(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(k(e,!1),0===e.strm.avail_out)?1:2}function j(e,t,i,A,s){this.good_length=e,this.max_lazy=t,this.nice_length=i,this.max_chain=A,this.func=s}function M(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=h,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*f),this.dyn_dtree=new s.Buf16(2*(2*p+1)),this.bl_tree=new s.Buf16(2*(2*I+1)),x(this.dyn_ltree),x(this.dyn_dtree),x(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(C+1),this.heap=new s.Buf16(2*u+1),x(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*u+1),x(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function R(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=g,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?y:w,e.adler=2===t.wrap?0:1,t.last_flush=l,r._tr_init(t),d):_(e,c)}function O(e){var t,i=R(e);return i===d&&((t=e.state).window_size=2*t.w_size,x(t.head),t.max_lazy_match=A[t.level].max_lazy,t.good_match=A[t.level].good_length,t.nice_match=A[t.level].nice_length,t.max_chain_length=A[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=m-1,t.match_available=0,t.ins_h=0),i}function z(e,t,i,A,r,a){if(!e)return c;var o=1;if(-1===t&&(t=6),A<0?(o=0,A=-A):A>15&&(o=2,A-=16),r<1||r>9||i!==h||A<8||A>15||t<0||t>9||a<0||a>4)return _(e,c);8===A&&(A=9);var n=new M;return e.state=n,n.strm=e,n.wrap=o,n.gzhead=null,n.w_bits=A,n.w_size=1<<n.w_bits,n.w_mask=n.w_size-1,n.hash_bits=r+7,n.hash_size=1<<n.hash_bits,n.hash_mask=n.hash_size-1,n.hash_shift=~~((n.hash_bits+m-1)/m),n.window=new s.Buf8(2*n.w_size),n.head=new s.Buf16(n.hash_size),n.prev=new s.Buf16(n.w_size),n.lit_bufsize=1<<r+6,n.pending_buf_size=4*n.lit_bufsize,n.pending_buf=new s.Buf8(n.pending_buf_size),n.d_buf=1*n.lit_bufsize,n.l_buf=3*n.lit_bufsize,n.level=t,n.strategy=a,n.method=i,O(e)}A=[new j(0,0,0,0,(function(e,t){var i=65535;for(i>e.pending_buf_size-5&&(i=e.pending_buf_size-5);;){if(e.lookahead<=1){if(F(e),0===e.lookahead&&t===l)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var A=e.block_start+i;if((0===e.strstart||e.strstart>=A)&&(e.lookahead=e.strstart-A,e.strstart=A,k(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-E&&(k(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(k(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(k(e,!1),e.strm.avail_out),1)})),new j(4,4,8,4,S),new j(4,5,16,8,S),new j(4,6,32,32,S),new j(4,4,16,16,G),new j(8,16,32,32,G),new j(8,16,128,128,G),new j(8,32,128,256,G),new j(32,128,258,1024,G),new j(32,258,258,4096,G)],t.deflateInit=function(e,t){return z(e,t,h,15,8,0)},t.deflateInit2=z,t.deflateReset=O,t.deflateResetKeep=R,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?c:(e.state.gzhead=t,d):c},t.deflate=function(e,t){var i,s,a,n;if(!e||!e.state||t>5||t<0)return e?_(e,c):c;if(s=e.state,!e.output||!e.input&&0!==e.avail_in||s.status===b&&4!==t)return _(e,0===e.avail_out?-5:c);if(s.strm=e,i=s.last_flush,s.last_flush=t,s.status===y)if(2===s.wrap)e.adler=0,D(s,31),D(s,139),D(s,8),s.gzhead?(D(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),D(s,255&s.gzhead.time),D(s,s.gzhead.time>>8&255),D(s,s.gzhead.time>>16&255),D(s,s.gzhead.time>>24&255),D(s,9===s.level?2:s.strategy>=2||s.level<2?4:0),D(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(D(s,255&s.gzhead.extra.length),D(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(e.adler=o(e.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=69):(D(s,0),D(s,0),D(s,0),D(s,0),D(s,0),D(s,9===s.level?2:s.strategy>=2||s.level<2?4:0),D(s,3),s.status=w);else{var g=h+(s.w_bits-8<<4)<<8;g|=(s.strategy>=2||s.level<2?0:s.level<6?1:6===s.level?2:3)<<6,0!==s.strstart&&(g|=32),g+=31-g%31,s.status=w,L(s,g),0!==s.strstart&&(L(s,e.adler>>>16),L(s,65535&e.adler)),e.adler=1}if(69===s.status)if(s.gzhead.extra){for(a=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>a&&(e.adler=o(e.adler,s.pending_buf,s.pending-a,a)),T(e),a=s.pending,s.pending!==s.pending_buf_size));)D(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>a&&(e.adler=o(e.adler,s.pending_buf,s.pending-a,a)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=73)}else s.status=73;if(73===s.status)if(s.gzhead.name){a=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>a&&(e.adler=o(e.adler,s.pending_buf,s.pending-a,a)),T(e),a=s.pending,s.pending===s.pending_buf_size)){n=1;break}n=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,D(s,n)}while(0!==n);s.gzhead.hcrc&&s.pending>a&&(e.adler=o(e.adler,s.pending_buf,s.pending-a,a)),0===n&&(s.gzindex=0,s.status=91)}else s.status=91;if(91===s.status)if(s.gzhead.comment){a=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>a&&(e.adler=o(e.adler,s.pending_buf,s.pending-a,a)),T(e),a=s.pending,s.pending===s.pending_buf_size)){n=1;break}n=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,D(s,n)}while(0!==n);s.gzhead.hcrc&&s.pending>a&&(e.adler=o(e.adler,s.pending_buf,s.pending-a,a)),0===n&&(s.status=Q)}else s.status=Q;if(s.status===Q&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&T(e),s.pending+2<=s.pending_buf_size&&(D(s,255&e.adler),D(s,e.adler>>8&255),e.adler=0,s.status=w)):s.status=w),0!==s.pending){if(T(e),0===e.avail_out)return s.last_flush=-1,d}else if(0===e.avail_in&&v(t)<=v(i)&&4!==t)return _(e,-5);if(s.status===b&&0!==e.avail_in)return _(e,-5);if(0!==e.avail_in||0!==s.lookahead||t!==l&&s.status!==b){var u=2===s.strategy?function(e,t){for(var i;;){if(0===e.lookahead&&(F(e),0===e.lookahead)){if(t===l)return 1;break}if(e.match_length=0,i=r._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,i&&(k(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(k(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(k(e,!1),0===e.strm.avail_out)?1:2}(s,t):3===s.strategy?function(e,t){for(var i,A,s,a,o=e.window;;){if(e.lookahead<=B){if(F(e),e.lookahead<=B&&t===l)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=m&&e.strstart>0&&(A=o[s=e.strstart-1])===o[++s]&&A===o[++s]&&A===o[++s]){a=e.strstart+B;do{}while(A===o[++s]&&A===o[++s]&&A===o[++s]&&A===o[++s]&&A===o[++s]&&A===o[++s]&&A===o[++s]&&A===o[++s]&&s<a);e.match_length=B-(a-s),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=m?(i=r._tr_tally(e,1,e.match_length-m),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(i=r._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),i&&(k(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(k(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(k(e,!1),0===e.strm.avail_out)?1:2}(s,t):A[s.level].func(s,t);if(3!==u&&4!==u||(s.status=b),1===u||3===u)return 0===e.avail_out&&(s.last_flush=-1),d;if(2===u&&(1===t?r._tr_align(s):5!==t&&(r._tr_stored_block(s,0,0,!1),3===t&&(x(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),T(e),0===e.avail_out))return s.last_flush=-1,d}return 4!==t?d:s.wrap<=0?1:(2===s.wrap?(D(s,255&e.adler),D(s,e.adler>>8&255),D(s,e.adler>>16&255),D(s,e.adler>>24&255),D(s,255&e.total_in),D(s,e.total_in>>8&255),D(s,e.total_in>>16&255),D(s,e.total_in>>24&255)):(L(s,e.adler>>>16),L(s,65535&e.adler)),T(e),s.wrap>0&&(s.wrap=-s.wrap),0!==s.pending?d:1)},t.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==y&&69!==t&&73!==t&&91!==t&&t!==Q&&t!==w&&t!==b?_(e,c):(e.state=null,t===w?_(e,-3):d):c},t.deflateSetDictionary=function(e,t){var i,A,r,o,n,l,g,h,u=t.length;if(!e||!e.state)return c;if(2===(o=(i=e.state).wrap)||1===o&&i.status!==y||i.lookahead)return c;for(1===o&&(e.adler=a(e.adler,t,u,0)),i.wrap=0,u>=i.w_size&&(0===o&&(x(i.head),i.strstart=0,i.block_start=0,i.insert=0),h=new s.Buf8(i.w_size),s.arraySet(h,t,u-i.w_size,i.w_size,0),t=h,u=i.w_size),n=e.avail_in,l=e.next_in,g=e.input,e.avail_in=u,e.next_in=0,e.input=t,F(i);i.lookahead>=m;){A=i.strstart,r=i.lookahead-(m-1);do{i.ins_h=(i.ins_h<<i.hash_shift^i.window[A+m-1])&i.hash_mask,i.prev[A&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=A,A++}while(--r);i.strstart=A,i.lookahead=m-1,F(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=m-1,i.match_available=0,e.next_in=l,e.input=g,e.avail_in=n,i.wrap=o,d},t.deflateInfo=\"pako deflate (from Nodeca project)\"},\"./node_modules/pako/lib/zlib/gzheader.js\":e=>{\"use strict\";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name=\"\",this.comment=\"\",this.hcrc=0,this.done=!1}},\"./node_modules/pako/lib/zlib/inffast.js\":e=>{\"use strict\";e.exports=function(e,t){var i,A,s,r,a,o,n,l,d,c,g,h,u,p,I,f,C,m,B,E,y,Q,w,b,_;i=e.state,A=e.next_in,b=e.input,s=A+(e.avail_in-5),r=e.next_out,_=e.output,a=r-(t-e.avail_out),o=r+(e.avail_out-257),n=i.dmax,l=i.wsize,d=i.whave,c=i.wnext,g=i.window,h=i.hold,u=i.bits,p=i.lencode,I=i.distcode,f=(1<<i.lenbits)-1,C=(1<<i.distbits)-1;e:do{u<15&&(h+=b[A++]<<u,u+=8,h+=b[A++]<<u,u+=8),m=p[h&f];t:for(;;){if(h>>>=B=m>>>24,u-=B,0==(B=m>>>16&255))_[r++]=65535&m;else{if(!(16&B)){if(0==(64&B)){m=p[(65535&m)+(h&(1<<B)-1)];continue t}if(32&B){i.mode=12;break e}e.msg=\"invalid literal/length code\",i.mode=30;break e}E=65535&m,(B&=15)&&(u<B&&(h+=b[A++]<<u,u+=8),E+=h&(1<<B)-1,h>>>=B,u-=B),u<15&&(h+=b[A++]<<u,u+=8,h+=b[A++]<<u,u+=8),m=I[h&C];i:for(;;){if(h>>>=B=m>>>24,u-=B,!(16&(B=m>>>16&255))){if(0==(64&B)){m=I[(65535&m)+(h&(1<<B)-1)];continue i}e.msg=\"invalid distance code\",i.mode=30;break e}if(y=65535&m,u<(B&=15)&&(h+=b[A++]<<u,(u+=8)<B&&(h+=b[A++]<<u,u+=8)),(y+=h&(1<<B)-1)>n){e.msg=\"invalid distance too far back\",i.mode=30;break e}if(h>>>=B,u-=B,y>(B=r-a)){if((B=y-B)>d&&i.sane){e.msg=\"invalid distance too far back\",i.mode=30;break e}if(Q=0,w=g,0===c){if(Q+=l-B,B<E){E-=B;do{_[r++]=g[Q++]}while(--B);Q=r-y,w=_}}else if(c<B){if(Q+=l+c-B,(B-=c)<E){E-=B;do{_[r++]=g[Q++]}while(--B);if(Q=0,c<E){E-=B=c;do{_[r++]=g[Q++]}while(--B);Q=r-y,w=_}}}else if(Q+=c-B,B<E){E-=B;do{_[r++]=g[Q++]}while(--B);Q=r-y,w=_}for(;E>2;)_[r++]=w[Q++],_[r++]=w[Q++],_[r++]=w[Q++],E-=3;E&&(_[r++]=w[Q++],E>1&&(_[r++]=w[Q++]))}else{Q=r-y;do{_[r++]=_[Q++],_[r++]=_[Q++],_[r++]=_[Q++],E-=3}while(E>2);E&&(_[r++]=_[Q++],E>1&&(_[r++]=_[Q++]))}break}}break}}while(A<s&&r<o);A-=E=u>>3,h&=(1<<(u-=E<<3))-1,e.next_in=A,e.next_out=r,e.avail_in=A<s?s-A+5:5-(A-s),e.avail_out=r<o?o-r+257:257-(r-o),i.hold=h,i.bits=u}},\"./node_modules/pako/lib/zlib/inflate.js\":(e,t,i)=>{\"use strict\";var A=i(\"./node_modules/pako/lib/utils/common.js\"),s=i(\"./node_modules/pako/lib/zlib/adler32.js\"),r=i(\"./node_modules/pako/lib/zlib/crc32.js\"),a=i(\"./node_modules/pako/lib/zlib/inffast.js\"),o=i(\"./node_modules/pako/lib/zlib/inftrees.js\"),n=0,l=-2,d=1,c=12,g=30,h=852,u=592;function p(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function I(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new A.Buf16(320),this.work=new A.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function f(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg=\"\",t.wrap&&(e.adler=1&t.wrap),t.mode=d,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new A.Buf32(h),t.distcode=t.distdyn=new A.Buf32(u),t.sane=1,t.back=-1,n):l}function C(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,f(e)):l}function m(e,t){var i,A;return e&&e.state?(A=e.state,t<0?(i=0,t=-t):(i=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?l:(null!==A.window&&A.wbits!==t&&(A.window=null),A.wrap=i,A.wbits=t,C(e))):l}function B(e,t){var i,A;return e?(A=new I,e.state=A,A.window=null,(i=m(e,t))!==n&&(e.state=null),i):l}var E,y,Q=!0;function w(e){if(Q){var t;for(E=new A.Buf32(512),y=new A.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(o(1,e.lens,0,288,E,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;o(2,e.lens,0,32,y,0,e.work,{bits:5}),Q=!1}e.lencode=E,e.lenbits=9,e.distcode=y,e.distbits=5}function b(e,t,i,s){var r,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new A.Buf8(a.wsize)),s>=a.wsize?(A.arraySet(a.window,t,i-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((r=a.wsize-a.wnext)>s&&(r=s),A.arraySet(a.window,t,i-s,r,a.wnext),(s-=r)?(A.arraySet(a.window,t,i-s,s,0),a.wnext=s,a.whave=a.wsize):(a.wnext+=r,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=r))),0}t.inflateReset=C,t.inflateReset2=m,t.inflateResetKeep=f,t.inflateInit=function(e){return B(e,15)},t.inflateInit2=B,t.inflate=function(e,t){var i,h,u,I,f,C,m,B,E,y,Q,_,v,x,T,k,D,L,N,F,S,G,j,M,R=0,O=new A.Buf8(4),z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return l;(i=e.state).mode===c&&(i.mode=13),f=e.next_out,u=e.output,m=e.avail_out,I=e.next_in,h=e.input,C=e.avail_in,B=i.hold,E=i.bits,y=C,Q=m,G=n;e:for(;;)switch(i.mode){case d:if(0===i.wrap){i.mode=13;break}for(;E<16;){if(0===C)break e;C--,B+=h[I++]<<E,E+=8}if(2&i.wrap&&35615===B){i.check=0,O[0]=255&B,O[1]=B>>>8&255,i.check=r(i.check,O,2,0),B=0,E=0,i.mode=2;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&B)<<8)+(B>>8))%31){e.msg=\"incorrect header check\",i.mode=g;break}if(8!=(15&B)){e.msg=\"unknown compression method\",i.mode=g;break}if(E-=4,S=8+(15&(B>>>=4)),0===i.wbits)i.wbits=S;else if(S>i.wbits){e.msg=\"invalid window size\",i.mode=g;break}i.dmax=1<<S,e.adler=i.check=1,i.mode=512&B?10:c,B=0,E=0;break;case 2:for(;E<16;){if(0===C)break e;C--,B+=h[I++]<<E,E+=8}if(i.flags=B,8!=(255&i.flags)){e.msg=\"unknown compression method\",i.mode=g;break}if(57344&i.flags){e.msg=\"unknown header flags set\",i.mode=g;break}i.head&&(i.head.text=B>>8&1),512&i.flags&&(O[0]=255&B,O[1]=B>>>8&255,i.check=r(i.check,O,2,0)),B=0,E=0,i.mode=3;case 3:for(;E<32;){if(0===C)break e;C--,B+=h[I++]<<E,E+=8}i.head&&(i.head.time=B),512&i.flags&&(O[0]=255&B,O[1]=B>>>8&255,O[2]=B>>>16&255,O[3]=B>>>24&255,i.check=r(i.check,O,4,0)),B=0,E=0,i.mode=4;case 4:for(;E<16;){if(0===C)break e;C--,B+=h[I++]<<E,E+=8}i.head&&(i.head.xflags=255&B,i.head.os=B>>8),512&i.flags&&(O[0]=255&B,O[1]=B>>>8&255,i.check=r(i.check,O,2,0)),B=0,E=0,i.mode=5;case 5:if(1024&i.flags){for(;E<16;){if(0===C)break e;C--,B+=h[I++]<<E,E+=8}i.length=B,i.head&&(i.head.extra_len=B),512&i.flags&&(O[0]=255&B,O[1]=B>>>8&255,i.check=r(i.check,O,2,0)),B=0,E=0}else i.head&&(i.head.extra=null);i.mode=6;case 6:if(1024&i.flags&&((_=i.length)>C&&(_=C),_&&(i.head&&(S=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Array(i.head.extra_len)),A.arraySet(i.head.extra,h,I,_,S)),512&i.flags&&(i.check=r(i.check,h,_,I)),C-=_,I+=_,i.length-=_),i.length))break e;i.length=0,i.mode=7;case 7:if(2048&i.flags){if(0===C)break e;_=0;do{S=h[I+_++],i.head&&S&&i.length<65536&&(i.head.name+=String.fromCharCode(S))}while(S&&_<C);if(512&i.flags&&(i.check=r(i.check,h,_,I)),C-=_,I+=_,S)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=8;case 8:if(4096&i.flags){if(0===C)break e;_=0;do{S=h[I+_++],i.head&&S&&i.length<65536&&(i.head.comment+=String.fromCharCode(S))}while(S&&_<C);if(512&i.flags&&(i.check=r(i.check,h,_,I)),C-=_,I+=_,S)break e}else i.head&&(i.head.comment=null);i.mode=9;case 9:if(512&i.flags){for(;E<16;){if(0===C)break e;C--,B+=h[I++]<<E,E+=8}if(B!==(65535&i.check)){e.msg=\"header crc mismatch\",i.mode=g;break}B=0,E=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),e.adler=i.check=0,i.mode=c;break;case 10:for(;E<32;){if(0===C)break e;C--,B+=h[I++]<<E,E+=8}e.adler=i.check=p(B),B=0,E=0,i.mode=11;case 11:if(0===i.havedict)return e.next_out=f,e.avail_out=m,e.next_in=I,e.avail_in=C,i.hold=B,i.bits=E,2;e.adler=i.check=1,i.mode=c;case c:if(5===t||6===t)break e;case 13:if(i.last){B>>>=7&E,E-=7&E,i.mode=27;break}for(;E<3;){if(0===C)break e;C--,B+=h[I++]<<E,E+=8}switch(i.last=1&B,E-=1,3&(B>>>=1)){case 0:i.mode=14;break;case 1:if(w(i),i.mode=20,6===t){B>>>=2,E-=2;break e}break;case 2:i.mode=17;break;case 3:e.msg=\"invalid block type\",i.mode=g}B>>>=2,E-=2;break;case 14:for(B>>>=7&E,E-=7&E;E<32;){if(0===C)break e;C--,B+=h[I++]<<E,E+=8}if((65535&B)!=(B>>>16^65535)){e.msg=\"invalid stored block lengths\",i.mode=g;break}if(i.length=65535&B,B=0,E=0,i.mode=15,6===t)break e;case 15:i.mode=16;case 16:if(_=i.length){if(_>C&&(_=C),_>m&&(_=m),0===_)break e;A.arraySet(u,h,I,_,f),C-=_,I+=_,m-=_,f+=_,i.length-=_;break}i.mode=c;break;case 17:for(;E<14;){if(0===C)break e;C--,B+=h[I++]<<E,E+=8}if(i.nlen=257+(31&B),B>>>=5,E-=5,i.ndist=1+(31&B),B>>>=5,E-=5,i.ncode=4+(15&B),B>>>=4,E-=4,i.nlen>286||i.ndist>30){e.msg=\"too many length or distance symbols\",i.mode=g;break}i.have=0,i.mode=18;case 18:for(;i.have<i.ncode;){for(;E<3;){if(0===C)break e;C--,B+=h[I++]<<E,E+=8}i.lens[z[i.have++]]=7&B,B>>>=3,E-=3}for(;i.have<19;)i.lens[z[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,j={bits:i.lenbits},G=o(0,i.lens,0,19,i.lencode,0,i.work,j),i.lenbits=j.bits,G){e.msg=\"invalid code lengths set\",i.mode=g;break}i.have=0,i.mode=19;case 19:for(;i.have<i.nlen+i.ndist;){for(;k=(R=i.lencode[B&(1<<i.lenbits)-1])>>>16&255,D=65535&R,!((T=R>>>24)<=E);){if(0===C)break e;C--,B+=h[I++]<<E,E+=8}if(D<16)B>>>=T,E-=T,i.lens[i.have++]=D;else{if(16===D){for(M=T+2;E<M;){if(0===C)break e;C--,B+=h[I++]<<E,E+=8}if(B>>>=T,E-=T,0===i.have){e.msg=\"invalid bit length repeat\",i.mode=g;break}S=i.lens[i.have-1],_=3+(3&B),B>>>=2,E-=2}else if(17===D){for(M=T+3;E<M;){if(0===C)break e;C--,B+=h[I++]<<E,E+=8}E-=T,S=0,_=3+(7&(B>>>=T)),B>>>=3,E-=3}else{for(M=T+7;E<M;){if(0===C)break e;C--,B+=h[I++]<<E,E+=8}E-=T,S=0,_=11+(127&(B>>>=T)),B>>>=7,E-=7}if(i.have+_>i.nlen+i.ndist){e.msg=\"invalid bit length repeat\",i.mode=g;break}for(;_--;)i.lens[i.have++]=S}}if(i.mode===g)break;if(0===i.lens[256]){e.msg=\"invalid code -- missing end-of-block\",i.mode=g;break}if(i.lenbits=9,j={bits:i.lenbits},G=o(1,i.lens,0,i.nlen,i.lencode,0,i.work,j),i.lenbits=j.bits,G){e.msg=\"invalid literal/lengths set\",i.mode=g;break}if(i.distbits=6,i.distcode=i.distdyn,j={bits:i.distbits},G=o(2,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,j),i.distbits=j.bits,G){e.msg=\"invalid distances set\",i.mode=g;break}if(i.mode=20,6===t)break e;case 20:i.mode=21;case 21:if(C>=6&&m>=258){e.next_out=f,e.avail_out=m,e.next_in=I,e.avail_in=C,i.hold=B,i.bits=E,a(e,Q),f=e.next_out,u=e.output,m=e.avail_out,I=e.next_in,h=e.input,C=e.avail_in,B=i.hold,E=i.bits,i.mode===c&&(i.back=-1);break}for(i.back=0;k=(R=i.lencode[B&(1<<i.lenbits)-1])>>>16&255,D=65535&R,!((T=R>>>24)<=E);){if(0===C)break e;C--,B+=h[I++]<<E,E+=8}if(k&&0==(240&k)){for(L=T,N=k,F=D;k=(R=i.lencode[F+((B&(1<<L+N)-1)>>L)])>>>16&255,D=65535&R,!(L+(T=R>>>24)<=E);){if(0===C)break e;C--,B+=h[I++]<<E,E+=8}B>>>=L,E-=L,i.back+=L}if(B>>>=T,E-=T,i.back+=T,i.length=D,0===k){i.mode=26;break}if(32&k){i.back=-1,i.mode=c;break}if(64&k){e.msg=\"invalid literal/length code\",i.mode=g;break}i.extra=15&k,i.mode=22;case 22:if(i.extra){for(M=i.extra;E<M;){if(0===C)break e;C--,B+=h[I++]<<E,E+=8}i.length+=B&(1<<i.extra)-1,B>>>=i.extra,E-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=23;case 23:for(;k=(R=i.distcode[B&(1<<i.distbits)-1])>>>16&255,D=65535&R,!((T=R>>>24)<=E);){if(0===C)break e;C--,B+=h[I++]<<E,E+=8}if(0==(240&k)){for(L=T,N=k,F=D;k=(R=i.distcode[F+((B&(1<<L+N)-1)>>L)])>>>16&255,D=65535&R,!(L+(T=R>>>24)<=E);){if(0===C)break e;C--,B+=h[I++]<<E,E+=8}B>>>=L,E-=L,i.back+=L}if(B>>>=T,E-=T,i.back+=T,64&k){e.msg=\"invalid distance code\",i.mode=g;break}i.offset=D,i.extra=15&k,i.mode=24;case 24:if(i.extra){for(M=i.extra;E<M;){if(0===C)break e;C--,B+=h[I++]<<E,E+=8}i.offset+=B&(1<<i.extra)-1,B>>>=i.extra,E-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){e.msg=\"invalid distance too far back\",i.mode=g;break}i.mode=25;case 25:if(0===m)break e;if(_=Q-m,i.offset>_){if((_=i.offset-_)>i.whave&&i.sane){e.msg=\"invalid distance too far back\",i.mode=g;break}_>i.wnext?(_-=i.wnext,v=i.wsize-_):v=i.wnext-_,_>i.length&&(_=i.length),x=i.window}else x=u,v=f-i.offset,_=i.length;_>m&&(_=m),m-=_,i.length-=_;do{u[f++]=x[v++]}while(--_);0===i.length&&(i.mode=21);break;case 26:if(0===m)break e;u[f++]=i.length,m--,i.mode=21;break;case 27:if(i.wrap){for(;E<32;){if(0===C)break e;C--,B|=h[I++]<<E,E+=8}if(Q-=m,e.total_out+=Q,i.total+=Q,Q&&(e.adler=i.check=i.flags?r(i.check,u,Q,f-Q):s(i.check,u,Q,f-Q)),Q=m,(i.flags?B:p(B))!==i.check){e.msg=\"incorrect data check\",i.mode=g;break}B=0,E=0}i.mode=28;case 28:if(i.wrap&&i.flags){for(;E<32;){if(0===C)break e;C--,B+=h[I++]<<E,E+=8}if(B!==(4294967295&i.total)){e.msg=\"incorrect length check\",i.mode=g;break}B=0,E=0}i.mode=29;case 29:G=1;break e;case g:G=-3;break e;case 31:return-4;default:return l}return e.next_out=f,e.avail_out=m,e.next_in=I,e.avail_in=C,i.hold=B,i.bits=E,(i.wsize||Q!==e.avail_out&&i.mode<g&&(i.mode<27||4!==t))&&b(e,e.output,e.next_out,Q-e.avail_out)?(i.mode=31,-4):(y-=e.avail_in,Q-=e.avail_out,e.total_in+=y,e.total_out+=Q,i.total+=Q,i.wrap&&Q&&(e.adler=i.check=i.flags?r(i.check,u,Q,e.next_out-Q):s(i.check,u,Q,e.next_out-Q)),e.data_type=i.bits+(i.last?64:0)+(i.mode===c?128:0)+(20===i.mode||15===i.mode?256:0),(0===y&&0===Q||4===t)&&G===n&&(G=-5),G)},t.inflateEnd=function(e){if(!e||!e.state)return l;var t=e.state;return t.window&&(t.window=null),e.state=null,n},t.inflateGetHeader=function(e,t){var i;return e&&e.state?0==(2&(i=e.state).wrap)?l:(i.head=t,t.done=!1,n):l},t.inflateSetDictionary=function(e,t){var i,A=t.length;return e&&e.state?0!==(i=e.state).wrap&&11!==i.mode?l:11===i.mode&&s(1,t,A,0)!==i.check?-3:b(e,t,A,A)?(i.mode=31,-4):(i.havedict=1,n):l},t.inflateInfo=\"pako inflate (from Nodeca project)\"},\"./node_modules/pako/lib/zlib/inftrees.js\":(e,t,i)=>{\"use strict\";var A=i(\"./node_modules/pako/lib/utils/common.js\"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],r=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],o=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,i,n,l,d,c,g){var h,u,p,I,f,C,m,B,E,y=g.bits,Q=0,w=0,b=0,_=0,v=0,x=0,T=0,k=0,D=0,L=0,N=null,F=0,S=new A.Buf16(16),G=new A.Buf16(16),j=null,M=0;for(Q=0;Q<=15;Q++)S[Q]=0;for(w=0;w<n;w++)S[t[i+w]]++;for(v=y,_=15;_>=1&&0===S[_];_--);if(v>_&&(v=_),0===_)return l[d++]=20971520,l[d++]=20971520,g.bits=1,0;for(b=1;b<_&&0===S[b];b++);for(v<b&&(v=b),k=1,Q=1;Q<=15;Q++)if(k<<=1,(k-=S[Q])<0)return-1;if(k>0&&(0===e||1!==_))return-1;for(G[1]=0,Q=1;Q<15;Q++)G[Q+1]=G[Q]+S[Q];for(w=0;w<n;w++)0!==t[i+w]&&(c[G[t[i+w]]++]=w);if(0===e?(N=j=c,C=19):1===e?(N=s,F-=257,j=r,M-=257,C=256):(N=a,j=o,C=-1),L=0,w=0,Q=b,f=d,x=v,T=0,p=-1,I=(D=1<<v)-1,1===e&&D>852||2===e&&D>592)return 1;for(;;){m=Q-T,c[w]<C?(B=0,E=c[w]):c[w]>C?(B=j[M+c[w]],E=N[F+c[w]]):(B=96,E=0),h=1<<Q-T,b=u=1<<x;do{l[f+(L>>T)+(u-=h)]=m<<24|B<<16|E|0}while(0!==u);for(h=1<<Q-1;L&h;)h>>=1;if(0!==h?(L&=h-1,L+=h):L=0,w++,0==--S[Q]){if(Q===_)break;Q=t[i+c[w]]}if(Q>v&&(L&I)!==p){for(0===T&&(T=v),f+=b,k=1<<(x=Q-T);x+T<_&&!((k-=S[x+T])<=0);)x++,k<<=1;if(D+=1<<x,1===e&&D>852||2===e&&D>592)return 1;l[p=L&I]=v<<24|x<<16|f-d|0}}return 0!==L&&(l[f+L]=Q-T<<24|64<<16|0),g.bits=v,0}},\"./node_modules/pako/lib/zlib/messages.js\":e=>{\"use strict\";e.exports={2:\"need dictionary\",1:\"stream end\",0:\"\",\"-1\":\"file error\",\"-2\":\"stream error\",\"-3\":\"data error\",\"-4\":\"insufficient memory\",\"-5\":\"buffer error\",\"-6\":\"incompatible version\"}},\"./node_modules/pako/lib/zlib/trees.js\":(e,t,i)=>{\"use strict\";var A=i(\"./node_modules/pako/lib/utils/common.js\");function s(e){for(var t=e.length;--t>=0;)e[t]=0}var r=256,a=286,o=30,n=15,l=16,d=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],c=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],g=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],h=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],u=new Array(576);s(u);var p=new Array(60);s(p);var I=new Array(512);s(I);var f=new Array(256);s(f);var C=new Array(29);s(C);var m,B,E,y=new Array(o);function Q(e,t,i,A,s){this.static_tree=e,this.extra_bits=t,this.extra_base=i,this.elems=A,this.max_length=s,this.has_stree=e&&e.length}function w(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function b(e){return e<256?I[e]:I[256+(e>>>7)]}function _(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function v(e,t,i){e.bi_valid>l-i?(e.bi_buf|=t<<e.bi_valid&65535,_(e,e.bi_buf),e.bi_buf=t>>l-e.bi_valid,e.bi_valid+=i-l):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=i)}function x(e,t,i){v(e,i[2*t],i[2*t+1])}function T(e,t){var i=0;do{i|=1&e,e>>>=1,i<<=1}while(--t>0);return i>>>1}function k(e,t,i){var A,s,r=new Array(n+1),a=0;for(A=1;A<=n;A++)r[A]=a=a+i[A-1]<<1;for(s=0;s<=t;s++){var o=e[2*s+1];0!==o&&(e[2*s]=T(r[o]++,o))}}function D(e){var t;for(t=0;t<a;t++)e.dyn_ltree[2*t]=0;for(t=0;t<o;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function L(e){e.bi_valid>8?_(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function N(e,t,i,A){var s=2*t,r=2*i;return e[s]<e[r]||e[s]===e[r]&&A[t]<=A[i]}function F(e,t,i){for(var A=e.heap[i],s=i<<1;s<=e.heap_len&&(s<e.heap_len&&N(t,e.heap[s+1],e.heap[s],e.depth)&&s++,!N(t,A,e.heap[s],e.depth));)e.heap[i]=e.heap[s],i=s,s<<=1;e.heap[i]=A}function S(e,t,i){var A,s,a,o,n=0;if(0!==e.last_lit)do{A=e.pending_buf[e.d_buf+2*n]<<8|e.pending_buf[e.d_buf+2*n+1],s=e.pending_buf[e.l_buf+n],n++,0===A?x(e,s,t):(x(e,(a=f[s])+r+1,t),0!==(o=d[a])&&v(e,s-=C[a],o),x(e,a=b(--A),i),0!==(o=c[a])&&v(e,A-=y[a],o))}while(n<e.last_lit);x(e,256,t)}function G(e,t){var i,A,s,r=t.dyn_tree,a=t.stat_desc.static_tree,o=t.stat_desc.has_stree,l=t.stat_desc.elems,d=-1;for(e.heap_len=0,e.heap_max=573,i=0;i<l;i++)0!==r[2*i]?(e.heap[++e.heap_len]=d=i,e.depth[i]=0):r[2*i+1]=0;for(;e.heap_len<2;)r[2*(s=e.heap[++e.heap_len]=d<2?++d:0)]=1,e.depth[s]=0,e.opt_len--,o&&(e.static_len-=a[2*s+1]);for(t.max_code=d,i=e.heap_len>>1;i>=1;i--)F(e,r,i);s=l;do{i=e.heap[1],e.heap[1]=e.heap[e.heap_len--],F(e,r,1),A=e.heap[1],e.heap[--e.heap_max]=i,e.heap[--e.heap_max]=A,r[2*s]=r[2*i]+r[2*A],e.depth[s]=(e.depth[i]>=e.depth[A]?e.depth[i]:e.depth[A])+1,r[2*i+1]=r[2*A+1]=s,e.heap[1]=s++,F(e,r,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var i,A,s,r,a,o,l=t.dyn_tree,d=t.max_code,c=t.stat_desc.static_tree,g=t.stat_desc.has_stree,h=t.stat_desc.extra_bits,u=t.stat_desc.extra_base,p=t.stat_desc.max_length,I=0;for(r=0;r<=n;r++)e.bl_count[r]=0;for(l[2*e.heap[e.heap_max]+1]=0,i=e.heap_max+1;i<573;i++)(r=l[2*l[2*(A=e.heap[i])+1]+1]+1)>p&&(r=p,I++),l[2*A+1]=r,A>d||(e.bl_count[r]++,a=0,A>=u&&(a=h[A-u]),o=l[2*A],e.opt_len+=o*(r+a),g&&(e.static_len+=o*(c[2*A+1]+a)));if(0!==I){do{for(r=p-1;0===e.bl_count[r];)r--;e.bl_count[r]--,e.bl_count[r+1]+=2,e.bl_count[p]--,I-=2}while(I>0);for(r=p;0!==r;r--)for(A=e.bl_count[r];0!==A;)(s=e.heap[--i])>d||(l[2*s+1]!==r&&(e.opt_len+=(r-l[2*s+1])*l[2*s],l[2*s+1]=r),A--)}}(e,t),k(r,d,e.bl_count)}function j(e,t,i){var A,s,r=-1,a=t[1],o=0,n=7,l=4;for(0===a&&(n=138,l=3),t[2*(i+1)+1]=65535,A=0;A<=i;A++)s=a,a=t[2*(A+1)+1],++o<n&&s===a||(o<l?e.bl_tree[2*s]+=o:0!==s?(s!==r&&e.bl_tree[2*s]++,e.bl_tree[32]++):o<=10?e.bl_tree[34]++:e.bl_tree[36]++,o=0,r=s,0===a?(n=138,l=3):s===a?(n=6,l=3):(n=7,l=4))}function M(e,t,i){var A,s,r=-1,a=t[1],o=0,n=7,l=4;for(0===a&&(n=138,l=3),A=0;A<=i;A++)if(s=a,a=t[2*(A+1)+1],!(++o<n&&s===a)){if(o<l)do{x(e,s,e.bl_tree)}while(0!=--o);else 0!==s?(s!==r&&(x(e,s,e.bl_tree),o--),x(e,16,e.bl_tree),v(e,o-3,2)):o<=10?(x(e,17,e.bl_tree),v(e,o-3,3)):(x(e,18,e.bl_tree),v(e,o-11,7));o=0,r=s,0===a?(n=138,l=3):s===a?(n=6,l=3):(n=7,l=4)}}s(y);var R=!1;function O(e,t,i,s){v(e,0+(s?1:0),3),function(e,t,i,s){L(e),_(e,i),_(e,~i),A.arraySet(e.pending_buf,e.window,t,i,e.pending),e.pending+=i}(e,t,i)}t._tr_init=function(e){R||(function(){var e,t,i,A,s,r=new Array(n+1);for(i=0,A=0;A<28;A++)for(C[A]=i,e=0;e<1<<d[A];e++)f[i++]=A;for(f[i-1]=A,s=0,A=0;A<16;A++)for(y[A]=s,e=0;e<1<<c[A];e++)I[s++]=A;for(s>>=7;A<o;A++)for(y[A]=s<<7,e=0;e<1<<c[A]-7;e++)I[256+s++]=A;for(t=0;t<=n;t++)r[t]=0;for(e=0;e<=143;)u[2*e+1]=8,e++,r[8]++;for(;e<=255;)u[2*e+1]=9,e++,r[9]++;for(;e<=279;)u[2*e+1]=7,e++,r[7]++;for(;e<=287;)u[2*e+1]=8,e++,r[8]++;for(k(u,287,r),e=0;e<o;e++)p[2*e+1]=5,p[2*e]=T(e,5);m=new Q(u,d,257,a,n),B=new Q(p,c,0,o,n),E=new Q(new Array(0),g,0,19,7)}(),R=!0),e.l_desc=new w(e.dyn_ltree,m),e.d_desc=new w(e.dyn_dtree,B),e.bl_desc=new w(e.bl_tree,E),e.bi_buf=0,e.bi_valid=0,D(e)},t._tr_stored_block=O,t._tr_flush_block=function(e,t,i,A){var s,a,o=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,i=4093624447;for(t=0;t<=31;t++,i>>>=1)if(1&i&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<r;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),G(e,e.l_desc),G(e,e.d_desc),o=function(e){var t;for(j(e,e.dyn_ltree,e.l_desc.max_code),j(e,e.dyn_dtree,e.d_desc.max_code),G(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*h[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),s=e.opt_len+3+7>>>3,(a=e.static_len+3+7>>>3)<=s&&(s=a)):s=a=i+5,i+4<=s&&-1!==t?O(e,t,i,A):4===e.strategy||a===s?(v(e,2+(A?1:0),3),S(e,u,p)):(v(e,4+(A?1:0),3),function(e,t,i,A){var s;for(v(e,t-257,5),v(e,i-1,5),v(e,A-4,4),s=0;s<A;s++)v(e,e.bl_tree[2*h[s]+1],3);M(e,e.dyn_ltree,t-1),M(e,e.dyn_dtree,i-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),S(e,e.dyn_ltree,e.dyn_dtree)),D(e),A&&L(e)},t._tr_tally=function(e,t,i){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&i,e.last_lit++,0===t?e.dyn_ltree[2*i]++:(e.matches++,t--,e.dyn_ltree[2*(f[i]+r+1)]++,e.dyn_dtree[2*b(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){v(e,2,3),x(e,256,u),function(e){16===e.bi_valid?(_(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},\"./node_modules/pako/lib/zlib/zstream.js\":e=>{\"use strict\";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg=\"\",this.state=null,this.data_type=2,this.adler=0}},\"./node_modules/strnum/strnum.js\":e=>{const t=/^[-+]?0x[a-fA-F0-9]+$/,i=/^([\\-\\+])?(0*)(\\.[0-9]+([eE]\\-?[0-9]+)?|[0-9]+(\\.[0-9]+([eE]\\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const A={hex:!0,leadingZeros:!0,decimalPoint:\".\",eNotation:!0};e.exports=function(e,s={}){if(s=Object.assign({},A,s),!e||\"string\"!=typeof e)return e;let r=e.trim();if(void 0!==s.skipLike&&s.skipLike.test(r))return e;if(s.hex&&t.test(r))return Number.parseInt(r,16);{const t=i.exec(r);if(t){const i=t[1],A=t[2];let o=(a=t[3])&&-1!==a.indexOf(\".\")?(\".\"===(a=a.replace(/0+$/,\"\"))?a=\"0\":\".\"===a[0]?a=\"0\"+a:\".\"===a[a.length-1]&&(a=a.substr(0,a.length-1)),a):a;const n=t[4]||t[6];if(!s.leadingZeros&&A.length>0&&i&&\".\"!==r[2])return e;if(!s.leadingZeros&&A.length>0&&!i&&\".\"!==r[1])return e;{const t=Number(r),a=\"\"+t;return-1!==a.search(/[eE]/)||n?s.eNotation?t:e:-1!==r.indexOf(\".\")?\"0\"===a&&\"\"===o||a===o||i&&a===\"-\"+o?t:e:A?o===a||i+o===a?t:e:r===a||r===i+a?t:e}}return e}var a}},\"./src/deprecated.ts\":(e,t,i)=>{\"use strict\";i.r(t),i.d(t,{FLIPPED_DIAGONALLY_FLAG:()=>A.FLIPPED_DIAGONALLY_FLAG,FLIPPED_HORIZONTALLY_FLAG:()=>A.FLIPPED_HORIZONTALLY_FLAG,FLIPPED_VERTICALLY_FLAG:()=>A.FLIPPED_VERTICALLY_FLAG,TiledEntity:()=>A.TiledEntity,TiledLayer:()=>A.TiledLayer,TiledLayerComponent:()=>A.TiledLayerComponent,TiledMap:()=>A.TiledMap,TiledMapFormat:()=>A.TiledMapFormat,TiledMapResource:()=>A.TiledMapResource,TiledObject:()=>A.TiledObject,TiledObjectComponent:()=>A.TiledObjectComponent,TiledObjectGroup:()=>A.TiledObjectGroup,TiledTileset:()=>A.TiledTileset,TiledTilesetTile:()=>A.TiledTilesetTile,getCanonicalGid:()=>A.getCanonicalGid,getProperty:()=>A.getProperty,isFlippedDiagonally:()=>A.isFlippedDiagonally,isFlippedHorizontally:()=>A.isFlippedHorizontally,isFlippedVertically:()=>A.isFlippedVertically,parseExternalJson:()=>A.parseExternalJson,parseExternalTsx:()=>A.parseExternalTsx});var A=i(\"./src/deprecated/index.ts\")},\"./src/deprecated/index.ts\":(e,t,i)=>{\"use strict\";i.r(t),i.d(t,{FLIPPED_DIAGONALLY_FLAG:()=>a.FLIPPED_DIAGONALLY_FLAG,FLIPPED_HORIZONTALLY_FLAG:()=>a.FLIPPED_HORIZONTALLY_FLAG,FLIPPED_VERTICALLY_FLAG:()=>a.FLIPPED_VERTICALLY_FLAG,TiledEntity:()=>r.TiledEntity,TiledLayer:()=>a.TiledLayer,TiledLayerComponent:()=>d.TiledLayerComponent,TiledMap:()=>s.TiledMap,TiledMapFormat:()=>A.TiledMapFormat,TiledMapResource:()=>A.TiledMapResource,TiledObject:()=>o.TiledObject,TiledObjectComponent:()=>l.TiledObjectComponent,TiledObjectGroup:()=>o.TiledObjectGroup,TiledTileset:()=>n.TiledTileset,TiledTilesetTile:()=>n.TiledTilesetTile,getCanonicalGid:()=>a.getCanonicalGid,getProperty:()=>r.getProperty,isFlippedDiagonally:()=>a.isFlippedDiagonally,isFlippedHorizontally:()=>a.isFlippedHorizontally,isFlippedVertically:()=>a.isFlippedVertically,parseExternalJson:()=>n.parseExternalJson,parseExternalTsx:()=>n.parseExternalTsx}),i(\"./src/deprecated/tiled-types.ts\");var A=i(\"./src/deprecated/tiled-map-resource.ts\"),s=i(\"./src/deprecated/tiled-map-parser.ts\"),r=i(\"./src/deprecated/tiled-entity.ts\"),a=i(\"./src/deprecated/tiled-layer.ts\"),o=i(\"./src/deprecated/tiled-object.ts\"),n=i(\"./src/deprecated/tiled-tileset.ts\"),l=i(\"./src/deprecated/tiled-object-component.ts\"),d=i(\"./src/deprecated/tiled-layer-component.ts\");i(\"./src/deprecated/raw-tiled-layer.ts\"),i(\"./src/deprecated/raw-tiled-map.ts\"),i(\"./src/deprecated/raw-tiled-object.ts\"),i(\"./src/deprecated/raw-tiled-text.ts\"),i(\"./src/deprecated/raw-tiled-tileset.ts\"),i(\"./src/deprecated/raw-tileset-tile.ts\")},\"./src/deprecated/raw-tiled-layer.ts\":(e,t,i)=>{\"use strict\";i.r(t)},\"./src/deprecated/raw-tiled-map.ts\":(e,t,i)=>{\"use strict\";i.r(t)},\"./src/deprecated/raw-tiled-object.ts\":(e,t,i)=>{\"use strict\";i.r(t)},\"./src/deprecated/raw-tiled-text.ts\":(e,t,i)=>{\"use strict\";i.r(t)},\"./src/deprecated/raw-tiled-tileset.ts\":(e,t,i)=>{\"use strict\";i.r(t)},\"./src/deprecated/raw-tileset-tile.ts\":(e,t,i)=>{\"use strict\";i.r(t)},\"./src/deprecated/tiled-entity.ts\":(e,t,i)=>{\"use strict\";i.r(t),i.d(t,{TiledEntity:()=>s,getProperty:()=>A});const A=(e,t)=>{if(Array.isArray(e))return null==e?void 0:e.filter((e=>{var i;return(null===(i=e.name)||void 0===i?void 0:i.toLocaleLowerCase())===t.toLocaleLowerCase()}))[0]};class s{constructor(){this.properties=[]}getProperty(e){return A(this.properties,e)}}},\"./src/deprecated/tiled-layer-component.ts\":(e,t,i)=>{\"use strict\";i.r(t),i.d(t,{TiledLayerComponent:()=>s});var A=i(\"excalibur\");class s extends A.Component{constructor(e){super(),this.layer=e,this.type=\"ex.tiledlayer\"}}},\"./src/deprecated/tiled-layer.ts\":(e,t,i)=>{\"use strict\";i.r(t),i.d(t,{FLIPPED_DIAGONALLY_FLAG:()=>o,FLIPPED_HORIZONTALLY_FLAG:()=>r,FLIPPED_VERTICALLY_FLAG:()=>a,TiledLayer:()=>g,getCanonicalGid:()=>c,isFlippedDiagonally:()=>d,isFlippedHorizontally:()=>n,isFlippedVertically:()=>l});var A=i(\"./src/deprecated/tiled-entity.ts\"),s=i(\"excalibur\");const r=2147483648,a=1073741824,o=536870912,n=e=>!!(e&r),l=e=>!!(e&a),d=e=>!!(e&o),c=e=>e&~(r|a|o);class g extends A.TiledEntity{constructor(){super(...arguments),this.offset=s.Vector.Zero,this.parallaxFactor=null,this.encoding=\"csv\"}static parse(e){var t,i,A,r,a,o;if(\"tilelayer\"!==e.type)throw Error(\"Cannot parse a non tilelayer type layer\");const n=new g;return n.id=+e.id,n.name=e.name,n.data=e.data,n.offset=(0,s.vec)(null!==(t=e.offsetx)&&void 0!==t?t:0,null!==(i=e.offsety)&&void 0!==i?i:0),n.parallaxFactor=e.parallaxx||e.parallaxy?(0,s.vec)(null!==(A=e.parallaxx)&&void 0!==A?A:1,null!==(r=e.parallaxy)&&void 0!==r?r:1):null,n.width=e.width,n.height=e.height,n.encoding=null!==(a=e.encoding)&&void 0!==a?a:\"csv\",n.compression=e.compression,n.order=e.order,n.properties=null!==(o=e.properties)&&void 0!==o?o:[],n.rawLayer=e,n}}},\"./src/deprecated/tiled-map-parser.ts\":(e,t,i)=>{\"use strict\";i.r(t),i.d(t,{TiledMap:()=>l});var A=i(\"./node_modules/fast-xml-parser/src/parser.js\"),s=i(\"./node_modules/pako/index.js\"),r=i(\"./node_modules/zstddec/dist/zstddec.modern.js\"),a=i(\"./src/deprecated/tiled-layer.ts\"),o=i(\"./src/deprecated/tiled-object.ts\"),n=i(\"./src/deprecated/tiled-tileset.ts\");class l{constructor(){this.layers=[],this.tileSets=[],this.objectGroups=[]}getExcaliburObjects(){return this.getObjectLayerByProperty(\"excalibur\",!0)}getObjects(){var e;return null!==(e=this.objectGroups.filter((e=>{var t;return!(null===(t=e.getProperty(\"excalibur-exclude\"))||void 0===t?void 0:t.value)})))&&void 0!==e?e:[]}getObjectLayerByName(e){return this.objectGroups.filter((t=>t.name===e))[0]}getObjectLayerByProperty(e,t){return this.objectGroups.filter((i=>{var A;return(null===(A=i.getProperty(e))||void 0===A?void 0:A.value)===t}))}getTileLayerByName(e){return this.layers.filter((t=>t.name===e))[0]}getTileLayersByProperty(e,t){return this.layers.filter((i=>{var A;return(null===(A=i.getProperty(e))||void 0===A?void 0:A.value)===t}))}static async fromTmx(e){var t,i,s,r,a,o,n,d,c,g,h,u,p,I,f,C;const m=(e,t,i=!1)=>{e[t]?(e[t+(i?\"s\":\"\")]=Array.isArray(e[t])?e[t]:[e[t]],i&&delete e[t]):e[t+(i?\"s\":\"\")]=[]},B=A.parse(e,{attributeNamePrefix:\"\",textNodeName:\"#text\",ignoreAttributes:!1,ignoreNameSpace:!1,allowBooleanAttributes:!0,parseNodeValue:!0,parseAttributeValue:!0,trimValues:!0,parseTrueNumberOnly:!1,arrayMode:!1,stopNodes:[\"parse-me-as-string\"]}).map;m(B,\"layer\",!0);for(let e of B.layers)e.type=null!==(t=e.type)&&void 0!==t?t:\"tilelayer\",e.encoding=e.data.encoding,e.compression=e.data.compression,\"csv\"===e.encoding?e.data=e.data[\"#text\"].split(\",\").map((e=>+e)):e.data=e.data[\"#text\"],e.properties=null!==(s=null===(i=e.properties)||void 0===i?void 0:i.property)&&void 0!==s?s:[],m(e,\"properties\");B.objectgroup=null!==(r=B.objectgroup)&&void 0!==r?r:[];let E=Array.isArray(B.objectgroup)?B.objectgroup:[B.objectgroup];for(let e of E)if(e.type=null!==(a=e.type)&&void 0!==a?a:\"objectgroup\",e.properties=null!==(n=null===(o=e.properties)||void 0===o?void 0:o.property)&&void 0!==n?n:[],m(e,\"properties\"),e.object){e.objects=Array.isArray(e.object)?e.object:[e.object],e.objects.forEach((e=>{var t,i;return e.properties=null!==(i=null===(t=e.properties)||void 0===t?void 0:t.property)&&void 0!==i?i:[]})),e.objects.forEach((e=>m(e,\"properties\"))),delete e.object;for(let t of e.objects)t.text&&(t.text.text=t.text[\"#text\"],t.text.halign=null!==(d=t.text.halign)&&void 0!==d?d:\"left\",t.text.valign=null!==(c=t.text.valign)&&void 0!==c?c:\"top\",t.text.fontfamily=null!==(g=t.text.fontfamily)&&void 0!==g?g:\"sans-serif\",t.text.pixelsize=+(null!==(h=t.text.pixelsize)&&void 0!==h?h:16),t.text.kerning=!!t.text.kerning,t.text.italic=!!t.text.italic,t.text.bold=!!t.text.bold,t.text.underline=!!t.text.underline,t.text.strikeout=!!t.text.strikeout,t.text.color=null!==(u=t.text.color)&&void 0!==u?u:\"#000000\"),\"\"===t.point&&(t.point=!0),\"\"===t.ellipse&&(t.ellipse=!0),t.polyline&&(t.polyline=t.polyline.points.split(\" \").map((e=>{const t=e.split(\",\");return{x:+t[0],y:+t[1]}}))),t.polygon&&(t.polygon=t.polygon.points.split(\" \").map((e=>{const t=e.split(\",\");return{x:+t[0],y:+t[1]}})));B.layers.push(e)}delete B.objectgroup,m(B,\"imagelayer\",!0);for(let e of B.imagelayers)e.type=null!==(p=e.type)&&void 0!==p?p:\"imagelayer\",e.image=e.image.source,e.properties=null!==(f=null===(I=e.properties)||void 0===I?void 0:I.property)&&void 0!==f?f:[],m(e,\"properties\"),B.layers.push(e);delete B.imagelayer,m(B,\"tileset\",!0);for(let e of B.tilesets)e.source||(e.image&&(e.imagewidth=e.image.width,e.imageheight=e.image.height,e.image=e.image.source),e.objectalignment=null!==(C=e.objectalignment)&&void 0!==C?C:\"unspecified\",m(e,\"tile\",!0),e.tiles.forEach((e=>{var t;(null===(t=e.image)||void 0===t?void 0:t.source)&&(e.image=e.image.source),e.objectgroup&&(e.objectgroup.type=\"objectgroup\",m(e.objectgroup,\"object\",!0))})));return await l._fromRawTiledMap(B)}static async fromJson(e){return await l._fromRawTiledMap(e)}static async _fromRawTiledMap(e){await l._decompresslayers(e);const t=new l;t.orientation=e.orientation,t.rawMap=e,t.width=+e.width,t.height=+e.height,t.tileWidth=+e.tilewidth,t.tileHeight=+e.tileheight,d(e);for(let i of e.layers)\"tilelayer\"==i.type&&t.layers.push(a.TiledLayer.parse(i)),\"objectgroup\"==i.type&&t.objectGroups.push(o.TiledObjectGroup.parse(i));for(let i of e.tilesets)i.source||t.tileSets.push(n.TiledTileset.parse(i));return t}static async _decompresslayers(e){var t;if(e.layers)for(var i of e.layers)\"string\"==typeof i.data?\"base64\"===i.encoding&&(i.data=await c.decompressBase64(i.data,i.encoding,null!==(t=i.compression)&&void 0!==t?t:\"\")):i.data=c.decompressCsv(i.data);return e}}const d=e=>{let t=0;for(let i of e.layers)i.order=t++},c={decompressCsv:e=>e,decompressBase64:(e,t,i)=>{var A,a,o,n,l,d;if(e.length%4>0)throw new Error(\"Invalid string. Length must be a multiple of 4\");var c=\"+\".charCodeAt(0),g=\"/\".charCodeAt(0),h=\"0\".charCodeAt(0),u=\"a\".charCodeAt(0),p=\"A\".charCodeAt(0),I=\"-\".charCodeAt(0),f=\"_\".charCodeAt(0);function C(e){var t=e.charCodeAt(0);if(t===c||t===I)return 62;if(t===g||t===f)return 63;if(t<h)return-1;if(t<h+10)return t-h+26+26;if(t<p+26)return t-p;if(t<u+26)return t-u+26;throw Error(\"Could not decode elt\")}var m=e.length;l=\"=\"===e.charAt(m-2)?2:\"=\"===e.charAt(m-1)?1:0,d=new Uint8Array(3*e.length/4-l),o=l>0?e.length-4:e.length;var B=0;function E(e){d[B++]=e}for(A=0,a=0;A<o;A+=4,a+=3)E((16711680&(n=C(e.charAt(A))<<18|C(e.charAt(A+1))<<12|C(e.charAt(A+2))<<6|C(e.charAt(A+3))))>>16),E((65280&n)>>8),E(255&n);return 2===l?E(255&(n=C(e.charAt(A))<<2|C(e.charAt(A+1))>>4)):1===l&&(E((n=C(e.charAt(A))<<10|C(e.charAt(A+1))<<4|C(e.charAt(A+2))>>2)>>8&255),E(255&n)),new Promise((e=>{const t=function(e){for(var t=0,i=e.length-1;i>=0;i--)t=256*t+1*e[i];return t};if(\"zlib\"===i||\"gzip\"===i){var a=(d=(0,s.inflate)(d)).length/4,o=new Array(a);for(A=0;A<a;A++)o[A]=t(d.slice(4*A,4*A+4));e(o)}if(\"zstd\"===i){const i=new r.ZSTDDecoder;i.init().then((()=>{var s=(d=i.decode(d)).length/4,r=new Array(s);for(A=0;A<s;A++)r[A]=t(d.slice(4*A,4*A+4));e(r)}))}if(!i){for(a=d.length/4,o=new Array(a),A=0;A<a;A++)o[A]=t(d.slice(4*A,4*A+4));e(o)}}))}}},\"./src/deprecated/tiled-map-resource.ts\":(e,t,i)=>{\"use strict\";i.r(t),i.d(t,{TiledMapFormat:()=>A,TiledMapResource:()=>c});var A,s=i(\"excalibur\"),r=i(\"./src/deprecated/tiled-map-parser.ts\"),a=i(\"./src/deprecated/tiled-tileset.ts\"),o=i(\"./src/deprecated/tiled-layer.ts\"),n=i(\"./src/deprecated/tiled-entity.ts\"),l=i(\"./src/deprecated/tiled-object-component.ts\"),d=i(\"./src/deprecated/tiled-layer-component.ts\");!function(e){e.TMX=\"TMX\",e.JSON=\"JSON\"}(A||(A={}));class c{constructor(e,t){this.path=e,this.layers=[],this.isoLayers=[],this._layerZIndexStart=-1,this._mapToRawLayer=new Map;const{mapFormatOverride:i,startingLayerZIndex:r}={...t};this._layerZIndexStart=null!=r?r:this._layerZIndexStart;const a=null!=i?i:e.includes(\".tmx\")?A.TMX:A.JSON;switch(a){case A.TMX:this._resource=new s.Resource(e,\"text\");break;case A.JSON:this._resource=new s.Resource(e,\"json\");break;default:throw`The format ${a} is not currently supported. Please export Tiled map as JSON.`}this.mapFormat=a,this.ex={},this.imageMap={},this.sheetMap={},this.tileImageMap={},this.convertPath=(e,t)=>{if(0===t.indexOf(\"/\"))return t;const i=e.split(\"/\"),A=t.split(\"/\");return i[i.length-1].includes(\".\")&&i.pop(),i.concat(A).join(\"/\")}}_addTiledCamera(e){const t=this.ex.camera;if(t){let i=(0,s.vec)(t.x,t.y);this.isIsometric()&&(i=this._isoTileToScreenCoords(t.x,t.y)),e.camera.x=i.x,e.camera.y=i.y,e.camera.zoom=t.zoom}}_addTiledColliders(e){var t;const i=this.ex.colliders;if(i)for(let A of i){const i=new s.Actor({pos:(0,s.vec)(A.x,A.y),name:A.name,collisionType:null!==(t=A.collisionType)&&void 0!==t?t:s.CollisionType.Fixed});if(A.color&&(i.color=s.Color.fromHex(A.color.value)),\"box\"===A.type)if(this.isIsometric()){i.pos=this._isoTileToScreenCoords(A.x,A.y);const e=new s.BoundingBox({left:0,top:0,right:A.width,bottom:A.height}).getPoints().map((e=>this._isoTileToScreenCoords(e.x,e.y)));i.collider.usePolygonCollider(e,s.Vector.Zero)}else i.collider.useBoxCollider(A.width,A.height,s.Vector.Zero);\"circle\"===A.type&&i.collider.useCircleCollider(A.radius),i.addComponent(new l.TiledObjectComponent(A.tiled)),e.add(i),A.zIndex&&(i.z=A.zIndex)}}_isoTileToScreenCoords(e,t){if(this.isIsometric()){const i=this.isoLayers[0],A=i.tileWidth,r=i.tileHeight,a=0,o=t/r,n=e/r;return(0,s.vec)((n-o)*A/2+a,(n+o)*r/2)}return(0,s.vec)(e,t)}_addTiledText(e){var t,i,A,r,a,o,n,d,c,g,h,u;const p=null===(t=this.data)||void 0===t?void 0:t.getObjects();if(p&&p.length>0)for(const t of p){const p=t.getText();for(const I of p){let p=(0,s.vec)(I.x,I.y+((null!==(i=I.height)&&void 0!==i?i:0)-(null!==(r=null===(A=I.text)||void 0===A?void 0:A.pixelSize)&&void 0!==r?r:0)));this.isIsometric()&&(p=this._isoTileToScreenCoords(I.x,I.y));const f=new s.Label({anchor:s.Vector.Zero,x:p.x,y:p.y,text:null!==(o=null===(a=I.text)||void 0===a?void 0:a.text)&&void 0!==o?o:\"\",name:this._getEntityName(I),font:new s.Font({family:null===(n=I.text)||void 0===n?void 0:n.fontFamily,size:null===(d=I.text)||void 0===d?void 0:d.pixelSize,unit:s.FontUnit.Px})});if(f.font.textAlign=s.TextAlign.Left,f.font.baseAlign=s.BaseAlign.Top,f.rotation=I.rotation,f.color=s.Color.fromHex(null!==(g=null===(c=I.text)||void 0===c?void 0:c.color)&&void 0!==g?g:\"#000000\"),f.collider.set(s.Shape.Box(null!==(h=I.width)&&void 0!==h?h:0,null!==(u=I.height)&&void 0!==u?u:0)),f.body.collisionType=s.CollisionType.PreventCollision,f.addComponent(new l.TiledObjectComponent(I)),f.z=this._calculateZIndex(I,t),this.isIsometric()){const e=new s.IsometricEntityComponent(this.isoLayers[0]);f.addComponent(e),e.elevation=t.order}e.add(f)}}}_addTiledInsertedTiles(e){var t,i,A;const r=null===(t=this.data)||void 0===t?void 0:t.getObjects();if(r&&r.length>0)for(const t of r){const r=t.getInsertedTiles();for(const a of r){const r=a.getProperty(\"collisionType\");let o=s.CollisionType.PreventCollision;r&&(o=r.value);let n=(0,s.vec)(a.x,a.y);if(this.isIsometric()&&(n=this._isoTileToScreenCoords(a.x,a.y)),a.gid){const r=this.getSpriteForGid(a.gid),d=this.getCollidersForGid(a.gid),c=new s.Actor({x:n.x,y:n.y,width:a.width,height:a.height,anchor:this.isIsometric()?(0,s.vec)(.5,1):(0,s.vec)(0,1),rotation:a.rotation,collisionType:o,name:this._getEntityName(a)});if(this.isIsometric()){const e=this.isoLayers[0];for(let t of d)t.offset=(0,s.vec)(-e.tileWidth/2,2*-e.tileHeight)}if(d.length&&(c.collider.clear(),c.collider.set(new s.CompositeCollider(d))),c.addComponent(new l.TiledObjectComponent(a)),c.graphics.anchor=this.isIsometric()?(0,s.vec)(.5,1):(0,s.vec)(0,1),r.destSize.width=null!==(i=a.width)&&void 0!==i?i:r.destSize.width,r.destSize.height=null!==(A=a.height)&&void 0!==A?A:r.destSize.height,c.graphics.use(r),this.isIsometric()){const e=new s.IsometricEntityComponent(this.isoLayers[0]);c.addComponent(e),e.elevation=t.order}e.add(c),c.z=this._calculateZIndex(a,t)}}}}useSolidLayers(){var e,t,i;let A=this.getTileMapLayers();A=A.concat(this.isoLayers);for(const s of A){const A=this._mapToRawLayer.get(s);if(A&&null!==(t=null===(e=(0,n.getProperty)(A.properties,\"solid\"))||void 0===e?void 0:e.value)&&void 0!==t&&t)for(let e=0;e<A.data.length;e++)(i=s.tiles[e]).solid||(i.solid=!!A.data[e])}}addTiledMapToScene(e){const t=this.getTileMapLayers();for(const i of t)e.add(i);for(const t of this.isoLayers)e.add(t);this._addTiledCamera(e),this._addTiledColliders(e),this._addTiledText(e),this._addTiledInsertedTiles(e),this.useSolidLayers()}_parseExcaliburInfo(){var e,t,i,A,r,a,o,n,l,d;const c=null===(e=this.data)||void 0===e?void 0:e.getObjects(),g={};if(c.length>0){g.camera=null===(t=c.find((e=>e.getObjectByClass(\"camera\"))))||void 0===t?void 0:t.getCamera(),g.colliders=[];for(let e of c){const t=e.getObjectsByClass(\"boxcollider\");for(let a of t){const t=a.getProperty(\"collisiontype\"),o=a.getProperty(\"color\"),n=this._calculateZIndex(a,e);g.colliders.push({...a,width:+(null!==(i=a.width)&&void 0!==i?i:0),height:+(null!==(A=a.height)&&void 0!==A?A:0),collisionType:null!==(r=null==t?void 0:t.value)&&void 0!==r?r:s.CollisionType.Fixed,color:o,zIndex:n,radius:0,type:\"box\",tiled:a,name:this._getEntityName(a)})}const c=e.getObjectsByClass(\"circlecollider\");for(let t of c){const i=t.getProperty(\"collisiontype\"),A=t.getProperty(\"color\"),r=this._calculateZIndex(t,e);g.colliders.push({x:t.x,y:t.y,radius:Math.max(null!==(a=t.width)&&void 0!==a?a:0,null!==(o=t.height)&&void 0!==o?o:0),collisionType:null!==(n=null==i?void 0:i.value)&&void 0!==n?n:s.CollisionType.Fixed,color:A,zIndex:r,width:null!==(l=t.width)&&void 0!==l?l:0,height:null!==(d=t.height)&&void 0!==d?d:0,type:\"circle\",tiled:t,name:this._getEntityName(t)})}}}this.ex=g}isLoaded(){return!!this.data}isIsometric(){return!!this.isoLayers.length}async load(){const e=await this._resource.load(),t=await this._importMapData(e);let i=[];return t.rawMap.tilesets.forEach((e=>{if(e.source){const r=e.source.includes(\".tsx\")?\"text\":\"json\";var A=new s.Resource(this.convertPath(this.path,e.source),r);i.push(A.load().then((i=>{i=\"text\"===r?(0,a.parseExternalTsx)(i,e.firstgid,e.source):(0,a.parseExternalJson)(i,e.firstgid,e.source),Object.assign(e,i),t.tileSets.push(i)}),(()=>{s.Logger.getInstance().error(`[Tiled] Error loading external tileset file ${A.path}`)})))}})),await Promise.all(i).then((()=>{let e=[];return t.rawMap.tilesets.forEach((t=>{let i=[];if(t.image){i=t.source?[this.convertPath(t.source,t.image)]:[this.convertPath(this.path,t.image)];for(let A of i){const i=new s.ImageSource(A);this.imageMap[t.firstgid]=i,e.push(i.load()),s.Logger.getInstance().debug(\"[Tiled] Loading associated tileset image: \"+t.image)}}else for(let i of t.tiles){let A;A=t.source?this.convertPath(t.source,i.image):this.convertPath(this.path,i.image);const r=new s.ImageSource(A);e.push(r.load()),this.tileImageMap[t.firstgid]||(this.tileImageMap[t.firstgid]=[]),this.tileImageMap[t.firstgid].push([i,r]),s.Logger.getInstance().debug(\"[Tiled] Loading associated tileset image: \"+A)}})),Promise.all(e).then((()=>{this._createTileMap()}),(()=>{s.Logger.getInstance().error(\"[Tiled] Error loading tileset images\")}))})),this._parseExcaliburInfo(),t}async _importMapData(e){if(void 0===e)throw`Tiled map resource ${this.path} is empty`;switch(this.mapFormat){case A.TMX:return this.data=await r.TiledMap.fromTmx(e);case A.JSON:return this.data=await r.TiledMap.fromJson(e);default:throw new Error(\"Unknown map format: \"+this.mapFormat)}}getTilesetForTile(e){if(this.data)for(var t=this.data.tileSets.length-1;t>=0;t--){var i=this.data.tileSets[t];if(e>=i.firstGid&&e<=i.firstGid+i.tileCount-1)return i}throw Error(`No tileset exists for tiled gid [${e}]!`)}getSpriteForGid(e){const t=(0,o.isFlippedHorizontally)(e),i=(0,o.isFlippedVertically)(e),A=(0,o.isFlippedDiagonally)(e),r=(0,o.getCanonicalGid)(e),a=this.getTilesetForTile(r),n=r-a.firstGid,l=this.sheetMap[a.firstGid.toString()];if(l){let e=l.sprites[n];return(A||t||i)&&(e=e.clone()),A&&(e.rotation=-Math.PI/2,e.scale=(0,s.vec)(-1,1)),t&&(e.scale=(0,s.vec)((A?1:-1)*e.scale.x,(A?-1:1)*e.scale.y)),i&&(e.scale=(0,s.vec)((A?-1:1)*e.scale.x,(A?1:-1)*e.scale.y)),e}throw new Error(`Could not find sprite for gid: [${e}] normalized gid: [${r}]`)}_transformPoints(e,t,i){const A=(0,o.isFlippedHorizontally)(i),s=(0,o.isFlippedVertically)(i);return(0,o.isFlippedDiagonally)(i)&&(e=e.map((e=>t.diagonalFlipTransform.multiply(e)))),A&&(e=e.map((e=>t.horizontalFlipTransform.multiply(e)))),s&&(e=e.map((e=>t.verticalFlipTransform.multiply(e)))),e}getCollidersForGid(e){const t=(0,o.getCanonicalGid)(e),i=this.getTilesetForTile(t),A=t-i.firstGid,r=i.tiles.find((e=>e.id===A));if(r&&r.objectgroup){const t=[];for(const A of r.objectgroup.getPolygons()){const r=(0,s.vec)(A.x,A.y),a=A.polygon.points.split(\" \").map((e=>{const t=e.split(\",\");return(0,s.vec)(Number.parseFloat(t[0]),Number.parseFloat(t[1])).add(r)})),o=s.Shape.Polygon(a);o.points=this._transformPoints(o.points,i,e),t.push(o)}for(const A of r.objectgroup.getBoxes()){const r=s.Shape.Box(A.width,A.height,s.Vector.Zero);r.points=r.points.map((e=>e.add((0,s.vec)(A.x,A.y)))),r.points=this._transformPoints(r.points,i,e),t.push(r)}for(const e of r.objectgroup.getEllipses()){const i=s.Shape.Circle(Math.min(e.width/2,e.height/2),(0,s.vec)(e.width/2,e.height/2).add((0,s.vec)(e.x,e.y)));t.push(i)}return t}return[]}getAnimationForGid(e){const t=(0,o.getCanonicalGid)(e),i=this.getTilesetForTile(t),A=t-i.firstGid,s=i.tiles.find((e=>e.id===A));return s&&s.hasAnimation()?s.getAnimation(this):null}_calculateZIndex(e,t){var i,A,s;let r=null!==(A=null===(i=e.getProperty(\"z\"))||void 0===i?void 0:i.value)&&void 0!==A?A:null===(s=e.getProperty(\"zindex\"))||void 0===s?void 0:s.value;return null!=r||(r=t.order+this._layerZIndexStart),+r}_getEntityName(e){return e.name}_createTileMap(){var e,t,i,A,r,a,o,n,l;for(const a of this.data.rawMap.tilesets){const o=null!==(e=a.spacing)&&void 0!==e?e:0,n=Math.floor((a.imagewidth+o)/(a.tilewidth+o)),l=Math.floor((a.imageheight+o)/(a.tileheight+o));if(this.imageMap[a.firstgid]){const e=s.SpriteSheet.fromImageSource({image:this.imageMap[a.firstgid],grid:{columns:n,rows:l,spriteWidth:a.tilewidth,spriteHeight:a.tileheight},spacing:{originOffset:{x:null!==(t=a.margin)&&void 0!==t?t:0,y:null!==(i=a.margin)&&void 0!==i?i:0},margin:{x:null!==(A=a.spacing)&&void 0!==A?A:0,y:null!==(r=a.spacing)&&void 0!==r?r:0}}});this.sheetMap[a.firstgid.toString()]=e}else{const e=this.tileImageMap[a.firstgid].map((([e,t])=>t.toSprite())),t=new s.SpriteSheet({sprites:e});this.sheetMap[a.firstgid.toString()]=t}}for(var c of this.data.layers)if(\"tilelayer\"===c.rawLayer.type){if(\"orthogonal\"===this.data.orientation){const e=c.rawLayer,t=new s.TileMap({name:c.rawLayer.name,pos:(0,s.vec)(c.offset.x,c.offset.y),tileWidth:this.data.rawMap.tilewidth,tileHeight:this.data.rawMap.tileheight,columns:this.data.width,rows:this.data.height});if(t.addComponent(new d.TiledLayerComponent(c)),c.rawLayer.parallaxx||c.rawLayer.parallaxy){const e=(0,s.vec)(null!==(a=c.rawLayer.parallaxx)&&void 0!==a?a:1,null!==(o=c.rawLayer.parallaxy)&&void 0!==o?o:1);t.addComponent(new s.ParallaxComponent(e))}t.z=this._calculateZIndex(c,c);for(let i=0;i<e.data.length;i++){let A=e.data[i];if(0!==A){const e=this.getSpriteForGid(A);t.tiles[i].addGraphic(e);const s=this.getCollidersForGid(A);for(let e of s)t.tiles[i].addCollider(e);const r=this.getAnimationForGid(A);r&&(t.tiles[i].clearGraphics(),t.tiles[i].addGraphic(r))}}this._mapToRawLayer.set(t,e),null===(n=this.layers)||void 0===n||n.push(t)}if(\"isometric\"===this.data.orientation){const e=c.rawLayer,t=new s.IsometricMap({name:c.rawLayer.name,pos:(0,s.vec)(c.offset.x,c.offset.y),columns:this.data.width,rows:this.data.height,tileWidth:this.data.tileWidth,tileHeight:this.data.tileHeight}),i=t.get(s.TransformComponent);i&&(i.z=this._calculateZIndex(c,c));for(let i=0;i<e.data.length;i++){let A=e.data[i];if(0!==A){const e=this.getSpriteForGid(A);t.tiles[i].addGraphic(e);const r=this.getCollidersForGid(A);for(let e of r)t.tiles[i].addCollider(e);const a=t.tiles[i].get(s.IsometricEntityComponent);a&&(a.elevation=c.order)}}t.updateColliders(),this._mapToRawLayer.set(t,e),null===(l=this.isoLayers)||void 0===l||l.push(t)}}}getTileMapLayers(){var e;return(null===(e=this.layers)||void 0===e?void 0:e.length)?this.layers:[]}getIsometricMapLayers(){var e;return(null===(e=this.isoLayers)||void 0===e?void 0:e.length)?this.isoLayers:[]}_lookupTile(e,t,i){const A=e.tiles.indexOf(t),s=this.data.getTileLayerByName(i),r=(0,o.getCanonicalGid)(s.data[A]);if(0===r)return null;const a=this.getTilesetForTile(r);return a.tiles.find((e=>e.id===r-1))||{id:r-1,tileset:a,properties:{}}}getTileByPoint(e,t){const i=this.getTileMapLayers().find((t=>t.name===e));if(i){const A=i.getTileByPoint(t);return A?this._lookupTile(i,A,e):null}return null}getTileByCoordinate(e,t,i){const A=this.getTileMapLayers().find((t=>t.name===e));if(A){const s=A.getTile(t,i);return this._lookupTile(A,s,e)}return null}}},\"./src/deprecated/tiled-object-component.ts\":(e,t,i)=>{\"use strict\";i.r(t),i.d(t,{TiledObjectComponent:()=>s});var A=i(\"excalibur\");class s extends A.Component{constructor(e){super(),this.object=e,this.type=\"ex.tiledobject\"}}},\"./src/deprecated/tiled-object.ts\":(e,t,i)=>{\"use strict\";i.r(t),i.d(t,{TiledObject:()=>a,TiledObjectGroup:()=>r});var A=i(\"./src/deprecated/tiled-entity.ts\"),s=i(\"excalibur\");class r extends A.TiledEntity{constructor(){super(...arguments),this.objects=[]}getCamera(){var e;const t=this.getObjectByClass(\"camera\");if(t){const i=t.getProperty(\"zoom\");return{x:t.x,y:t.y,zoom:i?+(null!==(e=null==i?void 0:i.value)&&void 0!==e?e:1):1}}}getObjectByType(e){return this.getObjectsByType(e)[0]}getObjectByClass(e){return this.getObjectsByClass(e)[0]}getObjectsByType(e){return this.objects.filter((t=>{var i;return(null===(i=t.type)||void 0===i?void 0:i.toLocaleLowerCase())===e.toLocaleLowerCase()}))}getObjectsByClass(e){return this.objects.filter((t=>{var i,A;return(null===(i=t.class)||void 0===i?void 0:i.toLocaleLowerCase())===e.toLocaleLowerCase()||(null===(A=t.type)||void 0===A?void 0:A.toLocaleLowerCase())===e.toLocaleLowerCase()}))}getObjectByName(e){return this.getObjectsByName(e)[0]}getObjectsByName(e){return this.objects.filter((t=>{var i;return(null===(i=t.name)||void 0===i?void 0:i.toString().toLocaleLowerCase())===e.toString().toLocaleLowerCase()}))}getPoints(){return this.objects.filter((e=>!!e.point))}getEllipses(){return this.objects.filter((e=>!!e.ellipse))}getText(){return this.objects.filter((e=>!!e.text))}getPolyLines(){return this.objects.filter((e=>!!e.polyline))}getPolygons(){return this.objects.filter((e=>!!e.polygon))}getBoxes(){return this.objects.filter((e=>!!e.width&&!!e.height&&!e.ellipse))}getInsertedTiles(){return this.objects.filter((e=>!!e.gid))}static parse(e){var t;if(\"objectgroup\"!==e.type)throw Error(\"Cannot parse non objectgroup type layer\");const i=new r;i.id=+e.id,i.name=e.name,i.properties=null!==(t=e.properties)&&void 0!==t?t:[],i.rawObjectGroup=e,i.order=e.order;for(let t of e.objects)i.objects.push(a.parse(t));return i}}class a extends A.TiledEntity{static parse(e){var t,i,A,r;const o=new a;return o.id=+e.id,o.gid=e.gid,o.visible=null===(t=e.visible)||void 0===t||t,o.name=e.name,o.type=e.type,o.class=e.class,o.x=+e.x,o.y=+e.y,o.rotation=e.rotation?(0,s.toRadians)(e.rotation):0,o.width=null!==(i=e.width)&&void 0!==i?i:0,o.height=null!==(A=e.height)&&void 0!==A?A:0,o.point=e.point,o.ellipse=!0===e.ellipse||\"\"===e.ellipse,o.polyline=e.polyline,o.polygon=e.polygon,o.rawObject=e,e.text&&(o.text={...e.text,pixelSize:e.text.pixelsize,fontFamily:e.text.fontfamily}),o.properties=null!==(r=e.properties)&&void 0!==r?r:[],o}}},\"./src/deprecated/tiled-tileset.ts\":(e,t,i)=>{\"use strict\";i.r(t),i.d(t,{TiledTileset:()=>o,TiledTilesetTile:()=>n,parseExternalJson:()=>d,parseExternalTsx:()=>l});var A=i(\"excalibur\"),s=i(\"./node_modules/fast-xml-parser/src/parser.js\"),r=i(\"./src/deprecated/tiled-object.ts\"),a=i(\"./src/deprecated/tiled-entity.ts\");class o{constructor(){this.tiles=[]}static parse(e){var t,i;const s=new o;let r=[];if(Array.isArray(e.tiles))r=(null!==(t=e.tiles)&&void 0!==t?t:[]).map((e=>n.parse(e,s)));else for(let t in e.tiles)r.push(n.parse({...e.tiles[t],id:+t},s));return s.tiles=r,s.firstGid=e.firstgid,s.tileWidth=e.tilewidth,s.tileHeight=e.tileheight,s.tileCount=e.tilecount,s.tileOffset=e.tileoffset,s.tiledVersion=e.tiledversion,s.backgroundColor=e.backgroundcolor,s.transparentColor=e.transparentcolor,s.wangSets=e.wangsets,s.imageWidth=e.imagewidth,s.imageHeight=e.imageheight,s.objectAlignment=null!==(i=e.objectalignment)&&void 0!==i?i:\"unspecified\",s.image=e.image,s.spacing=isNaN(e.spacing)?0:e.spacing,s.horizontalFlipTransform=A.Matrix.identity().translate(s.tileWidth,0).scale(-1,1),s.verticalFlipTransform=A.Matrix.identity().translate(0,s.tileHeight).scale(1,-1),s.diagonalFlipTransform=A.Matrix.identity().translate(0,0).rotate(-Math.PI/2).scale(-1,1),s}}class n{hasAnimation(){return!!this.animation}getAnimation(e){var t;if(this.animation){let i=[];for(let t of this.animation)i.push({graphic:e.getSpriteForGid(t.tileid+this.tileset.firstGid),duration:t.duration});return new A.Animation({frames:i,strategy:null!==(t=this.animationStrategy)&&void 0!==t?t:A.AnimationStrategy.Loop})}return null}static parse(e,t){var i,s,o;const l=new n;if(l.id=+e.id,l.image=e.image,l.tileset=t,l.properties=Array.isArray(e.properties)?e.properties:null!==(s=null===(i=e.properties)||void 0===i?void 0:i.property)&&void 0!==s?s:[],e.objectgroup&&(l.objectgroup=r.TiledObjectGroup.parse(e.objectgroup)),e.terrain&&(l.terrain=e.terrain),e.animation&&(l.animation=Array.isArray(e.animation)?e.animation:[...e.animation.frame],l.properties)){const e=null===(o=(0,a.getProperty)(l.properties,\"animationstrategy\"))||void 0===o?void 0:o.value;switch(null==e?void 0:e.toLowerCase()){case A.AnimationStrategy.End.toLowerCase():l.animationStrategy=A.AnimationStrategy.End;break;case A.AnimationStrategy.Freeze.toLowerCase():l.animationStrategy=A.AnimationStrategy.Freeze;break;case A.AnimationStrategy.Loop.toLowerCase():l.animationStrategy=A.AnimationStrategy.Loop;break;case A.AnimationStrategy.PingPong.toLowerCase():l.animationStrategy=A.AnimationStrategy.PingPong;break;default:l.animationStrategy=A.AnimationStrategy.Loop}}return l}}const l=(e,t,i)=>{var r,a,o,l,d;const c=(e,t,i=!1)=>{e[t]?(e[t+(i?\"s\":\"\")]=Array.isArray(e[t])?e[t]:[e[t]],i&&delete e[t]):e[t+(i?\"s\":\"\")]=[]},g=s.parse(e,{attributeNamePrefix:\"\",textNodeName:\"#text\",ignoreAttributes:!1,ignoreNameSpace:!1,allowBooleanAttributes:!0,parseNodeValue:!0,parseAttributeValue:!0,trimValues:!0,parseTrueNumberOnly:!1,arrayMode:!1,stopNodes:[\"parse-me-as-string\"]}).tileset,h=g;h.firstgid=t,h.source=i,h.imagewidth=null===(r=g.image)||void 0===r?void 0:r.width,h.imageheight=null===(a=g.image)||void 0===a?void 0:a.height,h.objectalignment=null!==(o=g.objectalignment)&&void 0!==o?o:\"unspecified\",h.image=null===(l=g.image)||void 0===l?void 0:l.source,h.spacing=isNaN(g.spacing)?0:g.spacing,c(g,\"tile\",!0),g.tiles.forEach((e=>{var t;(null===(t=e.image)||void 0===t?void 0:t.source)&&(e.image=e.image.source),e.objectgroup&&(e.objectgroup.type=\"objectgroup\",c(e.objectgroup,\"object\",!0))})),h.tiles=g.tiles;const u={...h,tiles:[],firstGid:h.firstgid,tileWidth:h.tilewidth,tileHeight:h.tileheight,tileCount:h.tilecount,tileOffset:h.tileoffset,tiledVersion:h.tiledversion,backgroundColor:h.backgroundcolor,transparentColor:h.transparentcolor,wangSets:h.wangsets,imageWidth:h.imagewidth,imageHeight:h.imageheight,objectAlignment:null!==(d=h.objectalignment)&&void 0!==d?d:\"unspecified\",image:h.image,spacing:isNaN(h.spacing)?0:h.spacing,horizontalFlipTransform:A.Matrix.identity().translate(h.tilewidth,0).scale(-1,1),verticalFlipTransform:A.Matrix.identity().translate(0,h.tileheight).scale(1,-1),diagonalFlipTransform:A.Matrix.identity().translate(h.tilewidth,h.tileheight).rotate(-Math.PI/2).scale(-1,1)};return u.tiles=h.tiles.map((e=>n.parse(e,u))),u},d=(e,t,i)=>{var s,r;let a=[];e.tiles=null!==(s=e.tiles)&&void 0!==s?s:[],(0,A.vec)(e.tilewidth/2,e.tileheight/2);const o={...e,source:i,tiles:a,firstGid:t,tileWidth:e.tilewidth,tileHeight:e.tileheight,tileCount:e.tilecount,tileOffset:e.tileoffset,tiledVersion:e.tiledversion,backgroundColor:e.backgroundcolor,transparentColor:e.transparentcolor,wangSets:e.wangsets,imageWidth:e.imagewidth,imageHeight:e.imageheight,spacing:isNaN(e.spacing)?0:e.spacing,objectAlignment:null!==(r=e.objectalignment)&&void 0!==r?r:\"unspecified\",image:e.image,horizontalFlipTransform:A.Matrix.identity().translate(e.tilewidth,0).scale(-1,1),verticalFlipTransform:A.Matrix.identity().translate(0,e.tileheight).scale(1,-1),diagonalFlipTransform:A.Matrix.identity().translate(e.tilewidth,e.tileheight).rotate(-Math.PI/2).scale(-1,1)};for(let t in e.tiles)a.push(n.parse({...e.tiles[t],id:+t},o));return o}},\"./src/deprecated/tiled-types.ts\":(e,t,i)=>{\"use strict\";i.r(t)},\"./src/parser/tiled-parser.ts\":(e,t,i)=>{\"use strict\";i.r(t),i.d(t,{TiledMap:()=>O,TiledParser:()=>q,TiledTemplate:()=>R,TiledText:()=>b,TiledTile:()=>L,TiledTileLayer:()=>B,TiledTileLayerInfinite:()=>m,TiledTileset:()=>M,TiledTilesetFile:()=>G,isCSV:()=>y,isInfiniteLayer:()=>z,isTiledTilesetCollectionOfImages:()=>S,isTiledTilesetEmbedded:()=>P,isTiledTilesetExternal:()=>U,isTiledTilesetSingleImage:()=>F,needsDecoding:()=>E});var A=i(\"./node_modules/zod/lib/index.mjs\");const s=A.z.object({name:A.z.string(),type:A.z.literal(\"int\"),value:A.z.number().int()}),r=A.z.object({name:A.z.string(),type:A.z.literal(\"bool\"),value:A.z.boolean()}),a=A.z.object({name:A.z.string(),type:A.z.literal(\"float\"),value:A.z.number()}),o=A.z.object({name:A.z.string(),type:A.z.literal(\"string\"),value:A.z.string()}),n=A.z.object({name:A.z.string(),type:A.z.literal(\"file\"),value:A.z.string()}),l=A.z.object({name:A.z.string(),type:A.z.literal(\"color\"),value:A.z.string()}),d=A.z.object({name:A.z.string(),type:A.z.literal(\"object\"),value:A.z.number()}),c=A.z.discriminatedUnion(\"type\",[s,r,a,o,n,l,d]),g=A.z.object({name:A.z.string(),type:A.z.literal(\"tilelayer\"),class:A.z.string().optional(),height:A.z.number(),width:A.z.number(),x:A.z.number(),y:A.z.number(),id:A.z.number(),opacity:A.z.number(),properties:A.z.array(c).optional(),visible:A.z.boolean(),tintcolor:A.z.string().optional(),parallaxx:A.z.number().optional(),parallaxy:A.z.number().optional(),offsetx:A.z.number().optional(),offsety:A.z.number().optional()}),h=g.extend({data:A.z.array(A.z.number()),encoding:A.z.literal(\"csv\")}),u=g.extend({data:A.z.array(A.z.number()),encoding:A.z.literal(\"base64\"),compression:A.z.literal(\"gzip\")}),p=g.extend({data:A.z.array(A.z.number()),encoding:A.z.literal(\"base64\"),compression:A.z.literal(\"zlib\")}),I=g.extend({data:A.z.array(A.z.number()),encoding:A.z.literal(\"base64\"),compression:A.z.literal(\"zstandard\")}),f=g.extend({data:A.z.string(),encoding:A.z.literal(\"base64\"),compression:A.z.string()}),C=A.z.object({x:A.z.number(),y:A.z.number(),width:A.z.number(),height:A.z.number(),data:A.z.array(A.z.number())}),m=g.extend({startx:A.z.number(),starty:A.z.number(),chunks:A.z.array(C)}),B=A.z.union([f,h,u,p,I,m]);function E(e){return\"base64\"===e.encoding}function y(e){return\"csv\"===e.encoding||Array.isArray(e.data)}const Q=A.z.object({x:A.z.number(),y:A.z.number()}),w=A.z.array(Q),b=A.z.object({text:A.z.string(),color:A.z.string().optional(),fontfamily:A.z.string().optional(),pixelsize:A.z.number().optional(),wrap:A.z.boolean().optional(),halign:A.z.union([A.z.literal(\"left\"),A.z.literal(\"center\"),A.z.literal(\"right\"),A.z.literal(\"justify\")]).optional(),valign:A.z.union([A.z.literal(\"top\"),A.z.literal(\"center\"),A.z.literal(\"bottom\")]).optional()}),_=A.z.object({id:A.z.number().optional(),name:A.z.string().optional(),type:A.z.string().optional(),x:A.z.number().optional(),y:A.z.number().optional(),rotation:A.z.number().optional(),height:A.z.number().optional(),width:A.z.number().optional(),visible:A.z.boolean().optional(),gid:A.z.number().optional(),text:b.optional(),point:A.z.boolean().optional(),ellipse:A.z.boolean().optional(),polyline:A.z.array(Q).optional(),polygon:w.optional(),template:A.z.string().optional(),properties:A.z.array(c).optional()}),v=A.z.object({duration:A.z.number(),tileid:A.z.number()}),x=A.z.object({name:A.z.string(),draworder:A.z.string(),type:A.z.literal(\"objectgroup\"),class:A.z.string().optional(),x:A.z.number(),y:A.z.number(),id:A.z.number(),color:A.z.string().optional(),tintcolor:A.z.string().optional(),parallaxx:A.z.number().optional(),parallaxy:A.z.number().optional(),offsetx:A.z.number().optional(),offsety:A.z.number().optional(),opacity:A.z.number(),properties:A.z.array(c).optional(),visible:A.z.boolean(),objects:A.z.array(_)}),T=A.z.object({name:A.z.string(),x:A.z.number(),y:A.z.number(),id:A.z.number(),type:A.z.literal(\"imagelayer\"),class:A.z.string().optional(),image:A.z.string().optional(),opacity:A.z.number(),properties:A.z.array(c).optional(),visible:A.z.boolean(),tintcolor:A.z.string().optional(),repeatx:A.z.boolean().optional(),repeaty:A.z.boolean().optional(),parallaxx:A.z.number().optional(),parallaxy:A.z.number().optional(),offsetx:A.z.number().optional(),offsety:A.z.number().optional(),transparentcolor:A.z.string().optional()}),k=A.z.union([T,B,x]),D=A.z.object({draworder:A.z.string(),id:A.z.number().optional(),name:A.z.string(),x:A.z.number(),y:A.z.number(),opacity:A.z.number(),tintcolor:A.z.string().optional(),type:A.z.literal(\"objectgroup\"),visible:A.z.boolean(),objects:A.z.array(_),properties:A.z.array(c).optional()}),L=A.z.object({id:A.z.number(),type:A.z.string().optional(),animation:A.z.array(v).optional(),objectgroup:D.optional(),probability:A.z.number().optional(),properties:A.z.array(c).optional(),image:A.z.string().optional(),imageheight:A.z.number().optional(),imagewidth:A.z.number().optional()}),N=A.z.object({name:A.z.string(),firstgid:A.z.number().optional(),class:A.z.string().optional(),objectalignment:A.z.union([A.z.literal(\"topleft\"),A.z.literal(\"top\"),A.z.literal(\"topright\"),A.z.literal(\"left\"),A.z.literal(\"center\"),A.z.literal(\"right\"),A.z.literal(\"bottomleft\"),A.z.literal(\"bottom\"),A.z.literal(\"bottomright\")]).optional(),image:A.z.string().optional(),imagewidth:A.z.number().optional(),imageheight:A.z.number().optional(),columns:A.z.number(),tileheight:A.z.number(),tilewidth:A.z.number(),tilecount:A.z.number(),grid:A.z.object({height:A.z.number(),width:A.z.number(),orientation:A.z.union([A.z.literal(\"isometric\"),A.z.literal(\"orthogonal\")])}).optional(),tileoffset:Q.optional(),spacing:A.z.number(),margin:A.z.number(),tiles:A.z.array(L).optional(),properties:A.z.array(c).optional()});function F(e){return!!e.image}function S(e){return!e.image}const G=N.extend({tiledversion:A.z.string().optional(),type:A.z.literal(\"tileset\"),version:A.z.string().optional()}),j=A.z.object({firstgid:A.z.number(),source:A.z.string()}),M=A.z.union([N,j]),R=A.z.object({object:_.extend({id:A.z.number().optional()}),tileset:j.optional(),type:A.z.literal(\"template\")}),O=A.z.object({type:A.z.string(),class:A.z.string().optional(),tiledversion:A.z.string(),version:A.z.string(),width:A.z.number(),height:A.z.number(),tilewidth:A.z.number(),tileheight:A.z.number(),compressionlevel:A.z.number().optional(),infinite:A.z.boolean(),nextlayerid:A.z.number(),nextobjectid:A.z.number(),parallaxoriginx:A.z.number().optional(),parallaxoriginy:A.z.number().optional(),hexsidelength:A.z.number().optional(),staggeraxis:A.z.literal(\"y\").or(A.z.literal(\"x\")).optional(),staggerindex:A.z.literal(\"odd\").or(A.z.literal(\"even\")).optional(),orientation:A.z.union([A.z.literal(\"isometric\"),A.z.literal(\"orthogonal\"),A.z.literal(\"staggered\"),A.z.literal(\"hexagonal\")]),renderorder:A.z.union([A.z.literal(\"right-down\"),A.z.literal(\"right-up\"),A.z.literal(\"left-down\"),A.z.literal(\"left-up\")]),backgroundcolor:A.z.string().optional(),layers:A.z.array(k),tilesets:A.z.array(M),properties:A.z.array(c).optional()});function z(e){return!!e.chunks}function P(e){return!e.source}function U(e){return!!e.source}class J{constructor(e,t,i,A){this.x=e,this.y=t,this.width=i,this.height=A}combine(e){const t=this.x+this.width,i=this.y+this.height,A=e.x+e.width,s=e.y+e.height,r=Math.max(t,A),a=Math.max(i,s);return new J(Math.min(this.x,e.x),Math.min(this.y,e.y),r-Math.min(this.x,e.x),a-Math.min(this.y,e.y))}}class q{constructor(){this._largestBounds=new J(0,0,0,0)}_coerceNumber(e){return+e}_coerceBoolean(e){switch(e){case\"0\":case\"false\":return!1;case\"true\":return!0;default:return!!Boolean(e)}}_coerceType(e,t){return\"bool\"===e?this._coerceBoolean(t):\"int\"===e||\"float\"===e||\"object\"===e?this._coerceNumber(t):t}_parsePropertiesNode(e,t){var i;const A=[];if(e)for(let t of e.children){const e=null!==(i=t.getAttribute(\"type\"))&&void 0!==i?i:\"string\";let s=t.getAttribute(\"value\");s||(s=t.innerHTML),A.push({name:t.getAttribute(\"name\"),type:e,value:this._coerceType(e,s)})}t.properties=A}_parseAttributes(e,t){const i=[\"width\",\"height\",\"columns\",\"firstgid\",\"spacing\",\"margin\",\"tilecount\",\"tilewidth\",\"tileheight\",\"opacity\",\"compressionlevel\",\"nextlayerid\",\"nextobjectid\",\"parallaxoriginx\",\"parallaxoriginy\",\"parallaxx\",\"parallaxy\",\"hexsidelength\",\"offsetx\",\"offsety\",\"id\",\"gid\",\"x\",\"y\",\"rotation\",\"probability\"],A=[\"infinite\",\"visible\",\"repeatx\",\"repeaty\"];for(let s of e.attributes)i.indexOf(s.name)>-1?t[s.name]=this._coerceNumber(s.value):A.indexOf(s.name)>-1?t[s.name]=this._coerceBoolean(s.value):t[s.name]=s.value}_parseToDocument(e){if(\"undefined\"!=typeof DOMParser)return(new DOMParser).parseFromString(e,\"application/xml\");try{const{JSDOM:t}=i(\"jsdom\");return new t(e,{contentType:\"application/xml\",encoding:\"utf-8\"}).window.document}catch(e){}const t=new Error(\"Could not find DOM parser\");throw console.error(t.message,t),t}parseObject(e,t=!0){var i,A;const s={type:\"\",x:0,y:0};e.getAttribute(\"template\")||(s.visible=!0,s.name=\"\",s.rotation=0,s.height=0,s.width=0),this._parseAttributes(e,s);const r=e.querySelector(\"properties\");r&&this._parsePropertiesNode(r,s);const a=e.querySelector(\"text\");if(a){s.text={text:a.textContent};const e=a.getAttribute(\"fontfamily\");e&&(s.text.fontfamily=e);const t=a.getAttribute(\"color\");t&&(s.text.color=t);const i=a.getAttribute(\"pixelsize\");i&&(s.text.pixelsize=this._coerceNumber(i));const A=a.getAttribute(\"wrap\");A&&(s.text.wrap=this._coerceBoolean(A));const r=a.getAttribute(\"valign\");r&&(s.text.valign=r);const o=a.getAttribute(\"halign\");o&&(s.text.halign=o)}e.querySelector(\"point\")&&(s.point=!0),e.querySelector(\"ellipse\")&&(s.ellipse=!0);const o=e.querySelector(\"polygon\");if(o){const e=null===(i=o.getAttribute(\"points\"))||void 0===i?void 0:i.split(\" \");s.polygon=[],e&&e.forEach((e=>{const t=e.split(\",\");s.polygon.push({x:+t[0],y:+t[1]})}))}const n=e.querySelector(\"polyline\");if(n){const e=null===(A=n.getAttribute(\"points\"))||void 0===A?void 0:A.split(\" \");s.polyline=[],e&&e.forEach((e=>{const t=e.split(\",\");s.polyline.push({x:+t[0],y:+t[1]})}))}if(t)try{return _.parse(s)}catch(e){throw console.error(\"Could not parse object\",s,e),e}return s}parseTileset(e,t=!0){const i={spacing:0,margin:0};if(this._parseAttributes(e,i),i.source)try{return M.parse(i)}catch(e){console.error(\"Could not parse external tileset\",i,e)}for(let A of e.children)switch(A.tagName){case\"properties\":this._parsePropertiesNode(A,i);break;case\"tileoffset\":{const e={};this._parseAttributes(A,e),i.tileoffset=e;break}case\"grid\":{const e={};this._parseAttributes(A,e),i.grid=e;break}case\"image\":i.image=A.getAttribute(\"source\"),i.imagewidth=this._coerceNumber(A.getAttribute(\"width\")),i.imageheight=this._coerceNumber(A.getAttribute(\"height\"));break;case\"tile\":{i.tiles||(i.tiles=[]);const e={};this._parseAttributes(A,e);for(let i of A.children)switch(i.tagName){case\"image\":e.image=i.getAttribute(\"source\"),e.imagewidth=this._coerceNumber(i.getAttribute(\"width\")),e.imageheight=this._coerceNumber(i.getAttribute(\"height\"));break;case\"objectgroup\":{const A={type:\"objectgroup\",name:\"\",visible:!0,x:0,y:0,opacity:1,objects:[]};this._parseAttributes(i,A),e.objectgroup=A;for(let e of i.children){const i=this.parseObject(e,t);A.objects.push(i)}break}case\"animation\":{const t=[];for(let e of i.children)t.push({duration:this._coerceNumber(e.getAttribute(\"duration\")),tileid:this._coerceNumber(e.getAttribute(\"tileid\"))});e.animation=t;break}case\"properties\":this._parsePropertiesNode(i,e)}if(t)try{i.tiles.push(L.parse(e))}catch(t){throw console.error(\"Could not parse Tile\",e,t),t}else i.tiles.push(e);break}}if(t)try{return M.parse(i)}catch(e){throw console.error(\"Could not parse Tileset\",i,e),e}return i}parseTileLayer(e,t,i=!0){var A,s,r;const a={type:\"tilelayer\",compression:\"\",x:0,y:0,opacity:1,visible:!0};this._parseAttributes(e,a);for(let i of e.children)switch(i.tagName){case\"properties\":this._parsePropertiesNode(i,a);break;case\"data\":if(t){a.width=0,a.height=0,a.chunks=[];let e=new J(0,0,0,0);for(let t of i.children)if(\"chunk\"===t.tagName){const i={};this._parseAttributes(t,i),i.data=null===(A=t.textContent)||void 0===A?void 0:A.split(\",\").map((e=>+e));const s=new J(i.x,i.y,i.width,i.height);e=e.combine(s),a.chunks.push(i)}a.width=e.width,a.height=e.height,a.startx=e.x,a.starty=e.y,this._largestBounds=this._largestBounds.combine(new J(a.startx,a.starty,a.width,a.height))}else{const e=i.getAttribute(\"encoding\");a.encoding=e;const t=i.getAttribute(\"compression\");switch(t&&(a.compression=t),a.encoding){case\"base64\":a.data=null===(s=i.textContent)||void 0===s?void 0:s.trim();break;case\"csv\":a.data=null===(r=i.textContent)||void 0===r?void 0:r.split(\",\").map((e=>+e))}}}if(i)try{return k.parse(a)}catch(e){throw console.error(\"Could not parse tiled tile layer\",a,e),e}return a}parseObjectGroup(e,t=!0){const i={type:\"objectgroup\",draworder:\"topdown\",visible:!0,x:0,y:0,opacity:1,objects:[]};this._parseAttributes(e,i);for(let A of e.children)switch(A.tagName){case\"properties\":this._parsePropertiesNode(A,i);break;case\"object\":{const e=this.parseObject(A,t);i.objects.push(e);break}}if(t)try{return k.parse(i)}catch(e){throw console.error(\"Could not parse object group\",i,e),e}return i}parseImageLayer(e,t=!0){const i={type:\"imagelayer\",visible:!0,x:0,y:0,opacity:1},A=e.querySelector(\"image\");i.image=null==A?void 0:A.getAttribute(\"source\");const s=e.querySelector(\"properties\");s&&this._parsePropertiesNode(s,i);const r=null==A?void 0:A.getAttribute(\"trans\");if(r&&(i.transparentcolor=\"#\"+r),this._parseAttributes(e,i),t)try{return k.parse(i)}catch(e){throw console.error(\"Could not parse layer\",i,e),e}return i}parseExternalTemplate(e,t=!0){const i=this._parseToDocument(e).querySelector(\"template\"),A={type:\"template\"},s=i.querySelector(\"object\");s&&(A.object=this.parseObject(s,t));const r=i.querySelector(\"tileset\");if(r&&(A.tileset=this.parseTileset(r,t)),t)try{return R.parse(A)}catch(e){throw console.error(\"Could not parse template\",A,e),e}return A}parseExternalTileset(e,t=!0){const i=this._parseToDocument(e).querySelector(\"tileset\"),A=this.parseTileset(i,t);if(A.type=\"tileset\",this._parseAttributes(i,A),t)try{return G.parse(A)}catch(e){throw console.error(\"Could not parse tileset file\",A,e),e}return A}parse(e,t=!0){const i=this._parseToDocument(e).querySelector(\"map\"),A={type:\"map\",compressionlevel:-1,layers:[],tilesets:[]};this._parseAttributes(i,A);const s=(e,t=!0)=>{switch(e.tagName){case\"group\":for(let i of e.children)s(i,t);break;case\"layer\":{const i=this.parseTileLayer(e,A.infinite,t);A.layers.push(i);break}case\"properties\":this._parsePropertiesNode(e,A);break;case\"tileset\":{const i=this.parseTileset(e,t);A.tilesets.push(i);break}case\"objectgroup\":{const i=this.parseObjectGroup(e,t);A.layers.push(i);break}case\"imagelayer\":{const i=this.parseImageLayer(e,t);A.layers.push(i);break}}};for(let e of i.children)s(e,t);if(t)try{return O.parse(A)}catch(e){throw console.error(\"Could not parse Tiled map\",e),e}return A}}},\"./src/resource/decoder.ts\":(e,t,i)=>{\"use strict\";i.r(t),i.d(t,{Decoder:()=>r});var A=i(\"./node_modules/pako/index.js\"),s=i(\"./node_modules/zstddec/dist/zstddec.modern.js\");class r{static decode(e,t){var i,r,a,o,n,l;if(e.length%4>0)throw new Error(\"Invalid string. Length must be a multiple of 4\");var d=\"+\".charCodeAt(0),c=\"/\".charCodeAt(0),g=\"0\".charCodeAt(0),h=\"a\".charCodeAt(0),u=\"A\".charCodeAt(0),p=\"-\".charCodeAt(0),I=\"_\".charCodeAt(0);function f(e){var t=e.charCodeAt(0);if(t===d||t===p)return 62;if(t===c||t===I)return 63;if(t<g)return-1;if(t<g+10)return t-g+26+26;if(t<u+26)return t-u;if(t<h+26)return t-h+26;throw Error(\"Could not decode elt\")}var C=e.length;n=\"=\"===e.charAt(C-2)?2:\"=\"===e.charAt(C-1)?1:0,l=new Uint8Array(3*e.length/4-n),a=n>0?e.length-4:e.length;var m=0;function B(e){l[m++]=e}for(i=0,r=0;i<a;i+=4,r+=3)B((16711680&(o=f(e.charAt(i))<<18|f(e.charAt(i+1))<<12|f(e.charAt(i+2))<<6|f(e.charAt(i+3))))>>16),B((65280&o)>>8),B(255&o);return 2===n?B(255&(o=f(e.charAt(i))<<2|f(e.charAt(i+1))>>4)):1===n&&(B((o=f(e.charAt(i))<<10|f(e.charAt(i+1))<<4|f(e.charAt(i+2))>>2)>>8&255),B(255&o)),new Promise((e=>{const r=function(e){for(var t=0,i=e.length-1;i>=0;i--)t=256*t+1*e[i];return t};if(\"zlib\"===t||\"gzip\"===t){var a=(l=(0,A.inflate)(l)).length/4,o=new Array(a);for(i=0;i<a;i++)o[i]=r(l.slice(4*i,4*i+4));e(o)}if(\"zstd\"===t){const t=new s.ZSTDDecoder;t.init().then((()=>{var A=(l=t.decode(l)).length/4,s=new Array(A);for(i=0;i<A;i++)s[i]=r(l.slice(4*i,4*i+4));e(s)}))}if(!t){for(a=l.length/4,o=new Array(a),i=0;i<a;i++)o[i]=r(l.slice(4*i,4*i+4));e(o)}}))}}},\"./src/resource/excalibur-properties.ts\":(e,t,i)=>{\"use strict\";i.r(t),i.d(t,{ExcaliburTiledProperties:()=>A});const A={TileData:{Tiled:\"ex-tiled\"},ZIndex:{ZIndex:\"zindex\"},Camera:{Camera:\"camera\",Zoom:\"zoom\"},Animation:{Strategy:\"animationstrategy\"},Layer:{Solid:\"solid\"},Collision:{Type:\"collisiontype\"}}},\"./src/resource/file-loader.ts\":(e,t,i)=>{\"use strict\";i.r(t),i.d(t,{FetchLoader:()=>A});const A=async(e,t)=>{const i=await fetch(e);switch(t.toLowerCase()){case\"xml\":default:return await i.text();case\"json\":return await i.json()}}},\"./src/resource/filter-util.ts\":(e,t,i)=>{\"use strict\";i.r(t),i.d(t,{byClassCaseInsensitive:()=>s,byNameCaseInsensitive:()=>A,byPropertyCaseInsensitive:()=>r});const A=e=>t=>(null==t?void 0:t.name)&&e?0===t.name.toLocaleLowerCase().localeCompare(e.toLocaleLowerCase()):(null==t?void 0:t.name)===e,s=e=>t=>(null==t?void 0:t.class)&&e?0===t.class.toLocaleLowerCase().localeCompare(e.toLocaleLowerCase()):(null==t?void 0:t.class)===e,r=(e,t)=>i=>{const A=(e=>{const t=new Map;for(let[i,A]of e){let e=A;\"string\"==typeof A&&(e=A.toLocaleLowerCase()),t.set(i.toLocaleLowerCase(),e)}return t})(i.properties);if(void 0!==t){let i=t;return\"string\"==typeof t&&(i=t.toLocaleLowerCase()),A.get(e.toLocaleLowerCase())===i}return A.has(e.toLocaleLowerCase())}},\"./src/resource/gid-util.ts\":(e,t,i)=>{\"use strict\";i.r(t),i.d(t,{FLIPPED_DIAGONALLY_FLAG:()=>r,FLIPPED_HORIZONTALLY_FLAG:()=>A,FLIPPED_VERTICALLY_FLAG:()=>s,getCanonicalGid:()=>l,isFlippedDiagonally:()=>n,isFlippedHorizontally:()=>a,isFlippedVertically:()=>o});const A=2147483648,s=1073741824,r=536870912,a=e=>!!(e&A),o=e=>!!(e&s),n=e=>!!(e&r),l=e=>e&~(A|s|r)},\"./src/resource/image-layer.ts\":(e,t,i)=>{\"use strict\";i.r(t),i.d(t,{ImageLayer:()=>a});var A=i(\"excalibur\"),s=i(\"./src/resource/properties.ts\"),r=i(\"./src/resource/path-util.ts\");class a{constructor(e,t,i){this.tiledImageLayer=e,this.resource=t,this.order=i,this.properties=new Map,this.image=null,this.imageActor=null,this.name=e.name,this.class=e.class,(0,s.mapProps)(this,e.properties),e.image&&(this.image=new A.ImageSource((0,r.pathRelativeToBase)(this.resource.path,e.image,this.resource.pathMap)))}async load(){var e,t,i,s;const r=this.tiledImageLayer.opacity,a=!!this.tiledImageLayer.tintcolor,o=this.tiledImageLayer.tintcolor?A.Color.fromHex(this.tiledImageLayer.tintcolor):A.Color.White,n=(0,A.vec)(null!==(e=this.tiledImageLayer.offsetx)&&void 0!==e?e:0,null!==(t=this.tiledImageLayer.offsety)&&void 0!==t?t:0),l=null!==(i=this.tiledImageLayer.parallaxx)&&void 0!==i?i:1,d=null!==(s=this.tiledImageLayer.parallaxy)&&void 0!==s?s:1;if(this.image){this.resource.headless||await this.image.load(),this.imageActor=new A.Actor({name:this.tiledImageLayer.name,pos:n,anchor:A.Vector.Zero,z:this.order}),this.imageActor.addComponent(new A.ParallaxComponent((0,A.vec)(l,d)));const e=this.image.toSprite();this.imageActor.graphics.use(e),this.imageActor.graphics.visible=this.tiledImageLayer.visible,this.imageActor.graphics.opacity=r,a&&(e.tint=o)}}}},\"./src/resource/iso-tile-layer.ts\":(e,t,i)=>{\"use strict\";i.r(t),i.d(t,{IsoTileLayer:()=>c});var A=i(\"excalibur\"),s=i(\"./src/resource/properties.ts\"),r=i(\"./src/parser/tiled-parser.ts\"),a=i(\"./src/resource/decoder.ts\"),o=i(\"./src/resource/gid-util.ts\"),n=i(\"./src/resource/excalibur-properties.ts\"),l=i(\"./src/resource/tiled-layer-component.ts\"),d=i(\"./src/resource/filter-util.ts\");class c{constructor(e,t,i){this.tiledTileLayer=e,this.resource=t,this.order=i,this.logger=A.Logger.getInstance(),this.width=0,this.height=0,this.properties=new Map,this.data=[],this._gidToTileInfo=new Map,this.name=e.name,this.class=e.class,this.width=e.width,this.height=e.height,(0,s.mapProps)(this,e.properties)}getTilesByGid(e){var t;return null!==(t=this._gidToTileInfo.get(e))&&void 0!==t?t:[]}getTilesByClassName(e){return this.isometricMap.tiles.filter((t=>{const i=t.data.get(n.ExcaliburTiledProperties.TileData.Tiled);return!!i&&(0,d.byClassCaseInsensitive)(e)(i)})).map((e=>({exTile:e,tiledTile:e.data.get(n.ExcaliburTiledProperties.TileData.Tiled)})))}getTilesByProperty(e,t){return this.isometricMap.tiles.filter((i=>{const A=i.data.get(n.ExcaliburTiledProperties.TileData.Tiled);return!!A&&(0,d.byPropertyCaseInsensitive)(e,t)(A)})).map((e=>({exTile:e,tiledTile:e.data.get(n.ExcaliburTiledProperties.TileData.Tiled)})))}getTileByPoint(e){if(!this.isometricMap)return this.logger.warn(\"IsometricMap has not yet been loaded! getTileByPoint() will only return null\"),null;if(this.isometricMap){const t=this.isometricMap.getTileByPoint(e);if(!t)return null;const i=this.isometricMap.tiles.indexOf(t),A=(0,o.getCanonicalGid)(this.data[i]);return A<=0?null:{tiledTile:this.resource.getTilesetForTileGid(A).getTileByGid(A),exTile:t}}return null}_recordTileData(e,t){let i=this._gidToTileInfo.get(e),A=this.resource.getTilesetForTileGid(e).getTileByGid(e);i?i.push({exTile:t,tiledTile:A}):i=[{exTile:t,tiledTile:A}],this._gidToTileInfo.set(e,i),t.data.set(n.ExcaliburTiledProperties.TileData.Tiled,A)}updateTile(e,t,i,s,r){this._recordTileData(t,e),this.resource.useExcaliburWiring&&r&&(e.solid=!0);const a=e.get(A.IsometricEntityComponent);a&&(a.elevation=this.order);const o=this.resource.getTilesetForTileGid(t);let l=o.getSpriteForGid(t);i&&(l=l.clone(),l.tint=s),e.addGraphic(l,{offset:o.tileOffset});let d=e.pos;if(\"orthogonal\"===o.orientation)d=(0,A.vec)(0,0);else{const e=this.resource.map.tilewidth/2,t=this.resource.map.tileheight;d=(0,A.vec)(e,t)}const c=o.getCollidersForGid(t,{offset:d});for(let t of c)e.addCollider(t);let g=o.getAnimationForGid(t);if(g&&(i&&(g=g.clone(),g.tint=s),e.clearGraphics(),e.addGraphic(g,{offset:o.tileOffset}),this.resource.useExcaliburWiring)){const e=o.getTileByGid(t),i=null==e?void 0:e.properties.get(n.ExcaliburTiledProperties.Animation.Strategy);if(i&&\"string\"==typeof i)switch(i.toLowerCase()){case A.AnimationStrategy.End.toLowerCase():g.strategy=A.AnimationStrategy.End;break;case A.AnimationStrategy.Freeze.toLowerCase():g.strategy=A.AnimationStrategy.Freeze;break;case A.AnimationStrategy.Loop.toLowerCase():g.strategy=A.AnimationStrategy.Loop;break;case A.AnimationStrategy.PingPong.toLowerCase():g.strategy=A.AnimationStrategy.PingPong;break;default:this.logger.warn(`Unknown animation strategy in tileset ${o.name} on tile gid ${t}: ${i}`)}}}async load(){var e,t,i,s;const o=this.tiledTileLayer,d=!!this.properties.get(n.ExcaliburTiledProperties.Layer.Solid),c=(this.tiledTileLayer.opacity,!!this.tiledTileLayer.tintcolor),g=this.tiledTileLayer.tintcolor?A.Color.fromHex(this.tiledTileLayer.tintcolor):A.Color.Transparent,h=(0,A.vec)(null!==(e=o.offsetx)&&void 0!==e?e:0,null!==(t=o.offsety)&&void 0!==t?t:0);(0,r.needsDecoding)(this.tiledTileLayer)?this.data=await a.Decoder.decode(this.tiledTileLayer.data,this.tiledTileLayer.compression):(0,r.isCSV)(this.tiledTileLayer)&&(this.data=this.tiledTileLayer.data);let u=this.order,p=this.properties.get(n.ExcaliburTiledProperties.ZIndex.ZIndex);if(\"number\"==typeof p&&(u=p),this.resource.map.infinite&&(0,r.isInfiniteLayer)(this.tiledTileLayer)){const e=this.resource.isometricTiledCoordToWorld(this.tiledTileLayer.startx,this.tiledTileLayer.starty),t=(0,A.vec)(e.x*this.resource.map.tilewidth,e.y*this.resource.map.tileheight);this.isometricMap=new A.IsometricMap({name:this.name,pos:h.add(t),tileHeight:this.resource.map.tileheight,tileWidth:this.resource.map.tilewidth,columns:o.width,rows:o.height,elevation:u})}else this.isometricMap=new A.IsometricMap({name:this.name,pos:h,tileWidth:this.resource.map.tilewidth,tileHeight:this.resource.map.tileheight,columns:o.width,rows:o.height,elevation:u});if(this.isometricMap.visible=this.tiledTileLayer.visible,this.isometricMap.opacity=this.tiledTileLayer.opacity,this.isometricMap.addComponent(new l.TiledLayerDataComponent({tiledTileLayer:o})),o.parallaxx||o.parallaxy){const e=(0,A.vec)(null!==(i=o.parallaxx)&&void 0!==i?i:1,null!==(s=o.parallaxy)&&void 0!==s?s:1);this.isometricMap.addComponent(new A.ParallaxComponent(e))}if(this.resource.map.infinite&&(0,r.isInfiniteLayer)(this.tiledTileLayer))for(let e of this.tiledTileLayer.chunks)for(let t=0;t<e.data.length;t++){const i=e.data[t];if(0!=i){const A=t%e.width+(e.x-this.tiledTileLayer.startx),s=Math.floor(t/e.width)+(e.y-this.tiledTileLayer.starty),r=this.isometricMap.tiles[A+s*o.width];this.updateTile(r,i,c,g,d)}}else for(let e=0;e<this.data.length;e++){let t=this.data[e];if(0!==t){const i=this.isometricMap.tiles[e];this.updateTile(i,t,c,g,d)}}}}},\"./src/resource/layer.ts\":(e,t,i)=>{\"use strict\";i.r(t)},\"./src/resource/loader-cache.ts\":(e,t,i)=>{\"use strict\";i.r(t),i.d(t,{LoaderCache:()=>A});class A{constructor(e){this.type=e,this._loaded=!1,this.cache=new Map}getOrAdd(...e){let t=this.cache.get(e.join(\"+\"));return t||(t=new this.type(...e),this.cache.set(e.join(\"+\"),t),t)}values(){if(this._loaded)return Array.from(this.cache.values());throw new Error(\"Read through cache not yet loaded! No values to return!\")}async load(){const e=Array.from(this.cache.entries()),t=await Promise.allSettled(e.map((e=>e[1].load())));let i=0;for(let A=0;A<t.length;A++){const s=t[A];\"rejected\"===s.status&&(console.error(`Error loading resource at ${e[A][0]}, is your pathMap correct? or your Tiled map corrupted?`,s.reason),i++)}if(i)throw new Error(`Error loading ${i} resources`);this._loaded=!0}}},\"./src/resource/object-layer.ts\":(e,t,i)=>{\"use strict\";i.r(t),i.d(t,{ObjectLayer:()=>l});var A=i(\"excalibur\"),s=i(\"./src/resource/objects.ts\"),r=i(\"./src/resource/properties.ts\"),a=i(\"./src/resource/filter-util.ts\"),o=i(\"./src/resource/excalibur-properties.ts\"),n=i(\"./src/resource/tiled-data-component.ts\");class l{constructor(e,t,i){this.tiledObjectLayer=e,this.resource=t,this.order=i,this.logger=A.Logger.getInstance(),this.properties=new Map,this.objects=[],this.entities=[],this._objectToEntity=new Map,this._entityToObject=new Map,this._loaded=!1,this.name=e.name,this.class=e.class,(0,r.mapProps)(this,e.properties)}_logLoadedWarning(e){this.logger.warn(`ObjectLayer ${this.name} is not yet loaded, ${e}() will always be empty!`)}getObjectsByName(e){return this._loaded||this._logLoadedWarning(\"getObjectsByName\"),this.objects.filter((0,a.byNameCaseInsensitive)(e))}getEntitiesByName(e){return this._loaded||this._logLoadedWarning(\"getEntitiesByName\"),this.entities.filter((0,a.byNameCaseInsensitive)(e))}getEntityByObject(e){return this._loaded||this._logLoadedWarning(\"getEntityByObject\"),this._objectToEntity.get(e)}getObjectByEntity(e){return this._loaded||this._logLoadedWarning(\"getObjectByEntity\"),this._entityToObject.get(e)}getObjectsByProperty(e,t){return this._loaded||this._logLoadedWarning(\"getObjectsByProperty\"),this.objects.filter((0,a.byPropertyCaseInsensitive)(e,t))}getEntitiesByProperty(e,t){return this._loaded||this._logLoadedWarning(\"getEntitiesByProperty\"),this.getObjectsByProperty(e,t).map((e=>this._objectToEntity.get(e))).filter((e=>!!e))}getObjectsByClassName(e){return this._loaded||this._logLoadedWarning(\"getObjectsByClassName\"),this.objects.filter((0,a.byClassCaseInsensitive)(e))}getEntitiesByClassName(e){return this._loaded||this._logLoadedWarning(\"getEntitiesByClassName\"),this.getObjectsByClassName(e).map((e=>this._objectToEntity.get(e))).filter((e=>!!e))}getTemplates(){return this._loaded||this._logLoadedWarning(\"getTemplates\"),this.objects.filter((e=>e instanceof s.TemplateObject))}runFactory(e){var t,i,r,a;const o=(0,A.vec)(null!==(t=this.tiledObjectLayer.offsetx)&&void 0!==t?t:0,null!==(i=this.tiledObjectLayer.offsety)&&void 0!==i?i:0),n=this.objects.slice();for(let t of n){let i=t.class;if(t instanceof s.TemplateObject&&(i=i||t.template.object.class),e!==i)continue;let n=(0,A.vec)((null!==(r=t.x)&&void 0!==r?r:0)+o.x,(null!==(a=t.y)&&void 0!==a?a:0)+o.y);\"isometric\"===this.resource.map.orientation&&(n=this.resource.isometricTiledCoordToWorld(n.x,n.y));const l=this.resource.factories.get(e);if(l){const e=l({worldPos:n,name:t.name,class:i,layer:this,object:t,properties:t.properties});e&&this._recordObjectEntityMapping(t,e)}}}_actorFromObject(e,t,i){var r,a,o,n,l,d;const c=this.resource.headless,g=!!this.tiledObjectLayer.tintcolor,h=this.tiledObjectLayer.tintcolor?A.Color.fromHex(this.tiledObjectLayer.tintcolor):A.Color.White;if(e instanceof s.InsertedTile&&i){const s=\"isometric\"===this.resource.map.orientation&&\"orthogonal\"===i.orientation?\"bottom\":void 0,u=i.getTilesetAlignmentAnchor(s);t.anchor=u;const p=(null!==(r=e.tiledObject.width)&&void 0!==r?r:this.resource.map.tilewidth)/this.resource.map.tilewidth,I=(null!==(a=e.tiledObject.width)&&void 0!==a?a:this.resource.map.tilewidth)/this.resource.map.tilewidth,f=(0,A.vec)(p,I);if(!c){const A=i.getSpriteForGid(e.gid).clone();A.destSize.width=null!==(o=e.tiledObject.width)&&void 0!==o?o:A.width,A.destSize.height=null!==(n=e.tiledObject.height)&&void 0!==n?n:A.height,g&&(A.tint=h),t.graphics.use(A),t.graphics.offset=i.tileOffset;const s=i.getAnimationForGid(e.gid);if(s){const e=s.clone();e.scale=f,g&&(e.tint=h),t.graphics.use(e),t.graphics.offset=i.tileOffset}}const C=null!==(l=e.tiledObject.width)&&void 0!==l?l:0,m=null!==(d=e.tiledObject.height)&&void 0!==d?d:0,B=-C*u.x,E=-m*u.y,y=this.resource.map.tilewidth/2,Q=this.resource.map.tileheight;let w=(0,A.vec)(B,E);\"isometric\"===this.resource.map.orientation&&(w=(0,A.vec)(B+y,E+Q),\"orthogonal\"===i.orientation&&(w=w.sub((0,A.vec)(y,Q))));const b=i.getCollidersForGid(e.gid,{anchor:A.Vector.Zero,scale:f,offset:w});if(b.length)t.collider.useCompositeCollider(b);else{let i=e.width,s=e.height;if(\"isometric\"===this.resource.map.orientation){const t=e.height/2;i=t,s=t}let r=A.Shape.Box(i,s,\"isometric\"===this.resource.map.orientation?(0,A.vec)(1,1):(0,A.vec)(0,1));\"isometric\"===this.resource.map.orientation&&(r.points=r.points.map((e=>this.resource.isometricTiledCoordToWorld(e.x,e.y)))),t.collider.set(r)}}if(e instanceof s.Text&&t.graphics.use(e.text),e instanceof s.Polygon){let i=(0,A.vec)(e.x,e.y),s=e.localPoints;\"isometric\"===this.resource.map.orientation&&(i=this.resource.isometricTiledCoordToWorld(i.x,i.y),s=s.map((e=>this.resource.isometricTiledCoordToWorld(e.x,e.y)))),t.anchor=(0,A.vec)(0,1),t.pos=i;const r=A.Shape.Polygon(s,A.Vector.Zero,!0);r.isConvex()?t.collider.set(r):t.collider.set(r.triangulate())}if(e instanceof s.Rectangle){t.anchor=e.anchor;let i=A.Shape.Box(e.width,e.height,e.anchor);\"isometric\"===this.resource.map.orientation&&(i.points=i.points.map((e=>this.resource.isometricTiledCoordToWorld(e.x,e.y)))),t.collider.set(i)}e instanceof s.Ellipse&&t.collider.useCircleCollider(Math.min(e.width,e.height)/2)}async load(){var e,t,i,r,a;const n=this.tiledObjectLayer.opacity,l=(0,A.vec)(null!==(e=this.tiledObjectLayer.offsetx)&&void 0!==e?e:0,null!==(t=this.tiledObjectLayer.offsety)&&void 0!==t?t:0),d=(0,s.parseObjects)(this.tiledObjectLayer,this.resource);for(let e of d){let t=(0,A.vec)((null!==(i=e.x)&&void 0!==i?i:0)+l.x,(null!==(r=e.y)&&void 0!==r?r:0)+l.y);\"isometric\"===this.resource.map.orientation&&(t=this.resource.isometricTiledCoordToWorld(t.x,t.y));let d,c=e.class;if(e instanceof s.TemplateObject&&(c=c||e.template.object.class),c){const i=this.resource.factories.get(c);if(i){const A=i({worldPos:t,name:e.name,class:c,layer:this,object:e,properties:e.properties});A&&this._recordObjectEntityMapping(e,A);continue}}let g=this.properties.get(o.ExcaliburTiledProperties.ZIndex.ZIndex);\"number\"==typeof g&&(d=g);const h=new A.Actor({name:e.tiledObject.name,pos:t,anchor:A.Vector.Zero,rotation:(0,A.toRadians)(null!==(a=e.tiledObject.rotation)&&void 0!==a?a:0),z:d}),u=h.get(A.GraphicsComponent);if(u&&(u.visible=this.tiledObjectLayer.visible&&(void 0===e.tiledObject.visible||!!e.tiledObject.visible),u.opacity=n),\"isometric\"===this.resource.map.orientation){const e=new A.IsometricEntityComponent({rows:this.resource.map.height,columns:this.resource.map.width,tileWidth:this.resource.map.tilewidth,tileHeight:this.resource.map.tileheight});e.elevation=null!=d?d:this.order,h.addComponent(e)}if(this.resource.useExcaliburWiring){const t=e.properties.get(o.ExcaliburTiledProperties.Collision.Type);if(t&&\"string\"==typeof t)switch(t.toLowerCase()){case A.CollisionType.Active.toLowerCase():h.body.collisionType=A.CollisionType.Active;break;case A.CollisionType.Fixed.toLowerCase():h.body.collisionType=A.CollisionType.Fixed;break;case A.CollisionType.Passive.toLowerCase():h.body.collisionType=A.CollisionType.Passive;break;case A.CollisionType.PreventCollision.toLowerCase():h.body.collisionType=A.CollisionType.PreventCollision;break;default:this.logger.warn(`Unknown collision type in layer ${this.name}, for object id ${e.id} and name ${e.name}: ${t}`)}}if(e instanceof s.TemplateObject){const t=e.template.tileset;e.template.object&&this._actorFromObject(e.template.object,h,t)}else{let t;e instanceof s.InsertedTile&&(t=this.resource.getTilesetForTileGid(e.gid)),this._actorFromObject(e,h,t)}this._recordObjectEntityMapping(e,h)}this._loaded=!0}_recordObjectEntityMapping(e,t){t.addComponent(new n.TiledDataComponent({tiledObject:e})),this.objects.push(e),this.entities.push(t),this._objectToEntity.set(e,t),this._entityToObject.set(t,e)}}},\"./src/resource/objects.ts\":(e,t,i)=>{\"use strict\";i.r(t),i.d(t,{Ellipse:()=>c,InsertedTile:()=>n,PluginObject:()=>a,Point:()=>l,Polygon:()=>h,Polyline:()=>u,Rectangle:()=>g,TemplateObject:()=>o,Text:()=>d,parseObject:()=>p,parseObjects:()=>I});var A=i(\"excalibur\"),s=i(\"./src/resource/properties.ts\"),r=i(\"./src/resource/path-util.ts\");class a{constructor(e){var t,i,A;this.properties=new Map,this.tiledObject=e.tiledObject,this.name=this.tiledObject.name,this.class=this.tiledObject.type,this.id=null!==(t=this.tiledObject.id)&&void 0!==t?t:-1,this.x=null!==(i=this.tiledObject.x)&&void 0!==i?i:0,this.y=null!==(A=this.tiledObject.y)&&void 0!==A?A:0}}class o extends a{constructor(e,t){if(super({tiledObject:e}),!e.template)throw new Error(\"Invalid template\");if(this.source=e.template,this.tiledTemplate=e,this.template=t,t.object){this.name=this.name||t.object.name,this.class=this.class||t.object.class;for(const[e,i]of t.object.properties.entries())this.properties.has(e)||this.properties.set(e,i)}if(t.tileset&&t.object.tiledObject.gid){const e=t.tileset.getTileByGid(t.object.tiledObject.gid);if(e){this.class=this.class||e.class;for(const[t,i]of e.properties.entries())this.properties.has(t)||this.properties.set(t,i)}}}}class n extends a{constructor(e,t,i,A){super({tiledObject:e}),this.gid=t,this.width=i,this.height=A}}class l extends a{}class d extends a{constructor(e,t,i,s){var r,a,o;super({tiledObject:e}),this.font=new A.Font({family:null!==(r=t.fontfamily)&&void 0!==r?r:\"sans-serif\",color:t.color?A.Color.fromHex(t.color):A.Color.Black,size:null!==(a=t.pixelsize)&&void 0!==a?a:16,unit:A.FontUnit.Px,textAlign:this._textAlignFromTiled(t.halign),baseAlign:this._textBaselineFromTiled(t.valign),quality:s});const n=null!==(o=t.wrap)&&void 0!==o&&o;this.text=new A.Text({text:t.text,font:this.font,...n?{maxWidth:i+10}:{}})}_textBaselineFromTiled(e){switch(e){case\"bottom\":return A.BaseAlign.Bottom;case\"center\":return A.BaseAlign.Middle;default:return A.BaseAlign.Top}}_textAlignFromTiled(e){switch(e){case\"left\":default:return A.TextAlign.Left;case\"center\":return A.TextAlign.Center;case\"right\":return A.TextAlign.Right;case\"justify\":return A.TextAlign.Start}}}class c extends a{constructor(e,t,i){super({tiledObject:e}),this.width=t,this.height=i}}class g extends a{constructor(e,t,i,A){super({tiledObject:e}),this.width=t,this.height=i,this.anchor=A}}class h extends a{constructor(e,t){super({tiledObject:e}),this.points=[],this.localPoints=[],this.localPoints=t.map((e=>(0,A.vec)(e.x,e.y))),this.points=t.map((e=>(0,A.vec)(e.x,e.y).add((0,A.vec)(this.x,this.y))))}}class u extends a{constructor(e,t){super({tiledObject:e}),this.points=[],this.points=t.map((e=>(0,A.vec)(e.x,e.y)))}}function p(e,t){var i,a,p,I;let f;if(e.point)f=new l({tiledObject:e});else if(e.ellipse)e.width&&e.height?(f=new c(e,e.width,e.height),f.x+=e.width/2,f.y+=e.height/2):f=new c(e,20,20);else if(e.polygon)f=new h(e,e.polygon);else if(e.polyline)f=new u(e,e.polyline);else if(e.text)f=new d(e,e.text,null!==(i=e.width)&&void 0!==i?i:0,null!==(a=null==t?void 0:t.textQuality)&&void 0!==a?a:4);else if(e.gid){f=new n(e,e.gid,null!==(p=e.width)&&void 0!==p?p:0,null!==(I=e.height)&&void 0!==I?I:0);const i=null==t?void 0:t.getTilesetForTileGid(e.gid);let A=e.type;if(i){const t=null==i?void 0:i.getTileByGid(e.gid);if(A=A||(null==t?void 0:t.class),null==t?void 0:t.properties)for(const[e,i]of t.properties.entries())f.properties.has(e)||f.properties.set(e,i)}f.class=A}else if(e.template&&t){const i=t.templates.find((t=>(0,r.filenameFromPath)(t.templatePath)===(0,r.filenameFromPath)(e.template)));if(!i)throw new Error(`Template object id ${e.id} with name ${e.name} is missing a loaded template file, there should be one loaded from ${e.template}! Is your tiled map or template corrupted?`);f=new o(e,i)}else f=e.width&&e.height?new g(e,e.width,e.height,A.Vector.Zero):new g(e,20,20,A.Vector.Half);return(0,s.mapProps)(f,e.properties),f}function I(e,t){const i=[];for(const A of e.objects){let e=p(A,t);i.push(e)}return i}},\"./src/resource/path-util.ts\":(e,t,i)=>{\"use strict\";function A(e){const t=e.match(/[^/\\\\&\\?]+\\.\\w{2,4}(?=([\\#\\?&].*$|$))/gi);if(t)return t[0];throw new Error(`Could not locate filename from path: ${e}`)}function s(e,t){for(const{path:i,output:A}of t)if(\"string\"==typeof i){if(e.includes(i))return A}else{const t=e.match(i);if(t)return A.replace(\"[match]\",t[0])}return e}function r(e,t){if(!t)return!1;for(const{path:i,output:A}of t)if(\"string\"==typeof i){if(e.includes(i))return!0}else if(e.match(i))return!0;return!1}function a(e,t,i){if(r(t,i)&&i)return s(t,i);if(0===t.indexOf(\"/\"))return t;const A=e.split(\"/\"),a=t.split(\"/\");return A[A.length-1].includes(\".\")&&A.pop(),A.concat(a).join(\"/\")}i.r(t),i.d(t,{filenameFromPath:()=>A,mapPath:()=>s,pathInMap:()=>r,pathRelativeToBase:()=>a})},\"./src/resource/properties.ts\":(e,t,i)=>{\"use strict\";function A(e,t){try{if(t)for(const i of t){let t=i.value;\"string\"==typeof i.value&&(t=i.value.toLocaleLowerCase()),e.properties.set(i.name.toLocaleLowerCase(),t)}}catch(t){console.error(`Unable to map properties onto ${e}`,t)}}i.r(t),i.d(t,{mapProps:()=>A})},\"./src/resource/template-resource.ts\":(e,t,i)=>{\"use strict\";i.r(t),i.d(t,{TemplateResource:()=>c});var A=i(\"excalibur\"),s=i(\"./src/parser/tiled-parser.ts\"),r=i(\"./src/resource/file-loader.ts\"),a=i(\"./src/resource/loader-cache.ts\"),o=i(\"./src/resource/objects.ts\"),n=i(\"./src/resource/path-util.ts\"),l=i(\"./src/resource/template.ts\"),d=i(\"./src/resource/tileset-resource.ts\");class c{constructor(e,t){this.templatePath=e,this.headless=!1,this.strict=!0,this.fileLoader=r.FetchLoader;const{fileLoader:i,parser:o,pathMap:n,imageLoader:l,strict:d,headless:c}={...t};this.headless=null!=c?c:this.headless,this.strict=null!=d?d:this.strict,this.fileLoader=null!=i?i:this.fileLoader,this.imageLoader=null!=l?l:new a.LoaderCache(A.ImageSource),this.parser=null!=o?o:new s.TiledParser,this.pathMap=n}isLoaded(){return!!this.data}async load(){const e=this.templatePath.includes(\".tx\")?\"xml\":\"json\";try{const t=await this.fileLoader(this.templatePath,e);let i;i=\"xml\"===e?this.parser.parseExternalTemplate(t,this.strict):this.strict?s.TiledTemplate.parse(t):t;const A=i,r=(0,o.parseObject)(i.object);let a;if(i.tileset){const e=(0,n.pathRelativeToBase)(this.templatePath,i.tileset.source,this.pathMap),t=new d.TilesetResource(e,i.tileset.firstgid,{headless:this.headless,strict:this.strict,fileLoader:this.fileLoader,imageLoader:this.imageLoader,parser:this.parser,pathMap:this.pathMap});a=await t.load()}return this.data=new l.Template({templatePath:this.templatePath,tiledTemplate:A,object:r,tileset:a})}catch(e){throw console.error(`Could not load template at ${this.templatePath}, check to see if your pathMap is correct or if you're Tiled map is corrupted`),e}}}},\"./src/resource/template.ts\":(e,t,i)=>{\"use strict\";i.r(t),i.d(t,{Template:()=>A});class A{constructor(e){const{templatePath:t,object:i,tiledTemplate:A,tileset:s}=e;this.templatePath=t,this.object=i,this.tiledTemplate=A,this.tileset=s}}},\"./src/resource/tile-layer.ts\":(e,t,i)=>{\"use strict\";i.r(t),i.d(t,{TileLayer:()=>c});var A=i(\"excalibur\"),s=i(\"./src/resource/properties.ts\"),r=i(\"./src/parser/tiled-parser.ts\"),a=i(\"./src/resource/decoder.ts\"),o=i(\"./src/resource/gid-util.ts\"),n=i(\"./src/resource/excalibur-properties.ts\"),l=i(\"./src/resource/tiled-layer-component.ts\"),d=i(\"./src/resource/filter-util.ts\");class c{getTilesByGid(e){var t;return null!==(t=this._gidToTileInfo.get(e))&&void 0!==t?t:[]}getTilesByClassName(e){return this.tilemap.tiles.filter((t=>{const i=t.data.get(n.ExcaliburTiledProperties.TileData.Tiled);return!!i&&(0,d.byClassCaseInsensitive)(e)(i)})).map((e=>({exTile:e,tiledTile:e.data.get(n.ExcaliburTiledProperties.TileData.Tiled)})))}getTilesByProperty(e,t){return this.tilemap.tiles.filter((i=>{const A=i.data.get(n.ExcaliburTiledProperties.TileData.Tiled);return!!A&&(0,d.byPropertyCaseInsensitive)(e,t)(A)})).map((e=>({exTile:e,tiledTile:e.data.get(n.ExcaliburTiledProperties.TileData.Tiled)})))}getTileByPoint(e){if(!this.tilemap)return this.logger.warn(\"Tilemap has not yet been loaded! getTileByPoint() will only return null\"),null;if(this.tilemap){const t=this.tilemap.getTileByPoint(e);if(!t)return null;const i=this.tilemap.tiles.indexOf(t),A=(0,o.getCanonicalGid)(this.data[i]);return A<=0?null:{tiledTile:this.resource.getTilesetForTileGid(A).getTileByGid(A),exTile:t}}return null}getTileByCoordinate(e,t){if(!this.tilemap)return this.logger.warn(\"Tilemap has not yet been loaded! getTileByCoordinate() will only return null\"),null;if(this.tilemap){const i=this.tilemap.getTile(e,t),A=this.tilemap.tiles.indexOf(i),s=(0,o.getCanonicalGid)(this.data[A]);return s<=0?null:{tiledTile:this.resource.getTilesetForTileGid(s).getTileByGid(s),exTile:i}}return null}constructor(e,t,i){this.tiledTileLayer=e,this.resource=t,this.order=i,this.logger=A.Logger.getInstance(),this.width=0,this.height=0,this.properties=new Map,this.data=[],this._gidToTileInfo=new Map,this.name=e.name,this.class=e.class,this.width=e.width,this.height=e.height,(0,s.mapProps)(this,e.properties)}_recordTileData(e,t){let i=this._gidToTileInfo.get(e),A=this.resource.getTilesetForTileGid(e).getTileByGid(e);i?i.push({exTile:t,tiledTile:A}):i=[{exTile:t,tiledTile:A}],this._gidToTileInfo.set(e,i),t.data.set(n.ExcaliburTiledProperties.TileData.Tiled,A)}updateTile(e,t,i,s,r){this._recordTileData(t,e),this.resource.useExcaliburWiring&&r&&(e.solid=!0);const a=this.resource.getTilesetForTileGid(t),o=this.resource.headless;if(!o){let A=a.getSpriteForGid(t);i&&(A=A.clone(),A.tint=s),e.addGraphic(A,{offset:a.tileOffset})}const l=a.getCollidersForGid(t);for(let t of l)e.addCollider(t);let d=o?null:a.getAnimationForGid(t);if(d&&(i&&(d=d.clone(),d.tint=s),e.clearGraphics(),e.addGraphic(d,{offset:a.tileOffset}),this.resource.useExcaliburWiring)){const e=a.getTileByGid(t),i=null==e?void 0:e.properties.get(n.ExcaliburTiledProperties.Animation.Strategy);if(i&&\"string\"==typeof i)switch(i.toLowerCase()){case A.AnimationStrategy.End.toLowerCase():d.strategy=A.AnimationStrategy.End;break;case A.AnimationStrategy.Freeze.toLowerCase():d.strategy=A.AnimationStrategy.Freeze;break;case A.AnimationStrategy.Loop.toLowerCase():d.strategy=A.AnimationStrategy.Loop;break;case A.AnimationStrategy.PingPong.toLowerCase():d.strategy=A.AnimationStrategy.PingPong;break;default:this.logger.warn(`Unknown animation strategy in tileset ${a.name} on tile gid ${t}: ${i}`)}}}async load(){var e,t,i,s;const o=this.tiledTileLayer.opacity,d=!!this.tiledTileLayer.tintcolor,c=this.tiledTileLayer.tintcolor?A.Color.fromHex(this.tiledTileLayer.tintcolor):A.Color.Transparent,g=!!this.properties.get(n.ExcaliburTiledProperties.Layer.Solid),h=this.tiledTileLayer,u=(0,A.vec)(null!==(e=h.offsetx)&&void 0!==e?e:0,null!==(t=h.offsety)&&void 0!==t?t:0);if((0,r.needsDecoding)(this.tiledTileLayer)?this.data=await a.Decoder.decode(this.tiledTileLayer.data,this.tiledTileLayer.compression):(0,r.isCSV)(this.tiledTileLayer)&&(this.data=this.tiledTileLayer.data),this.resource.map.infinite&&(0,r.isInfiniteLayer)(this.tiledTileLayer)){const e=(0,A.vec)(this.tiledTileLayer.startx*this.resource.map.tilewidth,this.tiledTileLayer.starty*this.resource.map.tileheight);this.tilemap=new A.TileMap({name:this.name,pos:u.add(e),tileHeight:this.resource.map.tileheight,tileWidth:this.resource.map.tilewidth,columns:h.width,rows:h.height})}else this.tilemap=new A.TileMap({name:this.name,pos:u,tileWidth:this.resource.map.tilewidth,tileHeight:this.resource.map.tileheight,columns:h.width,rows:h.height});this.tilemap.addComponent(new l.TiledLayerDataComponent({tiledTileLayer:h}));const p=this.tilemap.get(A.TransformComponent);if(p){p.z=this.order;let e=this.properties.get(n.ExcaliburTiledProperties.ZIndex.ZIndex);\"number\"==typeof e&&(p.z=e)}const I=this.tilemap.get(A.GraphicsComponent);if(I&&(I.visible=this.tiledTileLayer.visible,I.opacity=o),h.parallaxx||h.parallaxy){const e=(0,A.vec)(null!==(i=h.parallaxx)&&void 0!==i?i:1,null!==(s=h.parallaxy)&&void 0!==s?s:1);this.tilemap.addComponent(new A.ParallaxComponent(e))}if(this.resource.map.infinite&&(0,r.isInfiniteLayer)(this.tiledTileLayer))for(let e of this.tiledTileLayer.chunks)for(let t=0;t<e.data.length;t++){const i=e.data[t];if(0!=i){const A=t%e.width+(e.x-this.tiledTileLayer.startx),s=Math.floor(t/e.width)+(e.y-this.tiledTileLayer.starty),r=this.tilemap.tiles[A+s*h.width];this.updateTile(r,i,d,c,g)}}else for(let e=0;e<this.data.length;e++){let t=this.data[e];if(0!==t){const i=this.tilemap.tiles[e];this.updateTile(i,t,d,c,g)}}}}},\"./src/resource/tiled-data-component.ts\":(e,t,i)=>{\"use strict\";i.r(t),i.d(t,{TiledDataComponent:()=>s});var A=i(\"excalibur\");class s extends A.Component{constructor(e){super();const{tiledObject:t}=e;this.tiledObject=t}}},\"./src/resource/tiled-layer-component.ts\":(e,t,i)=>{\"use strict\";i.r(t),i.d(t,{TiledLayerDataComponent:()=>s});var A=i(\"excalibur\");class s extends A.Component{constructor(e){super();const{tiledTileLayer:t}=e;this.tiledTileLayer=t}}},\"./src/resource/tiled-resource.ts\":(e,t,i)=>{\"use strict\";i.r(t),i.d(t,{TiledResource:()=>m});var A=i(\"excalibur\"),s=i(\"./src/parser/tiled-parser.ts\"),r=i(\"./src/resource/tileset.ts\"),a=i(\"./src/resource/iso-tile-layer.ts\"),o=i(\"./src/resource/tile-layer.ts\"),n=i(\"./src/resource/object-layer.ts\"),l=i(\"./node_modules/compare-versions/lib/esm/compare.js\"),d=i(\"./src/resource/gid-util.ts\"),c=i(\"./src/resource/path-util.ts\"),g=i(\"./src/resource/filter-util.ts\"),h=i(\"./src/resource/excalibur-properties.ts\"),u=i(\"./src/resource/file-loader.ts\"),p=i(\"./src/resource/tileset-resource.ts\"),I=i(\"./src/resource/loader-cache.ts\"),f=i(\"./src/resource/template-resource.ts\"),C=i(\"./src/resource/image-layer.ts\");class m{constructor(e,t){this.path=e,this.logger=A.Logger.getInstance(),this.tilesets=[],this.templates=[],this.layers=[],this.mapFormat=\"TMX\",this.strict=!0,this.factories=new Map,this.parser=new s.TiledParser,this.fileLoader=u.FetchLoader,this.startZIndex=0,this.textQuality=4,this.useExcaliburWiring=!0,this.useMapBackgroundColor=!1,this.useTilemapCameraStrategy=!1,this.headless=!1,this._imageLoader=new I.LoaderCache(A.ImageSource),this._tilesetLoader=new I.LoaderCache(p.TilesetResource),this._templateLoader=new I.LoaderCache(f.TemplateResource);const{mapFormatOverride:i,textQuality:r,entityClassNameFactories:a,useExcaliburWiring:o,useTilemapCameraStrategy:n,useMapBackgroundColor:l,pathMap:d,fileLoader:c,strict:g,headless:h,startZIndex:C}={...t};this.strict=null!=g?g:this.strict,this.headless=null!=h?h:this.headless,this.useExcaliburWiring=null!=o?o:this.useExcaliburWiring,this.useTilemapCameraStrategy=null!=n?n:this.useTilemapCameraStrategy,this.useMapBackgroundColor=null!=l?l:this.useMapBackgroundColor,this.textQuality=null!=r?r:this.textQuality,this.startZIndex=null!=C?C:this.startZIndex,this.fileLoader=null!=c?c:this.fileLoader,this.pathMap=d;for(const e in a)this.registerEntityFactory(e,a[e]);this.mapFormat=null!=i?i:e.includes(\".tmx\")?\"TMX\":\"TMJ\"}registerEntityFactory(e,t){if(this.factories.has(e)&&console.warn(`Another factory has already been registered for tiled class/type \"${e}\", this is probably a bug.`),this.factories.set(e,t),this.isLoaded())for(let t of this.getObjectLayers())t.runFactory(e)}unregisterEntityFactory(e){this.factories.has(e)||console.warn(`No factory has been registered for tiled class/type \"${e}\", cannot unregister!`),this.factories.delete(e)}getTilesetForTileGid(e){const t=(0,d.getCanonicalGid)(e);if(this.tilesets)for(let e of this.tilesets)if(t>=e.firstGid&&t<=e.firstGid+e.tileCount-1)return e;throw Error(`No tileset exists for tiled gid [${e}] normalized [${t}]!`)}getTilesetByName(e){return this.tilesets.filter((0,g.byNameCaseInsensitive)(e))}getTilesetByClassName(e){return this.tilesets.filter((0,g.byClassCaseInsensitive)(e))}getTilesetByProperty(e,t){return this.tilesets.filter((0,g.byPropertyCaseInsensitive)(e,t))}getTileMetadataByClassName(e){let t=[];for(let i of this.tilesets)t=t.concat(i.tiles.filter((0,g.byClassCaseInsensitive)(e)));return t}getTileMetadataByProperty(e,t){let i=[];for(let A of this.tilesets)i=i.concat(A.tiles.filter((0,g.byPropertyCaseInsensitive)(e,t)));return i}getTilesByGid(e){if(\"orthogonal\"===this.map.orientation){let t=[];for(let i of this.getTileLayers())t=t.concat(i.getTilesByGid(e));return t}{let t=[];for(let i of this.getIsoTileLayers())t=t.concat(i.getTilesByGid(e));return t}}getTilesByClassName(e){if(\"orthogonal\"===this.map.orientation){let t=[];for(let i of this.getTileLayers())t=t.concat(i.getTilesByClassName(e));return t}{let t=[];for(let i of this.getIsoTileLayers())t=t.concat(i.getTilesByClassName(e));return t}}getTilesByProperty(e,t){if(\"orthogonal\"===this.map.orientation){let i=[];for(let A of this.getTileLayers())i=i.concat(A.getTilesByProperty(e,t));return i}{let i=[];for(let A of this.getIsoTileLayers())i=i.concat(A.getTilesByProperty(e,t));return i}}getTileByPoint(e,t){if(\"isometric\"===this.map.orientation){const i=this.getIsoTileLayers().find((0,g.byNameCaseInsensitive)(e));if(i)return i.getTileByPoint(t)}else{const i=this.getTileLayers().find((0,g.byNameCaseInsensitive)(e));if(i)return i.getTileByPoint(t)}return null}getTilesByPoint(e){if(\"orthogonal\"===this.map.orientation){let t=[];for(let i of this.getTileLayers()){const A=i.getTileByPoint(e);A&&t.push(A)}return t}{let t=[];for(let i of this.getIsoTileLayers()){const A=i.getTileByPoint(e);A&&t.push(A)}return t}}getObjectsByName(e){let t=[];for(let i of this.getObjectLayers())t=t.concat(i.getObjectsByName(e));return t}getEntitiesByName(e){let t=[];for(let i of this.getObjectLayers())t=t.concat(i.getEntitiesByName(e));return t}getEntityByObject(e){for(let t of this.getObjectLayers()){const i=t.getEntityByObject(e);if(i)return i}}getObjectByEntity(e){for(let t of this.getObjectLayers()){const i=t.getObjectByEntity(e);if(i)return i}}getObjectsByProperty(e,t){let i=[];for(let A of this.getObjectLayers())i=i.concat(A.getObjectsByProperty(e,t));return i}getEntitiesByProperty(e,t){let i=[];for(let A of this.getObjectLayers())i=i.concat(A.getEntitiesByProperty(e,t));return i}getObjectsByClassName(e){let t=[];for(let i of this.getObjectLayers())t=t.concat(i.getObjectsByClassName(e));return t}getEntitiesByClassName(e){let t=[];for(let i of this.getObjectLayers())t=t.concat(i.getEntitiesByClassName(e));return t}getTileByCoordinate(e,t,i){const A=this.getTileLayers().find((0,g.byNameCaseInsensitive)(e));return A?A.getTileByCoordinate(t,i):null}getImageLayers(e){const t=this.layers.filter((e=>e instanceof C.ImageLayer));return e?t.filter((0,g.byNameCaseInsensitive)(e)):t}getTileLayers(e){const t=this.layers.filter((e=>e instanceof o.TileLayer));return e?t.filter((0,g.byNameCaseInsensitive)(e)):t}getIsoTileLayers(e){const t=this.layers.filter((e=>e instanceof a.IsoTileLayer));return e?t.filter((0,g.byNameCaseInsensitive)(e)):t}getObjectLayers(e){const t=this.layers.filter((e=>e instanceof n.ObjectLayer));return e?t.filter((0,g.byNameCaseInsensitive)(e)):t}getLayersByName(e){return this.layers.filter((0,g.byNameCaseInsensitive)(e))}getLayersByClassName(e){return this.layers.filter((0,g.byClassCaseInsensitive)(e))}getLayersByProperty(e,t){return this.layers.filter((0,g.byPropertyCaseInsensitive)(e,t))}_parseMap(e){return\"TMX\"===this.mapFormat?this.parser.parse(e,this.strict):e}async load(){var e;const t=await this.fileLoader(this.path,\"TMX\"===this.mapFormat?\"xml\":\"json\");let i;if(this.strict)try{i=this._parseMap(t)}catch(e){throw console.error(`Could not parse tiled map from location ${this.path}, attempted to interpret as ${this.mapFormat}.\\nExcalibur only supports the latest version of Tiled formats as of the plugin's release.`),console.error(\"Is your map file corrupted or being interpreted as the wrong type?\"),e}else i=this._parseMap(t);(0,l.compare)(m.supportedTiledVersion,null!==(e=i.tiledversion)&&void 0!==e?e:\"0.0.0\",\">\")&&console.warn(`The excalibur tiled plugin officially supports ${m.supportedTiledVersion}+, the current map has tiled version ${i.tiledversion}`),this.map=i,this._collectTilesets(),this._collectTemplates(),await Promise.all([this._tilesetLoader.load(),this.headless?Promise.resolve():this._imageLoader.load(),this._templateLoader.load()]),this.tilesets=[...this.tilesets,...this._tilesetLoader.values().map((e=>e.data))],this.templates=this._templateLoader.values().map((e=>e.data));let A=[],s=this.startZIndex;for(const e of this.map.layers){if(\"tilelayer\"===e.type){if(\"isometric\"===this.map.orientation){const t=new a.IsoTileLayer(e,this,s);A.push(t)}if(\"orthogonal\"===this.map.orientation){const t=new o.TileLayer(e,this,s);A.push(t)}}if(\"objectgroup\"===e.type){const t=new n.ObjectLayer(e,this,s);A.push(t)}if(\"imagelayer\"===e.type){const t=new C.ImageLayer(e,this,s);A.push(t)}s++}await Promise.all(A.map((e=>e.load()))),this.layers=A}_collectTilesets(){for(const e of this.map.tilesets){if((0,s.isTiledTilesetEmbedded)(e)){if((0,s.isTiledTilesetSingleImage)(e)){const t=(0,c.pathRelativeToBase)(this.path,e.image,this.pathMap),i=this._imageLoader.getOrAdd(t),A=new r.Tileset({name:e.name,tiledTileset:e,image:i,firstGid:e.firstgid});this.tilesets.push(A)}if((0,s.isTiledTilesetCollectionOfImages)(e)){const t=new Map;if(e.tiles)for(let i of e.tiles)if(i.image){const e=(0,c.pathRelativeToBase)(this.path,i.image,this.pathMap),A=this._imageLoader.getOrAdd(e);t.set(i,A)}const i=new r.Tileset({name:e.name,tiledTileset:e,tileToImage:t,firstGid:e.firstgid});this.tilesets.push(i)}}if((0,s.isTiledTilesetExternal)(e)){const t=(0,c.pathRelativeToBase)(this.path,e.source,this.pathMap);this._tilesetLoader.getOrAdd(t,e.firstgid,{strict:this.strict,headless:this.headless,parser:this.parser,fileLoader:this.fileLoader,imageLoader:this._imageLoader,pathMap:this.pathMap})}}}_collectTemplates(){let e=[];for(const t of this.map.layers)if(\"objectgroup\"===t.type){let i=t.objects.filter((e=>e.template)).map((e=>e.template));e=e.concat(i)}const t=e.filter(((e,t,i)=>i.findIndex((t=>t===e))===t));for(const e of t){const t=(0,c.pathRelativeToBase)(this.path,e,this.pathMap);this._templateLoader.getOrAdd(t,{strict:this.strict,headless:this.headless,parser:this.parser,fileLoader:this.fileLoader,imageLoader:this._imageLoader,pathMap:this.pathMap})}}addToScene(e,t){if(!this.isLoaded())return void this.logger.warn(`TiledResource ${this.path} is not loaded! Nothing will be wired into excalibur!`);const i={pos:(0,A.vec)(0,0)},{pos:s}={...i,...t};for(const t of this.layers){if(t instanceof o.TileLayer&&(t.tilemap.pos=t.tilemap.pos.add(s),e.add(t.tilemap)),t instanceof a.IsoTileLayer&&e.add(t.isometricMap),t instanceof n.ObjectLayer)for(const i of t.entities){const t=i.get(A.TransformComponent);t&&(t.pos=t.pos.add(s)),e.add(i)}t instanceof C.ImageLayer&&t.imageActor&&(t.imageActor.pos=t.imageActor.pos.add(s),e.add(t.imageActor))}if(this.useExcaliburWiring){const t=this.getObjectsByProperty(h.ExcaliburTiledProperties.Camera.Camera,!0);if(t&&t.length){const i=t[0];let s=1;const r=i.properties.get(h.ExcaliburTiledProperties.Camera.Zoom);r&&\"number\"==typeof r&&(s=r),\"isometric\"===this.map.orientation?e.camera.pos=this.isometricTiledCoordToWorld(i.x,i.y):e.camera.pos=(0,A.vec)(i.x,i.y),e.camera.zoom=s}}if(this.useTilemapCameraStrategy){const t=this.getTileLayers()[0];if(t){const i=A.BoundingBox.fromDimension(this.map.width*this.map.tilewidth,this.map.height*this.map.tileheight,A.Vector.Zero,s.add(t.tilemap.pos));e.camera.strategy.limitCameraBounds(i)}}this.useMapBackgroundColor&&this.map.backgroundcolor&&(e.backgroundColor=A.Color.fromHex(this.map.backgroundcolor))}isometricTiledCoordToWorld(e,t){const i=this.map.tilewidth,s=this.map.tileheight,r=t/s,a=e/s;return(0,A.vec)((a-r)*i/2+0,(a+r)*s/2)}isLoaded(){return!!this.map}}m.supportedTiledVersion=\"1.10.1\"},\"./src/resource/tileset-resource.ts\":(e,t,i)=>{\"use strict\";i.r(t),i.d(t,{TilesetResource:()=>l});var A=i(\"excalibur\"),s=i(\"./src/resource/tileset.ts\"),r=i(\"./src/parser/tiled-parser.ts\"),a=i(\"./src/resource/file-loader.ts\"),o=i(\"./src/resource/path-util.ts\"),n=i(\"./src/resource/loader-cache.ts\");class l{constructor(e,t,i){this.path=e,this.strict=!0,this.headless=!1,this.orientation=\"orthogonal\",this.fileLoader=a.FetchLoader;const{fileLoader:s,parser:o,pathMap:l,imageLoader:d,strict:c,headless:g,orientation:h}={...i};this.headless=null!=g?g:this.headless,this.orientation=null!=h?h:this.orientation,this.strict=null!=c?c:this.strict,this.fileLoader=null!=s?s:this.fileLoader,this.imageLoader=null!=d?d:new n.LoaderCache(A.ImageSource),this.parser=null!=o?o:new r.TiledParser,this.firstGid=t,this.pathMap=l}async load(){const e=this.path.includes(\".tsx\")?\"xml\":\"json\";try{const t=await this.fileLoader(this.path,e);let i;if(i=\"json\"===e?this.strict?r.TiledTilesetFile.parse(t):t:this.parser.parseExternalTileset(t,this.strict),(0,r.isTiledTilesetSingleImage)(i)){const e=(0,o.pathRelativeToBase)(this.path,i.image,this.pathMap),t=this.headless?void 0:this.imageLoader.getOrAdd(e);this.data=new s.Tileset({name:i.name,tiledTileset:i,firstGid:this.firstGid,image:t})}if((0,r.isTiledTilesetCollectionOfImages)(i)){const e=this.headless?void 0:new Map;if(e){const t=[];if(i.tiles)for(let A of i.tiles)if(A.image){const i=(0,o.pathRelativeToBase)(this.path,A.image,this.pathMap),s=this.imageLoader.getOrAdd(i);e.set(A,s),t.push(s)}}i.firstgid=this.firstGid,this.data=new s.Tileset({name:i.name,tiledTileset:i,firstGid:this.firstGid,tileToImage:e})}if(this.headless||await this.imageLoader.load(),this.data)return this.data}catch(e){throw console.error(`Could not load tileset at path ${this.path}`),e}throw new Error(`No tileset at path ${this.path}`)}isLoaded(){return!!this.data}}},\"./src/resource/tileset.ts\":(e,t,i)=>{\"use strict\";i.r(t),i.d(t,{Tile:()=>l,Tileset:()=>d});var A=i(\"excalibur\"),s=i(\"./src/resource/gid-util.ts\"),r=i(\"./src/parser/tiled-parser.ts\"),a=i(\"./src/resource/objects.ts\"),o=i(\"./src/resource/properties.ts\"),n=i(\"./src/resource/filter-util.ts\");class l{constructor(e){this.objects=[],this.colliders=[],this.animation=[],this.properties=new Map;const{id:t,tileset:i,tiledTile:A}=e;this.id=t,this.tileset=i,this.tiledTile=A,this.class=A.type,(0,o.mapProps)(this,A.properties),A.objectgroup&&A.objectgroup.objects&&(this.objects=(0,a.parseObjects)(A.objectgroup)),A.animation&&(this.animation=A.animation)}}class d{constructor(e){var t,i,s,a,n,d,c,g,h,u;this.firstGid=-1,this.tileCount=0,this.tileWidth=0,this.tileHeight=0,this.tileOffset=(0,A.vec)(0,0),this.tiles=[],this.objectalignment=\"bottomleft\",this.orientation=\"orthogonal\",this.properties=new Map;const{name:p,tiledTileset:I,image:f,tileToImage:C,firstGid:m}=e;if(this.name=p,this.tiledTileset=I,this.firstGid=m,(0,r.isTiledTilesetSingleImage)(I)){(0,o.mapProps)(this,I.properties);const e=I.spacing,r=Math.floor((I.imagewidth+e)/(I.tilewidth+e)),g=Math.floor((I.imageheight+e)/(I.tileheight+e));if(this.class=I.class,this.orientation=null!==(i=null===(t=I.grid)||void 0===t?void 0:t.orientation)&&void 0!==i?i:\"orthogonal\",this.horizontalFlipTransform=A.AffineMatrix.identity().translate(I.tilewidth,0).scale(-1,1),this.verticalFlipTransform=A.AffineMatrix.identity().translate(0,I.tileheight).scale(1,-1),this.diagonalFlipTransform=A.AffineMatrix.identity().translate(0,0).rotate(-Math.PI/2).scale(-1,1),this.objectalignment=null!==(s=I.objectalignment)&&void 0!==s?s:\"orthogonal\"===this.orientation?\"bottomleft\":\"bottom\",f&&(this.spritesheet=A.SpriteSheet.fromImageSource({image:f,grid:{rows:g,columns:r,spriteWidth:I.tilewidth,spriteHeight:I.tileheight},spacing:{originOffset:{x:null!==(a=I.margin)&&void 0!==a?a:0,y:null!==(n=I.margin)&&void 0!==n?n:0},margin:{x:null!==(d=I.spacing)&&void 0!==d?d:0,y:null!==(c=I.spacing)&&void 0!==c?c:0}}})),this.tileCount=I.tilecount,this.tileWidth=I.tilewidth,this.tileHeight=I.tileheight,I.tileoffset&&(this.tileOffset=(0,A.vec)(I.tileoffset.x,I.tileoffset.y)),I.tiles)for(const e of I.tiles)this.tiles.push(new l({id:e.id,tileset:this,tiledTile:e,image:f}))}if((0,r.isTiledTilesetCollectionOfImages)(I)&&void 0!==I.firstgid){this.horizontalFlipTransform=A.AffineMatrix.identity().translate(I.tilewidth,0).scale(-1,1),this.verticalFlipTransform=A.AffineMatrix.identity().translate(0,I.tileheight).scale(1,-1),this.diagonalFlipTransform=A.AffineMatrix.identity().translate(0,0).rotate(-Math.PI/2).scale(-1,1),this.objectalignment=null!==(g=I.objectalignment)&&void 0!==g?g:\"orthogonal\"===this.orientation?\"bottomleft\":\"bottom\",this.orientation=null!==(u=null===(h=I.grid)||void 0===h?void 0:h.orientation)&&void 0!==u?u:\"orthogonal\",this.tileCount=I.tilecount,this.tileWidth=I.tilewidth,this.tileHeight=I.tileheight,I.tileoffset&&(this.tileOffset=(0,A.vec)(I.tileoffset.x,I.tileoffset.y));let e=[];if(I.tiles)for(const t of I.tiles){const i=null==C?void 0:C.get(t);i&&e.push(i.toSprite()),this.tiles.push(new l({id:t.id,tileset:this,tiledTile:t,image:i}))}C&&(this.spritesheet=new A.SpriteSheet({sprites:e}))}}getTilesetAlignmentAnchor(e){switch(null!=e?e:this.objectalignment){case\"topleft\":return(0,A.vec)(0,0);case\"top\":return(0,A.vec)(.5,0);case\"topright\":return(0,A.vec)(1,0);case\"left\":return(0,A.vec)(0,.5);case\"center\":return(0,A.vec)(.5,.5);case\"right\":return(0,A.vec)(1,.5);case\"bottomleft\":default:return(0,A.vec)(0,1);case\"bottom\":return(0,A.vec)(.5,1);case\"bottomright\":return(0,A.vec)(1,1)}}getTileByGid(e){const t=(0,s.getCanonicalGid)(e)-this.firstGid;return this.tiles.find((e=>e.id===t))}getTilesByClassName(e){return this.tiles.filter((0,n.byClassCaseInsensitive)(e))}getTilesByProperty(e,t){return this.tiles.filter((0,n.byPropertyCaseInsensitive)(e,t))}getSpriteForGid(e){const t=(0,s.isFlippedHorizontally)(e),i=(0,s.isFlippedVertically)(e),r=(0,s.isFlippedDiagonally)(e),a=(0,s.getCanonicalGid)(e),o=a-this.firstGid;if(this.spritesheet){let e=this.spritesheet.sprites[o];return(r||t||i)&&(e=e.clone()),r&&(e.rotation=-Math.PI/2,e.scale=(0,A.vec)(-1,1)),t&&(e.scale=(0,A.vec)((r?1:-1)*e.scale.x,(r?-1:1)*e.scale.y)),i&&(e.scale=(0,A.vec)((r?-1:1)*e.scale.x,(r?1:-1)*e.scale.y)),e}throw new Error(`Tileset: [${this.name}] Could not find sprite for gid: [${e}] normalized gid: [${a}]`)}_isometricTiledCoordToWorld(e){const t=this.tileWidth,i=this.tileHeight/2,s=e.y/i,r=e.x/i;return(0,A.vec)((r-s)*t/2+0,(r+s)*i/2)}getCollidersForGid(e,t){let{anchor:i,scale:s,orientationOverride:r,offset:o}={anchor:A.Vector.Zero,scale:A.Vector.One,offset:A.Vector.Zero,orientationOverride:void 0,...t};const n=null!=r?r:this.orientation,l=this.getTileByGid(e),d=[];if(l&&l.objects)for(let t of l.objects){if(t instanceof a.Polygon){let i=t.points.map((e=>e.scale(s)));i=this._applyFlipsToPoints(i,e),\"isometric\"===n&&(i=i.map((e=>this._isometricTiledCoordToWorld(e)))),i=i.map((e=>e.add(o)));let r=A.Shape.Polygon(i,A.Vector.Zero,!0);r.isConvex()?d.push(r):d.push(r.triangulate())}if(t instanceof a.Rectangle){let r=A.BoundingBox.fromDimension(t.width*s.x,t.height*s.y,i).getPoints().map((e=>e.add((0,A.vec)(t.x,t.y))));\"isometric\"===n&&(r=r.map((e=>this._isometricTiledCoordToWorld(e)))),r=this._applyFlipsToPoints(r,e),r=r.map((e=>e.add(o)));const a=A.Shape.Polygon(r);d.push(a)}if(t instanceof a.Ellipse){let e=(0,A.vec)(t.x,t.y);\"isometric\"===n&&(e=this._isometricTiledCoordToWorld(e)),e=e.add(o);const i=Math.min(t.width/2,t.height/2),r=A.Shape.Circle(i,e.scale(s));d.push(r)}}return d}_applyFlipsToPoints(e,t){const i=(0,s.isFlippedHorizontally)(t),A=(0,s.isFlippedVertically)(t);return(0,s.isFlippedDiagonally)(t)&&(e=e.map((e=>this.diagonalFlipTransform.multiply(e)))),i&&(e=e.map((e=>this.horizontalFlipTransform.multiply(e)))),A&&(e=e.map((e=>this.verticalFlipTransform.multiply(e)))),e}getAnimationForGid(e){var t;const i=this.getTileByGid(e);if(i&&(null===(t=i.animation)||void 0===t?void 0:t.length)){let e=[];for(let t of i.animation)e.push({graphic:this.getSpriteForGid(t.tileid+this.firstGid),duration:t.duration});return new A.Animation({frames:e,strategy:A.AnimationStrategy.Loop})}return null}}},jsdom:t=>{\"use strict\";if(void 0===e){var i=new Error(\"Cannot find module 'undefined'\");throw i.code=\"MODULE_NOT_FOUND\",i}t.exports=e},excalibur:e=>{\"use strict\";e.exports=t},\"./node_modules/zod/lib/index.mjs\":(e,t,i)=>{\"use strict\";var A,s;i.r(t),i.d(t,{BRAND:()=>ye,DIRTY:()=>m,EMPTY_PATH:()=>p,INVALID:()=>C,NEVER:()=>ut,OK:()=>B,ParseStatus:()=>f,Schema:()=>T,ZodAny:()=>H,ZodArray:()=>W,ZodBigInt:()=>z,ZodBoolean:()=>P,ZodBranded:()=>Qe,ZodCatch:()=>Be,ZodDate:()=>U,ZodDefault:()=>me,ZodDiscriminatedUnion:()=>ie,ZodEffects:()=>Ie,ZodEnum:()=>he,ZodError:()=>l,ZodFirstPartyTypeKind:()=>xe,ZodFunction:()=>le,ZodIntersection:()=>se,ZodIssueCode:()=>o,ZodLazy:()=>de,ZodLiteral:()=>ce,ZodMap:()=>oe,ZodNaN:()=>Ee,ZodNativeEnum:()=>ue,ZodNever:()=>K,ZodNull:()=>Z,ZodNullable:()=>Ce,ZodNumber:()=>O,ZodObject:()=>$,ZodOptional:()=>fe,ZodParsedType:()=>r,ZodPipeline:()=>we,ZodPromise:()=>pe,ZodReadonly:()=>be,ZodRecord:()=>ae,ZodSchema:()=>T,ZodSet:()=>ne,ZodString:()=>M,ZodSymbol:()=>J,ZodTransformer:()=>Ie,ZodTuple:()=>re,ZodType:()=>T,ZodUndefined:()=>q,ZodUnion:()=>ee,ZodUnknown:()=>Y,ZodVoid:()=>V,addIssueToContext:()=>I,any:()=>Re,array:()=>Ue,bigint:()=>Ne,boolean:()=>Fe,coerce:()=>ht,custom:()=>_e,date:()=>Se,default:()=>pt,defaultErrorMap:()=>d,discriminatedUnion:()=>He,effect:()=>rt,enum:()=>it,function:()=>$e,getErrorMap:()=>h,getParsedType:()=>a,instanceof:()=>Te,intersection:()=>Ye,isAborted:()=>E,isAsync:()=>w,isDirty:()=>y,isValid:()=>Q,late:()=>ve,lazy:()=>et,literal:()=>tt,makeIssue:()=>u,map:()=>We,nan:()=>Le,nativeEnum:()=>At,never:()=>ze,null:()=>Me,nullable:()=>ot,number:()=>De,object:()=>Je,objectUtil:()=>s,oboolean:()=>gt,onumber:()=>ct,optional:()=>at,ostring:()=>dt,pipeline:()=>lt,preprocess:()=>nt,promise:()=>st,quotelessJson:()=>n,record:()=>Ve,set:()=>Xe,setErrorMap:()=>g,strictObject:()=>qe,string:()=>ke,symbol:()=>Ge,transformer:()=>rt,tuple:()=>Ke,undefined:()=>je,union:()=>Ze,unknown:()=>Oe,util:()=>A,void:()=>Pe,z:()=>pt}),function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const i of e)t[i]=i;return t},e.getValidEnumValues=t=>{const i=e.objectKeys(t).filter((e=>\"number\"!=typeof t[t[e]])),A={};for(const e of i)A[e]=t[e];return e.objectValues(A)},e.objectValues=t=>e.objectKeys(t).map((function(e){return t[e]})),e.objectKeys=\"function\"==typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.push(i);return t},e.find=(e,t)=>{for(const i of e)if(t(i))return i},e.isInteger=\"function\"==typeof Number.isInteger?e=>Number.isInteger(e):e=>\"number\"==typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=\" | \"){return e.map((e=>\"string\"==typeof e?`'${e}'`:e)).join(t)},e.jsonStringifyReplacer=(e,t)=>\"bigint\"==typeof t?t.toString():t}(A||(A={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(s||(s={}));const r=A.arrayToEnum([\"string\",\"nan\",\"number\",\"integer\",\"float\",\"boolean\",\"date\",\"bigint\",\"symbol\",\"function\",\"undefined\",\"null\",\"array\",\"object\",\"unknown\",\"promise\",\"void\",\"never\",\"map\",\"set\"]),a=e=>{switch(typeof e){case\"undefined\":return r.undefined;case\"string\":return r.string;case\"number\":return isNaN(e)?r.nan:r.number;case\"boolean\":return r.boolean;case\"function\":return r.function;case\"bigint\":return r.bigint;case\"symbol\":return r.symbol;case\"object\":return Array.isArray(e)?r.array:null===e?r.null:e.then&&\"function\"==typeof e.then&&e.catch&&\"function\"==typeof e.catch?r.promise:\"undefined\"!=typeof Map&&e instanceof Map?r.map:\"undefined\"!=typeof Set&&e instanceof Set?r.set:\"undefined\"!=typeof Date&&e instanceof Date?r.date:r.object;default:return r.unknown}},o=A.arrayToEnum([\"invalid_type\",\"invalid_literal\",\"custom\",\"invalid_union\",\"invalid_union_discriminator\",\"invalid_enum_value\",\"unrecognized_keys\",\"invalid_arguments\",\"invalid_return_type\",\"invalid_date\",\"invalid_string\",\"too_small\",\"too_big\",\"invalid_intersection_types\",\"not_multiple_of\",\"not_finite\"]),n=e=>JSON.stringify(e,null,2).replace(/\"([^\"]+)\":/g,\"$1:\");class l extends Error{constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name=\"ZodError\",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(e){return e.message},i={_errors:[]},A=e=>{for(const s of e.issues)if(\"invalid_union\"===s.code)s.unionErrors.map(A);else if(\"invalid_return_type\"===s.code)A(s.returnTypeError);else if(\"invalid_arguments\"===s.code)A(s.argumentsError);else if(0===s.path.length)i._errors.push(t(s));else{let e=i,A=0;for(;A<s.path.length;){const i=s.path[A];A===s.path.length-1?(e[i]=e[i]||{_errors:[]},e[i]._errors.push(t(s))):e[i]=e[i]||{_errors:[]},e=e[i],A++}}};return A(this),i}toString(){return this.message}get message(){return JSON.stringify(this.issues,A.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=(e=>e.message)){const t={},i=[];for(const A of this.issues)A.path.length>0?(t[A.path[0]]=t[A.path[0]]||[],t[A.path[0]].push(e(A))):i.push(e(A));return{formErrors:i,fieldErrors:t}}get formErrors(){return this.flatten()}}l.create=e=>new l(e);const d=(e,t)=>{let i;switch(e.code){case o.invalid_type:i=e.received===r.undefined?\"Required\":`Expected ${e.expected}, received ${e.received}`;break;case o.invalid_literal:i=`Invalid literal value, expected ${JSON.stringify(e.expected,A.jsonStringifyReplacer)}`;break;case o.unrecognized_keys:i=`Unrecognized key(s) in object: ${A.joinValues(e.keys,\", \")}`;break;case o.invalid_union:i=\"Invalid input\";break;case o.invalid_union_discriminator:i=`Invalid discriminator value. Expected ${A.joinValues(e.options)}`;break;case o.invalid_enum_value:i=`Invalid enum value. Expected ${A.joinValues(e.options)}, received '${e.received}'`;break;case o.invalid_arguments:i=\"Invalid function arguments\";break;case o.invalid_return_type:i=\"Invalid function return type\";break;case o.invalid_date:i=\"Invalid date\";break;case o.invalid_string:\"object\"==typeof e.validation?\"includes\"in e.validation?(i=`Invalid input: must include \"${e.validation.includes}\"`,\"number\"==typeof e.validation.position&&(i=`${i} at one or more positions greater than or equal to ${e.validation.position}`)):\"startsWith\"in e.validation?i=`Invalid input: must start with \"${e.validation.startsWith}\"`:\"endsWith\"in e.validation?i=`Invalid input: must end with \"${e.validation.endsWith}\"`:A.assertNever(e.validation):i=\"regex\"!==e.validation?`Invalid ${e.validation}`:\"Invalid\";break;case o.too_small:i=\"array\"===e.type?`Array must contain ${e.exact?\"exactly\":e.inclusive?\"at least\":\"more than\"} ${e.minimum} element(s)`:\"string\"===e.type?`String must contain ${e.exact?\"exactly\":e.inclusive?\"at least\":\"over\"} ${e.minimum} character(s)`:\"number\"===e.type?`Number must be ${e.exact?\"exactly equal to \":e.inclusive?\"greater than or equal to \":\"greater than \"}${e.minimum}`:\"date\"===e.type?`Date must be ${e.exact?\"exactly equal to \":e.inclusive?\"greater than or equal to \":\"greater than \"}${new Date(Number(e.minimum))}`:\"Invalid input\";break;case o.too_big:i=\"array\"===e.type?`Array must contain ${e.exact?\"exactly\":e.inclusive?\"at most\":\"less than\"} ${e.maximum} element(s)`:\"string\"===e.type?`String must contain ${e.exact?\"exactly\":e.inclusive?\"at most\":\"under\"} ${e.maximum} character(s)`:\"number\"===e.type?`Number must be ${e.exact?\"exactly\":e.inclusive?\"less than or equal to\":\"less than\"} ${e.maximum}`:\"bigint\"===e.type?`BigInt must be ${e.exact?\"exactly\":e.inclusive?\"less than or equal to\":\"less than\"} ${e.maximum}`:\"date\"===e.type?`Date must be ${e.exact?\"exactly\":e.inclusive?\"smaller than or equal to\":\"smaller than\"} ${new Date(Number(e.maximum))}`:\"Invalid input\";break;case o.custom:i=\"Invalid input\";break;case o.invalid_intersection_types:i=\"Intersection results could not be merged\";break;case o.not_multiple_of:i=`Number must be a multiple of ${e.multipleOf}`;break;case o.not_finite:i=\"Number must be finite\";break;default:i=t.defaultError,A.assertNever(e)}return{message:i}};let c=d;function g(e){c=e}function h(){return c}const u=e=>{const{data:t,path:i,errorMaps:A,issueData:s}=e,r=[...i,...s.path||[]],a={...s,path:r};let o=\"\";const n=A.filter((e=>!!e)).slice().reverse();for(const e of n)o=e(a,{data:t,defaultError:o}).message;return{...s,path:r,message:s.message||o}},p=[];function I(e,t){const i=u({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,h(),d].filter((e=>!!e))});e.common.issues.push(i)}class f{constructor(){this.value=\"valid\"}dirty(){\"valid\"===this.value&&(this.value=\"dirty\")}abort(){\"aborted\"!==this.value&&(this.value=\"aborted\")}static mergeArray(e,t){const i=[];for(const A of t){if(\"aborted\"===A.status)return C;\"dirty\"===A.status&&e.dirty(),i.push(A.value)}return{status:e.value,value:i}}static async mergeObjectAsync(e,t){const i=[];for(const e of t)i.push({key:await e.key,value:await e.value});return f.mergeObjectSync(e,i)}static mergeObjectSync(e,t){const i={};for(const A of t){const{key:t,value:s}=A;if(\"aborted\"===t.status)return C;if(\"aborted\"===s.status)return C;\"dirty\"===t.status&&e.dirty(),\"dirty\"===s.status&&e.dirty(),\"__proto__\"===t.value||void 0===s.value&&!A.alwaysSet||(i[t.value]=s.value)}return{status:e.value,value:i}}}const C=Object.freeze({status:\"aborted\"}),m=e=>({status:\"dirty\",value:e}),B=e=>({status:\"valid\",value:e}),E=e=>\"aborted\"===e.status,y=e=>\"dirty\"===e.status,Q=e=>\"valid\"===e.status,w=e=>\"undefined\"!=typeof Promise&&e instanceof Promise;var b;!function(e){e.errToObj=e=>\"string\"==typeof e?{message:e}:e||{},e.toString=e=>\"string\"==typeof e?e:null==e?void 0:e.message}(b||(b={}));class _{constructor(e,t,i,A){this._cachedPath=[],this.parent=e,this.data=t,this._path=i,this._key=A}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const v=(e,t)=>{if(Q(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error(\"Validation failed but no issues detected.\");return{success:!1,get error(){if(this._error)return this._error;const t=new l(e.common.issues);return this._error=t,this._error}}};function x(e){if(!e)return{};const{errorMap:t,invalid_type_error:i,required_error:A,description:s}=e;if(t&&(i||A))throw new Error('Can\\'t use \"invalid_type_error\" or \"required_error\" in conjunction with custom error map.');return t?{errorMap:t,description:s}:{errorMap:(e,t)=>\"invalid_type\"!==e.code?{message:t.defaultError}:void 0===t.data?{message:null!=A?A:t.defaultError}:{message:null!=i?i:t.defaultError},description:s}}class T{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return a(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:a(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new f,ctx:{common:e.parent.common,data:e.data,parsedType:a(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(w(t))throw new Error(\"Synchronous parse encountered promise.\");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const i=this.safeParse(e,t);if(i.success)return i.data;throw i.error}safeParse(e,t){var i;const A={common:{issues:[],async:null!==(i=null==t?void 0:t.async)&&void 0!==i&&i,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:a(e)},s=this._parseSync({data:e,path:A.path,parent:A});return v(A,s)}async parseAsync(e,t){const i=await this.safeParseAsync(e,t);if(i.success)return i.data;throw i.error}async safeParseAsync(e,t){const i={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:a(e)},A=this._parse({data:e,path:i.path,parent:i}),s=await(w(A)?A:Promise.resolve(A));return v(i,s)}refine(e,t){const i=e=>\"string\"==typeof t||void 0===t?{message:t}:\"function\"==typeof t?t(e):t;return this._refinement(((t,A)=>{const s=e(t),r=()=>A.addIssue({code:o.custom,...i(t)});return\"undefined\"!=typeof Promise&&s instanceof Promise?s.then((e=>!!e||(r(),!1))):!!s||(r(),!1)}))}refinement(e,t){return this._refinement(((i,A)=>!!e(i)||(A.addIssue(\"function\"==typeof t?t(i,A):t),!1)))}_refinement(e){return new Ie({schema:this,typeName:xe.ZodEffects,effect:{type:\"refinement\",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return fe.create(this,this._def)}nullable(){return Ce.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return W.create(this,this._def)}promise(){return pe.create(this,this._def)}or(e){return ee.create([this,e],this._def)}and(e){return se.create(this,e,this._def)}transform(e){return new Ie({...x(this._def),schema:this,typeName:xe.ZodEffects,effect:{type:\"transform\",transform:e}})}default(e){const t=\"function\"==typeof e?e:()=>e;return new me({...x(this._def),innerType:this,defaultValue:t,typeName:xe.ZodDefault})}brand(){return new Qe({typeName:xe.ZodBranded,type:this,...x(this._def)})}catch(e){const t=\"function\"==typeof e?e:()=>e;return new Be({...x(this._def),innerType:this,catchValue:t,typeName:xe.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return we.create(this,e)}readonly(){return be.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const k=/^c[^\\s-]{8,}$/i,D=/^[a-z][a-z0-9]*$/,L=/^[0-9A-HJKMNP-TV-Z]{26}$/,N=/^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/i,F=/^(?!\\.)(?!.*\\.\\.)([A-Z0-9_+-\\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\\-]*\\.)+[A-Z]{2,}$/i;let S;const G=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,j=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/;class M extends T{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==r.string){const t=this._getOrReturnCtx(e);return I(t,{code:o.invalid_type,expected:r.string,received:t.parsedType}),C}const t=new f;let i;for(const r of this._def.checks)if(\"min\"===r.kind)e.data.length<r.value&&(i=this._getOrReturnCtx(e,i),I(i,{code:o.too_small,minimum:r.value,type:\"string\",inclusive:!0,exact:!1,message:r.message}),t.dirty());else if(\"max\"===r.kind)e.data.length>r.value&&(i=this._getOrReturnCtx(e,i),I(i,{code:o.too_big,maximum:r.value,type:\"string\",inclusive:!0,exact:!1,message:r.message}),t.dirty());else if(\"length\"===r.kind){const A=e.data.length>r.value,s=e.data.length<r.value;(A||s)&&(i=this._getOrReturnCtx(e,i),A?I(i,{code:o.too_big,maximum:r.value,type:\"string\",inclusive:!0,exact:!0,message:r.message}):s&&I(i,{code:o.too_small,minimum:r.value,type:\"string\",inclusive:!0,exact:!0,message:r.message}),t.dirty())}else if(\"email\"===r.kind)F.test(e.data)||(i=this._getOrReturnCtx(e,i),I(i,{validation:\"email\",code:o.invalid_string,message:r.message}),t.dirty());else if(\"emoji\"===r.kind)S||(S=new RegExp(\"^(\\\\p{Extended_Pictographic}|\\\\p{Emoji_Component})+$\",\"u\")),S.test(e.data)||(i=this._getOrReturnCtx(e,i),I(i,{validation:\"emoji\",code:o.invalid_string,message:r.message}),t.dirty());else if(\"uuid\"===r.kind)N.test(e.data)||(i=this._getOrReturnCtx(e,i),I(i,{validation:\"uuid\",code:o.invalid_string,message:r.message}),t.dirty());else if(\"cuid\"===r.kind)k.test(e.data)||(i=this._getOrReturnCtx(e,i),I(i,{validation:\"cuid\",code:o.invalid_string,message:r.message}),t.dirty());else if(\"cuid2\"===r.kind)D.test(e.data)||(i=this._getOrReturnCtx(e,i),I(i,{validation:\"cuid2\",code:o.invalid_string,message:r.message}),t.dirty());else if(\"ulid\"===r.kind)L.test(e.data)||(i=this._getOrReturnCtx(e,i),I(i,{validation:\"ulid\",code:o.invalid_string,message:r.message}),t.dirty());else if(\"url\"===r.kind)try{new URL(e.data)}catch(A){i=this._getOrReturnCtx(e,i),I(i,{validation:\"url\",code:o.invalid_string,message:r.message}),t.dirty()}else\"regex\"===r.kind?(r.regex.lastIndex=0,r.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),I(i,{validation:\"regex\",code:o.invalid_string,message:r.message}),t.dirty())):\"trim\"===r.kind?e.data=e.data.trim():\"includes\"===r.kind?e.data.includes(r.value,r.position)||(i=this._getOrReturnCtx(e,i),I(i,{code:o.invalid_string,validation:{includes:r.value,position:r.position},message:r.message}),t.dirty()):\"toLowerCase\"===r.kind?e.data=e.data.toLowerCase():\"toUpperCase\"===r.kind?e.data=e.data.toUpperCase():\"startsWith\"===r.kind?e.data.startsWith(r.value)||(i=this._getOrReturnCtx(e,i),I(i,{code:o.invalid_string,validation:{startsWith:r.value},message:r.message}),t.dirty()):\"endsWith\"===r.kind?e.data.endsWith(r.value)||(i=this._getOrReturnCtx(e,i),I(i,{code:o.invalid_string,validation:{endsWith:r.value},message:r.message}),t.dirty()):\"datetime\"===r.kind?((n=r).precision?n.offset?new RegExp(`^\\\\d{4}-\\\\d{2}-\\\\d{2}T\\\\d{2}:\\\\d{2}:\\\\d{2}\\\\.\\\\d{${n.precision}}(([+-]\\\\d{2}(:?\\\\d{2})?)|Z)$`):new RegExp(`^\\\\d{4}-\\\\d{2}-\\\\d{2}T\\\\d{2}:\\\\d{2}:\\\\d{2}\\\\.\\\\d{${n.precision}}Z$`):0===n.precision?n.offset?new RegExp(\"^\\\\d{4}-\\\\d{2}-\\\\d{2}T\\\\d{2}:\\\\d{2}:\\\\d{2}(([+-]\\\\d{2}(:?\\\\d{2})?)|Z)$\"):new RegExp(\"^\\\\d{4}-\\\\d{2}-\\\\d{2}T\\\\d{2}:\\\\d{2}:\\\\d{2}Z$\"):n.offset?new RegExp(\"^\\\\d{4}-\\\\d{2}-\\\\d{2}T\\\\d{2}:\\\\d{2}:\\\\d{2}(\\\\.\\\\d+)?(([+-]\\\\d{2}(:?\\\\d{2})?)|Z)$\"):new RegExp(\"^\\\\d{4}-\\\\d{2}-\\\\d{2}T\\\\d{2}:\\\\d{2}:\\\\d{2}(\\\\.\\\\d+)?Z$\")).test(e.data)||(i=this._getOrReturnCtx(e,i),I(i,{code:o.invalid_string,validation:\"datetime\",message:r.message}),t.dirty()):\"ip\"===r.kind?(s=e.data,(\"v4\"!==(a=r.version)&&a||!G.test(s))&&(\"v6\"!==a&&a||!j.test(s))&&(i=this._getOrReturnCtx(e,i),I(i,{validation:\"ip\",code:o.invalid_string,message:r.message}),t.dirty())):A.assertNever(r);var s,a,n;return{status:t.value,value:e.data}}_regex(e,t,i){return this.refinement((t=>e.test(t)),{validation:t,code:o.invalid_string,...b.errToObj(i)})}_addCheck(e){return new M({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:\"email\",...b.errToObj(e)})}url(e){return this._addCheck({kind:\"url\",...b.errToObj(e)})}emoji(e){return this._addCheck({kind:\"emoji\",...b.errToObj(e)})}uuid(e){return this._addCheck({kind:\"uuid\",...b.errToObj(e)})}cuid(e){return this._addCheck({kind:\"cuid\",...b.errToObj(e)})}cuid2(e){return this._addCheck({kind:\"cuid2\",...b.errToObj(e)})}ulid(e){return this._addCheck({kind:\"ulid\",...b.errToObj(e)})}ip(e){return this._addCheck({kind:\"ip\",...b.errToObj(e)})}datetime(e){var t;return\"string\"==typeof e?this._addCheck({kind:\"datetime\",precision:null,offset:!1,message:e}):this._addCheck({kind:\"datetime\",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,...b.errToObj(null==e?void 0:e.message)})}regex(e,t){return this._addCheck({kind:\"regex\",regex:e,...b.errToObj(t)})}includes(e,t){return this._addCheck({kind:\"includes\",value:e,position:null==t?void 0:t.position,...b.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:\"startsWith\",value:e,...b.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:\"endsWith\",value:e,...b.errToObj(t)})}min(e,t){return this._addCheck({kind:\"min\",value:e,...b.errToObj(t)})}max(e,t){return this._addCheck({kind:\"max\",value:e,...b.errToObj(t)})}length(e,t){return this._addCheck({kind:\"length\",value:e,...b.errToObj(t)})}nonempty(e){return this.min(1,b.errToObj(e))}trim(){return new M({...this._def,checks:[...this._def.checks,{kind:\"trim\"}]})}toLowerCase(){return new M({...this._def,checks:[...this._def.checks,{kind:\"toLowerCase\"}]})}toUpperCase(){return new M({...this._def,checks:[...this._def.checks,{kind:\"toUpperCase\"}]})}get isDatetime(){return!!this._def.checks.find((e=>\"datetime\"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>\"email\"===e.kind))}get isURL(){return!!this._def.checks.find((e=>\"url\"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>\"emoji\"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>\"uuid\"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>\"cuid\"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>\"cuid2\"===e.kind))}get isULID(){return!!this._def.checks.find((e=>\"ulid\"===e.kind))}get isIP(){return!!this._def.checks.find((e=>\"ip\"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)\"min\"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)\"max\"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function R(e,t){const i=(e.toString().split(\".\")[1]||\"\").length,A=(t.toString().split(\".\")[1]||\"\").length,s=i>A?i:A;return parseInt(e.toFixed(s).replace(\".\",\"\"))%parseInt(t.toFixed(s).replace(\".\",\"\"))/Math.pow(10,s)}M.create=e=>{var t;return new M({checks:[],typeName:xe.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...x(e)})};class O extends T{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==r.number){const t=this._getOrReturnCtx(e);return I(t,{code:o.invalid_type,expected:r.number,received:t.parsedType}),C}let t;const i=new f;for(const s of this._def.checks)\"int\"===s.kind?A.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),I(t,{code:o.invalid_type,expected:\"integer\",received:\"float\",message:s.message}),i.dirty()):\"min\"===s.kind?(s.inclusive?e.data<s.value:e.data<=s.value)&&(t=this._getOrReturnCtx(e,t),I(t,{code:o.too_small,minimum:s.value,type:\"number\",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):\"max\"===s.kind?(s.inclusive?e.data>s.value:e.data>=s.value)&&(t=this._getOrReturnCtx(e,t),I(t,{code:o.too_big,maximum:s.value,type:\"number\",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):\"multipleOf\"===s.kind?0!==R(e.data,s.value)&&(t=this._getOrReturnCtx(e,t),I(t,{code:o.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):\"finite\"===s.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),I(t,{code:o.not_finite,message:s.message}),i.dirty()):A.assertNever(s);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit(\"min\",e,!0,b.toString(t))}gt(e,t){return this.setLimit(\"min\",e,!1,b.toString(t))}lte(e,t){return this.setLimit(\"max\",e,!0,b.toString(t))}lt(e,t){return this.setLimit(\"max\",e,!1,b.toString(t))}setLimit(e,t,i,A){return new O({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:i,message:b.toString(A)}]})}_addCheck(e){return new O({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:\"int\",message:b.toString(e)})}positive(e){return this._addCheck({kind:\"min\",value:0,inclusive:!1,message:b.toString(e)})}negative(e){return this._addCheck({kind:\"max\",value:0,inclusive:!1,message:b.toString(e)})}nonpositive(e){return this._addCheck({kind:\"max\",value:0,inclusive:!0,message:b.toString(e)})}nonnegative(e){return this._addCheck({kind:\"min\",value:0,inclusive:!0,message:b.toString(e)})}multipleOf(e,t){return this._addCheck({kind:\"multipleOf\",value:e,message:b.toString(t)})}finite(e){return this._addCheck({kind:\"finite\",message:b.toString(e)})}safe(e){return this._addCheck({kind:\"min\",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:b.toString(e)})._addCheck({kind:\"max\",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:b.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)\"min\"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)\"max\"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>\"int\"===e.kind||\"multipleOf\"===e.kind&&A.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const i of this._def.checks){if(\"finite\"===i.kind||\"int\"===i.kind||\"multipleOf\"===i.kind)return!0;\"min\"===i.kind?(null===t||i.value>t)&&(t=i.value):\"max\"===i.kind&&(null===e||i.value<e)&&(e=i.value)}return Number.isFinite(t)&&Number.isFinite(e)}}O.create=e=>new O({checks:[],typeName:xe.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...x(e)});class z extends T{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==r.bigint){const t=this._getOrReturnCtx(e);return I(t,{code:o.invalid_type,expected:r.bigint,received:t.parsedType}),C}let t;const i=new f;for(const s of this._def.checks)\"min\"===s.kind?(s.inclusive?e.data<s.value:e.data<=s.value)&&(t=this._getOrReturnCtx(e,t),I(t,{code:o.too_small,type:\"bigint\",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):\"max\"===s.kind?(s.inclusive?e.data>s.value:e.data>=s.value)&&(t=this._getOrReturnCtx(e,t),I(t,{code:o.too_big,type:\"bigint\",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):\"multipleOf\"===s.kind?e.data%s.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),I(t,{code:o.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):A.assertNever(s);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit(\"min\",e,!0,b.toString(t))}gt(e,t){return this.setLimit(\"min\",e,!1,b.toString(t))}lte(e,t){return this.setLimit(\"max\",e,!0,b.toString(t))}lt(e,t){return this.setLimit(\"max\",e,!1,b.toString(t))}setLimit(e,t,i,A){return new z({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:i,message:b.toString(A)}]})}_addCheck(e){return new z({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:\"min\",value:BigInt(0),inclusive:!1,message:b.toString(e)})}negative(e){return this._addCheck({kind:\"max\",value:BigInt(0),inclusive:!1,message:b.toString(e)})}nonpositive(e){return this._addCheck({kind:\"max\",value:BigInt(0),inclusive:!0,message:b.toString(e)})}nonnegative(e){return this._addCheck({kind:\"min\",value:BigInt(0),inclusive:!0,message:b.toString(e)})}multipleOf(e,t){return this._addCheck({kind:\"multipleOf\",value:e,message:b.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)\"min\"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)\"max\"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}z.create=e=>{var t;return new z({checks:[],typeName:xe.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...x(e)})};class P extends T{_parse(e){if(this._def.coerce&&(e.data=Boolean(e.data)),this._getType(e)!==r.boolean){const t=this._getOrReturnCtx(e);return I(t,{code:o.invalid_type,expected:r.boolean,received:t.parsedType}),C}return B(e.data)}}P.create=e=>new P({typeName:xe.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...x(e)});class U extends T{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==r.date){const t=this._getOrReturnCtx(e);return I(t,{code:o.invalid_type,expected:r.date,received:t.parsedType}),C}if(isNaN(e.data.getTime()))return I(this._getOrReturnCtx(e),{code:o.invalid_date}),C;const t=new f;let i;for(const s of this._def.checks)\"min\"===s.kind?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),I(i,{code:o.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:\"date\"}),t.dirty()):\"max\"===s.kind?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),I(i,{code:o.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:\"date\"}),t.dirty()):A.assertNever(s);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new U({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:\"min\",value:e.getTime(),message:b.toString(t)})}max(e,t){return this._addCheck({kind:\"max\",value:e.getTime(),message:b.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)\"min\"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)\"max\"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}U.create=e=>new U({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:xe.ZodDate,...x(e)});class J extends T{_parse(e){if(this._getType(e)!==r.symbol){const t=this._getOrReturnCtx(e);return I(t,{code:o.invalid_type,expected:r.symbol,received:t.parsedType}),C}return B(e.data)}}J.create=e=>new J({typeName:xe.ZodSymbol,...x(e)});class q extends T{_parse(e){if(this._getType(e)!==r.undefined){const t=this._getOrReturnCtx(e);return I(t,{code:o.invalid_type,expected:r.undefined,received:t.parsedType}),C}return B(e.data)}}q.create=e=>new q({typeName:xe.ZodUndefined,...x(e)});class Z extends T{_parse(e){if(this._getType(e)!==r.null){const t=this._getOrReturnCtx(e);return I(t,{code:o.invalid_type,expected:r.null,received:t.parsedType}),C}return B(e.data)}}Z.create=e=>new Z({typeName:xe.ZodNull,...x(e)});class H extends T{constructor(){super(...arguments),this._any=!0}_parse(e){return B(e.data)}}H.create=e=>new H({typeName:xe.ZodAny,...x(e)});class Y extends T{constructor(){super(...arguments),this._unknown=!0}_parse(e){return B(e.data)}}Y.create=e=>new Y({typeName:xe.ZodUnknown,...x(e)});class K extends T{_parse(e){const t=this._getOrReturnCtx(e);return I(t,{code:o.invalid_type,expected:r.never,received:t.parsedType}),C}}K.create=e=>new K({typeName:xe.ZodNever,...x(e)});class V extends T{_parse(e){if(this._getType(e)!==r.undefined){const t=this._getOrReturnCtx(e);return I(t,{code:o.invalid_type,expected:r.void,received:t.parsedType}),C}return B(e.data)}}V.create=e=>new V({typeName:xe.ZodVoid,...x(e)});class W extends T{_parse(e){const{ctx:t,status:i}=this._processInputParams(e),A=this._def;if(t.parsedType!==r.array)return I(t,{code:o.invalid_type,expected:r.array,received:t.parsedType}),C;if(null!==A.exactLength){const e=t.data.length>A.exactLength.value,s=t.data.length<A.exactLength.value;(e||s)&&(I(t,{code:e?o.too_big:o.too_small,minimum:s?A.exactLength.value:void 0,maximum:e?A.exactLength.value:void 0,type:\"array\",inclusive:!0,exact:!0,message:A.exactLength.message}),i.dirty())}if(null!==A.minLength&&t.data.length<A.minLength.value&&(I(t,{code:o.too_small,minimum:A.minLength.value,type:\"array\",inclusive:!0,exact:!1,message:A.minLength.message}),i.dirty()),null!==A.maxLength&&t.data.length>A.maxLength.value&&(I(t,{code:o.too_big,maximum:A.maxLength.value,type:\"array\",inclusive:!0,exact:!1,message:A.maxLength.message}),i.dirty()),t.common.async)return Promise.all([...t.data].map(((e,i)=>A.type._parseAsync(new _(t,e,t.path,i))))).then((e=>f.mergeArray(i,e)));const s=[...t.data].map(((e,i)=>A.type._parseSync(new _(t,e,t.path,i))));return f.mergeArray(i,s)}get element(){return this._def.type}min(e,t){return new W({...this._def,minLength:{value:e,message:b.toString(t)}})}max(e,t){return new W({...this._def,maxLength:{value:e,message:b.toString(t)}})}length(e,t){return new W({...this._def,exactLength:{value:e,message:b.toString(t)}})}nonempty(e){return this.min(1,e)}}function X(e){if(e instanceof $){const t={};for(const i in e.shape){const A=e.shape[i];t[i]=fe.create(X(A))}return new $({...e._def,shape:()=>t})}return e instanceof W?new W({...e._def,type:X(e.element)}):e instanceof fe?fe.create(X(e.unwrap())):e instanceof Ce?Ce.create(X(e.unwrap())):e instanceof re?re.create(e.items.map((e=>X(e)))):e}W.create=(e,t)=>new W({type:e,minLength:null,maxLength:null,exactLength:null,typeName:xe.ZodArray,...x(t)});class $ extends T{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=A.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==r.object){const t=this._getOrReturnCtx(e);return I(t,{code:o.invalid_type,expected:r.object,received:t.parsedType}),C}const{status:t,ctx:i}=this._processInputParams(e),{shape:A,keys:s}=this._getCached(),a=[];if(!(this._def.catchall instanceof K&&\"strip\"===this._def.unknownKeys))for(const e in i.data)s.includes(e)||a.push(e);const n=[];for(const e of s){const t=A[e],s=i.data[e];n.push({key:{status:\"valid\",value:e},value:t._parse(new _(i,s,i.path,e)),alwaysSet:e in i.data})}if(this._def.catchall instanceof K){const e=this._def.unknownKeys;if(\"passthrough\"===e)for(const e of a)n.push({key:{status:\"valid\",value:e},value:{status:\"valid\",value:i.data[e]}});else if(\"strict\"===e)a.length>0&&(I(i,{code:o.unrecognized_keys,keys:a}),t.dirty());else if(\"strip\"!==e)throw new Error(\"Internal ZodObject error: invalid unknownKeys value.\")}else{const e=this._def.catchall;for(const t of a){const A=i.data[t];n.push({key:{status:\"valid\",value:t},value:e._parse(new _(i,A,i.path,t)),alwaysSet:t in i.data})}}return i.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of n){const i=await t.key;e.push({key:i,value:await t.value,alwaysSet:t.alwaysSet})}return e})).then((e=>f.mergeObjectSync(t,e))):f.mergeObjectSync(t,n)}get shape(){return this._def.shape()}strict(e){return b.errToObj,new $({...this._def,unknownKeys:\"strict\",...void 0!==e?{errorMap:(t,i)=>{var A,s,r,a;const o=null!==(r=null===(s=(A=this._def).errorMap)||void 0===s?void 0:s.call(A,t,i).message)&&void 0!==r?r:i.defaultError;return\"unrecognized_keys\"===t.code?{message:null!==(a=b.errToObj(e).message)&&void 0!==a?a:o}:{message:o}}}:{}})}strip(){return new $({...this._def,unknownKeys:\"strip\"})}passthrough(){return new $({...this._def,unknownKeys:\"passthrough\"})}extend(e){return new $({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new $({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:xe.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new $({...this._def,catchall:e})}pick(e){const t={};return A.objectKeys(e).forEach((i=>{e[i]&&this.shape[i]&&(t[i]=this.shape[i])})),new $({...this._def,shape:()=>t})}omit(e){const t={};return A.objectKeys(this.shape).forEach((i=>{e[i]||(t[i]=this.shape[i])})),new $({...this._def,shape:()=>t})}deepPartial(){return X(this)}partial(e){const t={};return A.objectKeys(this.shape).forEach((i=>{const A=this.shape[i];e&&!e[i]?t[i]=A:t[i]=A.optional()})),new $({...this._def,shape:()=>t})}required(e){const t={};return A.objectKeys(this.shape).forEach((i=>{if(e&&!e[i])t[i]=this.shape[i];else{let e=this.shape[i];for(;e instanceof fe;)e=e._def.innerType;t[i]=e}})),new $({...this._def,shape:()=>t})}keyof(){return ge(A.objectKeys(this.shape))}}$.create=(e,t)=>new $({shape:()=>e,unknownKeys:\"strip\",catchall:K.create(),typeName:xe.ZodObject,...x(t)}),$.strictCreate=(e,t)=>new $({shape:()=>e,unknownKeys:\"strict\",catchall:K.create(),typeName:xe.ZodObject,...x(t)}),$.lazycreate=(e,t)=>new $({shape:e,unknownKeys:\"strip\",catchall:K.create(),typeName:xe.ZodObject,...x(t)});class ee extends T{_parse(e){const{ctx:t}=this._processInputParams(e),i=this._def.options;if(t.common.async)return Promise.all(i.map((async e=>{const i={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:i}),ctx:i}}))).then((function(e){for(const t of e)if(\"valid\"===t.result.status)return t.result;for(const i of e)if(\"dirty\"===i.result.status)return t.common.issues.push(...i.ctx.common.issues),i.result;const i=e.map((e=>new l(e.ctx.common.issues)));return I(t,{code:o.invalid_union,unionErrors:i}),C}));{let e;const A=[];for(const s of i){const i={...t,common:{...t.common,issues:[]},parent:null},r=s._parseSync({data:t.data,path:t.path,parent:i});if(\"valid\"===r.status)return r;\"dirty\"!==r.status||e||(e={result:r,ctx:i}),i.common.issues.length&&A.push(i.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const s=A.map((e=>new l(e)));return I(t,{code:o.invalid_union,unionErrors:s}),C}}get options(){return this._def.options}}ee.create=(e,t)=>new ee({options:e,typeName:xe.ZodUnion,...x(t)});const te=e=>e instanceof de?te(e.schema):e instanceof Ie?te(e.innerType()):e instanceof ce?[e.value]:e instanceof he?e.options:e instanceof ue?Object.keys(e.enum):e instanceof me?te(e._def.innerType):e instanceof q?[void 0]:e instanceof Z?[null]:null;class ie extends T{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==r.object)return I(t,{code:o.invalid_type,expected:r.object,received:t.parsedType}),C;const i=this.discriminator,A=t.data[i],s=this.optionsMap.get(A);return s?t.common.async?s._parseAsync({data:t.data,path:t.path,parent:t}):s._parseSync({data:t.data,path:t.path,parent:t}):(I(t,{code:o.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[i]}),C)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,i){const A=new Map;for(const i of t){const t=te(i.shape[e]);if(!t)throw new Error(`A discriminator value for key \\`${e}\\` could not be extracted from all schema options`);for(const s of t){if(A.has(s))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(s)}`);A.set(s,i)}}return new ie({typeName:xe.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:A,...x(i)})}}function Ae(e,t){const i=a(e),s=a(t);if(e===t)return{valid:!0,data:e};if(i===r.object&&s===r.object){const i=A.objectKeys(t),s=A.objectKeys(e).filter((e=>-1!==i.indexOf(e))),r={...e,...t};for(const i of s){const A=Ae(e[i],t[i]);if(!A.valid)return{valid:!1};r[i]=A.data}return{valid:!0,data:r}}if(i===r.array&&s===r.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let A=0;A<e.length;A++){const s=Ae(e[A],t[A]);if(!s.valid)return{valid:!1};i.push(s.data)}return{valid:!0,data:i}}return i===r.date&&s===r.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class se extends T{_parse(e){const{status:t,ctx:i}=this._processInputParams(e),A=(e,A)=>{if(E(e)||E(A))return C;const s=Ae(e.value,A.value);return s.valid?((y(e)||y(A))&&t.dirty(),{status:t.value,value:s.data}):(I(i,{code:o.invalid_intersection_types}),C)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then((([e,t])=>A(e,t))):A(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}se.create=(e,t,i)=>new se({left:e,right:t,typeName:xe.ZodIntersection,...x(i)});class re extends T{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==r.array)return I(i,{code:o.invalid_type,expected:r.array,received:i.parsedType}),C;if(i.data.length<this._def.items.length)return I(i,{code:o.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:\"array\"}),C;!this._def.rest&&i.data.length>this._def.items.length&&(I(i,{code:o.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:\"array\"}),t.dirty());const A=[...i.data].map(((e,t)=>{const A=this._def.items[t]||this._def.rest;return A?A._parse(new _(i,e,i.path,t)):null})).filter((e=>!!e));return i.common.async?Promise.all(A).then((e=>f.mergeArray(t,e))):f.mergeArray(t,A)}get items(){return this._def.items}rest(e){return new re({...this._def,rest:e})}}re.create=(e,t)=>{if(!Array.isArray(e))throw new Error(\"You must pass an array of schemas to z.tuple([ ... ])\");return new re({items:e,typeName:xe.ZodTuple,rest:null,...x(t)})};class ae extends T{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==r.object)return I(i,{code:o.invalid_type,expected:r.object,received:i.parsedType}),C;const A=[],s=this._def.keyType,a=this._def.valueType;for(const e in i.data)A.push({key:s._parse(new _(i,e,i.path,e)),value:a._parse(new _(i,i.data[e],i.path,e))});return i.common.async?f.mergeObjectAsync(t,A):f.mergeObjectSync(t,A)}get element(){return this._def.valueType}static create(e,t,i){return new ae(t instanceof T?{keyType:e,valueType:t,typeName:xe.ZodRecord,...x(i)}:{keyType:M.create(),valueType:e,typeName:xe.ZodRecord,...x(t)})}}class oe extends T{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==r.map)return I(i,{code:o.invalid_type,expected:r.map,received:i.parsedType}),C;const A=this._def.keyType,s=this._def.valueType,a=[...i.data.entries()].map((([e,t],r)=>({key:A._parse(new _(i,e,i.path,[r,\"key\"])),value:s._parse(new _(i,t,i.path,[r,\"value\"]))})));if(i.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const i of a){const A=await i.key,s=await i.value;if(\"aborted\"===A.status||\"aborted\"===s.status)return C;\"dirty\"!==A.status&&\"dirty\"!==s.status||t.dirty(),e.set(A.value,s.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const i of a){const A=i.key,s=i.value;if(\"aborted\"===A.status||\"aborted\"===s.status)return C;\"dirty\"!==A.status&&\"dirty\"!==s.status||t.dirty(),e.set(A.value,s.value)}return{status:t.value,value:e}}}}oe.create=(e,t,i)=>new oe({valueType:t,keyType:e,typeName:xe.ZodMap,...x(i)});class ne extends T{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==r.set)return I(i,{code:o.invalid_type,expected:r.set,received:i.parsedType}),C;const A=this._def;null!==A.minSize&&i.data.size<A.minSize.value&&(I(i,{code:o.too_small,minimum:A.minSize.value,type:\"set\",inclusive:!0,exact:!1,message:A.minSize.message}),t.dirty()),null!==A.maxSize&&i.data.size>A.maxSize.value&&(I(i,{code:o.too_big,maximum:A.maxSize.value,type:\"set\",inclusive:!0,exact:!1,message:A.maxSize.message}),t.dirty());const s=this._def.valueType;function a(e){const i=new Set;for(const A of e){if(\"aborted\"===A.status)return C;\"dirty\"===A.status&&t.dirty(),i.add(A.value)}return{status:t.value,value:i}}const n=[...i.data.values()].map(((e,t)=>s._parse(new _(i,e,i.path,t))));return i.common.async?Promise.all(n).then((e=>a(e))):a(n)}min(e,t){return new ne({...this._def,minSize:{value:e,message:b.toString(t)}})}max(e,t){return new ne({...this._def,maxSize:{value:e,message:b.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}ne.create=(e,t)=>new ne({valueType:e,minSize:null,maxSize:null,typeName:xe.ZodSet,...x(t)});class le extends T{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==r.function)return I(t,{code:o.invalid_type,expected:r.function,received:t.parsedType}),C;function i(e,i){return u({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,h(),d].filter((e=>!!e)),issueData:{code:o.invalid_arguments,argumentsError:i}})}function A(e,i){return u({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,h(),d].filter((e=>!!e)),issueData:{code:o.invalid_return_type,returnTypeError:i}})}const s={errorMap:t.common.contextualErrorMap},a=t.data;if(this._def.returns instanceof pe){const e=this;return B((async function(...t){const r=new l([]),o=await e._def.args.parseAsync(t,s).catch((e=>{throw r.addIssue(i(t,e)),r})),n=await Reflect.apply(a,this,o);return await e._def.returns._def.type.parseAsync(n,s).catch((e=>{throw r.addIssue(A(n,e)),r}))}))}{const e=this;return B((function(...t){const r=e._def.args.safeParse(t,s);if(!r.success)throw new l([i(t,r.error)]);const o=Reflect.apply(a,this,r.data),n=e._def.returns.safeParse(o,s);if(!n.success)throw new l([A(o,n.error)]);return n.data}))}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new le({...this._def,args:re.create(e).rest(Y.create())})}returns(e){return new le({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,i){return new le({args:e||re.create([]).rest(Y.create()),returns:t||Y.create(),typeName:xe.ZodFunction,...x(i)})}}class de extends T{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}de.create=(e,t)=>new de({getter:e,typeName:xe.ZodLazy,...x(t)});class ce extends T{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return I(t,{received:t.data,code:o.invalid_literal,expected:this._def.value}),C}return{status:\"valid\",value:e.data}}get value(){return this._def.value}}function ge(e,t){return new he({values:e,typeName:xe.ZodEnum,...x(t)})}ce.create=(e,t)=>new ce({value:e,typeName:xe.ZodLiteral,...x(t)});class he extends T{_parse(e){if(\"string\"!=typeof e.data){const t=this._getOrReturnCtx(e),i=this._def.values;return I(t,{expected:A.joinValues(i),received:t.parsedType,code:o.invalid_type}),C}if(-1===this._def.values.indexOf(e.data)){const t=this._getOrReturnCtx(e),i=this._def.values;return I(t,{received:t.data,code:o.invalid_enum_value,options:i}),C}return B(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e){return he.create(e)}exclude(e){return he.create(this.options.filter((t=>!e.includes(t))))}}he.create=ge;class ue extends T{_parse(e){const t=A.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(e);if(i.parsedType!==r.string&&i.parsedType!==r.number){const e=A.objectValues(t);return I(i,{expected:A.joinValues(e),received:i.parsedType,code:o.invalid_type}),C}if(-1===t.indexOf(e.data)){const e=A.objectValues(t);return I(i,{received:i.data,code:o.invalid_enum_value,options:e}),C}return B(e.data)}get enum(){return this._def.values}}ue.create=(e,t)=>new ue({values:e,typeName:xe.ZodNativeEnum,...x(t)});class pe extends T{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==r.promise&&!1===t.common.async)return I(t,{code:o.invalid_type,expected:r.promise,received:t.parsedType}),C;const i=t.parsedType===r.promise?t.data:Promise.resolve(t.data);return B(i.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}pe.create=(e,t)=>new pe({type:e,typeName:xe.ZodPromise,...x(t)});class Ie extends T{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===xe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:i}=this._processInputParams(e),s=this._def.effect||null,r={addIssue:e=>{I(i,e),e.fatal?t.abort():t.dirty()},get path(){return i.path}};if(r.addIssue=r.addIssue.bind(r),\"preprocess\"===s.type){const e=s.transform(i.data,r);return i.common.issues.length?{status:\"dirty\",value:i.data}:i.common.async?Promise.resolve(e).then((e=>this._def.schema._parseAsync({data:e,path:i.path,parent:i}))):this._def.schema._parseSync({data:e,path:i.path,parent:i})}if(\"refinement\"===s.type){const e=e=>{const t=s.refinement(e,r);if(i.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error(\"Async refinement encountered during synchronous parse operation. Use .parseAsync instead.\");return e};if(!1===i.common.async){const A=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return\"aborted\"===A.status?C:(\"dirty\"===A.status&&t.dirty(),e(A.value),{status:t.value,value:A.value})}return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then((i=>\"aborted\"===i.status?C:(\"dirty\"===i.status&&t.dirty(),e(i.value).then((()=>({status:t.value,value:i.value}))))))}if(\"transform\"===s.type){if(!1===i.common.async){const e=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!Q(e))return e;const A=s.transform(e.value,r);if(A instanceof Promise)throw new Error(\"Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.\");return{status:t.value,value:A}}return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then((e=>Q(e)?Promise.resolve(s.transform(e.value,r)).then((e=>({status:t.value,value:e}))):e))}A.assertNever(s)}}Ie.create=(e,t,i)=>new Ie({schema:e,typeName:xe.ZodEffects,effect:t,...x(i)}),Ie.createWithPreprocess=(e,t,i)=>new Ie({schema:t,effect:{type:\"preprocess\",transform:e},typeName:xe.ZodEffects,...x(i)});class fe extends T{_parse(e){return this._getType(e)===r.undefined?B(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}fe.create=(e,t)=>new fe({innerType:e,typeName:xe.ZodOptional,...x(t)});class Ce extends T{_parse(e){return this._getType(e)===r.null?B(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ce.create=(e,t)=>new Ce({innerType:e,typeName:xe.ZodNullable,...x(t)});class me extends T{_parse(e){const{ctx:t}=this._processInputParams(e);let i=t.data;return t.parsedType===r.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}me.create=(e,t)=>new me({innerType:e,typeName:xe.ZodDefault,defaultValue:\"function\"==typeof t.default?t.default:()=>t.default,...x(t)});class Be extends T{_parse(e){const{ctx:t}=this._processInputParams(e),i={...t,common:{...t.common,issues:[]}},A=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return w(A)?A.then((e=>({status:\"valid\",value:\"valid\"===e.status?e.value:this._def.catchValue({get error(){return new l(i.common.issues)},input:i.data})}))):{status:\"valid\",value:\"valid\"===A.status?A.value:this._def.catchValue({get error(){return new l(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}Be.create=(e,t)=>new Be({innerType:e,typeName:xe.ZodCatch,catchValue:\"function\"==typeof t.catch?t.catch:()=>t.catch,...x(t)});class Ee extends T{_parse(e){if(this._getType(e)!==r.nan){const t=this._getOrReturnCtx(e);return I(t,{code:o.invalid_type,expected:r.nan,received:t.parsedType}),C}return{status:\"valid\",value:e.data}}}Ee.create=e=>new Ee({typeName:xe.ZodNaN,...x(e)});const ye=Symbol(\"zod_brand\");class Qe extends T{_parse(e){const{ctx:t}=this._processInputParams(e),i=t.data;return this._def.type._parse({data:i,path:t.path,parent:t})}unwrap(){return this._def.type}}class we extends T{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.common.async)return(async()=>{const e=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return\"aborted\"===e.status?C:\"dirty\"===e.status?(t.dirty(),m(e.value)):this._def.out._parseAsync({data:e.value,path:i.path,parent:i})})();{const e=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return\"aborted\"===e.status?C:\"dirty\"===e.status?(t.dirty(),{status:\"dirty\",value:e.value}):this._def.out._parseSync({data:e.value,path:i.path,parent:i})}}static create(e,t){return new we({in:e,out:t,typeName:xe.ZodPipeline})}}class be extends T{_parse(e){const t=this._def.innerType._parse(e);return Q(t)&&(t.value=Object.freeze(t.value)),t}}be.create=(e,t)=>new be({innerType:e,typeName:xe.ZodReadonly,...x(t)});const _e=(e,t={},i)=>e?H.create().superRefine(((A,s)=>{var r,a;if(!e(A)){const e=\"function\"==typeof t?t(A):\"string\"==typeof t?{message:t}:t,o=null===(a=null!==(r=e.fatal)&&void 0!==r?r:i)||void 0===a||a,n=\"string\"==typeof e?{message:e}:e;s.addIssue({code:\"custom\",...n,fatal:o})}})):H.create(),ve={object:$.lazycreate};var xe;!function(e){e.ZodString=\"ZodString\",e.ZodNumber=\"ZodNumber\",e.ZodNaN=\"ZodNaN\",e.ZodBigInt=\"ZodBigInt\",e.ZodBoolean=\"ZodBoolean\",e.ZodDate=\"ZodDate\",e.ZodSymbol=\"ZodSymbol\",e.ZodUndefined=\"ZodUndefined\",e.ZodNull=\"ZodNull\",e.ZodAny=\"ZodAny\",e.ZodUnknown=\"ZodUnknown\",e.ZodNever=\"ZodNever\",e.ZodVoid=\"ZodVoid\",e.ZodArray=\"ZodArray\",e.ZodObject=\"ZodObject\",e.ZodUnion=\"ZodUnion\",e.ZodDiscriminatedUnion=\"ZodDiscriminatedUnion\",e.ZodIntersection=\"ZodIntersection\",e.ZodTuple=\"ZodTuple\",e.ZodRecord=\"ZodRecord\",e.ZodMap=\"ZodMap\",e.ZodSet=\"ZodSet\",e.ZodFunction=\"ZodFunction\",e.ZodLazy=\"ZodLazy\",e.ZodLiteral=\"ZodLiteral\",e.ZodEnum=\"ZodEnum\",e.ZodEffects=\"ZodEffects\",e.ZodNativeEnum=\"ZodNativeEnum\",e.ZodOptional=\"ZodOptional\",e.ZodNullable=\"ZodNullable\",e.ZodDefault=\"ZodDefault\",e.ZodCatch=\"ZodCatch\",e.ZodPromise=\"ZodPromise\",e.ZodBranded=\"ZodBranded\",e.ZodPipeline=\"ZodPipeline\",e.ZodReadonly=\"ZodReadonly\"}(xe||(xe={}));const Te=(e,t={message:`Input not instance of ${e.name}`})=>_e((t=>t instanceof e),t),ke=M.create,De=O.create,Le=Ee.create,Ne=z.create,Fe=P.create,Se=U.create,Ge=J.create,je=q.create,Me=Z.create,Re=H.create,Oe=Y.create,ze=K.create,Pe=V.create,Ue=W.create,Je=$.create,qe=$.strictCreate,Ze=ee.create,He=ie.create,Ye=se.create,Ke=re.create,Ve=ae.create,We=oe.create,Xe=ne.create,$e=le.create,et=de.create,tt=ce.create,it=he.create,At=ue.create,st=pe.create,rt=Ie.create,at=fe.create,ot=Ce.create,nt=Ie.createWithPreprocess,lt=we.create,dt=()=>ke().optional(),ct=()=>De().optional(),gt=()=>Fe().optional(),ht={string:e=>M.create({...e,coerce:!0}),number:e=>O.create({...e,coerce:!0}),boolean:e=>P.create({...e,coerce:!0}),bigint:e=>z.create({...e,coerce:!0}),date:e=>U.create({...e,coerce:!0})},ut=C;var pt=Object.freeze({__proto__:null,defaultErrorMap:d,setErrorMap:g,getErrorMap:h,makeIssue:u,EMPTY_PATH:p,addIssueToContext:I,ParseStatus:f,INVALID:C,DIRTY:m,OK:B,isAborted:E,isDirty:y,isValid:Q,isAsync:w,get util(){return A},get objectUtil(){return s},ZodParsedType:r,getParsedType:a,ZodType:T,ZodString:M,ZodNumber:O,ZodBigInt:z,ZodBoolean:P,ZodDate:U,ZodSymbol:J,ZodUndefined:q,ZodNull:Z,ZodAny:H,ZodUnknown:Y,ZodNever:K,ZodVoid:V,ZodArray:W,ZodObject:$,ZodUnion:ee,ZodDiscriminatedUnion:ie,ZodIntersection:se,ZodTuple:re,ZodRecord:ae,ZodMap:oe,ZodSet:ne,ZodFunction:le,ZodLazy:de,ZodLiteral:ce,ZodEnum:he,ZodNativeEnum:ue,ZodPromise:pe,ZodEffects:Ie,ZodTransformer:Ie,ZodOptional:fe,ZodNullable:Ce,ZodDefault:me,ZodCatch:Be,ZodNaN:Ee,BRAND:ye,ZodBranded:Qe,ZodPipeline:we,ZodReadonly:be,custom:_e,Schema:T,ZodSchema:T,late:ve,get ZodFirstPartyTypeKind(){return xe},coerce:ht,any:Re,array:Ue,bigint:Ne,boolean:Fe,date:Se,discriminatedUnion:He,effect:rt,enum:it,function:$e,instanceof:Te,intersection:Ye,lazy:et,literal:tt,map:We,nan:Le,nativeEnum:At,never:ze,null:Me,nullable:ot,number:De,object:Je,oboolean:gt,onumber:ct,optional:at,ostring:dt,pipeline:lt,preprocess:nt,promise:st,record:Ve,set:Xe,strictObject:qe,string:ke,symbol:Ge,transformer:rt,tuple:Ke,undefined:je,union:Ze,unknown:Oe,void:Pe,NEVER:ut,ZodIssueCode:o,quotelessJson:n,ZodError:l})},\"./node_modules/zstddec/dist/zstddec.modern.js\":(e,t,i)=>{\"use strict\";let A,s,r;i.r(t),i.d(t,{ZSTDDecoder:()=>o});const a={env:{emscripten_notify_memory_growth:function(e){r=new Uint8Array(s.exports.memory.buffer)}}};class o{init(){return A||(A=\"undefined\"!=typeof fetch?fetch(\"data:application/wasm;base64,\"+n).then((e=>e.arrayBuffer())).then((e=>WebAssembly.instantiate(e,a))).then(this._init):WebAssembly.instantiate(Buffer.from(n,\"base64\"),a).then(this._init),A)}_init(e){s=e.instance,a.env.emscripten_notify_memory_growth(0)}decode(e,t=0){if(!s)throw new Error(\"ZSTDDecoder: Await .init() before decoding.\");const i=e.byteLength,A=s.exports.malloc(i);r.set(e,A),t=t||Number(s.exports.ZSTD_findDecompressedSize(A,i));const a=s.exports.malloc(t),o=s.exports.ZSTD_decompress(a,t,A,i),n=r.slice(a,a+o);return s.exports.free(A),s.exports.free(a),n}}const n=\"AGFzbQEAAAABpQEVYAF/AX9gAn9/AGADf39/AX9gBX9/f39/AX9gAX8AYAJ/fwF/YAR/f39/AX9gA39/fwBgBn9/f39/fwF/YAd/f39/f39/AX9gAn9/AX5gAn5+AX5gAABgBX9/f39/AGAGf39/f39/AGAIf39/f39/f38AYAl/f39/f39/f38AYAABf2AIf39/f39/f38Bf2ANf39/f39/f39/f39/fwF/YAF/AX4CJwEDZW52H2Vtc2NyaXB0ZW5fbm90aWZ5X21lbW9yeV9ncm93dGgABANpaAEFAAAFAgEFCwACAQABAgIFBQcAAwABDgsBAQcAEhMHAAUBDAQEAAANBwQCAgYCBAgDAwMDBgEACQkHBgICAAYGAgQUBwYGAwIGAAMCAQgBBwUGCgoEEQAEBAEIAwgDBQgDEA8IAAcABAUBcAECAgUEAQCAAgYJAX8BQaCgwAILB2AHBm1lbW9yeQIABm1hbGxvYwAoBGZyZWUAJgxaU1REX2lzRXJyb3IAaBlaU1REX2ZpbmREZWNvbXByZXNzZWRTaXplAFQPWlNURF9kZWNvbXByZXNzAEoGX3N0YXJ0ACQJBwEAQQELASQKussBaA8AIAAgACgCBCABajYCBAsZACAAKAIAIAAoAgRBH3F0QQAgAWtBH3F2CwgAIABBiH9LC34BBH9BAyEBIAAoAgQiA0EgTQRAIAAoAggiASAAKAIQTwRAIAAQDQ8LIAAoAgwiAiABRgRAQQFBAiADQSBJGw8LIAAgASABIAJrIANBA3YiBCABIARrIAJJIgEbIgJrIgQ2AgggACADIAJBA3RrNgIEIAAgBCgAADYCAAsgAQsUAQF/IAAgARACIQIgACABEAEgAgv3AQECfyACRQRAIABCADcCACAAQQA2AhAgAEIANwIIQbh/DwsgACABNgIMIAAgAUEEajYCECACQQRPBEAgACABIAJqIgFBfGoiAzYCCCAAIAMoAAA2AgAgAUF/ai0AACIBBEAgAEEIIAEQFGs2AgQgAg8LIABBADYCBEF/DwsgACABNgIIIAAgAS0AACIDNgIAIAJBfmoiBEEBTQRAIARBAWtFBEAgACABLQACQRB0IANyIgM2AgALIAAgAS0AAUEIdCADajYCAAsgASACakF/ai0AACIBRQRAIABBADYCBEFsDwsgAEEoIAEQFCACQQN0ams2AgQgAgsWACAAIAEpAAA3AAAgACABKQAINwAICy8BAX8gAUECdEGgHWooAgAgACgCAEEgIAEgACgCBGprQR9xdnEhAiAAIAEQASACCyEAIAFCz9bTvtLHq9lCfiAAfEIfiUKHla+vmLbem55/fgsdAQF/IAAoAgggACgCDEYEfyAAKAIEQSBGBUEACwuCBAEDfyACQYDAAE8EQCAAIAEgAhBnIAAPCyAAIAJqIQMCQCAAIAFzQQNxRQRAAkAgAkEBSARAIAAhAgwBCyAAQQNxRQRAIAAhAgwBCyAAIQIDQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADTw0BIAJBA3ENAAsLAkAgA0F8cSIEQcAASQ0AIAIgBEFAaiIFSw0AA0AgAiABKAIANgIAIAIgASgCBDYCBCACIAEoAgg2AgggAiABKAIMNgIMIAIgASgCEDYCECACIAEoAhQ2AhQgAiABKAIYNgIYIAIgASgCHDYCHCACIAEoAiA2AiAgAiABKAIkNgIkIAIgASgCKDYCKCACIAEoAiw2AiwgAiABKAIwNgIwIAIgASgCNDYCNCACIAEoAjg2AjggAiABKAI8NgI8IAFBQGshASACQUBrIgIgBU0NAAsLIAIgBE8NAQNAIAIgASgCADYCACABQQRqIQEgAkEEaiICIARJDQALDAELIANBBEkEQCAAIQIMAQsgA0F8aiIEIABJBEAgACECDAELIAAhAgNAIAIgAS0AADoAACACIAEtAAE6AAEgAiABLQACOgACIAIgAS0AAzoAAyABQQRqIQEgAkEEaiICIARNDQALCyACIANJBEADQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADRw0ACwsgAAsMACAAIAEpAAA3AAALQQECfyAAKAIIIgEgACgCEEkEQEEDDwsgACAAKAIEIgJBB3E2AgQgACABIAJBA3ZrIgE2AgggACABKAAANgIAQQALDAAgACABKAIANgAAC/cCAQJ/AkAgACABRg0AAkAgASACaiAASwRAIAAgAmoiBCABSw0BCyAAIAEgAhALDwsgACABc0EDcSEDAkACQCAAIAFJBEAgAwRAIAAhAwwDCyAAQQNxRQRAIAAhAwwCCyAAIQMDQCACRQ0EIAMgAS0AADoAACABQQFqIQEgAkF/aiECIANBAWoiA0EDcQ0ACwwBCwJAIAMNACAEQQNxBEADQCACRQ0FIAAgAkF/aiICaiIDIAEgAmotAAA6AAAgA0EDcQ0ACwsgAkEDTQ0AA0AgACACQXxqIgJqIAEgAmooAgA2AgAgAkEDSw0ACwsgAkUNAgNAIAAgAkF/aiICaiABIAJqLQAAOgAAIAINAAsMAgsgAkEDTQ0AIAIhBANAIAMgASgCADYCACABQQRqIQEgA0EEaiEDIARBfGoiBEEDSw0ACyACQQNxIQILIAJFDQADQCADIAEtAAA6AAAgA0EBaiEDIAFBAWohASACQX9qIgINAAsLIAAL8wICAn8BfgJAIAJFDQAgACACaiIDQX9qIAE6AAAgACABOgAAIAJBA0kNACADQX5qIAE6AAAgACABOgABIANBfWogAToAACAAIAE6AAIgAkEHSQ0AIANBfGogAToAACAAIAE6AAMgAkEJSQ0AIABBACAAa0EDcSIEaiIDIAFB/wFxQYGChAhsIgE2AgAgAyACIARrQXxxIgRqIgJBfGogATYCACAEQQlJDQAgAyABNgIIIAMgATYCBCACQXhqIAE2AgAgAkF0aiABNgIAIARBGUkNACADIAE2AhggAyABNgIUIAMgATYCECADIAE2AgwgAkFwaiABNgIAIAJBbGogATYCACACQWhqIAE2AgAgAkFkaiABNgIAIAQgA0EEcUEYciIEayICQSBJDQAgAa0iBUIghiAFhCEFIAMgBGohAQNAIAEgBTcDGCABIAU3AxAgASAFNwMIIAEgBTcDACABQSBqIQEgAkFgaiICQR9LDQALCyAACy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAIajYCACADCy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAFajYCACADCx8AIAAgASACKAIEEAg2AgAgARAEGiAAIAJBCGo2AgQLCAAgAGdBH3MLugUBDX8jAEEQayIKJAACfyAEQQNNBEAgCkEANgIMIApBDGogAyAEEAsaIAAgASACIApBDGpBBBAVIgBBbCAAEAMbIAAgACAESxsMAQsgAEEAIAEoAgBBAXRBAmoQECENQVQgAygAACIGQQ9xIgBBCksNABogAiAAQQVqNgIAIAMgBGoiAkF8aiEMIAJBeWohDiACQXtqIRAgAEEGaiELQQQh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ASIDNgLE4AEgACgCvOABIQQgACABNgK84AEgACABIAJqNgK44AEgACABIAQgA2tqNgLA4AELpgEBAX8gACAAKALs4QEQFjYCyOABIABCADcD+OABIABCADcDuOABIABBwOABakIANwMAIABBqNAAaiIBQYyAgOAANgIAIABBADYCmOIBIABCADcDiOEBIABCAzcDgOEBIABBrNABakHgEikCADcCACAAQbTQAWpB6BIoAgA2AgAgACABNgIMIAAgAEGYIGo2AgggACAAQaAwajYCBCAAIABBEGo2AgALYQEBf0G4fyEDAkAgAUEDSQ0AIAIgABAhIgFBA3YiADYCCCACIAFBAXE2AgQgAiABQQF2QQNxIgM2AgACQCADQX9qIgFBAksNAAJAIAFBAWsOAgEAAgtBbA8LIAAhAwsgAwsMACAAIAEgAkEAEC4LiAQCA38CfiADEBYhBCAAQQBBKBAQIQAgBCACSwRAIAQPCyABRQRAQX8PCwJAAkAgA0EBRg0AIAEoAAAiBkGo6r5pRg0AQXYhAyAGQXBxQdDUtMIBRw0BQQghAyACQQhJDQEgAEEAQSgQECEAIAEoAAQhASAAQQE2AhQgACABrTcDAEEADwsgASACIAMQLyIDIAJLDQAgACADNgIYQXIhAyABIARqIgVBf2otAAAiAkEIcQ0AIAJBIHEiBkUEQEFwIQMgBS0AACIFQacBSw0BIAVBB3GtQgEgBUEDdkEKaq2GIgdCA4h+IAd8IQggBEEBaiEECyACQQZ2IQMgAkECdiEFAkAgAkEDcUF/aiICQQJLBEBBACECDAELAkACQAJAIAJBAWsOAgECAAsgASAEai0AACECIARBAWohBAwCCyABIARqLwAAIQIgBEECaiEEDAELIAEgBGooAAAhAiAEQQRqIQQLIAVBAXEhBQJ+AkACQAJAIANBf2oiA0ECTQRAIANBAWsOAgIDAQtCfyAGRQ0DGiABIARqMQAADAMLIAEgBGovAACtQoACfAwCCyABIARqKAAArQwBCyABIARqKQAACyEHIAAgBTYCICAAIAI2AhwgACAHNwMAQQAhAyAAQQA2AhQgACAHIAggBhsiBzcDCCAAIAdCgIAIIAdCgIAIVBs+AhALIAMLWwEBf0G4fyEDIAIQFiICIAFNBH8gACACakF/ai0AACIAQQNxQQJ0QaAeaigC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C0Egak8NAQsgByAHKQNoNwMQIAcgBykDYDcDCCAEIA0gB0EIaiAHQdwAaiAPIA4gESAQEB4hCwwBCyACIARqIQggBCAKEAcgAkERTwRAIARBEGohAgNAIAIgCkEQaiIKEAcgAkEQaiICIAhJDQALCyAIIAlrIQIgByATNgJcIAkgCCAOa0sEQCAJIAggEWtLBEBBbCELDAILIBAgAiAOayICaiIKIANqIBBNBEAgCCAKIAMQDxoMAgsgCCAKQQAgAmsQDyEIIAcgAiADaiIDNgJkIAggAmshCCAOIQILIAlBEE8EQCADIAhqIQMDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALDAELAkAgCUEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgCUECdCIDQcAeaigCAGoiAhAXIAIgA0HgHmooAgBrIQIgBygCZCEDDAELIAggAhAMCyADQQlJDQAgAyAIaiEDIAhBCGoiCCACQQhqIgJrQQ9MBEADQCAIIAIQDCACQQhqIQIgCEEIaiIIIANJDQAMAgALAAsDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALCyAHQRhqEAQaIAsgDCALEAMiAhshDCAEIAQgC2ogAhshBCAFQX9qIgUNAAsgDBADDQFBbCEMIAdBGGoQBEECSQ0BQQAhCANAIAhBA0cEQCAAIAhBAnQiAmpBrNABaiACIAdqKAJENgIAIAhBAWohCAwBCwsgBygCXCEIC0G6fyEMIA8gCGsiACANIARrSw0AIAQEfyAEIAggABALIABqBUEACyABayEMCyAHQfAAaiQAIAwLkRcCFn8FfiMAQdABayIHJAAgByAAKALw4QEiCDYCvAEgASACaiESIAggACgCgOIBaiETAkACQCAFRQRAIAEhAwwBCyAAKALE4AEhESAAKALA4AEhFSAAKAK84AEhDyAAQQE2AozhAUEAIQgDQCAIQQNHBEAgByAIQQJ0IgJqIAAgAmpBrNABaigCADYCVCAIQQFqIQgMAQsLIAcgETYCZCAHIA82AmAgByABIA9rNgJoQWwhECAHQShqIAMgBBAGEAMNASAFQQQgBUEESBshFyAHQTxqIAdBKGogACgCABATIAdBxABqIAdBKGogACgCCBATIAdBzABqIAdB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IAdB0AFqJAAgEAslACAAQgA3AgAgAEEAOwEIIABBADoACyAAIAE2AgwgACACOgAKC7QFAQN/IwBBMGsiBCQAIABB/wFqIgVBfWohBgJAIAMvAQIEQCAEQRhqIAEgAhAGIgIQAw0BIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahASOgAAIAMgBEEIaiAEQRhqEBI6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0FIAEgBEEQaiAEQRhqEBI6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBSABIARBCGogBEEYahASOgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEjoAACABIAJqIABrIQIMAwsgAyAEQRBqIARBGGoQEjoAAiADIARBCGogBEEYahASOgADIANBBGohAwwAAAsACyAEQRhqIAEgAhAGIgIQAw0AIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahAROgAAIAMgBEEIaiAEQRhqEBE6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0EIAEgBEEQaiAEQRhqEBE6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBCABIARBCGogBEEYahAROgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEToAACABIAJqIABrIQIMAgsgAyAEQRBqIARBGGoQEToAAiADIARBCGogBEEYahAROgADIANBBGohAwwAAAsACyAEQTBqJAAgAgtpAQF/An8CQAJAIAJBB00NACABKAAAQbfIwuF+Rw0AIAAgASgABDYCmOIBQWIgAEEQaiABIAIQPiIDEAMNAhogAEKBgICAEDcDiOEBIAAgASADaiACIANrECoMAQsgACABIAIQKgtBAAsLrQMBBn8jAEGAAWsiAyQAQWIhCAJAIAJBCUkNACAAQZjQAGogAUEIaiIEIAJBeGogAEGY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wOABCwutAgIEfwF+IwBBQGoiBCQAAkACQCACQQhJDQAgASgAAEFwcUHQ1LTCAUcNACABIAIQIiEBIABCADcDCCAAQQA2AgQgACABNgIADAELIARBGGogASACEC0iAxADBEAgACADEBoMAQsgAwRAIABBuH8QGgwBCyACIAQoAjAiA2shAiABIANqIQMDQAJAIAAgAyACIARBCGoQLCIFEAMEfyAFBSACIAVBA2oiBU8NAUG4fwsQGgwCCyAGQQFqIQYgAiAFayECIAMgBWohAyAEKAIMRQ0ACyAEKAI4BEAgAkEDTQRAIABBuH8QGgwCCyADQQRqIQMLIAQoAighAiAEKQMYIQcgAEEANgIEIAAgAyABazYCACAAIAIgBmytIAcgB0J/URs3AwgLIARBQGskAAslAQF/IwBBEGsiAiQAIAIgACABEFEgAigCACEAIAJBEGokACAAC30BBH8jAEGQBGsiBCQAIARB/wE2AggCQCAEQRBqIARBCGogBEEMaiABIAIQFSIGEAMEQCAGIQUMAQtBVCEFIAQoAgwiB0EGSw0AIAMgBEEQaiAEKAIIIAcQQSIFEAMNACAAIAEgBmogAiAGayADEDwhBQsgBEGQBGokACAFC4cBAgJ/An5BABAWIQMCQANAIAEgA08EQAJAIAAoAABBcHFB0NS0wgFGBEAgACABECIiAhADRQ0BQn4PCyAAIAEQVSIEQn1WDQMgBCAFfCIFIARUIQJCfiEEIAINAyAAIAEQUiICEAMNAwsgASACayEBIAAgAmohAAwBCwtCfiAFIAEbIQQLIAQLPwIBfwF+IwBBMGsiAiQAAn5CfiACQQhqIAAgARAtDQAaQgAgAigCHEEBRg0AGiACKQMICyEDIAJBMGokACADC40BAQJ/IwBBMGsiASQAAkAgAEUNACAAKAKI4gENACABIABB/OEBaigCADYCKCABIAApAvThATcDICAAEDAgACgCqOIBIQIgASABKAIoNgIYIAEgASkDIDcDECACIAFBEGoQGyAAQQA2AqjiASABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALKgECfyMAQRBrIgAkACAAQQA2AgggAEIANwMAIAAQWCEBIABBEGokACABC4cBAQN/IwBBEGsiAiQAAkAgACgCAEUgACgCBEVzDQAgAiAAKAIINgIIIAIgACkCADcDAAJ/IAIoAgAiAQRAIAIoAghBqOMJIAERBQAMAQtBqOMJECgLIgFFDQAgASAAKQIANwL04QEgAUH84QFqIAAoAgg2AgAgARBZIAEhAwsgAkEQaiQAIAMLywEBAn8jAEEgayIBJAAgAEGBgIDAADYCtOIBIABBADYCiOIBIABBADYC7OEBIABCADcDkOIBIABBADYCpOMJIABBADYC3OIBIABCADcCzOIBIABBADYCvOIBIABBADYCxOABIABCADcCnOIBIABBpOIBakIANwIAIABBrOIBakEANgIAIAFCADcCECABQgA3AhggASABKQMYNwMIIAEgASkDEDcDACABKAIIQQh2QQFxIQIgAEEANgLg4gEgACACNgKM4gEgAUEgaiQAC3YBA38jAEEwayIBJAAgAARAIAEgAEHE0AFqIgIoAgA2AiggASAAKQK80AE3AyAgACgCACEDIAEgAigCADYCGCABIAApArzQATcDECADIAFBEGoQGyABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALzAEBAX8gACABKAK00AE2ApjiASAAIAEoAgQiAjYCwOABIAAgAjYCvOABIAAgAiABKAIIaiICNgK44AEgACACNgLE4AEgASgCuNABBEAgAEKBgICAEDcDiOEBIAAgAUGk0ABqNgIMIAAgAUGUIGo2AgggACABQZwwajYCBCAAIAFBDGo2AgAgAEGs0AFqIAFBqNABaigCADYCACAAQbDQAWogAUGs0AFqKAIANgIAIABBtNABaiABQbDQAWooAgA2AgAPCyAAQgA3A4jhAQs7ACACRQRAQbp/DwsgBEUEQEFsDwsgAiAEEGAEQCAAIAEgAiADIAQgBRBhDwsgACABIAIgAyAEIAUQZQtGAQF/IwBBEGsiBSQAIAVBCGogBBAOAn8gBS0ACQRAIAAgASACIAMgBBAyDAELIAAgASACIAMgBBA0CyEAIAVBEGokACAACzQAIAAgAyAEIAUQNiIFEAMEQCAFDwsgBSAESQR/IAEgAiADIAVqIAQgBWsgABA1BUG4fwsLRgEBfyMAQRBrIgUkACAFQQhqIAQQDgJ/IAUtAAkEQCAAIAEgAiADIAQQYgwBCyAAIAEgAiADIAQQNQshACAFQRBqJAAgAAtZAQF/QQ8hAiABIABJBEAgAUEEdCAAbiECCyAAQQh2IgEgAkEYbCIAQYwIaigCAGwgAEGICGooAgBqIgJBA3YgAmogAEGACGooAgAgAEGECGooAgAgAWxqSQs3ACAAIAMgBCAFQYAQEDMiBRADBEAgBQ8LIAUgBEkEfyABIAIgAyAFaiAEIAVrIAAQMgVBuH8LC78DAQN/IwBBIGsiBSQAIAVBCGogAiADEAYiAhADRQRAIAAgAWoiB0F9aiEGIAUgBBAOIARBBGohAiAFLQACIQMDQEEAIAAgBkkgBUEIahAEGwRAIAAgAiAFQQhqIAMQAkECdGoiBC8BADsAACAFQQhqIAQtAAIQASAAIAQtAANqIgQgAiAFQQhqIAMQAkECdGoiAC8BADsAACAFQQhqIAAtAAIQASAEIAAtAANqIQAMAQUgB0F+aiEEA0AgBUEIahAEIAAgBEtyRQRAIAAgAiAFQQhqIAMQAkECdGoiBi8BADsAACAFQQhqIAYtAAIQASAAIAYtAANqIQAMAQsLA0AgACAES0UEQCAAIAIgBUEIaiADEAJBAnRqIgYvAQA7AAAgBUEIaiAGLQACEAEgACAGLQADaiEADAELCwJAIAAgB08NACAAIAIgBUEIaiADEAIiA0ECdGoiAC0AADoAACAALQADQQFGBEAgBUEIaiAALQACEAEMAQsgBSgCDEEfSw0AIAVBCGogAiADQQJ0ai0AAhABIAUoAgxBIUkNACAFQSA2AgwLIAFBbCAFQQhqEAobIQILCwsgBUEgaiQAIAILkgIBBH8jAEFAaiIJJAAgCSADQTQQCyEDAkAgBEECSA0AIAMgBEECdGooAgAhCSADQTxqIAgQIyADQQE6AD8gAyACOgA+QQAhBCADKAI8IQoDQCAEIAlGDQEgACAEQQJ0aiAKNgEAIARBAWohBAwAAAsAC0EAIQkDQCAGIAlGRQRAIAMgBSAJQQF0aiIKLQABIgtBAnRqIgwoAgAhBCADQTxqIAotAABBCHQgCGpB//8DcRAjIANBAjoAPyADIAcgC2siCiACajoAPiAEQQEgASAKa3RqIQogAygCPCELA0AgACAEQQJ0aiALNgEAIARBAWoiBCAKSQ0ACyAMIAo2AgAgCUEBaiEJDAELCyADQUBrJAALowIBCX8jAEHQAGsiCSQAIAlBEGogBUE0EAsaIAcgBmshDyAHIAFrIRADQAJAIAMgCkcEQEEBIAEgByACIApBAXRqIgYtAAEiDGsiCGsiC3QhDSAGLQAAIQ4gCUEQaiAMQQJ0aiIMKAIAIQYgCyAPTwRAIAAgBkECdGogCyAIIAUgCEE0bGogCCAQaiIIQQEgCEEBShsiCCACIAQgCEECdGooAgAiCEEBdGogAyAIayAHIA4QYyAGIA1qIQgMAgsgCUEMaiAOECMgCUEBOgAPIAkgCDoADiAGIA1qIQggCSgCDCELA0AgBiAITw0CIAAgBkECdGogCzYBACAGQQFqIQYMAAALAAsgCUHQAGokAA8LIAwgCDYCACAKQQFqIQoMAAALAAs0ACAAIAMgBCAFEDYiBRADBEAgBQ8LIAUgBEkEfyABIAIgAyAFaiAEIAVrIAAQNAVBuH8LCyMAIAA/AEEQdGtB//8DakEQdkAAQX9GBEBBAA8LQQAQAEEBCzsBAX8gAgRAA0AgACABIAJBgCAgAkGAIEkbIgMQCyEAIAFBgCBqIQEgAEGAIGohACACIANrIgINAAsLCwYAIAAQAwsLqBUJAEGICAsNAQAAAAEAAAACAAAAAgBBoAgLswYBAAAAAQAAAAIAAAACAAAAJgAAAIIAAAAhBQAASgAAAGcIAAAmAAAAwAEAAIAAAABJBQAASgAAAL4IAAApAAAALAIAAIAAAABJBQAASgAAAL4IAAAvAAAAygIAAIAAAACKBQAASgAAAIQJAAA1AAAAcwMAAIAAAACdBQAASgAAAKAJAAA9AAAAgQMAAIAAAADrBQAASwAAAD4KAABEAAAAngMAAIAAAABNBgAASwAAAKoKAABLAAAAswMAAIAAAADBBgAATQAAAB8NAABNAAAAUwQAAIAAAAAjCAAAUQAAAKYPAABUAAAAmQQAAIAAAABLCQAAVwAAALESAABYAAAA2gQAAIAAAABvCQAAXQAAACMUAABUAAAARQUAAIAAAABUCgAAagAAAIwUAABqAAAArwUAAIAAAAB2CQAAfAAAAE4QAAB8AAAA0gIAAIAAAABjBwAAkQAAAJAHAACSAAAAAAAAAAEAAAABAAAABQAAAA0AAAAdAAAAPQAAAH0AAAD9AAAA/QEAAP0DAAD9BwAA/Q8AAP0fAAD9PwAA/X8AAP3/AAD9/wEA/f8DAP3/BwD9/w8A/f8fAP3/PwD9/38A/f//AP3//wH9//8D/f//B/3//w/9//8f/f//P/3//38AAAAAAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABEAAAASAAAAEwAAABQAAAAVAAAAFgAAABcAAAAYAAAAGQAAABoAAAAbAAAAHAAAAB0AAAAeAAAAHwAAAAMAAAAEAAAABQAAAAYAAAAHAAAACAAAAAkAAAAKAAAACwAAAAwAAAANAAAADgAAAA8AAAAQAAAAEQAAABIAAAATAAAAFAAAABUAAAAWAAAAFwAAABgAAAAZAAAAGgAAABsAAAAcAAAAHQAAAB4AAAAfAAAAIAAAACEAAAAiAAAAIwAAACUAAAAnAAAAKQAAACsAAAAvAAAAMwAAADsAAABDAAAAUwAAAGMAAACDAAAAAwEAAAMCAAADBAAAAwgAAAMQAAADIAAAA0AAAAOAAAADAAEAQeAPC1EBAAAAAQAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAEAAAABQAAAAcAAAAIAAAACQAAAAoAAAALAAAADAAAAA0AAAAOAAAADwAAABAAQcQQC4sBAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABIAAAAUAAAAFgAAABgAAAAcAAAAIAAAACgAAAAwAAAAQAAAAIAAAAAAAQAAAAIAAAAEAAAACAAAABAAAAAgAAAAQAAAAIAAAAAAAQBBkBIL5gQBAAAAAQAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAAAEAAAAEAAAACAAAAAAAAAABAAEBBgAAAAAAAAQAAAAAEAAABAAAAAAgAAAFAQAAAAAAAAUDAAAAAAAABQQAAAAAAAAFBgAAAAAAAAUHAAAAAAAABQkAAAAAAAAFCgAAAAAAAAUMAAAAAAAABg4AAAAAAAEFEAAAAAAAAQUUAAAAAAABBRYAAAAAAAIFHAAAAAAAAwUgAAAAAAAEBTAAAAAgAAYFQAAAAAAABwWAAAAAAAAIBgABAAAAAAoGAAQAAAAADAYAEAAAIAAABAAAAAAAAAAEAQAAAAAAAAUCAAAAIAAABQQAAAAAAAAFBQAAACAAAAUHAAAAAAAABQgAAAAgAAAFCgAAAAAAAAULAAAAAAAABg0AAAAgAAEFEAAAAAAAAQUSAAAAIAABBRYAAAAAAAIFGAAAACAAAwUgAAAAAAADBSgAAAAAAAYEQAAAABAABgRAAAAAIAAHBYAAAAAAAAkGAAIAAAAACwYACAAAMAAABAAAAAAQAAAEAQAAACAAAAUCAAAAIAAABQMAAAAgAAAFBQAAACAAAAUGAAAAIAAABQgAAAAgAAAFCQAAACAAAAULAAAAIAAABQwAAAAAAAAGDwAAACAAAQUSAAAAIAABBRQAAAAgAAIFGAAAACAAAgUcAAAAIAADBSgAAAAgAAQFMAAAAAAAEAYAAAEAAAAPBgCAAAAAAA4GAEAAAAAADQYAIABBgBcLhwIBAAEBBQAAAAAAAAUAAAAAAAAGBD0AAAAAAAkF/QEAAAAADwX9fwAAAAAVBf3/HwAAAAMFBQAAAAAABwR9AAAAAAAMBf0PAAAAABIF/f8DAAAAFwX9/38AAAAFBR0AAAAAAAgE/QAAAAAADgX9PwAAAAAUBf3/DwAAAAIFAQAAABAABwR9AAAAAAALBf0HAAAAABEF/f8BAAAAFgX9/z8AAAAEBQ0AAAAQAAgE/QAAAAAADQX9HwAAAAATBf3/BwAAAAEFAQAAABAABgQ9AAAAAAAKBf0DAAAAABAF/f8AAAAAHAX9//8PAAAbBf3//wcAABoF/f//AwAAGQX9//8BAAAYBf3//wBBkBkLhgQBAAEBBgAAAAAAAAYDAAAAAAAABAQAAAAgAAAFBQAAAAAAAAUGAAAAAAAABQgAAAAAAAAFCQAAAAAAAAULAAAAAAAABg0AAAAAAAAGEAAAAAAAAAYTAAAAAAAABhYAAAAAAAAGGQAAAAAAAAYcAAAAAAAABh8AAAAAAAAGIgAAAAAAAQYlAAAAAAABBikAAAAAAAIGLwAAAAAAAwY7AAAAAAAEBlMAAAAAAAcGgwAAAAAACQYDAgAAEAAABAQAAAAAAAAEBQAAACAAAAUGAAAAAAAABQcAAAAgAAAFCQAAAAAAAAUKAAAAAAAABgwAAAAAAAAGDwAAAAAAAAYSAAAAAAAABhUAAAAAAAAGGAAAAAAAAAYbAAAAAAAABh4AAAAAAAAGIQAAAAAAAQYjAAAAAAABBicAAAAAAAIGKwAAAAAAAwYzAAAAAAAEBkMAAAAAAAUGYwAAAAAACAYDAQAAIAAABAQAAAAwAAAEBAAAABAAAAQFAAAAIAAABQcAAAAgAAAFCAAAACAAAAUKAAAAIAAABQsAAAAAAAAGDgAAAAAAAAYRAAAAAAAABhQAAAAAAAAGFwAAAAAAAAYaAAAAAAAABh0AAAAAAAAGIAAAAAAAEAYDAAEAAAAPBgOAAAAAAA4GA0AAAAAADQYDIAAAAAAMBgMQAAAAAAsGAwgAAAAACgYDBABBpB0L2QEBAAAAAwAAAAcAAAAPAAAAHwAAAD8AAAB/AAAA/wAAAP8BAAD/AwAA/wcAAP8PAAD/HwAA/z8AAP9/AAD//wAA//8BAP//AwD//wcA//8PAP//HwD//z8A//9/AP///wD///8B////A////wf///8P////H////z////9/AAAAAAEAAAACAAAABAAAAAAAAAACAAAABAAAAAgAAAAAAAAAAQAAAAIAAAABAAAABAAAAAQAAAAEAAAABAAAAAgAAAAIAAAACAAAAAcAAAAIAAAACQAAAAoAAAALAEGgIAsDwBBQ\"}},A={};function s(e){var t=A[e];if(void 0!==t)return t.exports;var r=A[e]={exports:{}};return i[e](r,r.exports,s),r.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})};var r={};return(()=>{\"use strict\";s.r(r),s.d(r,{Decoder:()=>t.Decoder,Deprecated:()=>m,Ellipse:()=>l.Ellipse,ExcaliburTiledProperties:()=>i.ExcaliburTiledProperties,FLIPPED_DIAGONALLY_FLAG:()=>o.FLIPPED_DIAGONALLY_FLAG,FLIPPED_HORIZONTALLY_FLAG:()=>o.FLIPPED_HORIZONTALLY_FLAG,FLIPPED_VERTICALLY_FLAG:()=>o.FLIPPED_VERTICALLY_FLAG,FetchLoader:()=>A.FetchLoader,InsertedTile:()=>l.InsertedTile,LoaderCache:()=>n.LoaderCache,PluginObject:()=>l.PluginObject,Point:()=>l.Point,Polygon:()=>l.Polygon,Polyline:()=>l.Polyline,Rectangle:()=>l.Rectangle,Template:()=>h.Template,TemplateObject:()=>l.TemplateObject,TemplateResource:()=>g.TemplateResource,Text:()=>l.Text,Tile:()=>C.Tile,TiledDataComponent:()=>u.TiledDataComponent,TiledLayerDataComponent:()=>p.TiledLayerDataComponent,TiledMap:()=>e.TiledMap,TiledParser:()=>e.TiledParser,TiledResource:()=>I.TiledResource,TiledTemplate:()=>e.TiledTemplate,TiledText:()=>e.TiledText,TiledTile:()=>e.TiledTile,TiledTileLayer:()=>e.TiledTileLayer,TiledTileLayerInfinite:()=>e.TiledTileLayerInfinite,TiledTileset:()=>e.TiledTileset,TiledTilesetFile:()=>e.TiledTilesetFile,Tileset:()=>C.Tileset,TilesetResource:()=>f.TilesetResource,byClassCaseInsensitive:()=>a.byClassCaseInsensitive,byNameCaseInsensitive:()=>a.byNameCaseInsensitive,byPropertyCaseInsensitive:()=>a.byPropertyCaseInsensitive,filenameFromPath:()=>d.filenameFromPath,getCanonicalGid:()=>o.getCanonicalGid,isCSV:()=>e.isCSV,isFlippedDiagonally:()=>o.isFlippedDiagonally,isFlippedHorizontally:()=>o.isFlippedHorizontally,isFlippedVertically:()=>o.isFlippedVertically,isInfiniteLayer:()=>e.isInfiniteLayer,isTiledTilesetCollectionOfImages:()=>e.isTiledTilesetCollectionOfImages,isTiledTilesetEmbedded:()=>e.isTiledTilesetEmbedded,isTiledTilesetExternal:()=>e.isTiledTilesetExternal,isTiledTilesetSingleImage:()=>e.isTiledTilesetSingleImage,mapPath:()=>d.mapPath,mapProps:()=>c.mapProps,needsDecoding:()=>e.needsDecoding,parseObject:()=>l.parseObject,parseObjects:()=>l.parseObjects,pathInMap:()=>d.pathInMap,pathRelativeToBase:()=>d.pathRelativeToBase});var e=s(\"./src/parser/tiled-parser.ts\"),t=s(\"./src/resource/decoder.ts\"),i=s(\"./src/resource/excalibur-properties.ts\"),A=s(\"./src/resource/file-loader.ts\"),a=s(\"./src/resource/filter-util.ts\"),o=s(\"./src/resource/gid-util.ts\"),n=(s(\"./src/resource/layer.ts\"),s(\"./src/resource/loader-cache.ts\")),l=s(\"./src/resource/objects.ts\"),d=s(\"./src/resource/path-util.ts\"),c=s(\"./src/resource/properties.ts\"),g=s(\"./src/resource/template-resource.ts\"),h=s(\"./src/resource/template.ts\"),u=s(\"./src/resource/tiled-data-component.ts\"),p=s(\"./src/resource/tiled-layer-component.ts\"),I=s(\"./src/resource/tiled-resource.ts\"),f=s(\"./src/resource/tileset-resource.ts\"),C=s(\"./src/resource/tileset.ts\"),m=s(\"./src/deprecated.ts\")})(),r})()));\n//# sourceMappingURL=excalibur-tiled.min.js.map","/*!\n * excalibur - 0.29.0 - 2024-2-20\n * https://github.com/excaliburjs/Excalibur\n * Copyright (c) 2024 Excalibur.js <https://github.com/excaliburjs/Excalibur/graphs/contributors>\n * Licensed BSD-2-Clause\n * @preserve\n */\n/******/ var __webpack_modules__ = ({\n\n/***/ 7835:\n/***/ ((module, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Z: () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(272);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(2609);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);\n// Imports\n\n\nvar ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `/* Buttons styles start */\r\n\r\nbutton#excalibur-play {\r\n  display: inline-block;\r\n  position: relative;\r\n  z-index: 999;\r\n  border-radius: 6px;\r\n  border: none;\r\n  /*border: 3px solid;\r\n    border-color: white;\r\n    box-shadow: 0 0 10px #ccc;*/\r\n  padding: 1rem 1.5rem 1rem 4rem;\r\n  margin: 0;\r\n  text-decoration: none;\r\n  background: #00b233;\r\n  color: #ffffff;\r\n  font-family: sans-serif;\r\n  font-size: 2rem;\r\n  white-space: nowrap;\r\n  line-height: 1;\r\n  cursor: pointer;\r\n  text-align: center;\r\n  transition: background 250ms ease-in-out, transform 150ms ease;\r\n  -webkit-appearance: none;\r\n  -moz-appearance: none;\r\n\r\n  -webkit-animation: excalibur-button-fadein 200ms; /* Safari, Chrome and Opera > 12.1 */\r\n  -moz-animation: excalibur-button-fadein 200ms; /* Firefox < 16 */\r\n  -ms-animation: excalibur-button-fadein 200ms; /* Internet Explorer */\r\n  -o-animation: excalibur-button-fadein 200ms; /* Opera < 12.1 */\r\n  animation: excalibur-button-fadein 200ms;\r\n}\r\n\r\n/*\r\nbutton#excalibur-play {\r\n  display: none;\r\n}*/\r\n\r\nbutton#excalibur-play:after {\r\n  position: absolute;\r\n  content: '';\r\n  border: 8px solid;\r\n  border-color: transparent transparent transparent white;\r\n  left: 35px;\r\n  top: 24px;\r\n  width: 0;\r\n  height: 0;\r\n}\r\n\r\nbutton#excalibur-play:before {\r\n  position: absolute;\r\n  content: '';\r\n  border: 3px solid;\r\n  left: 19px;\r\n  top: 14px;\r\n  border-radius: 20px;\r\n  width: 30px;\r\n  height: 30px;\r\n}\r\n\r\nbutton#excalibur-play:hover,\r\nbutton#excalibur-play:focus {\r\n  background: #00982c;\r\n}\r\n\r\nbutton#excalibur-play:focus {\r\n  outline: 1px solid #fff;\r\n  outline-offset: -4px;\r\n}\r\n\r\nbutton#excalibur-play:active {\r\n  transform: scale(0.99);\r\n}\r\n\r\n@keyframes excalibur-button-fadein {\r\n  from {\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n/* Firefox < 16 */\r\n@-moz-keyframes excalibur-button-fadein {\r\n  from {\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n/* Safari, Chrome and Opera > 12.1 */\r\n@-webkit-keyframes excalibur-button-fadein {\r\n  from {\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n/* Internet Explorer */\r\n@-ms-keyframes excalibur-button-fadein {\r\n  from {\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n/* Opera < 12.1 */\r\n@-o-keyframes excalibur-button-fadein {\r\n  from {\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    opacity: 1;\r\n  }\r\n}\r\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./Director/Loader.css\"],\"names\":[],\"mappings\":\"AAAA,yBAAyB;;AAEzB;EACE,qBAAqB;EACrB,kBAAkB;EAClB,YAAY;EACZ,kBAAkB;EAClB,YAAY;EACZ;;+BAE6B;EAC7B,8BAA8B;EAC9B,SAAS;EACT,qBAAqB;EACrB,mBAAmB;EACnB,cAAc;EACd,uBAAuB;EACvB,eAAe;EACf,mBAAmB;EACnB,cAAc;EACd,eAAe;EACf,kBAAkB;EAClB,8DAA8D;EAC9D,wBAAwB;EACxB,qBAAqB;;EAErB,gDAAgD,EAAE,oCAAoC;EACtF,6CAA6C,EAAE,iBAAiB;EAChE,4CAA4C,EAAE,sBAAsB;EACpE,2CAA2C,EAAE,iBAAiB;EAC9D,wCAAwC;AAC1C;;AAEA;;;EAGE;;AAEF;EACE,kBAAkB;EAClB,WAAW;EACX,iBAAiB;EACjB,uDAAuD;EACvD,UAAU;EACV,SAAS;EACT,QAAQ;EACR,SAAS;AACX;;AAEA;EACE,kBAAkB;EAClB,WAAW;EACX,iBAAiB;EACjB,UAAU;EACV,SAAS;EACT,mBAAmB;EACnB,WAAW;EACX,YAAY;AACd;;AAEA;;EAEE,mBAAmB;AACrB;;AAEA;EACE,uBAAuB;EACvB,oBAAoB;AACtB;;AAEA;EACE,sBAAsB;AACxB;;AAEA;EACE;IACE,UAAU;EACZ;EACA;IACE,UAAU;EACZ;AACF;;AAEA,iBAAiB;AACjB;EACE;IACE,UAAU;EACZ;EACA;IACE,UAAU;EACZ;AACF;;AAEA,oCAAoC;AACpC;EACE;IACE,UAAU;EACZ;EACA;IACE,UAAU;EACZ;AACF;;AAEA,sBAAsB;AACtB;EACE;IACE,UAAU;EACZ;EACA;IACE,UAAU;EACZ;AACF;;AAEA,iBAAiB;AACjB;EACE;IACE,UAAU;EACZ;EACA;IACE,UAAU;EACZ;AACF\",\"sourcesContent\":[\"/* Buttons styles start */\\r\\n\\r\\nbutton#excalibur-play {\\r\\n  display: inline-block;\\r\\n  position: relative;\\r\\n  z-index: 999;\\r\\n  border-radius: 6px;\\r\\n  border: none;\\r\\n  /*border: 3px solid;\\r\\n    border-color: white;\\r\\n    box-shadow: 0 0 10px #ccc;*/\\r\\n  padding: 1rem 1.5rem 1rem 4rem;\\r\\n  margin: 0;\\r\\n  text-decoration: none;\\r\\n  background: #00b233;\\r\\n  color: #ffffff;\\r\\n  font-family: sans-serif;\\r\\n  font-size: 2rem;\\r\\n  white-space: nowrap;\\r\\n  line-height: 1;\\r\\n  cursor: pointer;\\r\\n  text-align: center;\\r\\n  transition: background 250ms ease-in-out, transform 150ms ease;\\r\\n  -webkit-appearance: none;\\r\\n  -moz-appearance: none;\\r\\n\\r\\n  -webkit-animation: excalibur-button-fadein 200ms; /* Safari, Chrome and Opera > 12.1 */\\r\\n  -moz-animation: excalibur-button-fadein 200ms; /* Firefox < 16 */\\r\\n  -ms-animation: excalibur-button-fadein 200ms; /* Internet Explorer */\\r\\n  -o-animation: excalibur-button-fadein 200ms; /* Opera < 12.1 */\\r\\n  animation: excalibur-button-fadein 200ms;\\r\\n}\\r\\n\\r\\n/*\\r\\nbutton#excalibur-play {\\r\\n  display: none;\\r\\n}*/\\r\\n\\r\\nbutton#excalibur-play:after {\\r\\n  position: absolute;\\r\\n  content: '';\\r\\n  border: 8px solid;\\r\\n  border-color: transparent transparent transparent white;\\r\\n  left: 35px;\\r\\n  top: 24px;\\r\\n  width: 0;\\r\\n  height: 0;\\r\\n}\\r\\n\\r\\nbutton#excalibur-play:before {\\r\\n  position: absolute;\\r\\n  content: '';\\r\\n  border: 3px solid;\\r\\n  left: 19px;\\r\\n  top: 14px;\\r\\n  border-radius: 20px;\\r\\n  width: 30px;\\r\\n  height: 30px;\\r\\n}\\r\\n\\r\\nbutton#excalibur-play:hover,\\r\\nbutton#excalibur-play:focus {\\r\\n  background: #00982c;\\r\\n}\\r\\n\\r\\nbutton#excalibur-play:focus {\\r\\n  outline: 1px solid #fff;\\r\\n  outline-offset: -4px;\\r\\n}\\r\\n\\r\\nbutton#excalibur-play:active {\\r\\n  transform: scale(0.99);\\r\\n}\\r\\n\\r\\n@keyframes excalibur-button-fadein {\\r\\n  from {\\r\\n    opacity: 0;\\r\\n  }\\r\\n  to {\\r\\n    opacity: 1;\\r\\n  }\\r\\n}\\r\\n\\r\\n/* Firefox < 16 */\\r\\n@-moz-keyframes excalibur-button-fadein {\\r\\n  from {\\r\\n    opacity: 0;\\r\\n  }\\r\\n  to {\\r\\n    opacity: 1;\\r\\n  }\\r\\n}\\r\\n\\r\\n/* Safari, Chrome and Opera > 12.1 */\\r\\n@-webkit-keyframes excalibur-button-fadein {\\r\\n  from {\\r\\n    opacity: 0;\\r\\n  }\\r\\n  to {\\r\\n    opacity: 1;\\r\\n  }\\r\\n}\\r\\n\\r\\n/* Internet Explorer */\\r\\n@-ms-keyframes excalibur-button-fadein {\\r\\n  from {\\r\\n    opacity: 0;\\r\\n  }\\r\\n  to {\\r\\n    opacity: 1;\\r\\n  }\\r\\n}\\r\\n\\r\\n/* Opera < 12.1 */\\r\\n@-o-keyframes excalibur-button-fadein {\\r\\n  from {\\r\\n    opacity: 0;\\r\\n  }\\r\\n  to {\\r\\n    opacity: 1;\\r\\n  }\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);\n\n\n/***/ }),\n\n/***/ 7379:\n/***/ ((module, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Z: () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(272);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(2609);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);\n// Imports\n\n\nvar ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `\r\n#ex-toast-container {\r\n  position: absolute;\r\n  height: 0;\r\n  min-width: 50%;\r\n  left: 50%;\r\n  top: 0;\r\n}\r\n\r\n.ex-toast-message {\r\n  left: -50%;\r\n  position: relative;\r\n  display: flex;\r\n  justify-content: space-between;\r\n\r\n\r\n  padding: 10px;\r\n  margin-top: 5px;\r\n  font-size: 18px;\r\n  font-family: sans-serif;\r\n  border-radius: 6px;\r\n  border: 3px solid #b7b779;\r\n  background-color: rgb(253, 253, 192);\r\n}\r\n\r\n\r\n.ex-toast-message button {\r\n  align-self: flex-start;\r\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./Util/Toaster.css\"],\"names\":[],\"mappings\":\";AACA;EACE,kBAAkB;EAClB,SAAS;EACT,cAAc;EACd,SAAS;EACT,MAAM;AACR;;AAEA;EACE,UAAU;EACV,kBAAkB;EAClB,aAAa;EACb,8BAA8B;;;EAG9B,aAAa;EACb,eAAe;EACf,eAAe;EACf,uBAAuB;EACvB,kBAAkB;EAClB,yBAAyB;EACzB,oCAAoC;AACtC;;;AAGA;EACE,sBAAsB;AACxB\",\"sourcesContent\":[\"\\r\\n#ex-toast-container {\\r\\n  position: absolute;\\r\\n  height: 0;\\r\\n  min-width: 50%;\\r\\n  left: 50%;\\r\\n  top: 0;\\r\\n}\\r\\n\\r\\n.ex-toast-message {\\r\\n  left: -50%;\\r\\n  position: relative;\\r\\n  display: flex;\\r\\n  justify-content: space-between;\\r\\n\\r\\n\\r\\n  padding: 10px;\\r\\n  margin-top: 5px;\\r\\n  font-size: 18px;\\r\\n  font-family: sans-serif;\\r\\n  border-radius: 6px;\\r\\n  border: 3px solid #b7b779;\\r\\n  background-color: rgb(253, 253, 192);\\r\\n}\\r\\n\\r\\n\\r\\n.ex-toast-message button {\\r\\n  align-self: flex-start;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);\n\n\n/***/ }),\n\n/***/ 2609:\n/***/ ((module) => {\n\n\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = [];\n\n  // return the list of modules as css string\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n      content += cssWithMappingToString(item);\n      if (needLayer) {\n        content += \"}\";\n      }\n      if (item[2]) {\n        content += \"}\";\n      }\n      if (item[4]) {\n        content += \"}\";\n      }\n      return content;\n    }).join(\"\");\n  };\n\n  // import a list of modules into the list\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n    var alreadyImportedModules = {};\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n      list.push(item);\n    }\n  };\n  return list;\n};\n\n/***/ }),\n\n/***/ 272:\n/***/ ((module) => {\n\n\n\nmodule.exports = function (item) {\n  var content = item[1];\n  var cssMapping = item[3];\n  if (!cssMapping) {\n    return content;\n  }\n  if (typeof btoa === \"function\") {\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    return [content].concat([sourceMapping]).join(\"\\n\");\n  }\n  return [content].join(\"\\n\");\n};\n\n/***/ }),\n\n/***/ 1324:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\n__webpack_require__(7206);\nvar entryUnbind = __webpack_require__(8193);\n\nmodule.exports = entryUnbind('Array', 'sort');\n\n\n/***/ }),\n\n/***/ 3571:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\n__webpack_require__(9867);\nvar path = __webpack_require__(8588);\n\nmodule.exports = path.Object.keys;\n\n\n/***/ }),\n\n/***/ 1052:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar isCallable = __webpack_require__(688);\nvar tryToString = __webpack_require__(3397);\n\nvar $TypeError = TypeError;\n\n// `Assert: IsCallable(argument) is true`\nmodule.exports = function (argument) {\n  if (isCallable(argument)) return argument;\n  throw new $TypeError(tryToString(argument) + ' is not a function');\n};\n\n\n/***/ }),\n\n/***/ 9175:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar isObject = __webpack_require__(5309);\n\nvar $String = String;\nvar $TypeError = TypeError;\n\n// `Assert: Type(argument) is Object`\nmodule.exports = function (argument) {\n  if (isObject(argument)) return argument;\n  throw new $TypeError($String(argument) + ' is not an object');\n};\n\n\n/***/ }),\n\n/***/ 1138:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar toIndexedObject = __webpack_require__(6854);\nvar toAbsoluteIndex = __webpack_require__(7352);\nvar lengthOfArrayLike = __webpack_require__(8344);\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = lengthOfArrayLike(O);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (IS_INCLUDES && el !== el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare -- NaN check\n      if (value !== value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.es/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.es/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n\n\n/***/ }),\n\n/***/ 567:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar fails = __webpack_require__(4694);\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call -- required for testing\n    method.call(null, argument || function () { return 1; }, 1);\n  });\n};\n\n\n/***/ }),\n\n/***/ 7686:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar uncurryThis = __webpack_require__(9668);\n\nmodule.exports = uncurryThis([].slice);\n\n\n/***/ }),\n\n/***/ 3097:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar arraySlice = __webpack_require__(7686);\n\nvar floor = Math.floor;\n\nvar sort = function (array, comparefn) {\n  var length = array.length;\n\n  if (length < 8) {\n    // insertion sort\n    var i = 1;\n    var element, j;\n\n    while (i < length) {\n      j = i;\n      element = array[i];\n      while (j && comparefn(array[j - 1], element) > 0) {\n        array[j] = array[--j];\n      }\n      if (j !== i++) array[j] = element;\n    }\n  } else {\n    // merge sort\n    var middle = floor(length / 2);\n    var left = sort(arraySlice(array, 0, middle), comparefn);\n    var right = sort(arraySlice(array, middle), comparefn);\n    var llength = left.length;\n    var rlength = right.length;\n    var lindex = 0;\n    var rindex = 0;\n\n    while (lindex < llength || rindex < rlength) {\n      array[lindex + rindex] = (lindex < llength && rindex < rlength)\n        ? comparefn(left[lindex], right[rindex]) <= 0 ? left[lindex++] : right[rindex++]\n        : lindex < llength ? left[lindex++] : right[rindex++];\n    }\n  }\n\n  return array;\n};\n\nmodule.exports = sort;\n\n\n/***/ }),\n\n/***/ 2177:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar uncurryThis = __webpack_require__(9668);\n\nvar toString = uncurryThis({}.toString);\nvar stringSlice = uncurryThis(''.slice);\n\nmodule.exports = function (it) {\n  return stringSlice(toString(it), 8, -1);\n};\n\n\n/***/ }),\n\n/***/ 1566:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar TO_STRING_TAG_SUPPORT = __webpack_require__(2522);\nvar isCallable = __webpack_require__(688);\nvar classofRaw = __webpack_require__(2177);\nvar wellKnownSymbol = __webpack_require__(2032);\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar $Object = Object;\n\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) === 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = $Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) === 'Object' && isCallable(O.callee) ? 'Arguments' : result;\n};\n\n\n/***/ }),\n\n/***/ 3891:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar hasOwn = __webpack_require__(4678);\nvar ownKeys = __webpack_require__(990);\nvar getOwnPropertyDescriptorModule = __webpack_require__(7537);\nvar definePropertyModule = __webpack_require__(2131);\n\nmodule.exports = function (target, source, exceptions) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!hasOwn(target, key) && !(exceptions && hasOwn(exceptions, key))) {\n      defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n    }\n  }\n};\n\n\n/***/ }),\n\n/***/ 2385:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar DESCRIPTORS = __webpack_require__(9924);\nvar definePropertyModule = __webpack_require__(2131);\nvar createPropertyDescriptor = __webpack_require__(7781);\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n\n\n/***/ }),\n\n/***/ 7781:\n/***/ ((module) => {\n\n\nmodule.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n\n\n/***/ }),\n\n/***/ 2470:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar isCallable = __webpack_require__(688);\nvar definePropertyModule = __webpack_require__(2131);\nvar makeBuiltIn = __webpack_require__(1135);\nvar defineGlobalProperty = __webpack_require__(1604);\n\nmodule.exports = function (O, key, value, options) {\n  if (!options) options = {};\n  var simple = options.enumerable;\n  var name = options.name !== undefined ? options.name : key;\n  if (isCallable(value)) makeBuiltIn(value, name, options);\n  if (options.global) {\n    if (simple) O[key] = value;\n    else defineGlobalProperty(key, value);\n  } else {\n    try {\n      if (!options.unsafe) delete O[key];\n      else if (O[key]) simple = true;\n    } catch (error) { /* empty */ }\n    if (simple) O[key] = value;\n    else definePropertyModule.f(O, key, {\n      value: value,\n      enumerable: false,\n      configurable: !options.nonConfigurable,\n      writable: !options.nonWritable\n    });\n  } return O;\n};\n\n\n/***/ }),\n\n/***/ 1604:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar global = __webpack_require__(2150);\n\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar defineProperty = Object.defineProperty;\n\nmodule.exports = function (key, value) {\n  try {\n    defineProperty(global, key, { value: value, configurable: true, writable: true });\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n\n\n/***/ }),\n\n/***/ 955:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar tryToString = __webpack_require__(3397);\n\nvar $TypeError = TypeError;\n\nmodule.exports = function (O, P) {\n  if (!delete O[P]) throw new $TypeError('Cannot delete property ' + tryToString(P) + ' of ' + tryToString(O));\n};\n\n\n/***/ }),\n\n/***/ 9924:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar fails = __webpack_require__(4694);\n\n// Detect IE8's incomplete defineProperty implementation\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] !== 7;\n});\n\n\n/***/ }),\n\n/***/ 1442:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar global = __webpack_require__(2150);\nvar isObject = __webpack_require__(5309);\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n\n\n/***/ }),\n\n/***/ 9016:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar userAgent = __webpack_require__(1370);\n\nvar firefox = userAgent.match(/firefox\\/(\\d+)/i);\n\nmodule.exports = !!firefox && +firefox[1];\n\n\n/***/ }),\n\n/***/ 821:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar UA = __webpack_require__(1370);\n\nmodule.exports = /MSIE|Trident/.test(UA);\n\n\n/***/ }),\n\n/***/ 1370:\n/***/ ((module) => {\n\n\nmodule.exports = typeof navigator != 'undefined' && String(navigator.userAgent) || '';\n\n\n/***/ }),\n\n/***/ 7067:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar global = __webpack_require__(2150);\nvar userAgent = __webpack_require__(1370);\n\nvar process = global.process;\nvar Deno = global.Deno;\nvar versions = process && process.versions || Deno && Deno.version;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  // in old Chrome, versions of V8 isn't V8 = Chrome / 10\n  // but their correct versions are not interesting for us\n  version = match[0] > 0 && match[0] < 4 ? 1 : +(match[0] + match[1]);\n}\n\n// BrowserFS NodeJS `process` polyfill incorrectly set `.v8` to `0.0`\n// so check `userAgent` even if `.v8` exists, but 0\nif (!version && userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = +match[1];\n  }\n}\n\nmodule.exports = version;\n\n\n/***/ }),\n\n/***/ 4389:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar userAgent = __webpack_require__(1370);\n\nvar webkit = userAgent.match(/AppleWebKit\\/(\\d+)\\./);\n\nmodule.exports = !!webkit && +webkit[1];\n\n\n/***/ }),\n\n/***/ 8193:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar global = __webpack_require__(2150);\nvar uncurryThis = __webpack_require__(9668);\n\nmodule.exports = function (CONSTRUCTOR, METHOD) {\n  return uncurryThis(global[CONSTRUCTOR].prototype[METHOD]);\n};\n\n\n/***/ }),\n\n/***/ 2367:\n/***/ ((module) => {\n\n\n// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n\n\n/***/ }),\n\n/***/ 5532:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar global = __webpack_require__(2150);\nvar getOwnPropertyDescriptor = (__webpack_require__(7537).f);\nvar createNonEnumerableProperty = __webpack_require__(2385);\nvar defineBuiltIn = __webpack_require__(2470);\nvar defineGlobalProperty = __webpack_require__(1604);\nvar copyConstructorProperties = __webpack_require__(3891);\nvar isForced = __webpack_require__(1633);\n\n/*\n  options.target         - name of the target object\n  options.global         - target is the global object\n  options.stat           - export as static methods of target\n  options.proto          - export as prototype methods of target\n  options.real           - real prototype method for the `pure` version\n  options.forced         - export even if the native feature is available\n  options.bind           - bind methods to the target, required for the `pure` version\n  options.wrap           - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe         - use the simple assignment of property instead of delete + defineProperty\n  options.sham           - add a flag to not completely full polyfills\n  options.enumerable     - export as enumerable property\n  options.dontCallGetSet - prevent calling a getter on target\n  options.name           - the .name of the function if it does not match the key\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || defineGlobalProperty(TARGET, {});\n  } else {\n    target = global[TARGET] && global[TARGET].prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.dontCallGetSet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty == typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    defineBuiltIn(target, key, sourceProperty, options);\n  }\n};\n\n\n/***/ }),\n\n/***/ 4694:\n/***/ ((module) => {\n\n\nmodule.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n\n\n/***/ }),\n\n/***/ 6398:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar fails = __webpack_require__(4694);\n\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-function-prototype-bind -- safe\n  var test = (function () { /* empty */ }).bind();\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return typeof test != 'function' || test.hasOwnProperty('prototype');\n});\n\n\n/***/ }),\n\n/***/ 8724:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar NATIVE_BIND = __webpack_require__(6398);\n\nvar call = Function.prototype.call;\n\nmodule.exports = NATIVE_BIND ? call.bind(call) : function () {\n  return call.apply(call, arguments);\n};\n\n\n/***/ }),\n\n/***/ 453:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar DESCRIPTORS = __webpack_require__(9924);\nvar hasOwn = __webpack_require__(4678);\n\nvar FunctionPrototype = Function.prototype;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getDescriptor = DESCRIPTORS && Object.getOwnPropertyDescriptor;\n\nvar EXISTS = hasOwn(FunctionPrototype, 'name');\n// additional protection from minified / mangled / dropped function names\nvar PROPER = EXISTS && (function something() { /* empty */ }).name === 'something';\nvar CONFIGURABLE = EXISTS && (!DESCRIPTORS || (DESCRIPTORS && getDescriptor(FunctionPrototype, 'name').configurable));\n\nmodule.exports = {\n  EXISTS: EXISTS,\n  PROPER: PROPER,\n  CONFIGURABLE: CONFIGURABLE\n};\n\n\n/***/ }),\n\n/***/ 9668:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar NATIVE_BIND = __webpack_require__(6398);\n\nvar FunctionPrototype = Function.prototype;\nvar call = FunctionPrototype.call;\nvar uncurryThisWithBind = NATIVE_BIND && FunctionPrototype.bind.bind(call, call);\n\nmodule.exports = NATIVE_BIND ? uncurryThisWithBind : function (fn) {\n  return function () {\n    return call.apply(fn, arguments);\n  };\n};\n\n\n/***/ }),\n\n/***/ 2160:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar global = __webpack_require__(2150);\nvar isCallable = __webpack_require__(688);\n\nvar aFunction = function (argument) {\n  return isCallable(argument) ? argument : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(global[namespace]) : global[namespace] && global[namespace][method];\n};\n\n\n/***/ }),\n\n/***/ 5383:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar aCallable = __webpack_require__(1052);\nvar isNullOrUndefined = __webpack_require__(5268);\n\n// `GetMethod` abstract operation\n// https://tc39.es/ecma262/#sec-getmethod\nmodule.exports = function (V, P) {\n  var func = V[P];\n  return isNullOrUndefined(func) ? undefined : aCallable(func);\n};\n\n\n/***/ }),\n\n/***/ 2150:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\n\nvar check = function (it) {\n  return it && it.Math === Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line es/no-global-this -- safe\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  // eslint-disable-next-line no-restricted-globals -- safe\n  check(typeof self == 'object' && self) ||\n  check(typeof __webpack_require__.g == 'object' && __webpack_require__.g) ||\n  check(typeof this == 'object' && this) ||\n  // eslint-disable-next-line no-new-func -- fallback\n  (function () { return this; })() || Function('return this')();\n\n\n/***/ }),\n\n/***/ 4678:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar uncurryThis = __webpack_require__(9668);\nvar toObject = __webpack_require__(298);\n\nvar hasOwnProperty = uncurryThis({}.hasOwnProperty);\n\n// `HasOwnProperty` abstract operation\n// https://tc39.es/ecma262/#sec-hasownproperty\n// eslint-disable-next-line es/no-object-hasown -- safe\nmodule.exports = Object.hasOwn || function hasOwn(it, key) {\n  return hasOwnProperty(toObject(it), key);\n};\n\n\n/***/ }),\n\n/***/ 7390:\n/***/ ((module) => {\n\n\nmodule.exports = {};\n\n\n/***/ }),\n\n/***/ 7913:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar DESCRIPTORS = __webpack_require__(9924);\nvar fails = __webpack_require__(4694);\nvar createElement = __webpack_require__(1442);\n\n// Thanks to IE8 for its funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a !== 7;\n});\n\n\n/***/ }),\n\n/***/ 4347:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar uncurryThis = __webpack_require__(9668);\nvar fails = __webpack_require__(4694);\nvar classof = __webpack_require__(2177);\n\nvar $Object = Object;\nvar split = uncurryThis(''.split);\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return !$Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) === 'String' ? split(it, '') : $Object(it);\n} : $Object;\n\n\n/***/ }),\n\n/***/ 1881:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar uncurryThis = __webpack_require__(9668);\nvar isCallable = __webpack_require__(688);\nvar store = __webpack_require__(6762);\n\nvar functionToString = uncurryThis(Function.toString);\n\n// this helper broken in `core-js@3.4.1-3.4.4`, so we can't use `shared` helper\nif (!isCallable(store.inspectSource)) {\n  store.inspectSource = function (it) {\n    return functionToString(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n\n\n/***/ }),\n\n/***/ 7804:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar NATIVE_WEAK_MAP = __webpack_require__(4724);\nvar global = __webpack_require__(2150);\nvar isObject = __webpack_require__(5309);\nvar createNonEnumerableProperty = __webpack_require__(2385);\nvar hasOwn = __webpack_require__(4678);\nvar shared = __webpack_require__(6762);\nvar sharedKey = __webpack_require__(1962);\nvar hiddenKeys = __webpack_require__(7390);\n\nvar OBJECT_ALREADY_INITIALIZED = 'Object already initialized';\nvar TypeError = global.TypeError;\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw new TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP || shared.state) {\n  var store = shared.state || (shared.state = new WeakMap());\n  /* eslint-disable no-self-assign -- prototype methods protection */\n  store.get = store.get;\n  store.has = store.has;\n  store.set = store.set;\n  /* eslint-enable no-self-assign -- prototype methods protection */\n  set = function (it, metadata) {\n    if (store.has(it)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    store.set(it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return store.get(it) || {};\n  };\n  has = function (it) {\n    return store.has(it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    if (hasOwn(it, STATE)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return hasOwn(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return hasOwn(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n\n\n/***/ }),\n\n/***/ 688:\n/***/ ((module) => {\n\n\n// https://tc39.es/ecma262/#sec-IsHTMLDDA-internal-slot\nvar documentAll = typeof document == 'object' && document.all;\n\n// `IsCallable` abstract operation\n// https://tc39.es/ecma262/#sec-iscallable\n// eslint-disable-next-line unicorn/no-typeof-undefined -- required for testing\nmodule.exports = typeof documentAll == 'undefined' && documentAll !== undefined ? function (argument) {\n  return typeof argument == 'function' || argument === documentAll;\n} : function (argument) {\n  return typeof argument == 'function';\n};\n\n\n/***/ }),\n\n/***/ 1633:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar fails = __webpack_require__(4694);\nvar isCallable = __webpack_require__(688);\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value === POLYFILL ? true\n    : value === NATIVE ? false\n    : isCallable(detection) ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n\n\n/***/ }),\n\n/***/ 5268:\n/***/ ((module) => {\n\n\n// we can't use just `it == null` since of `document.all` special case\n// https://tc39.es/ecma262/#sec-IsHTMLDDA-internal-slot-aec\nmodule.exports = function (it) {\n  return it === null || it === undefined;\n};\n\n\n/***/ }),\n\n/***/ 5309:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar isCallable = __webpack_require__(688);\n\nmodule.exports = function (it) {\n  return typeof it == 'object' ? it !== null : isCallable(it);\n};\n\n\n/***/ }),\n\n/***/ 6555:\n/***/ ((module) => {\n\n\nmodule.exports = false;\n\n\n/***/ }),\n\n/***/ 7935:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar getBuiltIn = __webpack_require__(2160);\nvar isCallable = __webpack_require__(688);\nvar isPrototypeOf = __webpack_require__(6148);\nvar USE_SYMBOL_AS_UID = __webpack_require__(4866);\n\nvar $Object = Object;\n\nmodule.exports = USE_SYMBOL_AS_UID ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  var $Symbol = getBuiltIn('Symbol');\n  return isCallable($Symbol) && isPrototypeOf($Symbol.prototype, $Object(it));\n};\n\n\n/***/ }),\n\n/***/ 8344:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar toLength = __webpack_require__(7331);\n\n// `LengthOfArrayLike` abstract operation\n// https://tc39.es/ecma262/#sec-lengthofarraylike\nmodule.exports = function (obj) {\n  return toLength(obj.length);\n};\n\n\n/***/ }),\n\n/***/ 1135:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar uncurryThis = __webpack_require__(9668);\nvar fails = __webpack_require__(4694);\nvar isCallable = __webpack_require__(688);\nvar hasOwn = __webpack_require__(4678);\nvar DESCRIPTORS = __webpack_require__(9924);\nvar CONFIGURABLE_FUNCTION_NAME = (__webpack_require__(453).CONFIGURABLE);\nvar inspectSource = __webpack_require__(1881);\nvar InternalStateModule = __webpack_require__(7804);\n\nvar enforceInternalState = InternalStateModule.enforce;\nvar getInternalState = InternalStateModule.get;\nvar $String = String;\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar defineProperty = Object.defineProperty;\nvar stringSlice = uncurryThis(''.slice);\nvar replace = uncurryThis(''.replace);\nvar join = uncurryThis([].join);\n\nvar CONFIGURABLE_LENGTH = DESCRIPTORS && !fails(function () {\n  return defineProperty(function () { /* empty */ }, 'length', { value: 8 }).length !== 8;\n});\n\nvar TEMPLATE = String(String).split('String');\n\nvar makeBuiltIn = module.exports = function (value, name, options) {\n  if (stringSlice($String(name), 0, 7) === 'Symbol(') {\n    name = '[' + replace($String(name), /^Symbol\\(([^)]*)\\).*$/, '$1') + ']';\n  }\n  if (options && options.getter) name = 'get ' + name;\n  if (options && options.setter) name = 'set ' + name;\n  if (!hasOwn(value, 'name') || (CONFIGURABLE_FUNCTION_NAME && value.name !== name)) {\n    if (DESCRIPTORS) defineProperty(value, 'name', { value: name, configurable: true });\n    else value.name = name;\n  }\n  if (CONFIGURABLE_LENGTH && options && hasOwn(options, 'arity') && value.length !== options.arity) {\n    defineProperty(value, 'length', { value: options.arity });\n  }\n  try {\n    if (options && hasOwn(options, 'constructor') && options.constructor) {\n      if (DESCRIPTORS) defineProperty(value, 'prototype', { writable: false });\n    // in V8 ~ Chrome 53, prototypes of some methods, like `Array.prototype.values`, are non-writable\n    } else if (value.prototype) value.prototype = undefined;\n  } catch (error) { /* empty */ }\n  var state = enforceInternalState(value);\n  if (!hasOwn(state, 'source')) {\n    state.source = join(TEMPLATE, typeof name == 'string' ? name : '');\n  } return value;\n};\n\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n// eslint-disable-next-line no-extend-native -- required\nFunction.prototype.toString = makeBuiltIn(function toString() {\n  return isCallable(this) && getInternalState(this).source || inspectSource(this);\n}, 'toString');\n\n\n/***/ }),\n\n/***/ 1787:\n/***/ ((module) => {\n\n\nvar ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `Math.trunc` method\n// https://tc39.es/ecma262/#sec-math.trunc\n// eslint-disable-next-line es/no-math-trunc -- safe\nmodule.exports = Math.trunc || function trunc(x) {\n  var n = +x;\n  return (n > 0 ? floor : ceil)(n);\n};\n\n\n/***/ }),\n\n/***/ 2131:\n/***/ ((__unused_webpack_module, exports, __webpack_require__) => {\n\n\nvar DESCRIPTORS = __webpack_require__(9924);\nvar IE8_DOM_DEFINE = __webpack_require__(7913);\nvar V8_PROTOTYPE_DEFINE_BUG = __webpack_require__(2666);\nvar anObject = __webpack_require__(9175);\nvar toPropertyKey = __webpack_require__(2358);\n\nvar $TypeError = TypeError;\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar $defineProperty = Object.defineProperty;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar ENUMERABLE = 'enumerable';\nvar CONFIGURABLE = 'configurable';\nvar WRITABLE = 'writable';\n\n// `Object.defineProperty` method\n// https://tc39.es/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? V8_PROTOTYPE_DEFINE_BUG ? function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (typeof O === 'function' && P === 'prototype' && 'value' in Attributes && WRITABLE in Attributes && !Attributes[WRITABLE]) {\n    var current = $getOwnPropertyDescriptor(O, P);\n    if (current && current[WRITABLE]) {\n      O[P] = Attributes.value;\n      Attributes = {\n        configurable: CONFIGURABLE in Attributes ? Attributes[CONFIGURABLE] : current[CONFIGURABLE],\n        enumerable: ENUMERABLE in Attributes ? Attributes[ENUMERABLE] : current[ENUMERABLE],\n        writable: false\n      };\n    }\n  } return $defineProperty(O, P, Attributes);\n} : $defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return $defineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw new $TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n\n\n/***/ }),\n\n/***/ 7537:\n/***/ ((__unused_webpack_module, exports, __webpack_require__) => {\n\n\nvar DESCRIPTORS = __webpack_require__(9924);\nvar call = __webpack_require__(8724);\nvar propertyIsEnumerableModule = __webpack_require__(8208);\nvar createPropertyDescriptor = __webpack_require__(7781);\nvar toIndexedObject = __webpack_require__(6854);\nvar toPropertyKey = __webpack_require__(2358);\nvar hasOwn = __webpack_require__(4678);\nvar IE8_DOM_DEFINE = __webpack_require__(7913);\n\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? $getOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPropertyKey(P);\n  if (IE8_DOM_DEFINE) try {\n    return $getOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (hasOwn(O, P)) return createPropertyDescriptor(!call(propertyIsEnumerableModule.f, O, P), O[P]);\n};\n\n\n/***/ }),\n\n/***/ 6217:\n/***/ ((__unused_webpack_module, exports, __webpack_require__) => {\n\n\nvar internalObjectKeys = __webpack_require__(1528);\nvar enumBugKeys = __webpack_require__(2367);\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.es/ecma262/#sec-object.getownpropertynames\n// eslint-disable-next-line es/no-object-getownpropertynames -- safe\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n\n\n/***/ }),\n\n/***/ 5168:\n/***/ ((__unused_webpack_module, exports) => {\n\n\n// eslint-disable-next-line es/no-object-getownpropertysymbols -- safe\nexports.f = Object.getOwnPropertySymbols;\n\n\n/***/ }),\n\n/***/ 6148:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar uncurryThis = __webpack_require__(9668);\n\nmodule.exports = uncurryThis({}.isPrototypeOf);\n\n\n/***/ }),\n\n/***/ 1528:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar uncurryThis = __webpack_require__(9668);\nvar hasOwn = __webpack_require__(4678);\nvar toIndexedObject = __webpack_require__(6854);\nvar indexOf = (__webpack_require__(1138).indexOf);\nvar hiddenKeys = __webpack_require__(7390);\n\nvar push = uncurryThis([].push);\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !hasOwn(hiddenKeys, key) && hasOwn(O, key) && push(result, key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (hasOwn(O, key = names[i++])) {\n    ~indexOf(result, key) || push(result, key);\n  }\n  return result;\n};\n\n\n/***/ }),\n\n/***/ 1728:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar internalObjectKeys = __webpack_require__(1528);\nvar enumBugKeys = __webpack_require__(2367);\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n// eslint-disable-next-line es/no-object-keys -- safe\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n\n\n/***/ }),\n\n/***/ 8208:\n/***/ ((__unused_webpack_module, exports) => {\n\n\nvar $propertyIsEnumerable = {}.propertyIsEnumerable;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !$propertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : $propertyIsEnumerable;\n\n\n/***/ }),\n\n/***/ 110:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar call = __webpack_require__(8724);\nvar isCallable = __webpack_require__(688);\nvar isObject = __webpack_require__(5309);\n\nvar $TypeError = TypeError;\n\n// `OrdinaryToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-ordinarytoprimitive\nmodule.exports = function (input, pref) {\n  var fn, val;\n  if (pref === 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;\n  if (isCallable(fn = input.valueOf) && !isObject(val = call(fn, input))) return val;\n  if (pref !== 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;\n  throw new $TypeError(\"Can't convert object to primitive value\");\n};\n\n\n/***/ }),\n\n/***/ 990:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar getBuiltIn = __webpack_require__(2160);\nvar uncurryThis = __webpack_require__(9668);\nvar getOwnPropertyNamesModule = __webpack_require__(6217);\nvar getOwnPropertySymbolsModule = __webpack_require__(5168);\nvar anObject = __webpack_require__(9175);\n\nvar concat = uncurryThis([].concat);\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? concat(keys, getOwnPropertySymbols(it)) : keys;\n};\n\n\n/***/ }),\n\n/***/ 8588:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar global = __webpack_require__(2150);\n\nmodule.exports = global;\n\n\n/***/ }),\n\n/***/ 1166:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar isNullOrUndefined = __webpack_require__(5268);\n\nvar $TypeError = TypeError;\n\n// `RequireObjectCoercible` abstract operation\n// https://tc39.es/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (isNullOrUndefined(it)) throw new $TypeError(\"Can't call method on \" + it);\n  return it;\n};\n\n\n/***/ }),\n\n/***/ 1962:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar shared = __webpack_require__(2645);\nvar uid = __webpack_require__(5736);\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n\n\n/***/ }),\n\n/***/ 6762:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar global = __webpack_require__(2150);\nvar defineGlobalProperty = __webpack_require__(1604);\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || defineGlobalProperty(SHARED, {});\n\nmodule.exports = store;\n\n\n/***/ }),\n\n/***/ 2645:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar IS_PURE = __webpack_require__(6555);\nvar store = __webpack_require__(6762);\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.35.1',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: ' 2014-2024 Denis Pushkarev (zloirock.ru)',\n  license: 'https://github.com/zloirock/core-js/blob/v3.35.1/LICENSE',\n  source: 'https://github.com/zloirock/core-js'\n});\n\n\n/***/ }),\n\n/***/ 4112:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\n/* eslint-disable es/no-symbol -- required for testing */\nvar V8_VERSION = __webpack_require__(7067);\nvar fails = __webpack_require__(4694);\nvar global = __webpack_require__(2150);\n\nvar $String = global.String;\n\n// eslint-disable-next-line es/no-object-getownpropertysymbols -- required for testing\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  var symbol = Symbol('symbol detection');\n  // Chrome 38 Symbol has incorrect toString conversion\n  // `get-own-property-symbols` polyfill symbols converted to object are not Symbol instances\n  // nb: Do not call `String` directly to avoid this being optimized out to `symbol+''` which will,\n  // of course, fail.\n  return !$String(symbol) || !(Object(symbol) instanceof Symbol) ||\n    // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances\n    !Symbol.sham && V8_VERSION && V8_VERSION < 41;\n});\n\n\n/***/ }),\n\n/***/ 7352:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar toIntegerOrInfinity = __webpack_require__(1680);\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toIntegerOrInfinity(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n\n\n/***/ }),\n\n/***/ 6854:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\n// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = __webpack_require__(4347);\nvar requireObjectCoercible = __webpack_require__(1166);\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n\n\n/***/ }),\n\n/***/ 1680:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar trunc = __webpack_require__(1787);\n\n// `ToIntegerOrInfinity` abstract operation\n// https://tc39.es/ecma262/#sec-tointegerorinfinity\nmodule.exports = function (argument) {\n  var number = +argument;\n  // eslint-disable-next-line no-self-compare -- NaN check\n  return number !== number || number === 0 ? 0 : trunc(number);\n};\n\n\n/***/ }),\n\n/***/ 7331:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar toIntegerOrInfinity = __webpack_require__(1680);\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.es/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  var len = toIntegerOrInfinity(argument);\n  return len > 0 ? min(len, 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n\n\n/***/ }),\n\n/***/ 298:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar requireObjectCoercible = __webpack_require__(1166);\n\nvar $Object = Object;\n\n// `ToObject` abstract operation\n// https://tc39.es/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return $Object(requireObjectCoercible(argument));\n};\n\n\n/***/ }),\n\n/***/ 1272:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar call = __webpack_require__(8724);\nvar isObject = __webpack_require__(5309);\nvar isSymbol = __webpack_require__(7935);\nvar getMethod = __webpack_require__(5383);\nvar ordinaryToPrimitive = __webpack_require__(110);\nvar wellKnownSymbol = __webpack_require__(2032);\n\nvar $TypeError = TypeError;\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\n\n// `ToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-toprimitive\nmodule.exports = function (input, pref) {\n  if (!isObject(input) || isSymbol(input)) return input;\n  var exoticToPrim = getMethod(input, TO_PRIMITIVE);\n  var result;\n  if (exoticToPrim) {\n    if (pref === undefined) pref = 'default';\n    result = call(exoticToPrim, input, pref);\n    if (!isObject(result) || isSymbol(result)) return result;\n    throw new $TypeError(\"Can't convert object to primitive value\");\n  }\n  if (pref === undefined) pref = 'number';\n  return ordinaryToPrimitive(input, pref);\n};\n\n\n/***/ }),\n\n/***/ 2358:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar toPrimitive = __webpack_require__(1272);\nvar isSymbol = __webpack_require__(7935);\n\n// `ToPropertyKey` abstract operation\n// https://tc39.es/ecma262/#sec-topropertykey\nmodule.exports = function (argument) {\n  var key = toPrimitive(argument, 'string');\n  return isSymbol(key) ? key : key + '';\n};\n\n\n/***/ }),\n\n/***/ 2522:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar wellKnownSymbol = __webpack_require__(2032);\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n\n\n/***/ }),\n\n/***/ 599:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar classof = __webpack_require__(1566);\n\nvar $String = String;\n\nmodule.exports = function (argument) {\n  if (classof(argument) === 'Symbol') throw new TypeError('Cannot convert a Symbol value to a string');\n  return $String(argument);\n};\n\n\n/***/ }),\n\n/***/ 3397:\n/***/ ((module) => {\n\n\nvar $String = String;\n\nmodule.exports = function (argument) {\n  try {\n    return $String(argument);\n  } catch (error) {\n    return 'Object';\n  }\n};\n\n\n/***/ }),\n\n/***/ 5736:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar uncurryThis = __webpack_require__(9668);\n\nvar id = 0;\nvar postfix = Math.random();\nvar toString = uncurryThis(1.0.toString);\n\nmodule.exports = function (key) {\n  return 'Symbol(' + (key === undefined ? '' : key) + ')_' + toString(++id + postfix, 36);\n};\n\n\n/***/ }),\n\n/***/ 4866:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\n/* eslint-disable es/no-symbol -- required for testing */\nvar NATIVE_SYMBOL = __webpack_require__(4112);\n\nmodule.exports = NATIVE_SYMBOL\n  && !Symbol.sham\n  && typeof Symbol.iterator == 'symbol';\n\n\n/***/ }),\n\n/***/ 2666:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar DESCRIPTORS = __webpack_require__(9924);\nvar fails = __webpack_require__(4694);\n\n// V8 ~ Chrome 36-\n// https://bugs.chromium.org/p/v8/issues/detail?id=3334\nmodule.exports = DESCRIPTORS && fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty(function () { /* empty */ }, 'prototype', {\n    value: 42,\n    writable: false\n  }).prototype !== 42;\n});\n\n\n/***/ }),\n\n/***/ 4724:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar global = __webpack_require__(2150);\nvar isCallable = __webpack_require__(688);\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = isCallable(WeakMap) && /native code/.test(String(WeakMap));\n\n\n/***/ }),\n\n/***/ 2032:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar global = __webpack_require__(2150);\nvar shared = __webpack_require__(2645);\nvar hasOwn = __webpack_require__(4678);\nvar uid = __webpack_require__(5736);\nvar NATIVE_SYMBOL = __webpack_require__(4112);\nvar USE_SYMBOL_AS_UID = __webpack_require__(4866);\n\nvar Symbol = global.Symbol;\nvar WellKnownSymbolsStore = shared('wks');\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol['for'] || Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!hasOwn(WellKnownSymbolsStore, name)) {\n    WellKnownSymbolsStore[name] = NATIVE_SYMBOL && hasOwn(Symbol, name)\n      ? Symbol[name]\n      : createWellKnownSymbol('Symbol.' + name);\n  } return WellKnownSymbolsStore[name];\n};\n\n\n/***/ }),\n\n/***/ 7206:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar $ = __webpack_require__(5532);\nvar uncurryThis = __webpack_require__(9668);\nvar aCallable = __webpack_require__(1052);\nvar toObject = __webpack_require__(298);\nvar lengthOfArrayLike = __webpack_require__(8344);\nvar deletePropertyOrThrow = __webpack_require__(955);\nvar toString = __webpack_require__(599);\nvar fails = __webpack_require__(4694);\nvar internalSort = __webpack_require__(3097);\nvar arrayMethodIsStrict = __webpack_require__(567);\nvar FF = __webpack_require__(9016);\nvar IE_OR_EDGE = __webpack_require__(821);\nvar V8 = __webpack_require__(7067);\nvar WEBKIT = __webpack_require__(4389);\n\nvar test = [];\nvar nativeSort = uncurryThis(test.sort);\nvar push = uncurryThis(test.push);\n\n// IE8-\nvar FAILS_ON_UNDEFINED = fails(function () {\n  test.sort(undefined);\n});\n// V8 bug\nvar FAILS_ON_NULL = fails(function () {\n  test.sort(null);\n});\n// Old WebKit\nvar STRICT_METHOD = arrayMethodIsStrict('sort');\n\nvar STABLE_SORT = !fails(function () {\n  // feature detection can be too slow, so check engines versions\n  if (V8) return V8 < 70;\n  if (FF && FF > 3) return;\n  if (IE_OR_EDGE) return true;\n  if (WEBKIT) return WEBKIT < 603;\n\n  var result = '';\n  var code, chr, value, index;\n\n  // generate an array with more 512 elements (Chakra and old V8 fails only in this case)\n  for (code = 65; code < 76; code++) {\n    chr = String.fromCharCode(code);\n\n    switch (code) {\n      case 66: case 69: case 70: case 72: value = 3; break;\n      case 68: case 71: value = 4; break;\n      default: value = 2;\n    }\n\n    for (index = 0; index < 47; index++) {\n      test.push({ k: chr + index, v: value });\n    }\n  }\n\n  test.sort(function (a, b) { return b.v - a.v; });\n\n  for (index = 0; index < test.length; index++) {\n    chr = test[index].k.charAt(0);\n    if (result.charAt(result.length - 1) !== chr) result += chr;\n  }\n\n  return result !== 'DGBEFHACIJK';\n});\n\nvar FORCED = FAILS_ON_UNDEFINED || !FAILS_ON_NULL || !STRICT_METHOD || !STABLE_SORT;\n\nvar getSortCompare = function (comparefn) {\n  return function (x, y) {\n    if (y === undefined) return -1;\n    if (x === undefined) return 1;\n    if (comparefn !== undefined) return +comparefn(x, y) || 0;\n    return toString(x) > toString(y) ? 1 : -1;\n  };\n};\n\n// `Array.prototype.sort` method\n// https://tc39.es/ecma262/#sec-array.prototype.sort\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  sort: function sort(comparefn) {\n    if (comparefn !== undefined) aCallable(comparefn);\n\n    var array = toObject(this);\n\n    if (STABLE_SORT) return comparefn === undefined ? nativeSort(array) : nativeSort(array, comparefn);\n\n    var items = [];\n    var arrayLength = lengthOfArrayLike(array);\n    var itemsLength, index;\n\n    for (index = 0; index < arrayLength; index++) {\n      if (index in array) push(items, array[index]);\n    }\n\n    internalSort(items, getSortCompare(comparefn));\n\n    itemsLength = lengthOfArrayLike(items);\n    index = 0;\n\n    while (index < itemsLength) array[index] = items[index++];\n    while (index < arrayLength) deletePropertyOrThrow(array, index++);\n\n    return array;\n  }\n});\n\n\n/***/ }),\n\n/***/ 9867:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar $ = __webpack_require__(5532);\nvar toObject = __webpack_require__(298);\nvar nativeKeys = __webpack_require__(1728);\nvar fails = __webpack_require__(4694);\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeKeys(1); });\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {\n  keys: function keys(it) {\n    return nativeKeys(toObject(it));\n  }\n});\n\n\n/***/ })\n\n/******/ });\n/************************************************************************/\n/******/ // The module cache\n/******/ var __webpack_module_cache__ = {};\n/******/ \n/******/ // The require function\n/******/ function __webpack_require__(moduleId) {\n/******/ \t// Check if module is in cache\n/******/ \tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \tif (cachedModule !== undefined) {\n/******/ \t\treturn cachedModule.exports;\n/******/ \t}\n/******/ \t// Create a new module (and put it into the cache)\n/******/ \tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\tid: moduleId,\n/******/ \t\t// no module.loaded needed\n/******/ \t\texports: {}\n/******/ \t};\n/******/ \n/******/ \t// Execute the module function\n/******/ \t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/ \n/******/ \t// Return the exports of the module\n/******/ \treturn module.exports;\n/******/ }\n/******/ \n/************************************************************************/\n/******/ /* webpack/runtime/compat get default export */\n/******/ (() => {\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = (module) => {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\t() => (module['default']) :\n/******/ \t\t\t() => (module);\n/******/ \t\t__webpack_require__.d(getter, { a: getter });\n/******/ \t\treturn getter;\n/******/ \t};\n/******/ })();\n/******/ \n/******/ /* webpack/runtime/define property getters */\n/******/ (() => {\n/******/ \t// define getter functions for harmony exports\n/******/ \t__webpack_require__.d = (exports, definition) => {\n/******/ \t\tfor(var key in definition) {\n/******/ \t\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n/******/ \t\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n/******/ \t\t\t}\n/******/ \t\t}\n/******/ \t};\n/******/ })();\n/******/ \n/******/ /* webpack/runtime/global */\n/******/ (() => {\n/******/ \t__webpack_require__.g = (function() {\n/******/ \t\tif (typeof globalThis === 'object') return globalThis;\n/******/ \t\ttry {\n/******/ \t\t\treturn this || new Function('return this')();\n/******/ \t\t} catch (e) {\n/******/ \t\t\tif (typeof window === 'object') return window;\n/******/ \t\t}\n/******/ \t})();\n/******/ })();\n/******/ \n/******/ /* webpack/runtime/hasOwnProperty shorthand */\n/******/ (() => {\n/******/ \t__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))\n/******/ })();\n/******/ \n/******/ /* webpack/runtime/make namespace object */\n/******/ (() => {\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = (exports) => {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/ })();\n/******/ \n/************************************************************************/\nvar __webpack_exports__ = {};\n// This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.\n(() => {\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  y1j: () => (/* reexport */ ActionCompleteEvent),\n  fWn: () => (/* reexport */ ActionContext),\n  Ia8: () => (/* reexport */ ActionQueue),\n  rqv: () => (/* reexport */ ActionSequence),\n  zH6: () => (/* reexport */ ActionStartEvent),\n  hLI: () => (/* reexport */ ActionsComponent),\n  yyv: () => (/* reexport */ ActionsSystem),\n  tX5: () => (/* reexport */ ActivateEvent),\n  vtX: () => (/* reexport */ Actor),\n  r7K: () => (/* reexport */ AddedComponent),\n  cE4: () => (/* reexport */ AffineMatrix),\n  fwF: () => (/* reexport */ Animation),\n  sce: () => (/* reexport */ AnimationDirection),\n  AQ6: () => (/* reexport */ AnimationEvents),\n  _c7: () => (/* reexport */ AnimationStrategy),\n  KUs: () => (/* reexport */ ArcadeSolver),\n  Ajp: () => (/* reexport */ AudioContextFactory),\n  dkO: () => (/* reexport */ Axes),\n  RDh: () => (/* reexport */ Axis),\n  _H9: () => (/* reexport */ BaseAlign),\n  mxs: () => (/* reexport */ Blink),\n  OmD: () => (/* reexport */ BodyComponent),\n  kBf: () => (/* reexport */ BoundingBox),\n  C4F: () => (/* reexport */ BroadphaseStrategy),\n  NQt: () => (/* reexport */ BrowserComponent),\n  JjN: () => (/* reexport */ BrowserEvents),\n  EK_: () => (/* reexport */ Buttons),\n  V1s: () => (/* reexport */ Camera),\n  xHm: () => (/* reexport */ CameraEvents),\n  Xz7: () => (/* reexport */ Canvas),\n  Cdc: () => (/* reexport */ Circle),\n  FKn: () => (/* reexport */ CircleCollider),\n  SUY: () => (/* reexport */ Clock),\n  ab2: () => (/* reexport */ ClosestLine),\n  GfZ: () => (/* reexport */ ClosestLineJumpTable),\n  YMS: () => (/* reexport */ Collider),\n  oyv: () => (/* reexport */ ColliderComponent),\n  aUb: () => (/* reexport */ CollisionContact),\n  SdD: () => (/* reexport */ CollisionEndEvent),\n  JUv: () => (/* reexport */ CollisionGroup),\n  jEj: () => (/* reexport */ CollisionGroupManager),\n  TFq: () => (/* reexport */ CollisionJumpTable),\n  HDU: () => (/* reexport */ CollisionPostSolveEvent),\n  R_y: () => (/* reexport */ CollisionPreSolveEvent),\n  t50: () => (/* reexport */ CollisionStartEvent),\n  s$$: () => (/* reexport */ CollisionSystem),\n  v2G: () => (/* reexport */ CollisionType),\n  Ilk: () => (/* reexport */ Color),\n  s9i: () => (/* reexport */ ColorBlindFlags),\n  dxL: () => (/* reexport */ ColorBlindnessMode),\n  LLX: () => (/* reexport */ ColorBlindnessPostProcessor),\n  wA2: () => (/* reexport */ Component),\n  R_p: () => (/* reexport */ CompositeCollider),\n  IQ$: () => (/* reexport */ Configurable),\n  I5F: () => (/* reexport */ ConsoleAppender),\n  X8$: () => (/* reexport */ ContactConstraintPoint),\n  FR6: () => (/* reexport */ ContactEndEvent),\n  pTZ: () => (/* reexport */ ContactSolveBias),\n  U8o: () => (/* reexport */ ContactStartEvent),\n  kbG: () => (/* reexport */ CoordPlane),\n  FEv: () => (/* reexport */ CrossFade),\n  iS_: () => (/* reexport */ DeactivateEvent),\n  cGG: () => (/* reexport */ Debug),\n  ETM: () => (/* reexport */ DebugConfig),\n  RPN: () => (/* reexport */ DebugGraphicsComponent),\n  skb: () => (/* reexport */ DebugSystem),\n  SLU: () => (/* reexport */ DebugText),\n  Q3w: () => (/* reexport */ DefaultAntialiasOptions),\n  xK2: () => (/* reexport */ DefaultLoader),\n  vrO: () => (/* reexport */ DefaultPhysicsConfig),\n  EA2: () => (/* reexport */ DefaultPixelArtOptions),\n  RdJ: () => (/* reexport */ DegreeOfFreedom),\n  cNu: () => (/* reexport */ Delay),\n  wtG: () => (/* reexport */ DeprecatedStaticToConfig),\n  gU7: () => (/* reexport */ Detector),\n  LSk: () => (/* reexport */ Die),\n  Nmp: () => (/* reexport */ Direction),\n  twX: () => (/* reexport */ Director),\n  UND: () => (/* reexport */ DirectorEvents),\n  d1Y: () => (/* reexport */ DisplayMode),\n  xrL: () => (/* reexport */ DynamicTree),\n  sRW: () => (/* reexport */ DynamicTreeCollisionProcessor),\n  cmV: () => (/* binding */ EX_VERSION),\n  qWz: () => (/* reexport */ EaseBy),\n  N0Q: () => (/* reexport */ EaseTo),\n  q8b: () => (/* reexport */ EasingFunctions),\n  ynB: () => (/* reexport */ EdgeCollider),\n  jT9: () => (/* reexport */ ElasticToActorStrategy),\n  wAz: () => (/* reexport */ EmitterType),\n  D4V: () => (/* reexport */ Engine),\n  NLr: () => (/* reexport */ EngineEvents),\n  N6H: () => (/* reexport */ EnterTriggerEvent),\n  W1A: () => (/* reexport */ EnterViewPortEvent),\n  JHW: () => (/* reexport */ Entity),\n  ZZ$: () => (/* reexport */ EntityEvents),\n  v2K: () => (/* reexport */ EntityManager),\n  pBf: () => (/* reexport */ EventDispatcher),\n  vpe: () => (/* reexport */ EventEmitter),\n  GMl: () => (/* reexport */ EventTypes),\n  zW2: () => (/* reexport */ Events_namespaceObject),\n  B0K: () => (/* reexport */ ExResponse),\n  Nv7: () => (/* reexport */ ExcaliburGraphicsContext2DCanvas),\n  C_p: () => (/* reexport */ ExcaliburGraphicsContextWebGL),\n  MUA: () => (/* reexport */ ExitTriggerEvent),\n  xqU: () => (/* reexport */ ExitViewPortEvent),\n  pTp: () => (/* reexport */ Fade),\n  trb: () => (/* reexport */ FadeInOut),\n  vUK: () => (/* reexport */ Flags),\n  j9l: () => (/* reexport */ Follow),\n  Zxw: () => (/* reexport */ Font),\n  v51: () => (/* reexport */ FontCache),\n  gYv: () => (/* reexport */ FontSource),\n  Hdx: () => (/* reexport */ FontStyle),\n  Z$d: () => (/* reexport */ FontUnit),\n  iqV: () => (/* reexport */ FpsSampler),\n  o$7: () => (/* reexport */ FrameStats),\n  olM: () => (/* reexport */ Future),\n  Zm$: () => (/* reexport */ GameEvent),\n  $QH: () => (/* reexport */ GameStartEvent),\n  i78: () => (/* reexport */ GameStopEvent),\n  nJg: () => (/* reexport */ Gamepad),\n  h6u: () => (/* reexport */ GamepadAxisEvent),\n  hts: () => (/* reexport */ GamepadButtonEvent),\n  j88: () => (/* reexport */ GamepadConnectEvent),\n  VME: () => (/* reexport */ GamepadDisconnectEvent),\n  fy2: () => (/* reexport */ Gamepads),\n  nt: () => (/* reexport */ Gif),\n  Ukr: () => (/* reexport */ GlobalCoordinates),\n  zsu: () => (/* reexport */ Graphic),\n  oA6: () => (/* reexport */ GraphicsComponent),\n  TVh: () => (/* reexport */ GraphicsGroup),\n  xxj: () => (/* reexport */ GraphicsSystem),\n  XdK: () => (/* reexport */ HiddenEvent),\n  fBD: () => (/* reexport */ HorizontalFirst),\n  Jmb: () => (/* reexport */ ImageFiltering),\n  cXo: () => (/* reexport */ ImageSource),\n  Dm5: () => (/* reexport */ InitializeEvent),\n  IIB: () => (/* reexport */ Input_Index_namespaceObject),\n  IX$: () => (/* reexport */ InputHost),\n  ebW: () => (/* reexport */ InputMapper),\n  zI0: () => (/* reexport */ Integrator),\n  LYD: () => (/* reexport */ IsometricEntityComponent),\n  cEG: () => (/* reexport */ IsometricEntitySystem),\n  SEl: () => (/* reexport */ IsometricMap),\n  t9V: () => (/* reexport */ IsometricTile),\n  ez5: () => (/* reexport */ KeyEvent),\n  N1d: () => (/* reexport */ Keyboard),\n  R8U: () => (/* reexport */ Keys),\n  SKZ: () => (/* reexport */ KillEvent),\n  __J: () => (/* reexport */ Label),\n  RI$: () => (/* reexport */ LimitCameraBoundsStrategy),\n  x12: () => (/* reexport */ Line),\n  ccz: () => (/* reexport */ LineSegment),\n  aNw: () => (/* reexport */ Loader),\n  XrL: () => (/* reexport */ LoaderEvents),\n  xwn: () => (/* reexport */ LockCameraToActorAxisStrategy),\n  dNK: () => (/* reexport */ LockCameraToActorStrategy),\n  ini: () => (/* reexport */ LogLevel),\n  YdH: () => (/* reexport */ Logger),\n  F5T: () => (/* reexport */ Material),\n  y3G: () => (/* reexport */ Matrix),\n  l57: () => (/* reexport */ MatrixLocations),\n  xn0: () => (/* reexport */ MediaEvent),\n  t2V: () => (/* reexport */ Meet),\n  uxB: () => (/* reexport */ MotionComponent),\n  cpd: () => (/* reexport */ MotionSystem),\n  fiy: () => (/* reexport */ MoveBy),\n  $XZ: () => (/* reexport */ MoveTo),\n  UG6: () => (/* reexport */ NativePointerButton),\n  uqK: () => (/* reexport */ NativeSoundEvent),\n  STE: () => (/* reexport */ NativeSoundProcessedEvent),\n  Hq9: () => (/* reexport */ None),\n  y$z: () => (/* reexport */ Observable),\n  mAD: () => (/* reexport */ OffscreenSystem),\n  sOq: () => (/* reexport */ Pair),\n  hUw: () => (/* reexport */ ParallaxComponent),\n  _0G: () => (/* reexport */ ParallelActions),\n  Sqs: () => (/* reexport */ ParseGif),\n  hpZ: () => (/* reexport */ Particle),\n  Vol: () => (/* reexport */ ParticleEmitter),\n  vYX: () => (/* reexport */ ParticleTransform),\n  wIZ: () => (/* reexport */ Physics),\n  cBi: () => (/* reexport */ PhysicsStats),\n  c30: () => (/* reexport */ PhysicsWorld),\n  PGK: () => (/* reexport */ PointerAbstraction),\n  MPV: () => (/* reexport */ PointerButton),\n  RFv: () => (/* reexport */ PointerComponent),\n  Ux6: () => (/* reexport */ PointerEvent),\n  rxy: () => (/* reexport */ PointerEventReceiver),\n  I$c: () => (/* reexport */ PointerScope),\n  kfC: () => (/* reexport */ PointerSystem),\n  VjY: () => (/* reexport */ PointerType),\n  mgq: () => (/* reexport */ Polygon),\n  YVA: () => (/* reexport */ PolygonCollider),\n  Kgp: () => (/* reexport */ Pool),\n  HH$: () => (/* reexport */ PostCollisionEvent),\n  M_d: () => (/* reexport */ PostDebugDrawEvent),\n  rgh: () => (/* reexport */ PostDrawEvent),\n  Ra6: () => (/* reexport */ PostFrameEvent),\n  KhR: () => (/* reexport */ PostKillEvent),\n  gvQ: () => (/* reexport */ PostTransformDrawEvent),\n  BS5: () => (/* reexport */ PostUpdateEvent),\n  xhz: () => (/* reexport */ PreCollisionEvent),\n  xOq: () => (/* reexport */ PreDebugDrawEvent),\n  a9j: () => (/* reexport */ PreDrawEvent),\n  bHk: () => (/* reexport */ PreFrameEvent),\n  CgK: () => (/* reexport */ PreKillEvent),\n  A0M: () => (/* reexport */ PreLoadEvent),\n  cEd: () => (/* reexport */ PreTransformDrawEvent),\n  cuY: () => (/* reexport */ PreUpdateEvent),\n  kvE: () => (/* reexport */ Projection),\n  SBu: () => (/* reexport */ QuadIndexBuffer),\n  PsT: () => (/* reexport */ QuadTree),\n  AE_: () => (/* reexport */ Query),\n  ctO: () => (/* reexport */ QueryManager),\n  OLH: () => (/* reexport */ RadiusAroundActorStrategy),\n  kky: () => (/* reexport */ Random),\n  nSF: () => (/* reexport */ Raster),\n  zHn: () => (/* reexport */ Ray),\n  zwx: () => (/* reexport */ RealisticSolver),\n  AeJ: () => (/* reexport */ Rectangle),\n  hLz: () => (/* reexport */ RemovedComponent),\n  wA: () => (/* reexport */ Repeat),\n  jhr: () => (/* reexport */ RepeatForever),\n  GVs: () => (/* reexport */ Resolution),\n  _zO: () => (/* reexport */ Resource),\n  LXZ: () => (/* reexport */ ResourceEvents),\n  w6$: () => (/* reexport */ RotateBy),\n  mhV: () => (/* reexport */ RotateTo),\n  MOD: () => (/* reexport */ RotationType),\n  kwd: () => (/* reexport */ ScaleBy),\n  Lmr: () => (/* reexport */ ScaleTo),\n  xsS: () => (/* reexport */ Scene),\n  K5l: () => (/* reexport */ SceneEvents),\n  lLr: () => (/* reexport */ Screen),\n  Z$r: () => (/* reexport */ ScreenAppender),\n  IXb: () => (/* reexport */ ScreenElement),\n  Xsu: () => (/* reexport */ ScreenEvents),\n  SGH: () => (/* reexport */ ScreenShader),\n  SMj: () => (/* reexport */ ScrollPreventionMode),\n  L34: () => (/* reexport */ Semaphore),\n  exe: () => (/* reexport */ Shader),\n  bnF: () => (/* reexport */ Shape),\n  MFA: () => (/* reexport */ Side),\n  kPj: () => (/* reexport */ SolverStrategy),\n  $uU: () => (/* reexport */ Sound),\n  Sap: () => (/* reexport */ SoundEvents),\n  jyi: () => (/* reexport */ Sprite),\n  E03: () => (/* reexport */ SpriteFont),\n  V6q: () => (/* reexport */ SpriteSheet),\n  rg2: () => (/* reexport */ StandardClock),\n  DVW: () => (/* reexport */ StateMachine),\n  nVo: () => (/* reexport */ StrategyContainer),\n  F6N: () => (/* reexport */ Stream),\n  xP7: () => (/* reexport */ System),\n  Odq: () => (/* reexport */ SystemManager),\n  uY9: () => (/* reexport */ SystemPriority),\n  Zif: () => (/* reexport */ SystemType),\n  c_d: () => (/* reexport */ TagQuery),\n  MJk: () => (/* reexport */ TestClock),\n  xvT: () => (/* reexport */ Text),\n  PHM: () => (/* reexport */ TextAlign),\n  dpR: () => (/* reexport */ TextureLoader),\n  n9L: () => (/* reexport */ Tile),\n  KwO: () => (/* reexport */ TileMap),\n  SxM: () => (/* reexport */ TileMapEvents),\n  B7y: () => (/* reexport */ Timer),\n  x7r: () => (/* reexport */ Toaster),\n  wx7: () => (/* reexport */ transform_Transform),\n  Uvn: () => (/* reexport */ TransformComponent),\n  uTP: () => (/* reexport */ Transition),\n  OFT: () => (/* reexport */ TreeNode),\n  xzN: () => (/* reexport */ Trigger),\n  CcZ: () => (/* reexport */ TriggerEvents),\n  M5Z: () => (/* reexport */ TwoPI),\n  ZrN: () => (/* reexport */ Util_Index_namespaceObject),\n  OWs: () => (/* reexport */ Vector),\n  dF9: () => (/* reexport */ VectorView),\n  oZy: () => (/* reexport */ VertexBuffer),\n  rD2: () => (/* reexport */ VertexLayout),\n  KmN: () => (/* reexport */ VerticalFirst),\n  VHo: () => (/* reexport */ VisibleEvent),\n  ohE: () => (/* reexport */ WebAudio),\n  R$E: () => (/* reexport */ WebAudioInstance),\n  xQN: () => (/* reexport */ WheelDeltaMode),\n  AdJ: () => (/* reexport */ WheelEvent),\n  q3I: () => (/* reexport */ World),\n  Pab: () => (/* reexport */ canonicalizeAngle),\n  uZ5: () => (/* reexport */ clamp),\n  TAE: () => (/* reexport */ coroutine),\n  McK: () => (/* reexport */ createId),\n  F9c: () => (/* reexport */ frac),\n  k0b: () => (/* reexport */ hasGraphicsTick),\n  hnT: () => (/* reexport */ hasOnInitialize),\n  RSJ: () => (/* reexport */ hasOnPostUpdate),\n  Mku: () => (/* reexport */ hasOnPreUpdate),\n  h90: () => (/* reexport */ hasPostDraw),\n  rms: () => (/* reexport */ hasPreDraw),\n  ErP: () => (/* reexport */ has_initialize),\n  aVg: () => (/* reexport */ has_postupdate),\n  lPc: () => (/* reexport */ has_preupdate),\n  Z8E: () => (/* reexport */ isAddedComponent),\n  k15: () => (/* reexport */ isComponentCtor),\n  YsU: () => (/* reexport */ isLoaderConstructor),\n  lNv: () => (/* reexport */ isRemovedComponent),\n  Xyg: () => (/* reexport */ isSceneConstructor),\n  cu9: () => (/* reexport */ isScreenElement),\n  p88: () => (/* reexport */ isSystemConstructor),\n  MZQ: () => (/* reexport */ maxMessages),\n  FUM: () => (/* reexport */ obsolete),\n  BxR: () => (/* reexport */ pixelSnapEpsilon),\n  vdf: () => (/* reexport */ randomInRange),\n  iaL: () => (/* reexport */ randomIntInRange),\n  w6H: () => (/* reexport */ range),\n  Q4c: () => (/* reexport */ resetObsoleteCounter),\n  Xxe: () => (/* reexport */ sign),\n  Uxb: () => (/* reexport */ toDegrees),\n  Yr5: () => (/* reexport */ toRadians),\n  Bhw: () => (/* reexport */ vec),\n  yOA: () => (/* reexport */ webgl_util_namespaceObject)\n});\n\n// NAMESPACE OBJECT: ./Graphics/Context/webgl-util.ts\nvar webgl_util_namespaceObject = {};\n__webpack_require__.r(webgl_util_namespaceObject);\n__webpack_require__.d(webgl_util_namespaceObject, {\n  getAttributeComponentSize: () => (getAttributeComponentSize),\n  getAttributePointerType: () => (getAttributePointerType),\n  getGlTypeSizeBytes: () => (getGlTypeSizeBytes)\n});\n\n// NAMESPACE OBJECT: ./Events.ts\nvar Events_namespaceObject = {};\n__webpack_require__.r(Events_namespaceObject);\n__webpack_require__.d(Events_namespaceObject, {\n  ActionCompleteEvent: () => (ActionCompleteEvent),\n  ActionStartEvent: () => (ActionStartEvent),\n  ActivateEvent: () => (ActivateEvent),\n  CollisionEndEvent: () => (CollisionEndEvent),\n  CollisionPostSolveEvent: () => (CollisionPostSolveEvent),\n  CollisionPreSolveEvent: () => (CollisionPreSolveEvent),\n  CollisionStartEvent: () => (CollisionStartEvent),\n  ContactEndEvent: () => (ContactEndEvent),\n  ContactStartEvent: () => (ContactStartEvent),\n  DeactivateEvent: () => (DeactivateEvent),\n  EnterTriggerEvent: () => (EnterTriggerEvent),\n  EnterViewPortEvent: () => (EnterViewPortEvent),\n  EventTypes: () => (EventTypes),\n  ExitTriggerEvent: () => (ExitTriggerEvent),\n  ExitViewPortEvent: () => (ExitViewPortEvent),\n  GameEvent: () => (GameEvent),\n  GameStartEvent: () => (GameStartEvent),\n  GameStopEvent: () => (GameStopEvent),\n  GamepadAxisEvent: () => (GamepadAxisEvent),\n  GamepadButtonEvent: () => (GamepadButtonEvent),\n  GamepadConnectEvent: () => (GamepadConnectEvent),\n  GamepadDisconnectEvent: () => (GamepadDisconnectEvent),\n  HiddenEvent: () => (HiddenEvent),\n  InitializeEvent: () => (InitializeEvent),\n  KillEvent: () => (KillEvent),\n  PostCollisionEvent: () => (PostCollisionEvent),\n  PostDebugDrawEvent: () => (PostDebugDrawEvent),\n  PostDrawEvent: () => (PostDrawEvent),\n  PostFrameEvent: () => (PostFrameEvent),\n  PostKillEvent: () => (PostKillEvent),\n  PostTransformDrawEvent: () => (PostTransformDrawEvent),\n  PostUpdateEvent: () => (PostUpdateEvent),\n  PreCollisionEvent: () => (PreCollisionEvent),\n  PreDebugDrawEvent: () => (PreDebugDrawEvent),\n  PreDrawEvent: () => (PreDrawEvent),\n  PreFrameEvent: () => (PreFrameEvent),\n  PreKillEvent: () => (PreKillEvent),\n  PreTransformDrawEvent: () => (PreTransformDrawEvent),\n  PreUpdateEvent: () => (PreUpdateEvent),\n  VisibleEvent: () => (VisibleEvent)\n});\n\n// NAMESPACE OBJECT: ./Util/DrawUtil.ts\nvar DrawUtil_namespaceObject = {};\n__webpack_require__.r(DrawUtil_namespaceObject);\n__webpack_require__.d(DrawUtil_namespaceObject, {\n  circle: () => (circle),\n  line: () => (line),\n  point: () => (point),\n  roundRect: () => (roundRect),\n  vector: () => (vector)\n});\n\n// NAMESPACE OBJECT: ./Input/Index.ts\nvar Input_Index_namespaceObject = {};\n__webpack_require__.r(Input_Index_namespaceObject);\n__webpack_require__.d(Input_Index_namespaceObject, {\n  Axes: () => (Axes),\n  Buttons: () => (Buttons),\n  Gamepad: () => (Gamepad),\n  Gamepads: () => (Gamepads),\n  KeyEvent: () => (KeyEvent),\n  Keyboard: () => (Keyboard),\n  Keys: () => (Keys),\n  NativePointerButton: () => (NativePointerButton),\n  PointerButton: () => (PointerButton),\n  PointerComponent: () => (PointerComponent),\n  PointerEvent: () => (PointerEvent),\n  PointerEventReceiver: () => (PointerEventReceiver),\n  PointerScope: () => (PointerScope),\n  PointerSystem: () => (PointerSystem),\n  PointerType: () => (PointerType),\n  WheelDeltaMode: () => (WheelDeltaMode),\n  WheelEvent: () => (WheelEvent)\n});\n\n// NAMESPACE OBJECT: ./Util/Index.ts\nvar Util_Index_namespaceObject = {};\n__webpack_require__.r(Util_Index_namespaceObject);\n__webpack_require__.d(Util_Index_namespaceObject, {\n  ConsoleAppender: () => (ConsoleAppender),\n  DrawUtil: () => (DrawUtil_namespaceObject),\n  EasingFunctions: () => (EasingFunctions),\n  LogLevel: () => (LogLevel),\n  Logger: () => (Logger),\n  Observable: () => (Observable),\n  ScreenAppender: () => (ScreenAppender),\n  addItemToArray: () => (addItemToArray),\n  contains: () => (contains),\n  delay: () => (delay),\n  fail: () => (fail),\n  getPosition: () => (getPosition),\n  omit: () => (omit),\n  removeItemFromArray: () => (removeItemFromArray)\n});\n\n// EXTERNAL MODULE: ../../node_modules/core-js/es/array/sort.js\nvar sort = __webpack_require__(1324);\n// EXTERNAL MODULE: ../../node_modules/core-js/es/object/keys.js\nvar keys = __webpack_require__(3571);\n;// CONCATENATED MODULE: ./Polyfill.ts\n\n\n/**\n * Polyfill adding function\n */\nfunction polyfill() {\n    /* istanbul ignore next */\n    if (typeof window === 'undefined') {\n        window = {\n            audioContext: function () {\n                return;\n            }\n        };\n    }\n    /* istanbul ignore next */\n    if (typeof window !== 'undefined' && !window.requestAnimationFrame) {\n        window.requestAnimationFrame =\n            window.webkitRequestAnimationFrame ||\n                window.mozRequestAnimationFrame ||\n                function (callback) {\n                    window.setInterval(callback, 1000 / 60);\n                };\n    }\n    /* istanbul ignore next */\n    if (typeof window !== 'undefined' && !window.cancelAnimationFrame) {\n        window.cancelAnimationFrame =\n            window.webkitCancelAnimationFrame ||\n                window.mozCancelAnimationFrame ||\n                function () {\n                    return;\n                };\n    }\n    /* istanbul ignore next */\n    if (typeof window !== 'undefined' && !window.AudioContext) {\n        if (window.webkitAudioContext) {\n            const ctx = window.webkitAudioContext;\n            const replaceMe = ctx.prototype.decodeAudioData;\n            window.webkitAudioContext.prototype.decodeAudioData = function (arrayBuffer) {\n                return new Promise((resolve, reject) => {\n                    replaceMe.call(this, arrayBuffer, resolve, reject);\n                });\n            };\n        }\n        window.AudioContext =\n            window.AudioContext ||\n                window.webkitAudioContext ||\n                window.mozAudioContext ||\n                window.msAudioContext ||\n                window.oAudioContext;\n    }\n    /* istanbul ignore next */\n    if (typeof window !== 'undefined' && !window.devicePixelRatio) {\n        window.devicePixelRatio = window.devicePixelRatio || 1;\n    }\n}\n\n;// CONCATENATED MODULE: ./Flags.ts\n/**\n * Flags is a feature flag implementation for Excalibur. They can only be operated **before [[Engine]] construction**\n * after which they are frozen and are read-only.\n *\n * Flags are used to enable experimental or preview features in Excalibur.\n */\nclass Flags {\n    /**\n     * Force excalibur to load the Canvas 2D graphics context fallback\n     * @warning not all features of excalibur are supported in the Canvas 2D fallback\n     */\n    static useCanvasGraphicsContext() {\n        Flags.enable('use-canvas-context');\n    }\n    /**\n     * Freeze all flag modifications making them readonly\n     */\n    static freeze() {\n        Flags._FROZEN = true;\n    }\n    /**\n     * Resets internal flag state, not meant to be called by users. Only used for testing.\n     *\n     * Calling this in your game is UNSUPPORTED\n     * @internal\n     */\n    static _reset() {\n        Flags._FROZEN = false;\n        Flags._FLAGS = {};\n    }\n    /**\n     * Enable a specific feature flag by name. **Note: can only be set before [[Engine]] constructor time**\n     * @param flagName\n     */\n    static enable(flagName) {\n        if (this._FROZEN) {\n            throw Error('Feature flags can only be enabled before Engine constructor time');\n        }\n        Flags._FLAGS[flagName] = true;\n    }\n    /**\n     * Disable a specific feature flag by name. **Note: can only be set before [[Engine]] constructor time**\n     * @param flagName\n     */\n    static disable(flagName) {\n        if (this._FROZEN) {\n            throw Error('Feature flags can only be disabled before Engine constructor time');\n        }\n        Flags._FLAGS[flagName] = false;\n    }\n    /**\n     * Check if a flag is enabled. If the flag is disabled or does not exist `false` is returned\n     * @param flagName\n     */\n    static isEnabled(flagName) {\n        return !!Flags._FLAGS[flagName];\n    }\n    /**\n     * Show a list of currently known flags\n     */\n    static show() {\n        return Object.keys(Flags._FLAGS);\n    }\n}\nFlags._FROZEN = false;\nFlags._FLAGS = {};\n\n;// CONCATENATED MODULE: ./Id.ts\n/**\n * Create a branded ID type from a number\n */\nfunction createId(type, value) {\n    return { type, value };\n}\n;\n\n;// CONCATENATED MODULE: ./Util/Future.ts\n/**\n * Future is a wrapper around a native browser Promise to allow resolving/rejecting at any time\n */\nclass Future {\n    constructor() {\n        this._isCompleted = false;\n        this.promise = new Promise((resolve, reject) => {\n            this._resolver = resolve;\n            this._rejecter = reject;\n        });\n    }\n    get isCompleted() {\n        return this._isCompleted;\n    }\n    resolve(value) {\n        if (this._isCompleted) {\n            return;\n        }\n        this._isCompleted = true;\n        this._resolver(value);\n    }\n    reject(error) {\n        if (this._isCompleted) {\n            return;\n        }\n        this._isCompleted = true;\n        this._rejecter(error);\n    }\n}\n\n;// CONCATENATED MODULE: ./EventEmitter.ts\n/**\n * Excalibur's typed event emitter, this allows events to be sent with any string to Type mapping\n */\nclass EventEmitter {\n    constructor() {\n        this._paused = false;\n        this._listeners = {};\n        this._listenersOnce = {};\n        this._pipes = [];\n    }\n    clear() {\n        this._listeners = {};\n        this._listenersOnce = {};\n        this._pipes.length = 0;\n    }\n    on(eventName, handler) {\n        var _a;\n        this._listeners[eventName] = (_a = this._listeners[eventName]) !== null && _a !== void 0 ? _a : [];\n        this._listeners[eventName].push(handler);\n        return {\n            close: () => this.off(eventName, handler)\n        };\n    }\n    once(eventName, handler) {\n        var _a;\n        this._listenersOnce[eventName] = (_a = this._listenersOnce[eventName]) !== null && _a !== void 0 ? _a : [];\n        this._listenersOnce[eventName].push(handler);\n        return {\n            close: () => this.off(eventName, handler)\n        };\n    }\n    off(eventName, handler) {\n        var _a, _b;\n        if (handler) {\n            const newListeners = (_a = this._listeners[eventName]) === null || _a === void 0 ? void 0 : _a.filter(h => h !== handler);\n            this._listeners[eventName] = newListeners;\n            const newOnceListeners = (_b = this._listenersOnce[eventName]) === null || _b === void 0 ? void 0 : _b.filter(h => h !== handler);\n            this._listenersOnce[eventName] = newOnceListeners;\n        }\n        else {\n            delete this._listeners[eventName];\n        }\n    }\n    emit(eventName, event) {\n        var _a;\n        if (this._paused) {\n            return;\n        }\n        (_a = this._listeners[eventName]) === null || _a === void 0 ? void 0 : _a.forEach((fn) => fn(event));\n        const onces = this._listenersOnce[eventName];\n        this._listenersOnce[eventName] = [];\n        if (onces) {\n            onces.forEach((fn) => fn(event));\n        }\n        this._pipes.forEach((pipe) => {\n            pipe.emit(eventName, event);\n        });\n    }\n    pipe(emitter) {\n        if (this === emitter) {\n            throw Error('Cannot pipe to self');\n        }\n        this._pipes.push(emitter);\n        return {\n            close: () => {\n                const i = this._pipes.indexOf(emitter);\n                if (i > -1) {\n                    this._pipes.splice(i, 1);\n                }\n            }\n        };\n    }\n    unpipe(emitter) {\n        const i = this._pipes.indexOf(emitter);\n        if (i > -1) {\n            this._pipes.splice(i, 1);\n        }\n    }\n    pause() {\n        this._paused = true;\n    }\n    unpause() {\n        this._paused = false;\n    }\n}\n\n;// CONCATENATED MODULE: ./Input/PointerScope.ts\n/**\n * Determines the scope of handling mouse/touch events.\n */\nvar PointerScope;\n(function (PointerScope) {\n    /**\n     * Handle events on the `canvas` element only. Events originating outside the\n     * `canvas` will not be handled.\n     */\n    PointerScope[\"Canvas\"] = \"Canvas\";\n    /**\n     * Handles events on the entire document. All events will be handled by Excalibur.\n     */\n    PointerScope[\"Document\"] = \"Document\";\n})(PointerScope || (PointerScope = {}));\n\n;// CONCATENATED MODULE: ./Math/Random.ts\n/**\n * @module\n * Pseudo-Random Utility\n *\n * A pseudo-random utility to add seeded random support for help in\n * generating things like terrain or reproducible randomness. Uses the\n * [Mersenne Twister](https://en.wikipedia.org/wiki/Mersenne_Twister) algorithm.\n */\n/**\n * 32-bit mask\n */\nconst BITMASK32 = 0xffffffff;\n/**\n * Pseudo-random number generator following the Mersenne_Twister algorithm. Given a seed this generator will produce the same sequence\n * of numbers each time it is called.\n * See https://en.wikipedia.org/wiki/Mersenne_Twister for more details.\n * Uses the MT19937-32 (2002) implementation documented here http://www.math.sci.hiroshima-u.ac.jp/~m-mat/MT/MT2002/emt19937ar.html\n *\n * Api inspired by http://chancejs.com/# https://github.com/chancejs/chancejs\n */\nclass Random {\n    /**\n     * If no seed is specified, the Date.now() is used\n     */\n    constructor(seed) {\n        this.seed = seed;\n        // Separation point of one one word, the number of bits in the lower bitmask 0 <= r <= w-1\n        this._lowerMask = 0x7fffffff; // 31 bits same as _r\n        this._upperMask = 0x80000000; // 34 high bits\n        // Word size, 64 bits\n        this._w = 32;\n        // Degree of recurrence\n        this._n = 624;\n        // Middle word, an offset used in the recurrence defining the series x, 1<=m<n\n        this._m = 397;\n        // coefficients of teh rational normal form twist matrix\n        this._a = 0x9908b0df;\n        // tempering bit shifts and masks\n        this._u = 11;\n        this._s = 7;\n        this._b = 0x9d2c5680;\n        this._t = 15;\n        this._c = 0xefc60000;\n        this._l = 18;\n        this._f = 1812433253;\n        this._mt = new Array(this._n);\n        // need to mask to support higher bit machines\n        this._mt[0] = (seed || Date.now()) >>> 0;\n        for (let i = 1; i < this._n; i++) {\n            const s = this._mt[i - 1] ^ (this._mt[i - 1] >>> (this._w - 2));\n            // numbers are bigger than the JS max safe int, add in 16-bit chunks to prevent IEEE rounding errors on high bits\n            this._mt[i] = (((this._f * ((s & 0xffff0000) >>> 16)) << 16) + this._f * (s & 0xffff) + i) >>> 0;\n        }\n        this._index = this._n;\n    }\n    /**\n     * Apply the twist\n     */\n    _twist() {\n        const mag01 = [0x0, this._a];\n        let y = 0, i = 0;\n        for (; i < this._n - this._m; i++) {\n            y = (this._mt[i] & this._upperMask) | (this._mt[i + 1] & this._lowerMask);\n            this._mt[i] = this._mt[i + this._m] ^ (y >>> 1) ^ (mag01[y & 0x1] & BITMASK32);\n        }\n        for (; i < this._n - 1; i++) {\n            y = (this._mt[i] & this._upperMask) | (this._mt[i + 1] & this._lowerMask);\n            this._mt[i] = this._mt[i + (this._m - this._n)] ^ (y >>> 1) ^ (mag01[y & 0x1] & BITMASK32);\n        }\n        y = (this._mt[this._n - 1] & this._upperMask) | (this._mt[0] & this._lowerMask);\n        this._mt[this._n - 1] = this._mt[this._m - 1] ^ (y >>> 1) ^ (mag01[y & 0x1] & BITMASK32);\n        this._index = 0;\n    }\n    /**\n     * Return next 32 bit integer number in sequence\n     */\n    nextInt() {\n        if (this._index >= this._n) {\n            this._twist();\n        }\n        let y = this._mt[this._index++];\n        y ^= y >>> this._u;\n        y ^= (y << this._s) & this._b;\n        y ^= (y << this._t) & this._c;\n        y ^= y >>> this._l;\n        return y >>> 0;\n    }\n    /**\n     * Return a random floating point number between [0, 1)\n     */\n    next() {\n        return this.nextInt() * (1.0 / 4294967296.0); // divided by 2^32\n    }\n    /**\n     * Return a random floating point in range [min, max) min is included, max is not included\n     */\n    floating(min, max) {\n        return (max - min) * this.next() + min;\n    }\n    /**\n     * Return a random integer in range [min, max] min is included, max is included.\n     * Implemented with rejection sampling, see https://medium.com/@betable/tifu-by-using-math-random-f1c308c4fd9d#.i13tdiu5a\n     */\n    integer(min, max) {\n        return Math.floor((max - min + 1) * this.next() + min);\n    }\n    /**\n     * Returns true or false randomly with 50/50 odds by default.\n     * By default the likelihood of returning a true is .5 (50%).\n     * @param likelihood takes values between [0, 1]\n     */\n    bool(likelihood = 0.5) {\n        return this.next() <= likelihood;\n    }\n    /**\n     * Returns one element from an array at random\n     */\n    pickOne(array) {\n        return array[this.integer(0, array.length - 1)];\n    }\n    /**\n     * Returns a new array random picking elements from the original\n     * @param array Original array to pick from\n     * @param numPicks can be any positive number\n     * @param allowDuplicates indicates whether the returned set is allowed duplicates (it does not mean there will always be duplicates\n     * just that it is possible)\n     */\n    pickSet(array, numPicks, allowDuplicates = false) {\n        if (allowDuplicates) {\n            return this._pickSetWithDuplicates(array, numPicks);\n        }\n        else {\n            return this._pickSetWithoutDuplicates(array, numPicks);\n        }\n    }\n    /**\n     * Returns a new array randomly picking elements in the original (not reused)\n     * @param array Array to pick elements out of\n     * @param numPicks must be less than or equal to the number of elements in the array.\n     */\n    _pickSetWithoutDuplicates(array, numPicks) {\n        if (numPicks > array.length || numPicks < 0) {\n            throw new Error('Invalid number of elements to pick, must pick a value 0 < n <= length');\n        }\n        if (numPicks === array.length) {\n            return array;\n        }\n        const result = new Array(numPicks);\n        let currentPick = 0;\n        const tempArray = array.slice(0);\n        while (currentPick < numPicks) {\n            const index = this.integer(0, tempArray.length - 1);\n            result[currentPick++] = tempArray[index];\n            tempArray.splice(index, 1);\n        }\n        return result;\n    }\n    /**\n     * Returns a new array random picking elements from the original allowing duplicates\n     * @param array Array to pick elements out of\n     * @param numPicks can be any positive number\n     */\n    _pickSetWithDuplicates(array, numPicks) {\n        // Typescript numbers are all floating point, so do we add check for int? (or floor the input?)\n        if (numPicks < 0) {\n            throw new Error('Invalid number of elements to pick, must pick a value 0 <= n < MAX_INT');\n        }\n        const result = new Array(numPicks);\n        for (let i = 0; i < numPicks; i++) {\n            result[i] = this.pickOne(array);\n        }\n        return result;\n    }\n    /**\n     * Returns a new array that has its elements shuffled. Using the Fisher/Yates method\n     * https://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle\n     */\n    shuffle(array) {\n        const tempArray = array.slice(0);\n        let swap = null;\n        for (let i = 0; i < tempArray.length - 2; i++) {\n            const randomIndex = this.integer(i, tempArray.length - 1);\n            swap = tempArray[i];\n            tempArray[i] = tempArray[randomIndex];\n            tempArray[randomIndex] = swap;\n        }\n        return tempArray;\n    }\n    /**\n     * Generate a list of random integer numbers\n     * @param length the length of the final array\n     * @param min the minimum integer number to generate inclusive\n     * @param max the maximum integer number to generate inclusive\n     */\n    range(length, min, max) {\n        const result = new Array(length);\n        for (let i = 0; i < length; i++) {\n            result[i] = this.integer(min, max);\n        }\n        return result;\n    }\n    /**\n     * Returns the result of a d4 dice roll\n     */\n    d4() {\n        return this.integer(1, 4);\n    }\n    /**\n     * Returns the result of a d6 dice roll\n     */\n    d6() {\n        return this.integer(1, 6);\n    }\n    /**\n     * Returns the result of a d8 dice roll\n     */\n    d8() {\n        return this.integer(1, 8);\n    }\n    /**\n     * Returns the result of a d10 dice roll\n     */\n    d10() {\n        return this.integer(1, 10);\n    }\n    /**\n     * Returns the result of a d12 dice roll\n     */\n    d12() {\n        return this.integer(1, 12);\n    }\n    /**\n     * Returns the result of a d20 dice roll\n     */\n    d20() {\n        return this.integer(1, 20);\n    }\n}\n\n;// CONCATENATED MODULE: ./Math/util.ts\n\n/**\n * Two PI constant\n */\nconst TwoPI = Math.PI * 2;\n/**\n * Returns the fractional part of a number\n * @param x\n */\nfunction frac(x) {\n    if (x >= 0) {\n        return x - Math.floor(x);\n    }\n    else {\n        return x - Math.ceil(x);\n    }\n}\n/**\n * Returns the sign of a number, if 0 returns 0\n */\nfunction sign(val) {\n    if (val === 0) {\n        return 0;\n    }\n    return val < 0 ? -1 : 1;\n}\n;\n/**\n * Clamps a value between a min and max inclusive\n */\nfunction clamp(val, min, max) {\n    return Math.min(Math.max(min, val), max);\n}\n/**\n * Convert an angle to be the equivalent in the range [0, 2PI]\n */\nfunction canonicalizeAngle(angle) {\n    let tmpAngle = angle;\n    if (angle > TwoPI) {\n        while (tmpAngle > TwoPI) {\n            tmpAngle -= TwoPI;\n        }\n    }\n    if (angle < 0) {\n        while (tmpAngle < 0) {\n            tmpAngle += TwoPI;\n        }\n    }\n    return tmpAngle;\n}\n/**\n * Convert radians to degrees\n */\nfunction toDegrees(radians) {\n    return (180 / Math.PI) * radians;\n}\n/**\n * Convert degrees to radians\n */\nfunction toRadians(degrees) {\n    return (degrees / 180) * Math.PI;\n}\n/**\n * Generate a range of numbers\n * For example: range(0, 5) -> [0, 1, 2, 3, 4, 5]\n * @param from inclusive\n * @param to inclusive\n */\nconst range = (from, to) => Array.from(new Array(to - from + 1), (_x, i) => i + from);\n/**\n * Find a random floating point number in range\n */\nfunction randomInRange(min, max, random = new Random()) {\n    return random ? random.floating(min, max) : min + Math.random() * (max - min);\n}\n/**\n * Find a random integer in a range\n */\nfunction randomIntInRange(min, max, random = new Random()) {\n    return random ? random.integer(min, max) : Math.round(randomInRange(min, max));\n}\n\n;// CONCATENATED MODULE: ./Math/vector.ts\n\n/**\n * A 2D vector on a plane.\n */\nclass Vector {\n    /**\n     * A (0, 0) vector\n     */\n    static get Zero() {\n        return new Vector(0, 0);\n    }\n    /**\n     * A (1, 1) vector\n     */\n    static get One() {\n        return new Vector(1, 1);\n    }\n    /**\n     * A (0.5, 0.5) vector\n     */\n    static get Half() {\n        return new Vector(0.5, 0.5);\n    }\n    /**\n     * A unit vector pointing up (0, -1)\n     */\n    static get Up() {\n        return new Vector(0, -1);\n    }\n    /**\n     * A unit vector pointing down (0, 1)\n     */\n    static get Down() {\n        return new Vector(0, 1);\n    }\n    /**\n     * A unit vector pointing left (-1, 0)\n     */\n    static get Left() {\n        return new Vector(-1, 0);\n    }\n    /**\n     * A unit vector pointing right (1, 0)\n     */\n    static get Right() {\n        return new Vector(1, 0);\n    }\n    /**\n     * Returns a vector of unit length in the direction of the specified angle in Radians.\n     * @param angle The angle to generate the vector\n     */\n    static fromAngle(angle) {\n        return new Vector(Math.cos(angle), Math.sin(angle));\n    }\n    /**\n     * Checks if vector is not null, undefined, or if any of its components are NaN or Infinity.\n     */\n    static isValid(vec) {\n        if (vec === null || vec === undefined) {\n            return false;\n        }\n        if (isNaN(vec.x) || isNaN(vec.y)) {\n            return false;\n        }\n        if (vec.x === Infinity || vec.y === Infinity || vec.x === -Infinity || vec.y === -Infinity) {\n            return false;\n        }\n        return true;\n    }\n    /**\n     * Calculates distance between two Vectors\n     * @param vec1\n     * @param vec2\n     */\n    static distance(vec1, vec2) {\n        return Math.sqrt(Math.pow(vec1.x - vec2.x, 2) + Math.pow(vec1.y - vec2.y, 2));\n    }\n    static min(vec1, vec2) {\n        return new Vector(Math.min(vec1.x, vec2.x), Math.min(vec1.y, vec2.y));\n    }\n    static max(vec1, vec2) {\n        return new Vector(Math.max(vec1.x, vec2.x), Math.max(vec1.y, vec2.y));\n    }\n    /**\n     * @param x  X component of the Vector\n     * @param y  Y component of the Vector\n     */\n    constructor(x, y) {\n        this._x = 0;\n        this._y = 0;\n        this._x = x;\n        this._y = y;\n    }\n    /**\n     * Get the x component of the vector\n     */\n    get x() {\n        return this._x;\n    }\n    /**\n     * Set the x component, THIS MUTATES the current vector. It is usually better to create a new vector.\n     * @warning **Be very careful setting components on shared vectors, mutating shared vectors can cause hard to find bugs**\n     */\n    set x(val) {\n        this._x = val;\n    }\n    /**\n     * Get the y component of the vector\n     */\n    get y() {\n        return this._y;\n    }\n    /**\n     * Set the y component, THIS MUTATES the current vector. It is usually better to create a new vector.\n     * @warning **Be very careful setting components on shared vectors, mutating shared vectors can cause hard to find bugs**\n     */\n    set y(val) {\n        this._y = val;\n    }\n    /**\n     * Sets the x and y components at once, THIS MUTATES the current vector. It is usually better to create a new vector.\n     * @warning **Be very careful using this, mutating vectors can cause hard to find bugs**\n     */\n    setTo(x, y) {\n        this.x = x;\n        this.y = y;\n    }\n    /**\n     * Compares this point against another and tests for equality\n     * @param vector The other point to compare to\n     * @param tolerance Amount of euclidean distance off we are willing to tolerate\n     */\n    equals(vector, tolerance = 0.001) {\n        return Math.abs(this.x - vector.x) <= tolerance && Math.abs(this.y - vector.y) <= tolerance;\n    }\n    /**\n     * The distance to another vector. If no other Vector is specified, this will return the [[magnitude]].\n     * @param v  The other vector. Leave blank to use origin vector.\n     */\n    distance(v) {\n        if (!v) {\n            return Math.sqrt(this.x * this.x + this.y * this.y);\n        }\n        const deltaX = this.x - v.x;\n        const deltaY = this.y - v.y;\n        return Math.sqrt(deltaX * deltaX + deltaY * deltaY);\n    }\n    squareDistance(v) {\n        if (!v) {\n            v = Vector.Zero;\n        }\n        const deltaX = this.x - v.x;\n        const deltaY = this.y - v.y;\n        return deltaX * deltaX + deltaY * deltaY;\n    }\n    /**\n     * Clamps the current vector's magnitude mutating it\n     * @param magnitude\n     */\n    clampMagnitude(magnitude) {\n        const size = this.size;\n        const newSize = clamp(size, 0, magnitude);\n        this.size = newSize;\n        return this;\n    }\n    /**\n     * The size (magnitude) of the Vector\n     */\n    get size() {\n        return this.distance();\n    }\n    /**\n     * Setting the size mutates the current vector\n     * @warning Can be used to set the size of the vector, **be very careful using this, mutating vectors can cause hard to find bugs**\n     */\n    set size(newLength) {\n        const v = this.normalize().scale(newLength);\n        this.setTo(v.x, v.y);\n    }\n    /**\n     * Normalizes a vector to have a magnitude of 1.\n     */\n    normalize() {\n        const d = this.distance();\n        if (d > 0) {\n            return new Vector(this.x / d, this.y / d);\n        }\n        else {\n            return new Vector(0, 1);\n        }\n    }\n    /**\n     * Returns the average (midpoint) between the current point and the specified\n     */\n    average(vec) {\n        return this.add(vec).scale(0.5);\n    }\n    scale(sizeOrScale, dest) {\n        const result = dest || new Vector(0, 0);\n        if (sizeOrScale instanceof Vector) {\n            result.x = this.x * sizeOrScale.x;\n            result.y = this.y * sizeOrScale.y;\n        }\n        else {\n            result.x = this.x * sizeOrScale;\n            result.y = this.y * sizeOrScale;\n        }\n        return result;\n    }\n    /**\n     * Adds one vector to another\n     * @param v The vector to add\n     * @param dest Optionally copy the result into a provided vector\n     */\n    add(v, dest) {\n        if (dest) {\n            dest.x = this.x + v.x;\n            dest.y = this.y + v.y;\n            return dest;\n        }\n        return new Vector(this.x + v.x, this.y + v.y);\n    }\n    /**\n     * Subtracts a vector from another, if you subtract vector `B.sub(A)` the resulting vector points from A -> B\n     * @param v The vector to subtract\n     */\n    sub(v) {\n        return new Vector(this.x - v.x, this.y - v.y);\n    }\n    /**\n     * Adds one vector to this one modifying the original\n     * @param v The vector to add\n     * @warning Be very careful using this, mutating vectors can cause hard to find bugs\n     */\n    addEqual(v) {\n        this.setTo(this.x + v.x, this.y + v.y);\n        return this;\n    }\n    /**\n     * Subtracts a vector from this one modifying the original\n     * @param v The vector to subtract\n     * @warning Be very careful using this, mutating vectors can cause hard to find bugs\n     */\n    subEqual(v) {\n        this.setTo(this.x - v.x, this.y - v.y);\n        return this;\n    }\n    /**\n     * Scales this vector by a factor of size and modifies the original\n     * @warning Be very careful using this, mutating vectors can cause hard to find bugs\n     */\n    scaleEqual(size) {\n        this.setTo(this.x * size, this.y * size);\n        return this;\n    }\n    /**\n     * Performs a dot product with another vector\n     * @param v  The vector to dot\n     */\n    dot(v) {\n        return this.x * v.x + this.y * v.y;\n    }\n    cross(v) {\n        if (v instanceof Vector) {\n            return this.x * v.y - this.y * v.x;\n        }\n        else if (typeof v === 'number') {\n            return new Vector(v * this.y, -v * this.x);\n        }\n    }\n    static cross(num, vec) {\n        return new Vector(-num * vec.y, num * vec.x);\n    }\n    /**\n     * Returns the perpendicular vector to this one\n     */\n    perpendicular() {\n        return new Vector(this.y, -this.x);\n    }\n    /**\n     * Returns the normal vector to this one, same as the perpendicular of length 1\n     */\n    normal() {\n        return this.perpendicular().normalize();\n    }\n    /**\n     * Negate the current vector\n     */\n    negate() {\n        return this.scale(-1);\n    }\n    /**\n     * Returns the angle of this vector.\n     */\n    toAngle() {\n        return Math.atan2(this.y, this.x);\n    }\n    /**\n     * Rotates the current vector around a point by a certain number of\n     * degrees in radians\n     */\n    rotate(angle, anchor) {\n        if (!anchor) {\n            anchor = new Vector(0, 0);\n        }\n        const sinAngle = Math.sin(angle);\n        const cosAngle = Math.cos(angle);\n        const x = cosAngle * (this.x - anchor.x) - sinAngle * (this.y - anchor.y) + anchor.x;\n        const y = sinAngle * (this.x - anchor.x) + cosAngle * (this.y - anchor.y) + anchor.y;\n        return new Vector(x, y);\n    }\n    /**\n     * Creates new vector that has the same values as the previous.\n     */\n    clone(dest) {\n        const v = dest !== null && dest !== void 0 ? dest : new Vector(0, 0);\n        v.x = this.x;\n        v.y = this.y;\n        return v;\n    }\n    /**\n     * Returns a string representation of the vector.\n     */\n    toString(fixed) {\n        if (fixed) {\n            return `(${this.x.toFixed(fixed)}, ${this.y.toFixed(fixed)})`;\n        }\n        return `(${this.x}, ${this.y})`;\n    }\n}\n/**\n * Shorthand for creating new Vectors - returns a new Vector instance with the\n * provided X and Y components.\n * @param x  X component of the Vector\n * @param y  Y component of the Vector\n */\nfunction vec(x, y) {\n    return new Vector(x, y);\n}\n\n;// CONCATENATED MODULE: ./Color.ts\n/**\n * Provides standard colors (e.g. [[Color.Black]])\n * but you can also create custom colors using RGB, HSL, or Hex. Also provides\n * useful color operations like [[Color.lighten]], [[Color.darken]], and more.\n */\nclass Color {\n    /**\n     * Creates a new instance of Color from an r, g, b, a\n     * @param r  The red component of color (0-255)\n     * @param g  The green component of color (0-255)\n     * @param b  The blue component of color (0-255)\n     * @param a  The alpha component of color (0-1.0)\n     */\n    constructor(r, g, b, a) {\n        this.r = r;\n        this.g = g;\n        this.b = b;\n        this.a = a != null ? a : 1;\n    }\n    /**\n     * Creates a new instance of Color from an r, g, b, a\n     * @param r  The red component of color (0-255)\n     * @param g  The green component of color (0-255)\n     * @param b  The blue component of color (0-255)\n     * @param a  The alpha component of color (0-1.0)\n     */\n    static fromRGB(r, g, b, a) {\n        return new Color(r, g, b, a);\n    }\n    /**\n     * Creates a new instance of Color from a rgb string\n     * @param string  CSS color string of the form rgba(255, 255, 255, 1) or rgb(255, 255, 255)\n     */\n    static fromRGBString(string) {\n        const rgbaRegEx = /^rgba?\\((\\d+),\\s*(\\d+),\\s*(\\d+)(?:,\\s*(\\d+(?:\\.\\d+)?))?\\)/i;\n        let match = null;\n        if ((match = string.match(rgbaRegEx))) {\n            const r = parseInt(match[1], 10);\n            const g = parseInt(match[2], 10);\n            const b = parseInt(match[3], 10);\n            let a = 1;\n            if (match[4]) {\n                a = parseFloat(match[4]);\n            }\n            return new Color(r, g, b, a);\n        }\n        else {\n            throw new Error('Invalid rgb/a string: ' + string);\n        }\n    }\n    /**\n     * Creates a new instance of Color from a hex string\n     * @param hex  CSS color string of the form #ffffff, the alpha component is optional\n     */\n    static fromHex(hex) {\n        const hexRegEx = /^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/i;\n        let match = null;\n        if ((match = hex.match(hexRegEx))) {\n            const r = parseInt(match[1], 16);\n            const g = parseInt(match[2], 16);\n            const b = parseInt(match[3], 16);\n            let a = 1;\n            if (match[4]) {\n                a = parseInt(match[4], 16) / 255;\n            }\n            return new Color(r, g, b, a);\n        }\n        else {\n            throw new Error('Invalid hex string: ' + hex);\n        }\n    }\n    /**\n     * Creates a new instance of Color from hsla values\n     * @param h  Hue is represented [0-1]\n     * @param s  Saturation is represented [0-1]\n     * @param l  Luminance is represented [0-1]\n     * @param a  Alpha is represented [0-1]\n     */\n    static fromHSL(h, s, l, a = 1.0) {\n        const temp = new HSLColor(h, s, l, a);\n        return temp.toRGBA();\n    }\n    /**\n     * Lightens the current color by a specified amount\n     * @param factor  The amount to lighten by [0-1]\n     */\n    lighten(factor = 0.1) {\n        const temp = HSLColor.fromRGBA(this.r, this.g, this.b, this.a);\n        temp.l += (1 - temp.l) * factor;\n        return temp.toRGBA();\n    }\n    /**\n     * Darkens the current color by a specified amount\n     * @param factor  The amount to darken by [0-1]\n     */\n    darken(factor = 0.1) {\n        const temp = HSLColor.fromRGBA(this.r, this.g, this.b, this.a);\n        temp.l -= temp.l * factor;\n        return temp.toRGBA();\n    }\n    /**\n     * Saturates the current color by a specified amount\n     * @param factor  The amount to saturate by [0-1]\n     */\n    saturate(factor = 0.1) {\n        const temp = HSLColor.fromRGBA(this.r, this.g, this.b, this.a);\n        temp.s += temp.s * factor;\n        return temp.toRGBA();\n    }\n    /**\n     * Desaturates the current color by a specified amount\n     * @param factor  The amount to desaturate by [0-1]\n     */\n    desaturate(factor = 0.1) {\n        const temp = HSLColor.fromRGBA(this.r, this.g, this.b, this.a);\n        temp.s -= temp.s * factor;\n        return temp.toRGBA();\n    }\n    /**\n     * Multiplies a color by another, results in a darker color\n     * @param color  The other color\n     */\n    multiply(color) {\n        const newR = (((color.r / 255) * this.r) / 255) * 255;\n        const newG = (((color.g / 255) * this.g) / 255) * 255;\n        const newB = (((color.b / 255) * this.b) / 255) * 255;\n        const newA = color.a * this.a;\n        return new Color(newR, newG, newB, newA);\n    }\n    /**\n     * Screens a color by another, results in a lighter color\n     * @param color  The other color\n     */\n    screen(color) {\n        const color1 = color.invert();\n        const color2 = color.invert();\n        return color1.multiply(color2).invert();\n    }\n    /**\n     * Inverts the current color\n     */\n    invert() {\n        return new Color(255 - this.r, 255 - this.g, 255 - this.b, 1.0 - this.a);\n    }\n    /**\n     * Averages the current color with another\n     * @param color  The other color\n     */\n    average(color) {\n        const newR = (color.r + this.r) / 2;\n        const newG = (color.g + this.g) / 2;\n        const newB = (color.b + this.b) / 2;\n        const newA = (color.a + this.a) / 2;\n        return new Color(newR, newG, newB, newA);\n    }\n    equal(color) {\n        return this.toString() === color.toString();\n    }\n    /**\n     * Returns a CSS string representation of a color.\n     * @param format Color representation, accepts: rgb, hsl, or hex\n     */\n    toString(format = 'rgb') {\n        switch (format) {\n            case 'rgb':\n                return this.toRGBA();\n            case 'hsl':\n                return this.toHSLA();\n            case 'hex':\n                return this.toHex();\n            default:\n                throw new Error('Invalid Color format');\n        }\n    }\n    /**\n     * Returns Hex Value of a color component\n     * @param c color component\n     * @see https://stackoverflow.com/questions/5623838/rgb-to-hex-and-hex-to-rgb\n     */\n    _componentToHex(c) {\n        const hex = c.toString(16);\n        return hex.length === 1 ? '0' + hex : hex;\n    }\n    /**\n     * Return Hex representation of a color.\n     */\n    toHex() {\n        return '#' + this._componentToHex(this.r) + this._componentToHex(this.g) + this._componentToHex(this.b);\n    }\n    /**\n     * Return RGBA representation of a color.\n     */\n    toRGBA() {\n        const result = String(this.r.toFixed(0)) + ', ' + String(this.g.toFixed(0)) + ', ' + String(this.b.toFixed(0));\n        if (this.a !== undefined || this.a !== null) {\n            return 'rgba(' + result + ', ' + String(this.a) + ')';\n        }\n        return 'rgb(' + result + ')';\n    }\n    /**\n     * Return HSLA representation of a color.\n     */\n    toHSLA() {\n        return HSLColor.fromRGBA(this.r, this.g, this.b, this.a).toString();\n    }\n    /**\n     * Returns a CSS string representation of a color.\n     */\n    fillStyle() {\n        return this.toString();\n    }\n    /**\n     * Returns a clone of the current color.\n     */\n    clone() {\n        return new Color(this.r, this.g, this.b, this.a);\n    }\n    /**\n     * Black (#000000)\n     */\n    static get Black() {\n        return Color.fromHex('#000000');\n    }\n    /**\n     * White (#FFFFFF)\n     */\n    static get White() {\n        return Color.fromHex('#FFFFFF');\n    }\n    /**\n     * Gray (#808080)\n     */\n    static get Gray() {\n        return Color.fromHex('#808080');\n    }\n    /**\n     * Light gray (#D3D3D3)\n     */\n    static get LightGray() {\n        return Color.fromHex('#D3D3D3');\n    }\n    /**\n     * Dark gray (#A9A9A9)\n     */\n    static get DarkGray() {\n        return Color.fromHex('#A9A9A9');\n    }\n    /**\n     * Yellow (#FFFF00)\n     */\n    static get Yellow() {\n        return Color.fromHex('#FFFF00');\n    }\n    /**\n     * Orange (#FFA500)\n     */\n    static get Orange() {\n        return Color.fromHex('#FFA500');\n    }\n    /**\n     * Red (#FF0000)\n     */\n    static get Red() {\n        return Color.fromHex('#FF0000');\n    }\n    /**\n     * Vermilion (#FF5B31)\n     */\n    static get Vermilion() {\n        return Color.fromHex('#FF5B31');\n    }\n    /**\n     * Rose (#FF007F)\n     */\n    static get Rose() {\n        return Color.fromHex('#FF007F');\n    }\n    /**\n     * Magenta (#FF00FF)\n     */\n    static get Magenta() {\n        return Color.fromHex('#FF00FF');\n    }\n    /**\n     * Violet (#7F00FF)\n     */\n    static get Violet() {\n        return Color.fromHex('#7F00FF');\n    }\n    /**\n     * Blue (#0000FF)\n     */\n    static get Blue() {\n        return Color.fromHex('#0000FF');\n    }\n    /**\n     * Azure (#007FFF)\n     */\n    static get Azure() {\n        return Color.fromHex('#007FFF');\n    }\n    /**\n     * Cyan (#00FFFF)\n     */\n    static get Cyan() {\n        return Color.fromHex('#00FFFF');\n    }\n    /**\n     * Viridian (#59978F)\n     */\n    static get Viridian() {\n        return Color.fromHex('#59978F');\n    }\n    /**\n     * Green (#00FF00)\n     */\n    static get Green() {\n        return Color.fromHex('#00FF00');\n    }\n    /**\n     * Chartreuse (#7FFF00)\n     */\n    static get Chartreuse() {\n        return Color.fromHex('#7FFF00');\n    }\n    /**\n     * Transparent (#FFFFFF00)\n     */\n    static get Transparent() {\n        return Color.fromHex('#FFFFFF00');\n    }\n    /**\n     * ExcaliburBlue (#176BAA)\n     */\n    static get ExcaliburBlue() {\n        return Color.fromHex('#176BAA');\n    }\n}\n/**\n * Internal HSL Color representation\n *\n * http://en.wikipedia.org/wiki/HSL_and_HSV\n * http://axonflux.com/handy-rgb-to-hsl-and-rgb-to-hsv-color-model-c\n */\nclass HSLColor {\n    constructor(h, s, l, a) {\n        this.h = h;\n        this.s = s;\n        this.l = l;\n        this.a = a;\n    }\n    static hue2rgb(p, q, t) {\n        if (t < 0) {\n            t += 1;\n        }\n        if (t > 1) {\n            t -= 1;\n        }\n        if (t < 1 / 6) {\n            return p + (q - p) * 6 * t;\n        }\n        if (t < 1 / 2) {\n            return q;\n        }\n        if (t < 2 / 3) {\n            return p + (q - p) * (2 / 3 - t) * 6;\n        }\n        return p;\n    }\n    static fromRGBA(r, g, b, a) {\n        r /= 255;\n        g /= 255;\n        b /= 255;\n        const max = Math.max(r, g, b), min = Math.min(r, g, b);\n        let h, s;\n        const l = (max + min) / 2;\n        if (max === min) {\n            h = s = 0; // achromatic\n        }\n        else {\n            const d = max - min;\n            s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n            switch (max) {\n                case r:\n                    h = (g - b) / d + (g < b ? 6 : 0);\n                    break;\n                case g:\n                    h = (b - r) / d + 2;\n                    break;\n                case b:\n                    h = (r - g) / d + 4;\n                    break;\n            }\n            h /= 6;\n        }\n        return new HSLColor(h, s, l, a);\n    }\n    toRGBA() {\n        let r, g, b;\n        if (this.s === 0) {\n            r = g = b = this.l; // achromatic\n        }\n        else {\n            const q = this.l < 0.5 ? this.l * (1 + this.s) : this.l + this.s - this.l * this.s;\n            const p = 2 * this.l - q;\n            r = HSLColor.hue2rgb(p, q, this.h + 1 / 3);\n            g = HSLColor.hue2rgb(p, q, this.h);\n            b = HSLColor.hue2rgb(p, q, this.h - 1 / 3);\n        }\n        return new Color(r * 255, g * 255, b * 255, this.a);\n    }\n    toString() {\n        const h = this.h.toFixed(0), s = this.s.toFixed(0), l = this.l.toFixed(0), a = this.a.toFixed(0);\n        return `hsla(${h}, ${s}, ${l}, ${a})`;\n    }\n}\n\n;// CONCATENATED MODULE: ./Util/Log.ts\n/* eslint-disable no-console */\n\n\n/**\n * Logging level that Excalibur will tag\n */\nvar LogLevel;\n(function (LogLevel) {\n    LogLevel[LogLevel[\"Debug\"] = 0] = \"Debug\";\n    LogLevel[LogLevel[\"Info\"] = 1] = \"Info\";\n    LogLevel[LogLevel[\"Warn\"] = 2] = \"Warn\";\n    LogLevel[LogLevel[\"Error\"] = 3] = \"Error\";\n    LogLevel[LogLevel[\"Fatal\"] = 4] = \"Fatal\";\n})(LogLevel || (LogLevel = {}));\n/**\n * Static singleton that represents the logging facility for Excalibur.\n * Excalibur comes built-in with a [[ConsoleAppender]] and [[ScreenAppender]].\n * Derive from [[Appender]] to create your own logging appenders.\n */\nclass Logger {\n    constructor() {\n        this._appenders = [];\n        /**\n         * Gets or sets the default logging level. Excalibur will only log\n         * messages if equal to or above this level. Default: [[LogLevel.Info]]\n         */\n        this.defaultLevel = LogLevel.Info;\n        this._logOnceSet = new Set();\n        if (Logger._INSTANCE) {\n            throw new Error('Logger is a singleton');\n        }\n        Logger._INSTANCE = this;\n        // Default console appender\n        Logger._INSTANCE.addAppender(new ConsoleAppender());\n        return Logger._INSTANCE;\n    }\n    /**\n     * Gets the current static instance of Logger\n     */\n    static getInstance() {\n        if (Logger._INSTANCE == null) {\n            Logger._INSTANCE = new Logger();\n        }\n        return Logger._INSTANCE;\n    }\n    /**\n     * Adds a new [[Appender]] to the list of appenders to write to\n     */\n    addAppender(appender) {\n        this._appenders.push(appender);\n    }\n    /**\n     * Clears all appenders from the logger\n     */\n    clearAppenders() {\n        this._appenders.length = 0;\n    }\n    /**\n     * Logs a message at a given LogLevel\n     * @param level  The LogLevel`to log the message at\n     * @param args   An array of arguments to write to an appender\n     */\n    _log(level, args) {\n        if (level == null) {\n            level = this.defaultLevel;\n        }\n        const len = this._appenders.length;\n        for (let i = 0; i < len; i++) {\n            if (level >= this.defaultLevel) {\n                this._appenders[i].log(level, args);\n            }\n        }\n    }\n    _logOnce(level, args) {\n        const serialized = level + args.join('+');\n        if (this._logOnceSet.has(serialized)) {\n            return;\n        }\n        else {\n            this._logOnceSet.add(serialized);\n            this._log(level, args);\n        }\n    }\n    /**\n     * Writes a log message at the [[LogLevel.Debug]] level\n     * @param args  Accepts any number of arguments\n     */\n    debug(...args) {\n        this._log(LogLevel.Debug, args);\n    }\n    /**\n     * Writes a log message once at the [[LogLevel.Fatal]] level, if it sees the same args again it wont log\n     * @param args  Accepts any number of arguments\n     */\n    debugOnce(...args) {\n        this._logOnce(LogLevel.Debug, args);\n    }\n    /**\n     * Writes a log message at the [[LogLevel.Info]] level\n     * @param args  Accepts any number of arguments\n     */\n    info(...args) {\n        this._log(LogLevel.Info, args);\n    }\n    /**\n     * Writes a log message once at the [[LogLevel.Info]] level, if it sees the same args again it wont log\n     * @param args  Accepts any number of arguments\n     */\n    infoOnce(...args) {\n        this._logOnce(LogLevel.Info, args);\n    }\n    /**\n     * Writes a log message at the [[LogLevel.Warn]] level\n     * @param args  Accepts any number of arguments\n     */\n    warn(...args) {\n        this._log(LogLevel.Warn, args);\n    }\n    /**\n     * Writes a log message once at the [[LogLevel.Warn]] level, if it sees the same args again it won't log\n     * @param args  Accepts any number of arguments\n     */\n    warnOnce(...args) {\n        this._logOnce(LogLevel.Warn, args);\n    }\n    /**\n     * Writes a log message at the [[LogLevel.Error]] level\n     * @param args  Accepts any number of arguments\n     */\n    error(...args) {\n        this._log(LogLevel.Error, args);\n    }\n    /**\n     * Writes a log message once at the [[LogLevel.Error]] level, if it sees the same args again it won't log\n     * @param args  Accepts any number of arguments\n     */\n    errorOnce(...args) {\n        this._logOnce(LogLevel.Error, args);\n    }\n    /**\n     * Writes a log message at the [[LogLevel.Fatal]] level\n     * @param args  Accepts any number of arguments\n     */\n    fatal(...args) {\n        this._log(LogLevel.Fatal, args);\n    }\n    /**\n     * Writes a log message once at the [[LogLevel.Fatal]] level, if it sees the same args again it won't log\n     * @param args  Accepts any number of arguments\n     */\n    fatalOnce(...args) {\n        this._logOnce(LogLevel.Fatal, args);\n    }\n}\nLogger._INSTANCE = null;\n/**\n * Console appender for browsers (i.e. `console.log`)\n */\nclass ConsoleAppender {\n    /**\n     * Logs a message at the given [[LogLevel]]\n     * @param level  Level to log at\n     * @param args   Arguments to log\n     */\n    log(level, args) {\n        // Check for console support\n        if (!console && !console.log && console.warn && console.error) {\n            // todo maybe do something better than nothing\n            return;\n        }\n        // Create a new console args array\n        const consoleArgs = [];\n        consoleArgs.unshift.apply(consoleArgs, args);\n        consoleArgs.unshift('[' + LogLevel[level] + '] : ');\n        if (level < LogLevel.Warn) {\n            // Call .log for Debug/Info\n            if (console.log.apply) {\n                // this is required on some older browsers that don't support apply on console.log :(\n                console.log.apply(console, consoleArgs);\n            }\n            else {\n                console.log(consoleArgs.join(' '));\n            }\n        }\n        else if (level < LogLevel.Error) {\n            // Call .warn for Warn\n            if (console.warn.apply) {\n                console.warn.apply(console, consoleArgs);\n            }\n            else {\n                console.warn(consoleArgs.join(' '));\n            }\n        }\n        else {\n            // Call .error for Error/Fatal\n            if (console.error.apply) {\n                console.error.apply(console, consoleArgs);\n            }\n            else {\n                console.error(consoleArgs.join(' '));\n            }\n        }\n    }\n}\n/**\n * On-screen (canvas) appender\n */\nclass ScreenAppender {\n    constructor(options) {\n        var _a, _b;\n        this._messages = [];\n        this._pos = 10;\n        this._color = Color.Black;\n        this._options = options;\n        this.canvas = document.createElement('canvas');\n        this._ctx = this.canvas.getContext('2d');\n        this.canvas.style.position = 'absolute';\n        this.canvas.style.zIndex = (_b = (_a = options.zIndex) === null || _a === void 0 ? void 0 : _a.toString()) !== null && _b !== void 0 ? _b : '99';\n        document.body.appendChild(this.canvas);\n        this._positionScreenAppenderCanvas();\n        options.engine.screen.events.on('resize', () => {\n            this._positionScreenAppenderCanvas();\n        });\n    }\n    _positionScreenAppenderCanvas() {\n        var _a, _b, _c, _d;\n        const options = this._options;\n        this.canvas.width = (_a = options.width) !== null && _a !== void 0 ? _a : options.engine.screen.resolution.width;\n        this.canvas.height = (_b = options.height) !== null && _b !== void 0 ? _b : options.engine.screen.resolution.height;\n        this.canvas.style.position = 'absolute';\n        const pagePos = options.engine.screen.screenToPageCoordinates(vec(0, 0));\n        this.canvas.style.left = pagePos.x + 'px';\n        this.canvas.style.top = pagePos.y + 'px';\n        this._pos = (_c = options.xPos) !== null && _c !== void 0 ? _c : this._pos;\n        this._color = (_d = options.color) !== null && _d !== void 0 ? _d : this._color;\n    }\n    /**\n     * Logs a message at the given [[LogLevel]]\n     * @param level  Level to log at\n     * @param args   Arguments to log\n     */\n    log(level, args) {\n        const message = args.join(',');\n        this._ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n        this._messages.unshift('[' + LogLevel[level] + '] : ' + message);\n        let pos = 10;\n        this._messages = this._messages.slice(0, 1000);\n        for (let i = 0; i < this._messages.length; i++) {\n            this._ctx.fillStyle = this._color.toRGBA();\n            this._ctx.fillText(this._messages[i], this._pos, pos);\n            pos += 10;\n        }\n    }\n}\n\n;// CONCATENATED MODULE: ./Collision/Side.ts\n\n/**\n * An enum that describes the sides of an axis aligned box for collision\n */\nvar Side;\n(function (Side) {\n    Side[\"None\"] = \"None\";\n    Side[\"Top\"] = \"Top\";\n    Side[\"Bottom\"] = \"Bottom\";\n    Side[\"Left\"] = \"Left\";\n    Side[\"Right\"] = \"Right\";\n})(Side || (Side = {}));\n(function (Side) {\n    /**\n     * Returns the opposite side from the current\n     */\n    function getOpposite(side) {\n        if (side === Side.Top) {\n            return Side.Bottom;\n        }\n        if (side === Side.Bottom) {\n            return Side.Top;\n        }\n        if (side === Side.Left) {\n            return Side.Right;\n        }\n        if (side === Side.Right) {\n            return Side.Left;\n        }\n        return Side.None;\n    }\n    Side.getOpposite = getOpposite;\n    /**\n     * Given a vector, return the Side most in that direction (via dot product)\n     */\n    function fromDirection(direction) {\n        const directions = [Vector.Left, Vector.Right, Vector.Up, Vector.Down];\n        const directionEnum = [Side.Left, Side.Right, Side.Top, Side.Bottom];\n        let max = -Number.MAX_VALUE;\n        let maxIndex = -1;\n        for (let i = 0; i < directions.length; i++) {\n            if (directions[i].dot(direction) > max) {\n                max = directions[i].dot(direction);\n                maxIndex = i;\n            }\n        }\n        return directionEnum[maxIndex];\n    }\n    Side.fromDirection = fromDirection;\n})(Side || (Side = {}));\n\n;// CONCATENATED MODULE: ./Collision/BoundingBox.ts\n\n\n\n/**\n * Axis Aligned collision primitive for Excalibur.\n */\nclass BoundingBox {\n    /**\n     * Constructor allows passing of either an object with all coordinate components,\n     * or the coordinate components passed separately.\n     * @param leftOrOptions    Either x coordinate of the left edge or an options object\n     * containing the four coordinate components.\n     * @param top     y coordinate of the top edge\n     * @param right   x coordinate of the right edge\n     * @param bottom  y coordinate of the bottom edge\n     */\n    constructor(leftOrOptions = 0, top = 0, right = 0, bottom = 0) {\n        // Cache bounding box point returns\n        this._points = [];\n        if (typeof leftOrOptions === 'object') {\n            this.left = leftOrOptions.left;\n            this.top = leftOrOptions.top;\n            this.right = leftOrOptions.right;\n            this.bottom = leftOrOptions.bottom;\n        }\n        else if (typeof leftOrOptions === 'number') {\n            this.left = leftOrOptions;\n            this.top = top;\n            this.right = right;\n            this.bottom = bottom;\n        }\n    }\n    /**\n     * Returns a new instance of [[BoundingBox]] that is a copy of the current instance\n     */\n    clone() {\n        return new BoundingBox(this.left, this.top, this.right, this.bottom);\n    }\n    /**\n     * Given bounding box A & B, returns the side relative to A when intersection is performed.\n     * @param intersection Intersection vector between 2 bounding boxes\n     */\n    static getSideFromIntersection(intersection) {\n        if (!intersection) {\n            return Side.None;\n        }\n        if (intersection) {\n            if (Math.abs(intersection.x) > Math.abs(intersection.y)) {\n                if (intersection.x < 0) {\n                    return Side.Right;\n                }\n                return Side.Left;\n            }\n            else {\n                if (intersection.y < 0) {\n                    return Side.Bottom;\n                }\n                return Side.Top;\n            }\n        }\n        return Side.None;\n    }\n    static fromPoints(points) {\n        let minX = Infinity;\n        let minY = Infinity;\n        let maxX = -Infinity;\n        let maxY = -Infinity;\n        for (let i = 0; i < points.length; i++) {\n            if (points[i].x < minX) {\n                minX = points[i].x;\n            }\n            if (points[i].x > maxX) {\n                maxX = points[i].x;\n            }\n            if (points[i].y < minY) {\n                minY = points[i].y;\n            }\n            if (points[i].y > maxY) {\n                maxY = points[i].y;\n            }\n        }\n        return new BoundingBox(minX, minY, maxX, maxY);\n    }\n    /**\n     * Creates a bounding box from a width and height\n     * @param width\n     * @param height\n     * @param anchor Default Vector.Half\n     * @param pos Default Vector.Zero\n     */\n    static fromDimension(width, height, anchor = Vector.Half, pos = Vector.Zero) {\n        return new BoundingBox(-width * anchor.x + pos.x, -height * anchor.y + pos.y, width - width * anchor.x + pos.x, height - height * anchor.y + pos.y);\n    }\n    /**\n     * Returns the calculated width of the bounding box\n     */\n    get width() {\n        return this.right - this.left;\n    }\n    /**\n     * Returns the calculated height of the bounding box\n     */\n    get height() {\n        return this.bottom - this.top;\n    }\n    /**\n     * Return whether the bounding box has zero dimensions in height,width or both\n     */\n    hasZeroDimensions() {\n        return this.width === 0 || this.height === 0;\n    }\n    /**\n     * Returns the center of the bounding box\n     */\n    get center() {\n        return new Vector((this.left + this.right) / 2, (this.top + this.bottom) / 2);\n    }\n    get topLeft() {\n        return new Vector(this.left, this.top);\n    }\n    get bottomRight() {\n        return new Vector(this.right, this.bottom);\n    }\n    get topRight() {\n        return new Vector(this.right, this.top);\n    }\n    get bottomLeft() {\n        return new Vector(this.left, this.bottom);\n    }\n    translate(pos) {\n        return new BoundingBox(this.left + pos.x, this.top + pos.y, this.right + pos.x, this.bottom + pos.y);\n    }\n    /**\n     * Rotates a bounding box by and angle and around a point, if no point is specified (0, 0) is used by default. The resulting bounding\n     * box is also axis-align. This is useful when a new axis-aligned bounding box is needed for rotated geometry.\n     */\n    rotate(angle, point = Vector.Zero) {\n        const points = this.getPoints().map((p) => p.rotate(angle, point));\n        return BoundingBox.fromPoints(points);\n    }\n    /**\n     * Scale a bounding box by a scale factor, optionally provide a point\n     * @param scale\n     * @param point\n     */\n    scale(scale, point = Vector.Zero) {\n        const shifted = this.translate(point);\n        return new BoundingBox(shifted.left * scale.x, shifted.top * scale.y, shifted.right * scale.x, shifted.bottom * scale.y);\n    }\n    /**\n     * Transform the axis aligned bounding box by a [[Matrix]], producing a new axis aligned bounding box\n     * @param matrix\n     */\n    transform(matrix) {\n        // inlined these calculations to not use vectors would speed it up slightly\n        // const matFirstColumn = vec(matrix.data[0], matrix.data[1]);\n        // const xa = matFirstColumn.scale(this.left);\n        const xa1 = matrix.data[0] * this.left;\n        const xa2 = matrix.data[1] * this.left;\n        // const xb = matFirstColumn.scale(this.right);\n        const xb1 = matrix.data[0] * this.right;\n        const xb2 = matrix.data[1] * this.right;\n        // const matSecondColumn = vec(matrix.data[2], matrix.data[3]);\n        // const ya = matSecondColumn.scale(this.top);\n        const ya1 = matrix.data[2] * this.top;\n        const ya2 = matrix.data[3] * this.top;\n        // const yb = matSecondColumn.scale(this.bottom);\n        const yb1 = matrix.data[2] * this.bottom;\n        const yb2 = matrix.data[3] * this.bottom;\n        const matrixPos = matrix.getPosition();\n        // const topLeft = Vector.min(xa, xb).add(Vector.min(ya, yb)).add(matrixPos);\n        // const bottomRight = Vector.max(xa, xb).add(Vector.max(ya, yb)).add(matrixPos);\n        const left = Math.min(xa1, xb1) + Math.min(ya1, yb1) + matrixPos.x;\n        const top = Math.min(xa2, xb2) + Math.min(ya2, yb2) + matrixPos.y;\n        const right = Math.max(xa1, xb1) + Math.max(ya1, yb1) + matrixPos.x;\n        const bottom = Math.max(xa2, xb2) + Math.max(ya2, yb2) + matrixPos.y;\n        return new BoundingBox({\n            left, //: topLeft.x,\n            top, //: topLeft.y,\n            right, //: bottomRight.x,\n            bottom //: bottomRight.y\n        });\n    }\n    /**\n     * Returns the perimeter of the bounding box\n     */\n    getPerimeter() {\n        const wx = this.width;\n        const wy = this.height;\n        return 2 * (wx + wy);\n    }\n    /**\n     * Returns the world space points that make up the corners of the bounding box as a polygon\n     */\n    getPoints() {\n        if (this._left !== this.left ||\n            this._right !== this.right ||\n            this._top !== this.top ||\n            this._bottom !== this.bottom) {\n            this._points.length = 0;\n            this._points.push(new Vector(this.left, this.top));\n            this._points.push(new Vector(this.right, this.top));\n            this._points.push(new Vector(this.right, this.bottom));\n            this._points.push(new Vector(this.left, this.bottom));\n            this._left = this.left;\n            this._right = this.right;\n            this._top = this.top;\n            this._bottom = this.bottom;\n        }\n        return this._points;\n    }\n    /**\n     * Determines whether a ray intersects with a bounding box\n     */\n    rayCast(ray, farClipDistance = Infinity) {\n        // algorithm from https://tavianator.com/fast-branchless-raybounding-box-intersections/\n        let tmin = -Infinity;\n        let tmax = +Infinity;\n        const xinv = ray.dir.x === 0 ? Number.MAX_VALUE : 1 / ray.dir.x;\n        const yinv = ray.dir.y === 0 ? Number.MAX_VALUE : 1 / ray.dir.y;\n        const tx1 = (this.left - ray.pos.x) * xinv;\n        const tx2 = (this.right - ray.pos.x) * xinv;\n        tmin = Math.min(tx1, tx2);\n        tmax = Math.max(tx1, tx2);\n        const ty1 = (this.top - ray.pos.y) * yinv;\n        const ty2 = (this.bottom - ray.pos.y) * yinv;\n        tmin = Math.max(tmin, Math.min(ty1, ty2));\n        tmax = Math.min(tmax, Math.max(ty1, ty2));\n        return tmax >= Math.max(0, tmin) && tmin < farClipDistance;\n    }\n    rayCastTime(ray, farClipDistance = Infinity) {\n        // algorithm from https://tavianator.com/fast-branchless-raybounding-box-intersections/\n        let tmin = -Infinity;\n        let tmax = +Infinity;\n        const xinv = ray.dir.x === 0 ? Number.MAX_VALUE : 1 / ray.dir.x;\n        const yinv = ray.dir.y === 0 ? Number.MAX_VALUE : 1 / ray.dir.y;\n        const tx1 = (this.left - ray.pos.x) * xinv;\n        const tx2 = (this.right - ray.pos.x) * xinv;\n        tmin = Math.min(tx1, tx2);\n        tmax = Math.max(tx1, tx2);\n        const ty1 = (this.top - ray.pos.y) * yinv;\n        const ty2 = (this.bottom - ray.pos.y) * yinv;\n        tmin = Math.max(tmin, Math.min(ty1, ty2));\n        tmax = Math.min(tmax, Math.max(ty1, ty2));\n        if (tmax >= Math.max(0, tmin) && tmin < farClipDistance) {\n            return tmin;\n        }\n        return -1;\n    }\n    contains(val) {\n        if (val instanceof Vector) {\n            return this.left <= val.x && this.top <= val.y && this.bottom >= val.y && this.right >= val.x;\n        }\n        else if (val instanceof BoundingBox) {\n            if (this.left <= val.left && this.top <= val.top && val.bottom <= this.bottom && val.right <= this.right) {\n                return true;\n            }\n            return false;\n        }\n        return false;\n    }\n    /**\n     * Combines this bounding box and another together returning a new bounding box\n     * @param other  The bounding box to combine\n     */\n    combine(other) {\n        const compositeBB = new BoundingBox(Math.min(this.left, other.left), Math.min(this.top, other.top), Math.max(this.right, other.right), Math.max(this.bottom, other.bottom));\n        return compositeBB;\n    }\n    get dimensions() {\n        return new Vector(this.width, this.height);\n    }\n    /**\n     * Returns true if the bounding boxes overlap.\n     * @param other\n     * @param epsilon Optionally specify a small epsilon (default 0) as amount of overlap to ignore as overlap.\n     * This epsilon is useful in stable collision simulations.\n     */\n    overlaps(other, epsilon) {\n        const e = epsilon || 0;\n        if (other.hasZeroDimensions()) {\n            return this.contains(other);\n        }\n        if (this.hasZeroDimensions()) {\n            return other.contains(this);\n        }\n        const totalBoundingBox = this.combine(other);\n        return totalBoundingBox.width + e < other.width + this.width &&\n            totalBoundingBox.height + e < other.height + this.height;\n    }\n    /**\n     * Test wether this bounding box intersects with another returning\n     * the intersection vector that can be used to resolve the collision. If there\n     * is no intersection null is returned.\n     * @param other  Other [[BoundingBox]] to test intersection with\n     * @returns A Vector in the direction of the current BoundingBox, this <- other\n     */\n    intersect(other) {\n        const totalBoundingBox = this.combine(other);\n        // If the total bounding box is less than or equal the sum of the 2 bounds then there is collision\n        if (totalBoundingBox.width < other.width + this.width &&\n            totalBoundingBox.height < other.height + this.height &&\n            !totalBoundingBox.dimensions.equals(other.dimensions) &&\n            !totalBoundingBox.dimensions.equals(this.dimensions)) {\n            // collision\n            let overlapX = 0;\n            // right edge is between the other's left and right edge\n            /**\n             *     +-this-+\n             *     |      |\n             *     |    +-other-+\n             *     +----|-+     |\n             *          |       |\n             *          +-------+\n             *         <---\n             *          ^ overlap\n             */\n            if (this.right >= other.left && this.right <= other.right) {\n                overlapX = other.left - this.right;\n                // right edge is past the other's right edge\n                /**\n                 *     +-other-+\n                 *     |       |\n                 *     |    +-this-+\n                 *     +----|--+   |\n                 *          |      |\n                 *          +------+\n                 *          --->\n                 *          ^ overlap\n                 */\n            }\n            else {\n                overlapX = other.right - this.left;\n            }\n            let overlapY = 0;\n            // top edge is between the other's top and bottom edge\n            /**\n             *     +-other-+\n             *     |       |\n             *     |    +-this-+   | <- overlap\n             *     +----|--+   |   |\n             *          |      |  \\ /\n             *          +------+   '\n             */\n            if (this.top <= other.bottom && this.top >= other.top) {\n                overlapY = other.bottom - this.top;\n                // top edge is above the other top edge\n                /**\n                 *     +-this-+         .\n                 *     |      |        / \\\n                 *     |    +-other-+   | <- overlap\n                 *     +----|-+     |   |\n                 *          |       |\n                 *          +-------+\n                 */\n            }\n            else {\n                overlapY = other.top - this.bottom;\n            }\n            if (Math.abs(overlapX) < Math.abs(overlapY)) {\n                return new Vector(overlapX, 0);\n            }\n            else {\n                return new Vector(0, overlapY);\n            }\n            // Case of total containment of one bounding box by another\n        }\n        else if (totalBoundingBox.dimensions.equals(other.dimensions) || totalBoundingBox.dimensions.equals(this.dimensions)) {\n            let overlapX = 0;\n            // this is wider than the other\n            if (this.width - other.width >= 0) {\n                // This right edge is closest to the others right edge\n                if (this.right - other.right <= other.left - this.left) {\n                    overlapX = other.left - this.right;\n                    // This left edge is closest to the others left edge\n                }\n                else {\n                    overlapX = other.right - this.left;\n                }\n                // other is wider than this\n            }\n            else {\n                // This right edge is closest to the others right edge\n                if (other.right - this.right <= this.left - other.left) {\n                    overlapX = this.left - other.right;\n                    // This left edge is closest to the others left edge\n                }\n                else {\n                    overlapX = this.right - other.left;\n                }\n            }\n            let overlapY = 0;\n            // this is taller than other\n            if (this.height - other.height >= 0) {\n                // The bottom edge is closest to the others bottom edge\n                if (this.bottom - other.bottom <= other.top - this.top) {\n                    overlapY = other.top - this.bottom;\n                }\n                else {\n                    overlapY = other.bottom - this.top;\n                }\n                // other is taller than this\n            }\n            else {\n                // The bottom edge is closest to the others bottom edge\n                if (other.bottom - this.bottom <= this.top - other.top) {\n                    overlapY = this.top - other.bottom;\n                }\n                else {\n                    overlapY = this.bottom - other.top;\n                }\n            }\n            if (Math.abs(overlapX) < Math.abs(overlapY)) {\n                return new Vector(overlapX, 0);\n            }\n            else {\n                return new Vector(0, overlapY);\n            }\n        }\n        else {\n            return null;\n        }\n    }\n    /**\n     * Test whether the bounding box has intersected with another bounding box, returns the side of the current bb that intersected.\n     * @param bb The other actor to test\n     */\n    intersectWithSide(bb) {\n        const intersect = this.intersect(bb);\n        return BoundingBox.getSideFromIntersection(intersect);\n    }\n    /**\n     * Draw a debug bounding box\n     * @param ex\n     * @param color\n     */\n    draw(ex, color = Color.Yellow) {\n        ex.debug.drawRect(this.left, this.top, this.width, this.height, { color });\n    }\n}\n\n;// CONCATENATED MODULE: ./Util/Util.ts\n\n\n/**\n * Find the screen position of an HTML element\n */\nfunction getPosition(el) {\n    // do we need the scroll too? technically the offset method before did that\n    const rect = el.getBoundingClientRect();\n    return vec(rect.x + window.scrollX, rect.y + window.scrollY);\n}\n/**\n * Add an item to an array list if it doesn't already exist. Returns true if added, false if not and already exists in the array.\n * @deprecated Will be removed in v0.26.0\n */\nfunction addItemToArray(item, array) {\n    if (array.indexOf(item) === -1) {\n        array.push(item);\n        return true;\n    }\n    return false;\n}\n/**\n * Remove an item from an list\n * @deprecated Will be removed in v0.26.0\n */\nfunction removeItemFromArray(item, array) {\n    let index = -1;\n    if ((index = array.indexOf(item)) > -1) {\n        array.splice(index, 1);\n        return true;\n    }\n    return false;\n}\n/**\n * See if an array contains something\n */\nfunction contains(array, obj) {\n    for (let i = 0; i < array.length; i++) {\n        if (array[i] === obj) {\n            return true;\n        }\n    }\n    return false;\n}\n/**\n * Used for exhaustive checks at compile time\n */\nfunction fail(message) {\n    throw new Error(message);\n}\n/**\n * Create a promise that resolves after a certain number of milliseconds\n *\n * It is strongly recommended you pass the excalibur clock so delays are bound to the\n * excalibur clock which would be unaffected by stop/pause.\n * @param milliseconds\n * @param clock\n */\nfunction delay(milliseconds, clock) {\n    var _a;\n    const future = new Future();\n    const schedule = (_a = clock === null || clock === void 0 ? void 0 : clock.schedule.bind(clock)) !== null && _a !== void 0 ? _a : setTimeout;\n    schedule(() => {\n        future.resolve();\n    }, milliseconds);\n    return future.promise;\n}\n/**\n * Remove keys from object literals\n * @param object\n * @param keys\n */\nfunction omit(object, keys) {\n    const newObj = {};\n    for (const key in object) {\n        if (!keys.includes(key)) {\n            newObj[key] = object[key];\n        }\n    }\n    return newObj;\n}\n\n;// CONCATENATED MODULE: ./Math/matrix.ts\n\n\n\nvar MatrixLocations;\n(function (MatrixLocations) {\n    MatrixLocations[MatrixLocations[\"X\"] = 12] = \"X\";\n    MatrixLocations[MatrixLocations[\"Y\"] = 13] = \"Y\";\n})(MatrixLocations || (MatrixLocations = {}));\n/**\n * Excalibur Matrix helper for 4x4 matrices\n *\n * Useful for webgl 4x4 matrices\n */\nclass Matrix {\n    constructor() {\n        /**\n         *  4x4 matrix in column major order\n         *\n         * |         |         |          |          |\n         * | ------- | ------- | -------- | -------- |\n         * | data[0] | data[4] | data[8]  | data[12] |\n         * | data[1] | data[5] | data[9]  | data[13] |\n         * | data[2] | data[6] | data[10] | data[14] |\n         * | data[3] | data[7] | data[11] | data[15] |\n         *\n         */\n        this.data = new Float32Array(16);\n        this._scaleX = 1;\n        this._scaleSignX = 1;\n        this._scaleY = 1;\n        this._scaleSignY = 1;\n    }\n    /**\n     * Creates an orthographic (flat non-perspective) projection\n     * https://en.wikipedia.org/wiki/Orthographic_projection\n     * @param left\n     * @param right\n     * @param bottom\n     * @param top\n     * @param near\n     * @param far\n     */\n    static ortho(left, right, bottom, top, near, far) {\n        const mat = new Matrix();\n        mat.data[0] = 2 / (right - left);\n        mat.data[1] = 0;\n        mat.data[2] = 0;\n        mat.data[3] = 0;\n        mat.data[4] = 0;\n        mat.data[5] = 2 / (top - bottom);\n        mat.data[6] = 0;\n        mat.data[7] = 0;\n        mat.data[8] = 0;\n        mat.data[9] = 0;\n        mat.data[10] = -2 / (far - near);\n        mat.data[11] = 0;\n        mat.data[12] = -(right + left) / (right - left);\n        mat.data[13] = -(top + bottom) / (top - bottom);\n        mat.data[14] = -(far + near) / (far - near);\n        mat.data[15] = 1;\n        return mat;\n    }\n    /**\n     * Creates a new Matrix with the same data as the current 4x4\n     */\n    clone(dest) {\n        const mat = dest || new Matrix();\n        mat.data[0] = this.data[0];\n        mat.data[1] = this.data[1];\n        mat.data[2] = this.data[2];\n        mat.data[3] = this.data[3];\n        mat.data[4] = this.data[4];\n        mat.data[5] = this.data[5];\n        mat.data[6] = this.data[6];\n        mat.data[7] = this.data[7];\n        mat.data[8] = this.data[8];\n        mat.data[9] = this.data[9];\n        mat.data[10] = this.data[10];\n        mat.data[11] = this.data[11];\n        mat.data[12] = this.data[12];\n        mat.data[13] = this.data[13];\n        mat.data[14] = this.data[14];\n        mat.data[15] = this.data[15];\n        return mat;\n    }\n    /**\n     * Converts the current matrix into a DOMMatrix\n     *\n     * This is useful when working with the browser Canvas context\n     * @returns {DOMMatrix} DOMMatrix\n     */\n    toDOMMatrix() {\n        return new DOMMatrix([...this.data]);\n    }\n    static fromFloat32Array(data) {\n        const matrix = new Matrix();\n        matrix.data = data;\n        return matrix;\n    }\n    /**\n     * Creates a new identity matrix (a matrix that when applied does nothing)\n     */\n    static identity() {\n        const mat = new Matrix();\n        mat.data[0] = 1;\n        mat.data[1] = 0;\n        mat.data[2] = 0;\n        mat.data[3] = 0;\n        mat.data[4] = 0;\n        mat.data[5] = 1;\n        mat.data[6] = 0;\n        mat.data[7] = 0;\n        mat.data[8] = 0;\n        mat.data[9] = 0;\n        mat.data[10] = 1;\n        mat.data[11] = 0;\n        mat.data[12] = 0;\n        mat.data[13] = 0;\n        mat.data[14] = 0;\n        mat.data[15] = 1;\n        return mat;\n    }\n    /**\n     * Resets the current matrix to the identity matrix, mutating it\n     * @returns {Matrix} Current matrix as identity\n     */\n    reset() {\n        const mat = this;\n        mat.data[0] = 1;\n        mat.data[1] = 0;\n        mat.data[2] = 0;\n        mat.data[3] = 0;\n        mat.data[4] = 0;\n        mat.data[5] = 1;\n        mat.data[6] = 0;\n        mat.data[7] = 0;\n        mat.data[8] = 0;\n        mat.data[9] = 0;\n        mat.data[10] = 1;\n        mat.data[11] = 0;\n        mat.data[12] = 0;\n        mat.data[13] = 0;\n        mat.data[14] = 0;\n        mat.data[15] = 1;\n        return mat;\n    }\n    /**\n     * Creates a brand new translation matrix at the specified 3d point\n     * @param x\n     * @param y\n     */\n    static translation(x, y) {\n        const mat = Matrix.identity();\n        mat.data[12] = x;\n        mat.data[13] = y;\n        return mat;\n    }\n    /**\n     * Creates a brand new scaling matrix with the specified scaling factor\n     * @param sx\n     * @param sy\n     */\n    static scale(sx, sy) {\n        const mat = Matrix.identity();\n        mat.data[0] = sx;\n        mat.data[5] = sy;\n        mat.data[10] = 1;\n        mat.data[15] = 1;\n        return mat;\n    }\n    /**\n     * Creates a brand new rotation matrix with the specified angle\n     * @param angleRadians\n     */\n    static rotation(angleRadians) {\n        const mat = Matrix.identity();\n        mat.data[0] = Math.cos(angleRadians);\n        mat.data[4] = -Math.sin(angleRadians);\n        mat.data[1] = Math.sin(angleRadians);\n        mat.data[5] = Math.cos(angleRadians);\n        return mat;\n    }\n    multiply(vectorOrMatrix, dest) {\n        if (vectorOrMatrix instanceof Vector) {\n            const result = dest || new Vector(0, 0);\n            const vector = vectorOrMatrix;\n            // these shenanigans are to allow dest and vector to be the same instance\n            const resultX = vector.x * this.data[0] + vector.y * this.data[4] + this.data[12];\n            const resultY = vector.x * this.data[1] + vector.y * this.data[5] + this.data[13];\n            result.x = resultX;\n            result.y = resultY;\n            return result;\n        }\n        else {\n            const result = dest || new Matrix();\n            const other = vectorOrMatrix;\n            const a11 = this.data[0];\n            const a21 = this.data[1];\n            const a31 = this.data[2];\n            const a41 = this.data[3];\n            const a12 = this.data[4];\n            const a22 = this.data[5];\n            const a32 = this.data[6];\n            const a42 = this.data[7];\n            const a13 = this.data[8];\n            const a23 = this.data[9];\n            const a33 = this.data[10];\n            const a43 = this.data[11];\n            const a14 = this.data[12];\n            const a24 = this.data[13];\n            const a34 = this.data[14];\n            const a44 = this.data[15];\n            const b11 = other.data[0];\n            const b21 = other.data[1];\n            const b31 = other.data[2];\n            const b41 = other.data[3];\n            const b12 = other.data[4];\n            const b22 = other.data[5];\n            const b32 = other.data[6];\n            const b42 = other.data[7];\n            const b13 = other.data[8];\n            const b23 = other.data[9];\n            const b33 = other.data[10];\n            const b43 = other.data[11];\n            const b14 = other.data[12];\n            const b24 = other.data[13];\n            const b34 = other.data[14];\n            const b44 = other.data[15];\n            result.data[0] = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;\n            result.data[1] = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;\n            result.data[2] = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;\n            result.data[3] = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;\n            result.data[4] = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;\n            result.data[5] = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;\n            result.data[6] = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;\n            result.data[7] = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;\n            result.data[8] = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;\n            result.data[9] = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;\n            result.data[10] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;\n            result.data[11] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;\n            result.data[12] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;\n            result.data[13] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;\n            result.data[14] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;\n            result.data[15] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;\n            const s = this.getScale();\n            result._scaleSignX = sign(s.x) * sign(result._scaleSignX);\n            result._scaleSignY = sign(s.y) * sign(result._scaleSignY);\n            return result;\n        }\n    }\n    /**\n     * Applies translation to the current matrix mutating it\n     * @param x\n     * @param y\n     */\n    translate(x, y) {\n        const a11 = this.data[0];\n        const a21 = this.data[1];\n        const a31 = this.data[2];\n        const a41 = this.data[3];\n        const a12 = this.data[4];\n        const a22 = this.data[5];\n        const a32 = this.data[6];\n        const a42 = this.data[7];\n        const a13 = this.data[8];\n        const a23 = this.data[9];\n        const a33 = this.data[10];\n        const a43 = this.data[11];\n        const a14 = this.data[12];\n        const a24 = this.data[13];\n        const a34 = this.data[14];\n        const a44 = this.data[15];\n        // Doesn't change z\n        const z = 0;\n        const w = 1;\n        this.data[12] = a11 * x + a12 * y + a13 * z + a14 * w;\n        this.data[13] = a21 * x + a22 * y + a23 * z + a24 * w;\n        this.data[14] = a31 * x + a32 * y + a33 * z + a34 * w;\n        this.data[15] = a41 * x + a42 * y + a43 * z + a44 * w;\n        return this;\n    }\n    setPosition(x, y) {\n        this.data[12] = x;\n        this.data[13] = y;\n    }\n    getPosition() {\n        return vec(this.data[12], this.data[13]);\n    }\n    /**\n     * Applies rotation to the current matrix mutating it\n     * @param angle in Radians\n     */\n    rotate(angle) {\n        const a11 = this.data[0];\n        const a21 = this.data[1];\n        const a31 = this.data[2];\n        const a41 = this.data[3];\n        const a12 = this.data[4];\n        const a22 = this.data[5];\n        const a32 = this.data[6];\n        const a42 = this.data[7];\n        const sine = Math.sin(angle);\n        const cosine = Math.cos(angle);\n        this.data[0] = cosine * a11 + sine * a12;\n        this.data[1] = cosine * a21 + sine * a22;\n        this.data[2] = cosine * a31 + sine * a32;\n        this.data[3] = cosine * a41 + sine * a42;\n        this.data[4] = cosine * a12 - sine * a11;\n        this.data[5] = cosine * a22 - sine * a21;\n        this.data[6] = cosine * a32 - sine * a31;\n        this.data[7] = cosine * a42 - sine * a41;\n        return this;\n    }\n    /**\n     * Applies scaling to the current matrix mutating it\n     * @param x\n     * @param y\n     */\n    scale(x, y) {\n        const a11 = this.data[0];\n        const a21 = this.data[1];\n        const a31 = this.data[2];\n        const a41 = this.data[3];\n        const a12 = this.data[4];\n        const a22 = this.data[5];\n        const a32 = this.data[6];\n        const a42 = this.data[7];\n        this.data[0] = a11 * x;\n        this.data[1] = a21 * x;\n        this.data[2] = a31 * x;\n        this.data[3] = a41 * x;\n        this.data[4] = a12 * y;\n        this.data[5] = a22 * y;\n        this.data[6] = a32 * y;\n        this.data[7] = a42 * y;\n        return this;\n    }\n    setRotation(angle) {\n        const currentScale = this.getScale();\n        const sine = Math.sin(angle);\n        const cosine = Math.cos(angle);\n        this.data[0] = cosine * currentScale.x;\n        this.data[1] = sine * currentScale.y;\n        this.data[4] = -sine * currentScale.x;\n        this.data[5] = cosine * currentScale.y;\n    }\n    getRotation() {\n        const angle = Math.atan2(this.data[1] / this.getScaleY(), this.data[0] / this.getScaleX());\n        return canonicalizeAngle(angle);\n    }\n    getScaleX() {\n        // absolute scale of the matrix (we lose sign so need to add it back)\n        const xscale = vec(this.data[0], this.data[4]).size;\n        return this._scaleSignX * xscale;\n    }\n    getScaleY() {\n        // absolute scale of the matrix (we lose sign so need to add it back)\n        const yscale = vec(this.data[1], this.data[5]).size;\n        return this._scaleSignY * yscale;\n    }\n    /**\n     * Get the scale of the matrix\n     */\n    getScale() {\n        return vec(this.getScaleX(), this.getScaleY());\n    }\n    setScaleX(val) {\n        if (this._scaleX === val) {\n            return;\n        }\n        this._scaleSignX = sign(val);\n        // negative scale acts like a 180 rotation, so flip\n        const xscale = vec(this.data[0] * this._scaleSignX, this.data[4] * this._scaleSignX).normalize();\n        this.data[0] = xscale.x * val;\n        this.data[4] = xscale.y * val;\n        this._scaleX = val;\n    }\n    setScaleY(val) {\n        if (this._scaleY === val) {\n            return;\n        }\n        this._scaleSignY = sign(val);\n        // negative scale acts like a 180 rotation, so flip\n        const yscale = vec(this.data[1] * this._scaleSignY, this.data[5] * this._scaleSignY).normalize();\n        this.data[1] = yscale.x * val;\n        this.data[5] = yscale.y * val;\n        this._scaleY = val;\n    }\n    setScale(scale) {\n        this.setScaleX(scale.x);\n        this.setScaleY(scale.y);\n    }\n    /**\n     * Determinant of the upper left 2x2 matrix\n     */\n    getBasisDeterminant() {\n        return this.data[0] * this.data[5] - this.data[1] * this.data[4];\n    }\n    /**\n     * Return the affine inverse, optionally store it in a target matrix.\n     *\n     * It's recommended you call .reset() the target unless you know what you're doing\n     * @param target\n     */\n    getAffineInverse(target) {\n        // See http://negativeprobability.blogspot.com/2011/11/affine-transformations-and-their.html\n        // See https://www.mathsisfun.com/algebra/matrix-inverse.html\n        // Since we are actually only doing 2D transformations we can use this hack\n        // We don't actually use the 3rd or 4th dimension\n        const det = this.getBasisDeterminant();\n        const inverseDet = 1 / det; // todo zero check\n        const a = this.data[0];\n        const b = this.data[4];\n        const c = this.data[1];\n        const d = this.data[5];\n        const m = target || Matrix.identity();\n        // inverts rotation and scale\n        m.data[0] = d * inverseDet;\n        m.data[1] = -c * inverseDet;\n        m.data[4] = -b * inverseDet;\n        m.data[5] = a * inverseDet;\n        const tx = this.data[12];\n        const ty = this.data[13];\n        // invert translation\n        // transform translation into the matrix basis created by rot/scale\n        m.data[12] = -(tx * m.data[0] + ty * m.data[4]);\n        m.data[13] = -(tx * m.data[1] + ty * m.data[5]);\n        return m;\n    }\n    isIdentity() {\n        return (this.data[0] === 1 &&\n            this.data[1] === 0 &&\n            this.data[2] === 0 &&\n            this.data[3] === 0 &&\n            this.data[4] === 0 &&\n            this.data[5] === 1 &&\n            this.data[6] === 0 &&\n            this.data[7] === 0 &&\n            this.data[8] === 0 &&\n            this.data[9] === 0 &&\n            this.data[10] === 1 &&\n            this.data[11] === 0 &&\n            this.data[12] === 0 &&\n            this.data[13] === 0 &&\n            this.data[14] === 0 &&\n            this.data[15] === 1);\n    }\n    toString() {\n        return `\r\n[${this.data[0]} ${this.data[4]} ${this.data[8]} ${this.data[12]}]\r\n[${this.data[1]} ${this.data[5]} ${this.data[9]} ${this.data[13]}]\r\n[${this.data[2]} ${this.data[6]} ${this.data[10]} ${this.data[14]}]\r\n[${this.data[3]} ${this.data[7]} ${this.data[11]} ${this.data[15]}]\r\n`;\n    }\n}\n\n;// CONCATENATED MODULE: ./Math/affine-matrix.ts\n\n\n\nclass AffineMatrix {\n    constructor() {\n        /**\n         * |         |         |          |\n         * | ------- | ------- | -------- |\n         * | data[0] | data[2] | data[4]  |\n         * | data[1] | data[3] | data[5]  |\n         * |   0     |    0    |    1     |\n         */\n        this.data = new Float64Array(6);\n        this._scale = new Float64Array([1, 1]);\n        this._scaleSignX = 1;\n        this._scaleSignY = 1;\n    }\n    /**\n     * Converts the current matrix into a DOMMatrix\n     *\n     * This is useful when working with the browser Canvas context\n     * @returns {DOMMatrix} DOMMatrix\n     */\n    toDOMMatrix() {\n        return new DOMMatrix([...this.data]);\n    }\n    static identity() {\n        const mat = new AffineMatrix();\n        mat.data[0] = 1;\n        mat.data[1] = 0;\n        mat.data[2] = 0;\n        mat.data[3] = 1;\n        mat.data[4] = 0;\n        mat.data[5] = 0;\n        return mat;\n    }\n    /**\n     * Creates a brand new translation matrix at the specified 3d point\n     * @param x\n     * @param y\n     */\n    static translation(x, y) {\n        const mat = AffineMatrix.identity();\n        mat.data[4] = x;\n        mat.data[5] = y;\n        return mat;\n    }\n    /**\n     * Creates a brand new scaling matrix with the specified scaling factor\n     * @param sx\n     * @param sy\n     */\n    static scale(sx, sy) {\n        const mat = AffineMatrix.identity();\n        mat.data[0] = sx;\n        mat.data[3] = sy;\n        mat._scale[0] = sx;\n        mat._scale[1] = sy;\n        return mat;\n    }\n    /**\n     * Creates a brand new rotation matrix with the specified angle\n     * @param angleRadians\n     */\n    static rotation(angleRadians) {\n        const mat = AffineMatrix.identity();\n        mat.data[0] = Math.cos(angleRadians);\n        mat.data[1] = Math.sin(angleRadians);\n        mat.data[2] = -Math.sin(angleRadians);\n        mat.data[3] = Math.cos(angleRadians);\n        return mat;\n    }\n    setPosition(x, y) {\n        this.data[4] = x;\n        this.data[5] = y;\n    }\n    getPosition() {\n        return vec(this.data[4], this.data[5]);\n    }\n    /**\n     * Applies rotation to the current matrix mutating it\n     * @param angle in Radians\n     */\n    rotate(angle) {\n        const a11 = this.data[0];\n        const a21 = this.data[1];\n        const a12 = this.data[2];\n        const a22 = this.data[3];\n        const sine = Math.sin(angle);\n        const cosine = Math.cos(angle);\n        this.data[0] = cosine * a11 + sine * a12;\n        this.data[1] = cosine * a21 + sine * a22;\n        this.data[2] = cosine * a12 - sine * a11;\n        this.data[3] = cosine * a22 - sine * a21;\n        return this;\n    }\n    /**\n     * Applies translation to the current matrix mutating it\n     * @param x\n     * @param y\n     */\n    translate(x, y) {\n        const a11 = this.data[0];\n        const a21 = this.data[1];\n        // const a31 = 0;\n        const a12 = this.data[2];\n        const a22 = this.data[3];\n        // const a32 = 0;\n        const a13 = this.data[4];\n        const a23 = this.data[5];\n        // const a33 = 1;\n        // Doesn't change z\n        this.data[4] = a11 * x + a12 * y + a13;\n        this.data[5] = a21 * x + a22 * y + a23;\n        return this;\n    }\n    /**\n     * Applies scaling to the current matrix mutating it\n     * @param x\n     * @param y\n     */\n    scale(x, y) {\n        const a11 = this.data[0];\n        const a21 = this.data[1];\n        const a12 = this.data[2];\n        const a22 = this.data[3];\n        this.data[0] = a11 * x;\n        this.data[1] = a21 * x;\n        this.data[2] = a12 * y;\n        this.data[3] = a22 * y;\n        this._scale[0] = x;\n        this._scale[1] = y;\n        return this;\n    }\n    determinant() {\n        return this.data[0] * this.data[3] - this.data[1] * this.data[2];\n    }\n    /**\n     * Return the affine inverse, optionally store it in a target matrix.\n     *\n     * It's recommended you call .reset() the target unless you know what you're doing\n     * @param target\n     */\n    inverse(target) {\n        // See http://negativeprobability.blogspot.com/2011/11/affine-transformations-and-their.html\n        // See https://www.mathsisfun.com/algebra/matrix-inverse.html\n        // Since we are actually only doing 2D transformations we can use this hack\n        // We don't actually use the 3rd or 4th dimension\n        const det = this.determinant();\n        const inverseDet = 1 / det; // TODO zero check\n        const a = this.data[0];\n        const b = this.data[2];\n        const c = this.data[1];\n        const d = this.data[3];\n        const m = target || AffineMatrix.identity();\n        // inverts rotation and scale\n        m.data[0] = d * inverseDet;\n        m.data[1] = -c * inverseDet;\n        m.data[2] = -b * inverseDet;\n        m.data[3] = a * inverseDet;\n        const tx = this.data[4];\n        const ty = this.data[5];\n        // invert translation\n        // transform translation into the matrix basis created by rot/scale\n        m.data[4] = -(tx * m.data[0] + ty * m.data[2]);\n        m.data[5] = -(tx * m.data[1] + ty * m.data[3]);\n        return m;\n    }\n    multiply(vectorOrMatrix, dest) {\n        if (vectorOrMatrix instanceof Vector) {\n            const result = dest || new Vector(0, 0);\n            const vector = vectorOrMatrix;\n            // these shenanigans are to allow dest and vector to be the same instance\n            const resultX = vector.x * this.data[0] + vector.y * this.data[2] + this.data[4];\n            const resultY = vector.x * this.data[1] + vector.y * this.data[3] + this.data[5];\n            result.x = resultX;\n            result.y = resultY;\n            return result;\n        }\n        else {\n            const result = dest || new AffineMatrix();\n            const other = vectorOrMatrix;\n            const a11 = this.data[0];\n            const a21 = this.data[1];\n            //  const a31 = 0;\n            const a12 = this.data[2];\n            const a22 = this.data[3];\n            //  const a32 = 0;\n            const a13 = this.data[4];\n            const a23 = this.data[5];\n            //  const a33 = 1;\n            const b11 = other.data[0];\n            const b21 = other.data[1];\n            //  const b31 = 0;\n            const b12 = other.data[2];\n            const b22 = other.data[3];\n            //  const b32 = 0;\n            const b13 = other.data[4];\n            const b23 = other.data[5];\n            //  const b33 = 1;\n            result.data[0] = a11 * b11 + a12 * b21; // + a13 * b31; // zero\n            result.data[1] = a21 * b11 + a22 * b21; // + a23 * b31; // zero\n            result.data[2] = a11 * b12 + a12 * b22; // + a13 * b32; // zero\n            result.data[3] = a21 * b12 + a22 * b22; // + a23 * b32; // zero\n            result.data[4] = a11 * b13 + a12 * b23 + a13; // * b33; // one\n            result.data[5] = a21 * b13 + a22 * b23 + a23; // * b33; // one\n            const s = this.getScale();\n            result._scaleSignX = sign(s.x) * sign(result._scaleSignX);\n            result._scaleSignY = sign(s.y) * sign(result._scaleSignY);\n            return result;\n        }\n    }\n    to4x4() {\n        const mat = new Matrix();\n        mat.data[0] = this.data[0];\n        mat.data[1] = this.data[1];\n        mat.data[2] = 0;\n        mat.data[3] = 0;\n        mat.data[4] = this.data[2];\n        mat.data[5] = this.data[3];\n        mat.data[6] = 0;\n        mat.data[7] = 0;\n        mat.data[8] = 0;\n        mat.data[9] = 0;\n        mat.data[10] = 1;\n        mat.data[11] = 0;\n        mat.data[12] = this.data[4];\n        mat.data[13] = this.data[5];\n        mat.data[14] = 0;\n        mat.data[15] = 1;\n        return mat;\n    }\n    setRotation(angle) {\n        const currentScale = this.getScale();\n        const sine = Math.sin(angle);\n        const cosine = Math.cos(angle);\n        this.data[0] = cosine * currentScale.x;\n        this.data[1] = sine * currentScale.y;\n        this.data[2] = -sine * currentScale.x;\n        this.data[3] = cosine * currentScale.y;\n    }\n    getRotation() {\n        const angle = Math.atan2(this.data[1] / this.getScaleY(), this.data[0] / this.getScaleX());\n        return canonicalizeAngle(angle);\n    }\n    getScaleX() {\n        // absolute scale of the matrix (we lose sign so need to add it back)\n        const xscale = vec(this.data[0], this.data[2]).distance();\n        return this._scaleSignX * xscale;\n    }\n    getScaleY() {\n        // absolute scale of the matrix (we lose sign so need to add it back)\n        const yscale = vec(this.data[1], this.data[3]).distance();\n        return this._scaleSignY * yscale;\n    }\n    /**\n     * Get the scale of the matrix\n     */\n    getScale() {\n        return vec(this.getScaleX(), this.getScaleY());\n    }\n    setScaleX(val) {\n        if (val === this._scale[0]) {\n            return;\n        }\n        this._scaleSignX = sign(val);\n        // negative scale acts like a 180 rotation, so flip\n        const xscale = vec(this.data[0] * this._scaleSignX, this.data[2] * this._scaleSignX).normalize();\n        this.data[0] = xscale.x * val;\n        this.data[2] = xscale.y * val;\n        this._scale[0] = val;\n    }\n    setScaleY(val) {\n        if (val === this._scale[1]) {\n            return;\n        }\n        this._scaleSignY = sign(val);\n        // negative scale acts like a 180 rotation, so flip\n        const yscale = vec(this.data[1] * this._scaleSignY, this.data[3] * this._scaleSignY).normalize();\n        this.data[1] = yscale.x * val;\n        this.data[3] = yscale.y * val;\n        this._scale[1] = val;\n    }\n    setScale(scale) {\n        this.setScaleX(scale.x);\n        this.setScaleY(scale.y);\n    }\n    isIdentity() {\n        return (this.data[0] === 1 &&\n            this.data[1] === 0 &&\n            this.data[2] === 0 &&\n            this.data[3] === 1 &&\n            this.data[4] === 0 &&\n            this.data[5] === 0);\n    }\n    /**\n     * Resets the current matrix to the identity matrix, mutating it\n     * @returns {AffineMatrix} Current matrix as identity\n     */\n    reset() {\n        const mat = this;\n        mat.data[0] = 1;\n        mat.data[1] = 0;\n        mat.data[2] = 0;\n        mat.data[3] = 1;\n        mat.data[4] = 0;\n        mat.data[5] = 0;\n        return mat;\n    }\n    /**\n     * Creates a new Matrix with the same data as the current 4x4\n     */\n    clone(dest) {\n        const mat = dest || new AffineMatrix();\n        mat.data[0] = this.data[0];\n        mat.data[1] = this.data[1];\n        mat.data[2] = this.data[2];\n        mat.data[3] = this.data[3];\n        mat.data[4] = this.data[4];\n        mat.data[5] = this.data[5];\n        return mat;\n    }\n    toString() {\n        return `\r\n[${this.data[0]} ${this.data[2]} ${this.data[4]}]\r\n[${this.data[1]} ${this.data[3]} ${this.data[5]}]\r\n[0 0 1]\r\n`;\n    }\n}\n\n;// CONCATENATED MODULE: ./Graphics/Context/transform-stack.ts\n\nclass TransformStack {\n    constructor() {\n        this._transforms = [];\n        this._currentTransform = AffineMatrix.identity();\n    }\n    save() {\n        this._transforms.push(this._currentTransform);\n        this._currentTransform = this._currentTransform.clone();\n    }\n    restore() {\n        this._currentTransform = this._transforms.pop();\n    }\n    translate(x, y) {\n        return this._currentTransform.translate(x, y);\n    }\n    rotate(angle) {\n        return this._currentTransform.rotate(angle);\n    }\n    scale(x, y) {\n        return this._currentTransform.scale(x, y);\n    }\n    set current(matrix) {\n        this._currentTransform = matrix;\n    }\n    get current() {\n        return this._currentTransform;\n    }\n}\n\n;// CONCATENATED MODULE: ./Graphics/Context/state-stack.ts\n\nclass StateStack {\n    constructor() {\n        this._states = [];\n        this._currentState = this._getDefaultState();\n    }\n    _getDefaultState() {\n        return {\n            opacity: 1,\n            z: 0,\n            tint: Color.White,\n            material: null\n        };\n    }\n    _cloneState() {\n        return {\n            opacity: this._currentState.opacity,\n            z: this._currentState.z,\n            tint: this._currentState.tint.clone(),\n            material: this._currentState.material // TODO is this going to cause problems when cloning\n        };\n    }\n    save() {\n        this._states.push(this._currentState);\n        this._currentState = this._cloneState();\n    }\n    restore() {\n        this._currentState = this._states.pop();\n    }\n    get current() {\n        return this._currentState;\n    }\n    set current(val) {\n        this._currentState = val;\n    }\n}\n\n;// CONCATENATED MODULE: ./Resources/Resource.ts\n\n\nconst ResourceEvents = {\n    Complete: 'complete',\n    Load: 'load',\n    LoadStart: 'loadstart',\n    Progress: 'progress',\n    Error: 'error'\n};\n/**\n * The [[Resource]] type allows games built in Excalibur to load generic resources.\n * For any type of remote resource it is recommended to use [[Resource]] for preloading.\n */\nclass Resource {\n    /**\n     * @param path          Path to the remote resource\n     * @param responseType  The type to expect as a response: \"\" | \"arraybuffer\" | \"blob\" | \"document\" | \"json\" | \"text\";\n     * @param bustCache     Whether or not to cache-bust requests\n     */\n    constructor(path, responseType, bustCache = false) {\n        this.path = path;\n        this.responseType = responseType;\n        this.bustCache = bustCache;\n        this.data = null;\n        this.logger = Logger.getInstance();\n        this.events = new EventEmitter();\n    }\n    /**\n     * Returns true if the Resource is completely loaded and is ready\n     * to be drawn.\n     */\n    isLoaded() {\n        return this.data !== null;\n    }\n    _cacheBust(uri) {\n        const query = /\\?\\w*=\\w*/;\n        if (query.test(uri)) {\n            uri += '&__=' + Date.now();\n        }\n        else {\n            uri += '?__=' + Date.now();\n        }\n        return uri;\n    }\n    /**\n     * Begin loading the resource and returns a promise to be resolved on completion\n     */\n    load() {\n        return new Promise((resolve, reject) => {\n            // Exit early if we already have data\n            if (this.data !== null) {\n                this.logger.debug('Already have data for resource', this.path);\n                this.events.emit('complete', this.data);\n                resolve(this.data);\n                return;\n            }\n            const request = new XMLHttpRequest();\n            request.open('GET', this.bustCache ? this._cacheBust(this.path) : this.path, true);\n            request.responseType = this.responseType;\n            request.addEventListener('loadstart', (e) => this.events.emit('loadstart', e));\n            request.addEventListener('progress', (e) => this.events.emit('progress', e));\n            request.addEventListener('error', (e) => this.events.emit('error', e));\n            request.addEventListener('load', (e) => this.events.emit('load', e));\n            request.addEventListener('load', () => {\n                // XHR on file:// success status is 0, such as with PhantomJS\n                if (request.status !== 0 && request.status !== 200) {\n                    this.logger.error('Failed to load resource ', this.path, ' server responded with error code', request.status);\n                    this.events.emit('error', request.response);\n                    reject(new Error(request.statusText));\n                    return;\n                }\n                this.data = request.response;\n                this.events.emit('complete', this.data);\n                this.logger.debug('Completed loading resource', this.path);\n                resolve(this.data);\n            });\n            request.send();\n        });\n    }\n}\n\n;// CONCATENATED MODULE: ./Util/Watch.ts\n/**\n * Watch an object with a proxy, only fires if property value is different\n */\nfunction watch(type, change) {\n    if (!type) {\n        return type;\n    }\n    if (type.__isProxy === undefined) {\n        // expando hack to mark a proxy\n        return new Proxy(type, {\n            set: (obj, prop, value) => {\n                // The default behavior to store the value\n                if (obj[prop] !== value) {\n                    obj[prop] = value;\n                    // Avoid watching private junk\n                    if (typeof prop === 'string') {\n                        if (prop[0] !== '_') {\n                            change(obj);\n                        }\n                    }\n                }\n                // Indicate success\n                return true;\n            },\n            get: (obj, prop) => {\n                if (prop !== '__isProxy') {\n                    return obj[prop];\n                }\n                return true;\n            }\n        });\n    }\n    return type;\n}\nconst createHandler = (path = [], change, typeType) => ({\n    get: (target, key) => {\n        if (key === '__isProxy') {\n            return true;\n        }\n        if (typeof target[key] === 'object' && target[key] != null) {\n            return new Proxy(target[key], createHandler([...path, key], change, typeType));\n        }\n        return target[key];\n    },\n    set: (target, key, value) => {\n        if (typeof key === 'string') {\n            if (key[0] !== '_') {\n                change(typeType);\n            }\n        }\n        target[key] = value;\n        return true;\n    }\n});\n/**\n *\n */\nfunction watchDeep(type, change) {\n    if (!type) {\n        return type;\n    }\n    if (type.__isProxy === undefined) {\n        // expando hack to mark a proxy\n        return new Proxy(type, createHandler([], change, type));\n    }\n    return type;\n}\n/**\n * Watch an object with a proxy, fires change on any property value change\n */\nfunction watchAny(type, change) {\n    if (!type) {\n        return type;\n    }\n    if (type.__isProxy === undefined) {\n        // expando hack to mark a proxy\n        return new Proxy(type, {\n            set: (obj, prop, value) => {\n                // The default behavior to store the value\n                obj[prop] = value;\n                // Avoid watching private junk\n                if (typeof prop === 'string') {\n                    if (prop[0] !== '_') {\n                        change(obj);\n                    }\n                }\n                // Indicate success\n                return true;\n            },\n            get: (obj, prop) => {\n                if (prop !== '__isProxy') {\n                    return obj[prop];\n                }\n                return true;\n            }\n        });\n    }\n    return type;\n}\n\n;// CONCATENATED MODULE: ./Graphics/Graphic.ts\n\n\n\n\n/**\n * A Graphic is the base Excalibur primitive for something that can be drawn to the [[ExcaliburGraphicsContext]].\n * [[Sprite]], [[Animation]], [[GraphicsGroup]], [[Canvas]], [[Rectangle]], [[Circle]], and [[Polygon]] all derive from the\n * [[Graphic]] abstract class.\n *\n * Implementors of a Graphic must override the abstract [[Graphic._drawImage]] method to render an image to the graphics context. Graphic\n * handles all the position, rotation, and scale transformations in [[Graphic._preDraw]] and [[Graphic._postDraw]]\n */\nclass Graphic {\n    isStale() {\n        return this._transformStale;\n    }\n    /**\n     * Gets or sets the flipHorizontal, which will flip the graphic horizontally (across the y axis)\n     */\n    get flipHorizontal() {\n        return this._flipHorizontal;\n    }\n    set flipHorizontal(value) {\n        this._flipHorizontal = value;\n        this._transformStale = true;\n    }\n    /**\n     * Gets or sets the flipVertical, which will flip the graphic vertically (across the x axis)\n     */\n    get flipVertical() {\n        return this._flipVertical;\n    }\n    set flipVertical(value) {\n        this._flipVertical = value;\n        this._transformStale = true;\n    }\n    /**\n     * Gets or sets the rotation of the graphic\n     */\n    get rotation() {\n        return this._rotation;\n    }\n    set rotation(value) {\n        this._rotation = value;\n        this._transformStale = true;\n    }\n    /**\n     * Gets or sets the scale of the graphic, this affects the width and\n     */\n    get scale() {\n        return this._scale;\n    }\n    set scale(value) {\n        this._scale = watch(value, () => {\n            this._transformStale = true;\n        });\n        this._transformStale = true;\n    }\n    /**\n     * Gets or sets the origin of the graphic, if not set the center of the graphic is the origin\n     */\n    get origin() {\n        return this._origin;\n    }\n    set origin(value) {\n        this._origin = watch(value, () => {\n            this._transformStale = true;\n        });\n        this._transformStale = true;\n    }\n    constructor(options) {\n        var _a, _b, _c, _d, _e, _f, _g;\n        this.id = Graphic._ID++;\n        this.transform = AffineMatrix.identity();\n        this.tint = null;\n        this._transformStale = true;\n        /**\n         * Gets or sets wether to show debug information about the graphic\n         */\n        this.showDebug = false;\n        this._flipHorizontal = false;\n        this._flipVertical = false;\n        this._rotation = 0;\n        /**\n         * Gets or sets the opacity of the graphic, 0 is transparent, 1 is solid (opaque).\n         */\n        this.opacity = 1;\n        this._scale = Vector.One;\n        this._origin = null;\n        this._width = 0;\n        this._height = 0;\n        if (options) {\n            this.origin = (_a = options.origin) !== null && _a !== void 0 ? _a : this.origin;\n            this.flipHorizontal = (_b = options.flipHorizontal) !== null && _b !== void 0 ? _b : this.flipHorizontal;\n            this.flipVertical = (_c = options.flipVertical) !== null && _c !== void 0 ? _c : this.flipVertical;\n            this.rotation = (_d = options.rotation) !== null && _d !== void 0 ? _d : this.rotation;\n            this.opacity = (_e = options.opacity) !== null && _e !== void 0 ? _e : this.opacity;\n            this.scale = (_f = options.scale) !== null && _f !== void 0 ? _f : this.scale;\n            this.tint = (_g = options.tint) !== null && _g !== void 0 ? _g : this.tint;\n        }\n    }\n    cloneGraphicOptions() {\n        return {\n            width: this.width / this.scale.x,\n            height: this.height / this.scale.y,\n            origin: this.origin ? this.origin.clone() : null,\n            flipHorizontal: this.flipHorizontal,\n            flipVertical: this.flipVertical,\n            rotation: this.rotation,\n            opacity: this.opacity,\n            scale: this.scale ? this.scale.clone() : null,\n            tint: this.tint ? this.tint.clone() : null\n        };\n    }\n    /**\n     * Gets or sets the width of the graphic (always positive)\n     */\n    get width() {\n        return Math.abs(this._width * this.scale.x);\n    }\n    /**\n     * Gets or sets the height of the graphic (always positive)\n     */\n    get height() {\n        return Math.abs(this._height * this.scale.y);\n    }\n    set width(value) {\n        this._width = value;\n        this._transformStale = true;\n    }\n    set height(value) {\n        this._height = value;\n        this._transformStale = true;\n    }\n    /**\n     * Gets a copy of the bounds in pixels occupied by the graphic on the the screen. This includes scale.\n     */\n    get localBounds() {\n        return BoundingBox.fromDimension(this.width, this.height, Vector.Zero);\n    }\n    /**\n     * Draw the whole graphic to the context including transform\n     * @param ex The excalibur graphics context\n     * @param x\n     * @param y\n     */\n    draw(ex, x, y) {\n        this._preDraw(ex, x, y);\n        this._drawImage(ex, 0, 0);\n        this._postDraw(ex);\n    }\n    /**\n     * Apply affine transformations to the graphics context to manipulate the graphic before [[Graphic._drawImage]]\n     * @param ex\n     * @param x\n     * @param y\n     */\n    _preDraw(ex, x, y) {\n        ex.save();\n        ex.translate(x, y);\n        if (this._transformStale) {\n            this.transform.reset();\n            this.transform.scale(Math.abs(this.scale.x), Math.abs(this.scale.y));\n            this._rotate(this.transform);\n            this._flip(this.transform);\n            this._transformStale = false;\n        }\n        ex.multiply(this.transform);\n        // it is important to multiply alphas so graphics respect the current context\n        ex.opacity = ex.opacity * this.opacity;\n        if (this.tint) {\n            ex.tint = this.tint;\n        }\n    }\n    _rotate(ex) {\n        var _a;\n        const scaleDirX = this.scale.x > 0 ? 1 : -1;\n        const scaleDirY = this.scale.y > 0 ? 1 : -1;\n        const origin = (_a = this.origin) !== null && _a !== void 0 ? _a : vec(this.width / 2, this.height / 2);\n        ex.translate(origin.x, origin.y);\n        ex.rotate(this.rotation);\n        // This is for handling direction changes 1 or -1, that way we don't have mismatched translates()\n        ex.scale(scaleDirX, scaleDirY);\n        ex.translate(-origin.x, -origin.y);\n    }\n    _flip(ex) {\n        if (this.flipHorizontal) {\n            ex.translate(this.width / this.scale.x, 0);\n            ex.scale(-1, 1);\n        }\n        if (this.flipVertical) {\n            ex.translate(0, this.height / this.scale.y);\n            ex.scale(1, -1);\n        }\n    }\n    /**\n     * Apply any additional work after [[Graphic._drawImage]] and restore the context state.\n     * @param ex\n     */\n    _postDraw(ex) {\n        if (this.showDebug) {\n            ex.debug.drawRect(0, 0, this.width, this.height);\n        }\n        ex.restore();\n    }\n}\nGraphic._ID = 0;\n\n;// CONCATENATED MODULE: ./Graphics/Sprite.ts\n\n\nclass Sprite extends Graphic {\n    static from(image) {\n        return new Sprite({\n            image: image\n        });\n    }\n    constructor(options) {\n        var _a, _b;\n        super(options);\n        this._logger = Logger.getInstance();\n        this._dirty = true;\n        this.image = options.image;\n        const { width, height } = options;\n        this.sourceView = (_a = options.sourceView) !== null && _a !== void 0 ? _a : { x: 0, y: 0, width: width !== null && width !== void 0 ? width : 0, height: height !== null && height !== void 0 ? height : 0 };\n        this.destSize = (_b = options.destSize) !== null && _b !== void 0 ? _b : { width: width !== null && width !== void 0 ? width : 0, height: height !== null && height !== void 0 ? height : 0 };\n        this._updateSpriteDimensions();\n        // Fire when loaded\n        // eslint-disable-next-line @typescript-eslint/no-floating-promises\n        this.image.ready.then(() => {\n            this._updateSpriteDimensions();\n        });\n    }\n    get width() {\n        return Math.abs(this.destSize.width * this.scale.x);\n    }\n    get height() {\n        return Math.abs(this.destSize.height * this.scale.y);\n    }\n    set width(newWidth) {\n        newWidth /= Math.abs(this.scale.x);\n        this.destSize.width = newWidth;\n        super.width = Math.ceil(this.destSize.width);\n    }\n    set height(newHeight) {\n        newHeight /= Math.abs(this.scale.y);\n        this.destSize.height = newHeight;\n        super.height = Math.ceil(this.destSize.height);\n    }\n    _updateSpriteDimensions() {\n        var _a, _b, _c, _d, _e, _f;\n        const { width: nativeWidth, height: nativeHeight } = this.image;\n        // This code uses || to avoid 0's\n        // If the source is not specified, use the native dimension\n        this.sourceView.width = ((_a = this.sourceView) === null || _a === void 0 ? void 0 : _a.width) || nativeWidth;\n        this.sourceView.height = ((_b = this.sourceView) === null || _b === void 0 ? void 0 : _b.height) || nativeHeight;\n        // If the destination is not specified, use the source if specified, then native\n        this.destSize.width = ((_c = this.destSize) === null || _c === void 0 ? void 0 : _c.width) || ((_d = this.sourceView) === null || _d === void 0 ? void 0 : _d.width) || nativeWidth;\n        this.destSize.height = ((_e = this.destSize) === null || _e === void 0 ? void 0 : _e.height) || ((_f = this.sourceView) === null || _f === void 0 ? void 0 : _f.height) || nativeHeight;\n        this.width = Math.ceil(this.destSize.width) * this.scale.x;\n        this.height = Math.ceil(this.destSize.height) * this.scale.y;\n    }\n    _preDraw(ex, x, y) {\n        if (this.image.isLoaded() && this._dirty) {\n            this._dirty = false;\n            this._updateSpriteDimensions();\n        }\n        super._preDraw(ex, x, y);\n    }\n    _drawImage(ex, x, y) {\n        if (this.image.isLoaded()) {\n            ex.drawImage(this.image.image, this.sourceView.x, this.sourceView.y, this.sourceView.width, this.sourceView.height, x, y, this.destSize.width, this.destSize.height);\n        }\n        else {\n            this._logger.warnOnce(`ImageSource ${this.image.path}` +\n                ` is not yet loaded and won't be drawn. Please call .load() or include in a Loader.\\n\\n` +\n                `Read https://excaliburjs.com/docs/imagesource for more information.`);\n        }\n    }\n    clone() {\n        return new Sprite({\n            image: this.image,\n            sourceView: { ...this.sourceView },\n            destSize: { ...this.destSize },\n            ...this.cloneGraphicOptions()\n        });\n    }\n}\n\n;// CONCATENATED MODULE: ./Graphics/Filtering.ts\n/**\n * Describes the different image filtering modes\n */\nvar ImageFiltering;\n(function (ImageFiltering) {\n    /**\n     * Pixel is useful when you do not want smoothing aka antialiasing applied to your graphics.\n     *\n     * Useful for Pixel art aesthetics.\n     */\n    ImageFiltering[\"Pixel\"] = \"Pixel\";\n    /**\n     * Blended is useful when you have high resolution artwork and would like it blended and smoothed\n     */\n    ImageFiltering[\"Blended\"] = \"Blended\";\n})(ImageFiltering || (ImageFiltering = {}));\n\n;// CONCATENATED MODULE: ./Graphics/Context/texture-loader.ts\n\n\n/**\n * Manages loading image sources into webgl textures, a unique id is associated with all sources\n */\nclass TextureLoader {\n    constructor(gl) {\n        this._textureMap = new Map();\n        this._gl = gl;\n        TextureLoader._MAX_TEXTURE_SIZE = gl.getParameter(gl.MAX_TEXTURE_SIZE);\n    }\n    dispose() {\n        for (const [image] of this._textureMap) {\n            this.delete(image);\n        }\n        this._textureMap.clear();\n        this._gl = null;\n    }\n    /**\n     * Get the WebGL Texture from a source image\n     * @param image\n     */\n    get(image) {\n        return this._textureMap.get(image);\n    }\n    /**\n     * Returns whether a source image has been loaded as a texture\n     * @param image\n     */\n    has(image) {\n        return this._textureMap.has(image);\n    }\n    /**\n     * Loads a graphic into webgl and returns it's texture info, a webgl context must be previously registered\n     * @param image Source graphic\n     * @param filtering {ImageFiltering} The ImageFiltering mode to apply to the loaded texture\n     * @param forceUpdate Optionally force a texture to be reloaded, useful if the source graphic has changed\n     */\n    load(image, filtering, forceUpdate = false) {\n        // Ignore loading if webgl is not registered\n        const gl = this._gl;\n        if (!gl) {\n            return null;\n        }\n        let tex = null;\n        // If reuse the texture if it's from the same source\n        if (this.has(image)) {\n            tex = this.get(image);\n        }\n        // Update existing webgl texture and return early\n        if (tex) {\n            if (forceUpdate) {\n                gl.bindTexture(gl.TEXTURE_2D, tex);\n                gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, image);\n            }\n            return tex;\n        }\n        // No texture exists create a new one\n        tex = gl.createTexture();\n        // TODO implement texture gc with weakmap and timer\n        TextureLoader.checkImageSizeSupportedAndLog(image);\n        gl.bindTexture(gl.TEXTURE_2D, tex);\n        gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, true);\n        // TODO make configurable\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n        // NEAREST for pixel art, LINEAR for hi-res\n        const filterMode = filtering !== null && filtering !== void 0 ? filtering : TextureLoader.filtering;\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, filterMode === ImageFiltering.Pixel ? gl.NEAREST : gl.LINEAR);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, filterMode === ImageFiltering.Pixel ? gl.NEAREST : gl.LINEAR);\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, image);\n        this._textureMap.set(image, tex);\n        return tex;\n    }\n    delete(image) {\n        // Ignore loading if webgl is not registered\n        const gl = this._gl;\n        if (!gl) {\n            return null;\n        }\n        let tex = null;\n        if (this.has(image)) {\n            tex = this.get(image);\n            gl.deleteTexture(tex);\n        }\n    }\n    /**\n     * Takes an image and returns if it meets size criteria for hardware\n     * @param image\n     * @returns if the image will be supported at runtime\n     */\n    static checkImageSizeSupportedAndLog(image) {\n        var _a;\n        const originalSrc = (_a = image.dataset.originalSrc) !== null && _a !== void 0 ? _a : 'internal canvas bitmap';\n        if (image.width > TextureLoader._MAX_TEXTURE_SIZE || image.height > TextureLoader._MAX_TEXTURE_SIZE) {\n            TextureLoader._LOGGER.error(`The image [${originalSrc}] provided to Excalibur is too large for the device's maximum texture size of ` +\n                `(${TextureLoader._MAX_TEXTURE_SIZE}x${TextureLoader._MAX_TEXTURE_SIZE}) please resize to an image `\n                + `for excalibur to render properly.\\n\\nImages will likely render as black rectangles.\\n\\n` +\n                `Read more here: https://developer.mozilla.org/en-US/docs/Web/API/WebGL_API/WebGL_best_practices#understand_system_limits`);\n            return false;\n        }\n        else if (image.width > 4096 || image.height > 4096) {\n            // https://developer.mozilla.org/en-US/docs/Web/API/WebGL_API/WebGL_best_practices#understand_system_limits\n            TextureLoader._LOGGER.warn(`The image [${originalSrc}] provided to excalibur is too large may not work on all mobile devices, ` +\n                `it is recommended you resize images to a maximum (4096x4096).\\n\\n` +\n                `Images will likely render as black rectangles on some mobile platforms.\\n\\n` +\n                `Read more here: https://developer.mozilla.org/en-US/docs/Web/API/WebGL_API/WebGL_best_practices#understand_system_limits`);\n        }\n        return true;\n    }\n}\nTextureLoader._LOGGER = Logger.getInstance();\n/**\n * Sets the default filtering for the Excalibur texture loader, default [[ImageFiltering.Blended]]\n */\nTextureLoader.filtering = ImageFiltering.Blended;\nTextureLoader._MAX_TEXTURE_SIZE = 4096;\n\n;// CONCATENATED MODULE: ./Graphics/ImageSource.ts\n\n\n\n\n\n\nclass ImageSource {\n    /**\n     * The original size of the source image in pixels\n     */\n    get width() {\n        return this.image.naturalWidth;\n    }\n    /**\n     * The original height of the source image in pixels\n     */\n    get height() {\n        return this.image.naturalHeight;\n    }\n    /**\n     * Returns true if the Texture is completely loaded and is ready\n     * to be drawn.\n     */\n    isLoaded() {\n        if (!this._src) {\n            // this boosts speed of access\n            this._src = this.data.src;\n        }\n        return !!this._src;\n    }\n    get image() {\n        return this.data;\n    }\n    /**\n     * The path to the image, can also be a data url like 'data:image/'\n     * @param path {string} Path to the image resource relative from the HTML document hosting the game, or absolute\n     * @param bustCache {boolean} Should excalibur add a cache busting querystring?\n     * @param filtering {ImageFiltering} Optionally override the image filtering set by [[EngineOptions.antialiasing]]\n     */\n    constructor(path, bustCache = false, filtering) {\n        this.path = path;\n        this._logger = Logger.getInstance();\n        /**\n         * Access to the underlying html image element\n         */\n        this.data = new Image();\n        this._readyFuture = new Future();\n        /**\n         * Promise the resolves when the image is loaded and ready for use, does not initiate loading\n         */\n        this.ready = this._readyFuture.promise;\n        this._resource = new Resource(path, 'blob', bustCache);\n        this.filtering = filtering;\n        if (path.endsWith('.svg') || path.endsWith('.gif')) {\n            this._logger.warn(`Image type is not fully supported, you may have mixed results ${path}. Fully supported: jpg, bmp, and png`);\n        }\n    }\n    /**\n     * Create an ImageSource from and HTML <image> tag element\n     * @param image\n     */\n    static fromHtmlImageElement(image, options) {\n        const imageSource = new ImageSource('');\n        imageSource._src = 'image-element';\n        imageSource.data = image;\n        imageSource.data.setAttribute('data-original-src', 'image-element');\n        if (options === null || options === void 0 ? void 0 : options.filtering) {\n            imageSource.data.setAttribute('filtering', options === null || options === void 0 ? void 0 : options.filtering);\n        }\n        else {\n            imageSource.data.setAttribute('filtering', ImageFiltering.Blended);\n        }\n        TextureLoader.checkImageSizeSupportedAndLog(image);\n        imageSource._readyFuture.resolve(image);\n        return imageSource;\n    }\n    /**\n     * Should excalibur add a cache busting querystring? By default false.\n     * Must be set before loading\n     */\n    get bustCache() {\n        return this._resource.bustCache;\n    }\n    set bustCache(val) {\n        this._resource.bustCache = val;\n    }\n    /**\n     * Begins loading the image and returns a promise that resolves when the image is loaded\n     */\n    async load() {\n        if (this.isLoaded()) {\n            return this.data;\n        }\n        try {\n            // Load base64 or blob if needed\n            let url;\n            if (!this.path.includes('data:image/')) {\n                const blob = await this._resource.load();\n                url = URL.createObjectURL(blob);\n            }\n            else {\n                url = this.path;\n            }\n            // Decode the image\n            const image = new Image();\n            // Use Image.onload over Image.decode()\n            // https://bugs.chromium.org/p/chromium/issues/detail?id=1055828#c7\n            // Otherwise chrome will throw still Image.decode() failures for large textures\n            const loadedFuture = new Future();\n            image.onload = () => loadedFuture.resolve();\n            image.src = url;\n            image.setAttribute('data-original-src', this.path);\n            await loadedFuture.promise;\n            // Set results\n            // We defer loading the texture into webgl until the first draw that way we avoid a singleton\n            // and for the multi-engine case the texture needs to be created in EACH webgl context to work\n            // See image-renderer.ts draw()\n            this.data = image;\n            // emit warning if potentially too big\n            TextureLoader.checkImageSizeSupportedAndLog(this.data);\n        }\n        catch (error) {\n            throw `Error loading ImageSource from path '${this.path}' with error [${error.message}]`;\n        }\n        // Do a bad thing to pass the filtering as an attribute\n        this.data.setAttribute('filtering', this.filtering);\n        // todo emit complete\n        this._readyFuture.resolve(this.data);\n        return this.data;\n    }\n    /**\n     * Build a sprite from this ImageSource\n     */\n    toSprite() {\n        return Sprite.from(this);\n    }\n    /**\n     * Unload images from memory\n     */\n    unload() {\n        this.data = new Image();\n    }\n}\n\n;// CONCATENATED MODULE: ./Graphics/SpriteFont.ts\n\n\n\n\nclass SpriteFont extends Graphic {\n    constructor(options) {\n        super(options);\n        this._text = '';\n        this.alphabet = '';\n        this.shadow = null;\n        this.caseInsensitive = false;\n        this.spacing = 0;\n        this.lineHeight = undefined;\n        this._logger = Logger.getInstance();\n        const { alphabet, spriteSheet, caseInsensitive, spacing, shadow, lineHeight } = options;\n        this.alphabet = alphabet;\n        this.spriteSheet = spriteSheet;\n        this.caseInsensitive = caseInsensitive !== null && caseInsensitive !== void 0 ? caseInsensitive : this.caseInsensitive;\n        this.spacing = spacing !== null && spacing !== void 0 ? spacing : this.spacing;\n        this.shadow = shadow !== null && shadow !== void 0 ? shadow : this.shadow;\n        this.lineHeight = lineHeight !== null && lineHeight !== void 0 ? lineHeight : this.lineHeight;\n    }\n    _getCharacterSprites(text) {\n        const results = [];\n        // handle case insensitive\n        const textToRender = this.caseInsensitive ? text.toLocaleLowerCase() : text;\n        const alphabet = this.caseInsensitive ? this.alphabet.toLocaleLowerCase() : this.alphabet;\n        // for each letter in text\n        for (let letterIndex = 0; letterIndex < textToRender.length; letterIndex++) {\n            // find the sprite index in alphabet , if there is an error pick the first\n            const letter = textToRender[letterIndex];\n            let spriteIndex = alphabet.indexOf(letter);\n            if (spriteIndex === -1) {\n                spriteIndex = 0;\n                this._logger.warnOnce(`SpriteFont - Cannot find letter '${letter}' in configured alphabet '${alphabet}'.`);\n                this._logger.warnOnce('There maybe be more issues in the SpriteFont configuration. No additional warnings will be logged.');\n            }\n            const letterSprite = this.spriteSheet.sprites[spriteIndex];\n            if (letterSprite) {\n                results.push(letterSprite);\n            }\n            else {\n                this._logger.warnOnce(`SpriteFont - Cannot find sprite for '${letter}' at index '${spriteIndex}' in configured SpriteSheet`);\n                this._logger.warnOnce('There maybe be more issues in the SpriteFont configuration. No additional warnings will be logged.');\n            }\n        }\n        return results;\n    }\n    measureText(text, maxWidth) {\n        const lines = this._getLinesFromText(text, maxWidth);\n        const maxWidthLine = lines.reduce((a, b) => {\n            return a.length > b.length ? a : b;\n        });\n        const sprites = this._getCharacterSprites(maxWidthLine);\n        let width = 0;\n        let height = 0;\n        for (const sprite of sprites) {\n            width += sprite.width + this.spacing;\n            height = Math.max(height, sprite.height);\n        }\n        return BoundingBox.fromDimension(width, height * lines.length, Vector.Zero);\n    }\n    _drawImage(ex, x, y, maxWidth) {\n        var _a;\n        let xCursor = 0;\n        let yCursor = 0;\n        let height = 0;\n        const lines = this._getLinesFromText(this._text, maxWidth);\n        for (const line of lines) {\n            for (const sprite of this._getCharacterSprites(line)) {\n                // draw it in the right spot and increase the cursor by sprite width\n                sprite.draw(ex, x + xCursor, y + yCursor);\n                xCursor += sprite.width + this.spacing;\n                height = Math.max(height, sprite.height);\n            }\n            xCursor = 0;\n            yCursor += (_a = this.lineHeight) !== null && _a !== void 0 ? _a : height;\n        }\n    }\n    render(ex, text, _color, x, y, maxWidth) {\n        // SpriteFont doesn't support _color, yet...\n        this._text = text;\n        const bounds = this.measureText(text, maxWidth);\n        this.width = bounds.width;\n        this.height = bounds.height;\n        if (this.shadow) {\n            ex.save();\n            ex.translate(this.shadow.offset.x, this.shadow.offset.y);\n            this._preDraw(ex, x, y);\n            this._drawImage(ex, 0, 0, maxWidth);\n            this._postDraw(ex);\n            ex.restore();\n        }\n        this._preDraw(ex, x, y);\n        this._drawImage(ex, 0, 0, maxWidth);\n        this._postDraw(ex);\n    }\n    clone() {\n        return new SpriteFont({\n            alphabet: this.alphabet,\n            spriteSheet: this.spriteSheet,\n            spacing: this.spacing\n        });\n    }\n    _getLinesFromText(text, maxWidth) {\n        if (this._cachedText === text && this._cachedRenderWidth === maxWidth) {\n            return this._cachedLines;\n        }\n        const lines = text.split('\\n');\n        if (maxWidth == null) {\n            return lines;\n        }\n        // If the current line goes past the maxWidth, append a new line without modifying the underlying text.\n        for (let i = 0; i < lines.length; i++) {\n            let line = lines[i];\n            let newLine = '';\n            // Note: we subtract the spacing to counter the initial padding on the left side.\n            if (this.measureText(line).width > maxWidth) {\n                while (this.measureText(line).width > maxWidth) {\n                    newLine = line[line.length - 1] + newLine;\n                    line = line.slice(0, -1); // Remove last character from line\n                }\n                // Update the array with our new values\n                lines[i] = line;\n                lines[i + 1] = newLine;\n            }\n        }\n        this._cachedText = text;\n        this._cachedLines = lines;\n        this._cachedRenderWidth = maxWidth;\n        return lines;\n    }\n}\n\n;// CONCATENATED MODULE: ./Graphics/SpriteSheet.ts\n\n/**\n * Represents a collection of sprites from a source image with some organization in a grid\n */\nclass SpriteSheet {\n    /**\n     * Build a new sprite sheet from a list of sprites\n     *\n     * Use [[SpriteSheet.fromImageSource]] to create a SpriteSheet from an [[ImageSource]] organized in a grid\n     * @param options\n     */\n    constructor(options) {\n        this.sprites = [];\n        const { sprites, rows, columns } = options;\n        this.sprites = sprites;\n        this.rows = rows !== null && rows !== void 0 ? rows : 1;\n        this.columns = columns !== null && columns !== void 0 ? columns : this.sprites.length;\n    }\n    /**\n     * Find a sprite by their x/y integer coordinates in the SpriteSheet, for example `getSprite(0, 0)` is the [[Sprite]] in the top-left\n     * and `getSprite(1, 0)` is the sprite one to the right.\n     * @param x\n     * @param y\n     */\n    getSprite(x, y, options) {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j;\n        if (x >= this.columns || x < 0) {\n            throw Error(`No sprite exists in the SpriteSheet at (${x}, ${y}), x: ${x} should be between 0 and ${this.columns - 1}`);\n        }\n        if (y >= this.rows || y < 0) {\n            throw Error(`No sprite exists in the SpriteSheet at (${x}, ${y}), y: ${y} should be between 0 and ${this.rows - 1}`);\n        }\n        const spriteIndex = x + y * this.columns;\n        const sprite = this.sprites[spriteIndex];\n        if (sprite) {\n            if (options) {\n                const spriteWithOptions = sprite.clone();\n                spriteWithOptions.flipHorizontal = (_a = options.flipHorizontal) !== null && _a !== void 0 ? _a : spriteWithOptions.flipHorizontal;\n                spriteWithOptions.flipVertical = (_b = options.flipVertical) !== null && _b !== void 0 ? _b : spriteWithOptions.flipVertical;\n                spriteWithOptions.width = (_c = options.width) !== null && _c !== void 0 ? _c : spriteWithOptions.width;\n                spriteWithOptions.height = (_d = options.height) !== null && _d !== void 0 ? _d : spriteWithOptions.height;\n                spriteWithOptions.rotation = (_e = options.rotation) !== null && _e !== void 0 ? _e : spriteWithOptions.rotation;\n                spriteWithOptions.scale = (_f = options.scale) !== null && _f !== void 0 ? _f : spriteWithOptions.scale;\n                spriteWithOptions.opacity = (_g = options.opacity) !== null && _g !== void 0 ? _g : spriteWithOptions.opacity;\n                spriteWithOptions.tint = (_h = options.tint) !== null && _h !== void 0 ? _h : spriteWithOptions.tint;\n                spriteWithOptions.origin = (_j = options.origin) !== null && _j !== void 0 ? _j : spriteWithOptions.origin;\n                return spriteWithOptions;\n            }\n            return sprite;\n        }\n        throw Error(`Invalid sprite coordinates (${x}, ${y}`);\n    }\n    /**\n     * Create a sprite sheet from a sparse set of [[SourceView]] rectangles\n     * @param options\n     */\n    static fromImageSourceWithSourceViews(options) {\n        const sprites = options.sourceViews.map(sourceView => {\n            return new Sprite({\n                image: options.image,\n                sourceView\n            });\n        });\n        return new SpriteSheet({ sprites });\n    }\n    /**\n     * Create a SpriteSheet from an [[ImageSource]] organized in a grid\n     *\n     * Example:\n     * ```\n     * const spriteSheet = SpriteSheet.fromImageSource({\n     *   image: imageSource,\n     *   grid: {\n     *     rows: 5,\n     *     columns: 2,\n     *     spriteWidth: 32, // pixels\n     *     spriteHeight: 32 // pixels\n     *   },\n     *   // Optionally specify spacing\n     *   spacing: {\n     *     // pixels from the top left to start the sprite parsing\n     *     originOffset: {\n     *       x: 5,\n     *       y: 5\n     *     },\n     *     // pixels between each sprite while parsing\n     *     margin: {\n     *       x: 1,\n     *       y: 1\n     *     }\n     *   }\n     * })\n     * ```\n     * @param options\n     */\n    static fromImageSource(options) {\n        var _a;\n        const sprites = [];\n        options.spacing = (_a = options.spacing) !== null && _a !== void 0 ? _a : {};\n        const { image, grid: { rows, columns: cols, spriteWidth, spriteHeight }, spacing: { originOffset, margin } } = options;\n        const offsetDefaults = { x: 0, y: 0, ...originOffset };\n        const marginDefaults = { x: 0, y: 0, ...margin };\n        for (let x = 0; x < cols; x++) {\n            for (let y = 0; y < rows; y++) {\n                sprites[x + y * cols] = new Sprite({\n                    image: image,\n                    sourceView: {\n                        x: x * spriteWidth + marginDefaults.x * x + offsetDefaults.x,\n                        y: y * spriteHeight + marginDefaults.y * y + offsetDefaults.y,\n                        width: spriteWidth,\n                        height: spriteHeight\n                    },\n                    destSize: { height: spriteHeight, width: spriteWidth }\n                });\n            }\n        }\n        return new SpriteSheet({\n            sprites: sprites,\n            rows: rows,\n            columns: cols\n        });\n    }\n    clone() {\n        return new SpriteSheet({\n            sprites: this.sprites.map(sprite => sprite.clone()),\n            rows: this.rows,\n            columns: this.columns\n        });\n    }\n}\n\n;// CONCATENATED MODULE: ./Graphics/Context/debug-font.png\n/* harmony default export */ const debug_font = (\"data:image/png;base64,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\");\n;// CONCATENATED MODULE: ./Graphics/Context/debug-text.ts\n\n\n\n\n/**\n * Internal debugtext helper\n */\nclass DebugText {\n    constructor() {\n        /**\n         * base64 font\n         */\n        this.fontSheet = debug_font;\n        this.size = 16;\n        // We fire and forget, we don't care if it's loaded or not\n        // eslint-disable-next-line @typescript-eslint/no-floating-promises\n        this.load();\n    }\n    load() {\n        this._imageSource = new ImageSource(this.fontSheet);\n        return this._imageSource.load().then(() => {\n            this._spriteSheet = SpriteSheet.fromImageSource({\n                image: this._imageSource,\n                grid: {\n                    rows: 4,\n                    columns: 16,\n                    spriteWidth: 16,\n                    spriteHeight: 16\n                }\n            });\n            this._spriteFont = new SpriteFont({\n                alphabet: '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ,!\\'&.\"?-()+# ',\n                caseInsensitive: true,\n                spriteSheet: this._spriteSheet,\n                spacing: -6\n            });\n        });\n    }\n    /**\n     * Writes debug text using the built in sprint font\n     * @param ctx\n     * @param text\n     * @param pos\n     */\n    write(ctx, text, pos) {\n        if (this._imageSource.isLoaded()) {\n            this._spriteFont.render(ctx, text, null, pos.x, pos.y);\n        }\n    }\n}\n\n;// CONCATENATED MODULE: ./Graphics/Context/render-source.ts\nclass RenderSource {\n    constructor(_gl, _texture) {\n        this._gl = _gl;\n        this._texture = _texture;\n    }\n    use() {\n        const gl = this._gl;\n        gl.activeTexture(gl.TEXTURE0);\n        gl.bindTexture(gl.TEXTURE_2D, this._texture);\n    }\n    disable() {\n        const gl = this._gl;\n        gl.bindTexture(gl.TEXTURE_2D, null);\n    }\n}\n\n;// CONCATENATED MODULE: ./Graphics/Context/render-target.ts\n\nclass RenderTarget {\n    constructor(options) {\n        var _a, _b;\n        this.antialias = false;\n        this.samples = 1;\n        this._gl = options.gl;\n        this.width = options.width;\n        this.height = options.height;\n        this.transparency = options.transparency;\n        this.antialias = (_a = options.antialias) !== null && _a !== void 0 ? _a : this.antialias;\n        this.samples = (_b = options.samples) !== null && _b !== void 0 ? _b : this._gl.getParameter(this._gl.MAX_SAMPLES);\n        const gl = this._gl;\n        // Determine current context format for blitting later needs to match\n        if (gl.drawingBufferFormat) {\n            this.bufferFormat = gl.drawingBufferFormat;\n        }\n        else {\n            // Documented in webgl spec\n            // https://registry.khronos.org/webgl/specs/latest/1.0/\n            if (this.transparency) {\n                this.bufferFormat = gl.RGBA8;\n            }\n            else {\n                this.bufferFormat = gl.RGB8;\n            }\n        }\n        this._setupRenderBuffer();\n        this._setupFramebuffer();\n    }\n    setResolution(width, height) {\n        const gl = this._gl;\n        this.width = width;\n        this.height = height;\n        // update backing texture size\n        gl.bindTexture(gl.TEXTURE_2D, this._frameTexture);\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, this.width, this.height, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\n        // update render buffer size\n        if (this._renderBuffer) {\n            gl.bindRenderbuffer(gl.RENDERBUFFER, this._renderBuffer);\n            gl.renderbufferStorageMultisample(gl.RENDERBUFFER, Math.min(this.samples, gl.getParameter(gl.MAX_SAMPLES)), this.bufferFormat, this.width, this.height);\n        }\n    }\n    get renderBuffer() {\n        return this._renderBuffer;\n    }\n    get renderFrameBuffer() {\n        return this._renderFrameBuffer;\n    }\n    get frameBuffer() {\n        return this._frameBuffer;\n    }\n    get frameTexture() {\n        return this._frameTexture;\n    }\n    _setupRenderBuffer() {\n        if (this.antialias) {\n            const gl = this._gl;\n            // Render buffers can be used as an input to a shader\n            this._renderBuffer = gl.createRenderbuffer();\n            this._renderFrameBuffer = gl.createFramebuffer();\n            gl.bindRenderbuffer(gl.RENDERBUFFER, this._renderBuffer);\n            gl.renderbufferStorageMultisample(gl.RENDERBUFFER, Math.min(this.samples, gl.getParameter(gl.MAX_SAMPLES)), this.bufferFormat, this.width, this.height);\n            gl.bindFramebuffer(gl.FRAMEBUFFER, this._renderFrameBuffer);\n            gl.framebufferRenderbuffer(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.RENDERBUFFER, this._renderBuffer);\n        }\n    }\n    _setupFramebuffer() {\n        // Allocates frame buffer\n        const gl = this._gl;\n        this._frameTexture = gl.createTexture();\n        gl.bindTexture(gl.TEXTURE_2D, this._frameTexture);\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, this.width, this.height, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\n        // set the filtering so we don't need mips\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n        // attach the texture as the first color attachment\n        const attachmentPoint = gl.COLOR_ATTACHMENT0;\n        // After this bind all draw calls will draw to this framebuffer texture\n        this._frameBuffer = gl.createFramebuffer();\n        gl.bindFramebuffer(gl.FRAMEBUFFER, this._frameBuffer);\n        gl.framebufferTexture2D(gl.FRAMEBUFFER, attachmentPoint, gl.TEXTURE_2D, this._frameTexture, 0);\n        // Reset after initialized\n        this.disable();\n    }\n    toRenderSource() {\n        if (this.renderBuffer) {\n            this.blitRenderBufferToFrameBuffer();\n        }\n        const source = new RenderSource(this._gl, this._frameTexture);\n        return source;\n    }\n    blitToScreen() {\n        const gl = this._gl;\n        // set to size of canvas's drawingBuffer\n        if (this._renderBuffer) {\n            gl.bindFramebuffer(gl.READ_FRAMEBUFFER, this.renderFrameBuffer);\n            gl.bindFramebuffer(gl.DRAW_FRAMEBUFFER, null);\n            gl.clearBufferfv(gl.COLOR, 0, [0.0, 0.0, 1.0, 1.0]);\n            gl.blitFramebuffer(0, 0, this.width, this.height, 0, 0, this.width, this.height, gl.COLOR_BUFFER_BIT, gl.LINEAR);\n        }\n        else {\n            gl.bindFramebuffer(gl.READ_FRAMEBUFFER, this.frameBuffer);\n            gl.bindFramebuffer(gl.DRAW_FRAMEBUFFER, null);\n            gl.clearBufferfv(gl.COLOR, 0, [0.0, 0.0, 1.0, 1.0]);\n            gl.blitFramebuffer(0, 0, this.width, this.height, 0, 0, this.width, this.height, gl.COLOR_BUFFER_BIT, gl.LINEAR);\n        }\n    }\n    blitRenderBufferToFrameBuffer() {\n        if (this._renderBuffer) {\n            const gl = this._gl;\n            gl.bindFramebuffer(gl.READ_FRAMEBUFFER, this.renderFrameBuffer);\n            gl.bindFramebuffer(gl.DRAW_FRAMEBUFFER, this.frameBuffer);\n            gl.clearBufferfv(gl.COLOR, 0, [0.0, 0.0, 1.0, 1.0]);\n            gl.blitFramebuffer(0, 0, this.width, this.height, 0, 0, this.width, this.height, gl.COLOR_BUFFER_BIT, gl.LINEAR);\n        }\n    }\n    copyToTexture(texture) {\n        const gl = this._gl;\n        if (this._renderBuffer) {\n            this.blitRenderBufferToFrameBuffer();\n        }\n        gl.bindFramebuffer(gl.FRAMEBUFFER, this._frameBuffer);\n        gl.bindTexture(gl.TEXTURE_2D, texture);\n        gl.copyTexImage2D(gl.TEXTURE_2D, 0, gl.RGBA, 0, 0, this.width, this.height, 0);\n    }\n    /**\n     * When called, all drawing gets redirected to this render target\n     */\n    use() {\n        const gl = this._gl;\n        if (this.antialias) {\n            gl.bindFramebuffer(gl.FRAMEBUFFER, this._renderFrameBuffer);\n        }\n        else {\n            gl.bindFramebuffer(gl.FRAMEBUFFER, this._frameBuffer);\n        }\n        // very important to set the viewport to the size of the framebuffer texture\n        gl.viewport(0, 0, this.width, this.height);\n    }\n    /**\n     * When called, all drawing is sent back to the canvas\n     */\n    disable() {\n        const gl = this._gl;\n        // passing null switches rendering back to the canvas\n        gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n        gl.bindTexture(gl.TEXTURE_2D, null);\n    }\n}\n\n;// CONCATENATED MODULE: ./Graphics/Context/line-renderer/line-vertex.glsl\n/* harmony default export */ const line_vertex = (\"#version 300 es\\r\\nin vec2 a_position;\\r\\nin vec4 a_color;\\r\\n\\r\\nout lowp vec4 v_color;\\r\\n\\r\\nuniform mat4 u_matrix;\\r\\n\\r\\nvoid main() {\\r\\n   // Set the vertex position using the ortho transform matrix\\r\\n   gl_Position = u_matrix * vec4(a_position, 0.0, 1.0);\\r\\n\\r\\n   // Passthrough the color\\r\\n   v_color = a_color;\\r\\n}\");\n;// CONCATENATED MODULE: ./Graphics/Context/line-renderer/line-fragment.glsl\n/* harmony default export */ const line_fragment = (\"#version 300 es\\r\\nprecision mediump float;\\r\\n\\r\\n// Color\\r\\nin lowp vec4 v_color;\\r\\n\\r\\nout vec4 fragColor;\\r\\n\\r\\nvoid main() {\\r\\n  fragColor = v_color;\\r\\n}\");\n;// CONCATENATED MODULE: ./Graphics/Context/webgl-util.ts\n/**\n * Return the size of the GlType in bytes\n * @param gl\n * @param type\n */\nfunction getGlTypeSizeBytes(gl, type) {\n    switch (type) {\n        case gl.FLOAT:\n            return 4;\n        case gl.SHORT:\n            return 2;\n        case gl.UNSIGNED_SHORT:\n            return 2;\n        case gl.BYTE:\n            return 1;\n        case gl.UNSIGNED_BYTE:\n            return 1;\n        default:\n            return 1;\n    }\n}\n/**\n * Based on the type return the number of attribute components\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/vertexAttribPointer\n * @param gl\n * @param type\n */\nfunction getAttributeComponentSize(gl, type) {\n    switch (type) {\n        case gl.LOW_FLOAT:\n        case gl.HIGH_FLOAT:\n        case gl.FLOAT:\n            return 1;\n        case gl.FLOAT_VEC2:\n            return 2;\n        case gl.FLOAT_VEC3:\n            return 3;\n        case gl.FLOAT_VEC4:\n            return 4;\n        case gl.BYTE:\n            return 1;\n        case gl.UNSIGNED_BYTE:\n            return 1;\n        case gl.UNSIGNED_SHORT:\n        case gl.SHORT:\n            return 1;\n        default:\n            return 1;\n    }\n}\n/**\n * Based on the attribute return the corresponding supported attrib pointer type\n * https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/vertexAttribPointer\n * @param gl\n * @param type\n */\nfunction getAttributePointerType(gl, type) {\n    switch (type) {\n        case gl.LOW_FLOAT:\n        case gl.HIGH_FLOAT:\n        case gl.FLOAT:\n        case gl.FLOAT_VEC2:\n        case gl.FLOAT_VEC3:\n        case gl.FLOAT_VEC4:\n            return gl.FLOAT;\n        case gl.BYTE:\n            return gl.BYTE;\n        case gl.UNSIGNED_BYTE:\n            return gl.UNSIGNED_BYTE;\n        case gl.SHORT:\n            return gl.SHORT;\n        case gl.UNSIGNED_SHORT:\n            return gl.UNSIGNED_SHORT;\n        default:\n            return gl.FLOAT;\n    }\n}\n\n;// CONCATENATED MODULE: ./Graphics/Context/shader.ts\n\n\nclass Shader {\n    get compiled() {\n        return this._compiled;\n    }\n    /**\n     * Create a shader program in excalibur\n     * @param options specify shader vertex and fragment source\n     */\n    constructor(options) {\n        this._logger = Logger.getInstance();\n        this.uniforms = {};\n        this.attributes = {};\n        this._compiled = false;\n        const { gl, vertexSource, fragmentSource } = options;\n        this._gl = gl;\n        this.vertexSource = vertexSource;\n        this.fragmentSource = fragmentSource;\n    }\n    dispose() {\n        const gl = this._gl;\n        gl.deleteProgram(this.program);\n        this._gl = null;\n    }\n    /**\n     * Binds the shader program\n     */\n    use() {\n        const gl = this._gl;\n        gl.useProgram(this.program);\n        Shader._ACTIVE_SHADER_INSTANCE = this;\n    }\n    isCurrentlyBound() {\n        return Shader._ACTIVE_SHADER_INSTANCE === this;\n    }\n    /**\n     * Compile the current shader against a webgl context\n     */\n    compile() {\n        const gl = this._gl;\n        const vertexShader = this._compileShader(gl, this.vertexSource, gl.VERTEX_SHADER);\n        const fragmentShader = this._compileShader(gl, this.fragmentSource, gl.FRAGMENT_SHADER);\n        this.program = this._createProgram(gl, vertexShader, fragmentShader);\n        const attributes = this.getAttributes();\n        for (const attribute of attributes) {\n            this.attributes[attribute.name] = attribute;\n        }\n        const uniforms = this.getUniforms();\n        for (const uniform of uniforms) {\n            this.uniforms[uniform.name] = uniform;\n        }\n        this._compiled = true;\n        return this.program;\n    }\n    getUniforms() {\n        const gl = this._gl;\n        const uniformCount = gl.getProgramParameter(this.program, gl.ACTIVE_UNIFORMS);\n        const uniforms = [];\n        for (let i = 0; i < uniformCount; i++) {\n            const uniform = gl.getActiveUniform(this.program, i);\n            const uniformLocation = gl.getUniformLocation(this.program, uniform.name);\n            uniforms.push({\n                name: uniform.name,\n                glType: uniform.type,\n                location: uniformLocation\n            });\n        }\n        return uniforms;\n    }\n    getAttributes() {\n        const gl = this._gl;\n        const attributeCount = gl.getProgramParameter(this.program, gl.ACTIVE_ATTRIBUTES);\n        const attributes = [];\n        for (let i = 0; i < attributeCount; i++) {\n            const attribute = gl.getActiveAttrib(this.program, i);\n            const attributeLocation = gl.getAttribLocation(this.program, attribute.name);\n            attributes.push({\n                name: attribute.name,\n                glType: getAttributePointerType(gl, attribute.type),\n                size: getAttributeComponentSize(gl, attribute.type),\n                location: attributeLocation,\n                normalized: false\n            });\n        }\n        return attributes;\n    }\n    /**\n     * Set a texture in a gpu texture slot\n     * @param slotNumber\n     * @param texture\n     */\n    setTexture(slotNumber, texture) {\n        const gl = this._gl;\n        gl.activeTexture(gl.TEXTURE0 + slotNumber);\n        gl.bindTexture(gl.TEXTURE_2D, texture);\n    }\n    /**\n     * Set an integer uniform for the current shader\n     *\n     * **Important** Must call ex.Shader.use() before setting a uniform!\n     * @param name\n     * @param value\n     */\n    setUniformInt(name, value) {\n        this.setUniform('uniform1i', name, ~~value);\n    }\n    /**\n     * Set an integer uniform for the current shader, WILL NOT THROW on error.\n     *\n     * **Important** Must call ex.Shader.use() before setting a uniform!\n     * @param name\n     * @param value\n     */\n    trySetUniformInt(name, value) {\n        return this.trySetUniform('uniform1i', name, ~~value);\n    }\n    /**\n     * Set an integer array uniform for the current shader\n     *\n     * **Important** Must call ex.Shader.use() before setting a uniform!\n     * @param name\n     * @param value\n     */\n    setUniformIntArray(name, value) {\n        this.setUniform('uniform1iv', name, value);\n    }\n    /**\n     * Set an integer array uniform for the current shader, WILL NOT THROW on error.\n     *\n     * **Important** Must call ex.Shader.use() before setting a uniform!\n     * @param name\n     * @param value\n     */\n    trySetUniformIntArray(name, value) {\n        return this.trySetUniform('uniform1iv', name, value);\n    }\n    /**\n     * Set a boolean uniform for the current shader\n     *\n     * **Important** Must call ex.Shader.use() before setting a uniform!\n     * @param name\n     * @param value\n     */\n    setUniformBoolean(name, value) {\n        this.setUniform('uniform1i', name, value ? 1 : 0);\n    }\n    /**\n     * Set a boolean uniform for the current shader, WILL NOT THROW on error.\n     *\n     * **Important** Must call ex.Shader.use() before setting a uniform!\n     * @param name\n     * @param value\n     */\n    trySetUniformBoolean(name, value) {\n        return this.trySetUniform('uniform1i', name, value ? 1 : 0);\n    }\n    /**\n     * Set a float uniform for the current shader\n     *\n     * **Important** Must call ex.Shader.use() before setting a uniform!\n     * @param name\n     * @param value\n     */\n    setUniformFloat(name, value) {\n        this.setUniform('uniform1f', name, value);\n    }\n    /**\n     * Set a float uniform for the current shader, WILL NOT THROW on error.\n     *\n     * **Important** Must call ex.Shader.use() before setting a uniform!\n     * @param name\n     * @param value\n     */\n    trySetUniformFloat(name, value) {\n        return this.trySetUniform('uniform1f', name, value);\n    }\n    /**\n     * Set a float array uniform for the current shader\n     *\n     * **Important** Must call ex.Shader.use() before setting a uniform!\n     * @param name\n     * @param value\n     */\n    setUniformFloatArray(name, value) {\n        this.setUniform('uniform1fv', name, value);\n    }\n    /**\n     * Set a float array uniform for the current shader, WILL NOT THROW on error.\n     *\n     * **Important** Must call ex.Shader.use() before setting a uniform!\n     * @param name\n     * @param value\n     */\n    trySetUniformFloatArray(name, value) {\n        return this.trySetUniform('uniform1fv', name, value);\n    }\n    /**\n     * Set a [[Vector]] uniform for the current shader\n     *\n     * **Important** Must call ex.Shader.use() before setting a uniform!\n     * @param name\n     * @param value\n     */\n    setUniformFloatVector(name, value) {\n        this.setUniform('uniform2f', name, value.x, value.y);\n    }\n    /**\n     * Set a [[Vector]] uniform for the current shader, WILL NOT THROW on error.\n     *\n     * **Important** Must call ex.Shader.use() before setting a uniform!\n     * @param name\n     * @param value\n     */\n    trySetUniformFloatVector(name, value) {\n        return this.trySetUniform('uniform2f', name, value.x, value.y);\n    }\n    /**\n     * Set a [[Color]] uniform for the current shader\n     *\n     * **Important** Must call ex.Shader.use() before setting a uniform!\n     * @param name\n     * @param value\n     */\n    setUniformFloatColor(name, value) {\n        this.setUniform('uniform4f', name, value.r / 255, value.g / 255, value.b / 255, value.a);\n    }\n    /**\n     * Set a [[Color]] uniform for the current shader, WILL NOT THROW on error.\n     *\n     * **Important** Must call ex.Shader.use() before setting a uniform!\n     * @param name\n     * @param value\n     */\n    trySetUniformFloatColor(name, value) {\n        return this.trySetUniform('uniform4f', name, value.r / 255, value.g / 255, value.b / 255, value.a);\n    }\n    /**\n     * Set an [[Matrix]] uniform for the current shader\n     *\n     * **Important** Must call ex.Shader.use() before setting a uniform!\n     * @param name\n     * @param value\n     */\n    setUniformMatrix(name, value) {\n        this.setUniform('uniformMatrix4fv', name, false, value.data);\n    }\n    /**\n     * Set an [[Matrix]] uniform for the current shader, WILL NOT THROW on error.\n     *\n     * **Important** Must call ex.Shader.use() before setting a uniform!\n     * @param name\n     * @param value\n     */\n    trySetUniformMatrix(name, value) {\n        return this.trySetUniform('uniformMatrix4fv', name, false, value.data);\n    }\n    /**\n     * Set any available uniform type in webgl\n     *\n     * For example setUniform('uniformMatrix2fv', 'u_my2x2_mat`, ...);\n     */\n    setUniform(uniformType, name, ...value) {\n        if (!this._compiled) {\n            throw Error(`Must compile shader before setting a uniform ${uniformType}:${name}`);\n        }\n        if (!this.isCurrentlyBound()) {\n            throw Error('Currently accessed shader instance is not the current active shader in WebGL,' +\n                ' must call `shader.use()` before setting uniforms');\n        }\n        const gl = this._gl;\n        const location = gl.getUniformLocation(this.program, name);\n        if (location) {\n            const args = [location, ...value];\n            this._gl[uniformType].apply(this._gl, args);\n        }\n        else {\n            throw Error(`Uniform ${uniformType}:${name} doesn\\'t exist or is not used in the shader source code,` +\n                ' unused uniforms are optimized away by most browsers');\n        }\n    }\n    /**\n     * Set any available uniform type in webgl. Will try to set the uniform, will return false if the uniform didn't exist,\n     * true if it was set.\n     *\n     * WILL NOT THROW on error\n     *\n     * For example setUniform('uniformMatrix2fv', 'u_my2x2_mat`, ...);\n     *\n     */\n    trySetUniform(uniformType, name, ...value) {\n        if (!this._compiled) {\n            this._logger.warn(`Must compile shader before setting a uniform ${uniformType}:${name}`);\n            return false;\n        }\n        if (!this.isCurrentlyBound()) {\n            this._logger.warn('Currently accessed shader instance is not the current active shader in WebGL,' +\n                ' must call `shader.use()` before setting uniforms');\n            return false;\n        }\n        const gl = this._gl;\n        const location = gl.getUniformLocation(this.program, name);\n        if (location) {\n            const args = [location, ...value];\n            this._gl[uniformType].apply(this._gl, args);\n        }\n        else {\n            return false;\n        }\n        return true;\n    }\n    _createProgram(gl, vertexShader, fragmentShader) {\n        const program = gl.createProgram();\n        if (program === null) {\n            throw Error('Could not create graphics shader program');\n        }\n        // attach the shaders.\n        gl.attachShader(program, vertexShader);\n        gl.attachShader(program, fragmentShader);\n        // link the program.\n        gl.linkProgram(program);\n        const success = gl.getProgramParameter(program, gl.LINK_STATUS);\n        if (!success) {\n            throw Error(`Could not link the program: [${gl.getProgramInfoLog(program)}]`);\n        }\n        return program;\n    }\n    _compileShader(gl, source, type) {\n        const typeName = gl.VERTEX_SHADER === type ? 'vertex' : 'fragment';\n        const shader = gl.createShader(type);\n        if (shader === null) {\n            throw Error(`Could not build shader: [${source}]`);\n        }\n        gl.shaderSource(shader, source);\n        gl.compileShader(shader);\n        const success = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\n        if (!success) {\n            const errorInfo = gl.getShaderInfoLog(shader);\n            throw Error(`Could not compile ${typeName} shader:\\n\\n${errorInfo}${this._processSourceForError(source, errorInfo)}`);\n        }\n        return shader;\n    }\n    _processSourceForError(source, errorInfo) {\n        if (!source) {\n            return errorInfo;\n        }\n        const lines = source.split('\\n');\n        const errorLineStart = errorInfo.search(/\\d:\\d/);\n        const errorLineEnd = errorInfo.indexOf(' ', errorLineStart);\n        const [_, error2] = errorInfo.slice(errorLineStart, errorLineEnd).split(':').map(v => Number(v));\n        for (let i = 0; i < lines.length; i++) {\n            lines[i] = `${i + 1}: ${lines[i]}${error2 === (i + 1) ? ' <----- ERROR!' : ''}`;\n        }\n        return '\\n\\nSource:\\n' + lines.join('\\n');\n    }\n}\nShader._ACTIVE_SHADER_INSTANCE = null;\n\n;// CONCATENATED MODULE: ./Graphics/Context/vertex-buffer.ts\n/**\n * Helper around vertex buffer to simplify creating and uploading geometry\n *\n * Under the hood uses Float32Array\n */\nclass VertexBuffer {\n    constructor(options) {\n        /**\n         * If the vertices never change switching 'static' can be more efficient on the gpu\n         *\n         * Default is 'dynamic'\n         */\n        this.type = 'dynamic';\n        const { gl, size, type, data } = options;\n        this._gl = gl;\n        this.buffer = this._gl.createBuffer();\n        if (!data && !size) {\n            throw Error('Must either provide data or a size to the VertexBuffer');\n        }\n        if (!data) {\n            this.bufferData = new Float32Array(size);\n        }\n        else {\n            this.bufferData = data;\n        }\n        this.type = type !== null && type !== void 0 ? type : this.type;\n        // Allocate buffer\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.buffer);\n        gl.bufferData(gl.ARRAY_BUFFER, this.bufferData, this.type === 'static' ? gl.STATIC_DRAW : gl.DYNAMIC_DRAW);\n    }\n    /**\n     * Bind this vertex buffer\n     */\n    bind() {\n        const gl = this._gl;\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.buffer);\n    }\n    /**\n     * Upload vertex buffer geometry to the GPU\n     */\n    upload(count) {\n        const gl = this._gl;\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.buffer);\n        if (count) {\n            gl.bufferSubData(gl.ARRAY_BUFFER, 0, this.bufferData, 0, count);\n        }\n        else {\n            // TODO always use bufferSubData? need to perf test it\n            gl.bufferData(gl.ARRAY_BUFFER, this.bufferData, this.type === 'static' ? gl.STATIC_DRAW : gl.DYNAMIC_DRAW);\n        }\n    }\n    dispose() {\n        const gl = this._gl;\n        gl.deleteBuffer(this.buffer);\n        this._gl = null;\n    }\n}\n\n;// CONCATENATED MODULE: ./Graphics/Context/vertex-layout.ts\n\n\n/**\n * Helper around creating vertex attributes in a given [[VertexBuffer]], this is useful for describing\n * the memory layout for your vertices inside a particular buffer\n *\n * Note: This helper assumes interleaved attributes in one [[VertexBuffer]], not many.\n *\n * Working with `gl.vertexAttribPointer` can be tricky, and this attempts to double check you\n */\nclass VertexLayout {\n    get vertexBuffer() {\n        return this._vertexBuffer;\n    }\n    get attributes() {\n        return this._attributes;\n    }\n    constructor(options) {\n        this._logger = Logger.getInstance();\n        this._layout = [];\n        this._attributes = [];\n        this._vertexTotalSizeBytes = 0;\n        const { gl, shader, vertexBuffer, attributes } = options;\n        this._gl = gl;\n        this._vertexBuffer = vertexBuffer;\n        this._attributes = attributes;\n        this._shader = shader;\n        if (shader) {\n            this.initialize();\n        }\n    }\n    /**\n     * Total number of bytes that the vertex will take up\n     */\n    get totalVertexSizeBytes() {\n        return this._vertexTotalSizeBytes;\n    }\n    set shader(shader) {\n        if (shader && this._shader !== shader) {\n            this._shader = shader;\n            this.initialize();\n        }\n    }\n    get shader() {\n        return this._shader;\n    }\n    /**\n     * Layouts need shader locations and must be bound to a shader\n     */\n    initialize() {\n        if (!this._shader) {\n            return;\n        }\n        if (!this._shader.compiled) {\n            throw Error('Shader not compiled, shader must be compiled before defining a vertex layout');\n        }\n        this._vertexTotalSizeBytes = 0;\n        this._layout.length = 0;\n        const shaderAttributes = this._shader.attributes;\n        for (const attribute of this._attributes) {\n            const attrib = shaderAttributes[attribute[0]];\n            if (!attrib) {\n                throw Error(`The attribute named: ${attribute[0]} size ${attribute[1]}` +\n                    ` not found in the shader source code:\\n ${this._shader.vertexSource}`);\n            }\n            if (attrib.size !== attribute[1]) {\n                throw Error(`VertexLayout size definition for attribute: [${attribute[0]}, ${attribute[1]}],`\n                    + ` doesnt match shader source size ${attrib.size}:\\n ${this._shader.vertexSource}`);\n            }\n            this._layout.push(attrib);\n        }\n        // calc size\n        let componentsPerVertex = 0;\n        for (const vertAttribute of this._layout) {\n            const typeSize = getGlTypeSizeBytes(this._gl, vertAttribute.glType);\n            this._vertexTotalSizeBytes += typeSize * vertAttribute.size;\n            componentsPerVertex += vertAttribute.size;\n        }\n        if (this._vertexBuffer.bufferData.length % componentsPerVertex !== 0) {\n            this._logger.warn(`The vertex component size (${componentsPerVertex})  does NOT divide evenly into the specified vertex buffer`\n                + ` (${this._vertexBuffer.bufferData.length})`);\n        }\n    }\n    /**\n     * Bind this layout with it's associated vertex buffer\n     * @param uploadBuffer Optionally indicate you wish to upload the buffer to the GPU associated with this layout\n     */\n    use(uploadBuffer = false, count) {\n        if (!this._shader) {\n            throw Error('No shader is associated with this vertex layout, a shader must be set');\n        }\n        const gl = this._gl;\n        if (!this._shader.isCurrentlyBound()) {\n            throw Error('Shader associated with this vertex layout is not active! Call shader.use() before layout.use()');\n        }\n        this._vertexBuffer.bind();\n        if (uploadBuffer) {\n            this._vertexBuffer.upload(count);\n        }\n        let offset = 0;\n        // TODO switch to VAOs if the extension is\n        for (const vert of this._layout) {\n            gl.vertexAttribPointer(vert.location, vert.size, vert.glType, vert.normalized, this.totalVertexSizeBytes, offset);\n            gl.enableVertexAttribArray(vert.location);\n            offset += getGlTypeSizeBytes(gl, vert.glType) * vert.size;\n        }\n    }\n}\n\n;// CONCATENATED MODULE: ./Graphics/GraphicsDiagnostics.ts\nclass GraphicsDiagnostics {\n    static clear() {\n        GraphicsDiagnostics.DrawCallCount = 0;\n        GraphicsDiagnostics.DrawnImagesCount = 0;\n    }\n}\nGraphicsDiagnostics.DrawCallCount = 0;\nGraphicsDiagnostics.DrawnImagesCount = 0;\n\n;// CONCATENATED MODULE: ./Graphics/Context/line-renderer/line-renderer.ts\n\n\n\n\nclass LineRenderer {\n    constructor() {\n        this.type = 'ex.line';\n        this.priority = 0;\n        this._maxLines = 10922;\n        this._vertexIndex = 0;\n        this._lineCount = 0;\n    }\n    initialize(gl, context) {\n        this._gl = gl;\n        this._context = context;\n        this._shader = new Shader({\n            gl,\n            vertexSource: line_vertex,\n            fragmentSource: line_fragment\n        });\n        this._shader.compile();\n        this._shader.use();\n        this._shader.setUniformMatrix('u_matrix', this._context.ortho);\n        this._vertexBuffer = new VertexBuffer({\n            gl,\n            size: 6 * 2 * this._maxLines,\n            type: 'dynamic'\n        });\n        this._layout = new VertexLayout({\n            gl,\n            vertexBuffer: this._vertexBuffer,\n            shader: this._shader,\n            attributes: [\n                ['a_position', 2],\n                ['a_color', 4]\n            ]\n        });\n    }\n    dispose() {\n        this._vertexBuffer.dispose();\n        this._shader.dispose();\n        this._context = null;\n        this._gl = null;\n    }\n    draw(start, end, color) {\n        // Force a render if the batch is full\n        if (this._isFull()) {\n            this.flush();\n        }\n        this._lineCount++;\n        const transform = this._context.getTransform();\n        const finalStart = transform.multiply(start);\n        const finalEnd = transform.multiply(end);\n        const vertexBuffer = this._vertexBuffer.bufferData;\n        // Start\n        vertexBuffer[this._vertexIndex++] = finalStart.x;\n        vertexBuffer[this._vertexIndex++] = finalStart.y;\n        vertexBuffer[this._vertexIndex++] = color.r / 255;\n        vertexBuffer[this._vertexIndex++] = color.g / 255;\n        vertexBuffer[this._vertexIndex++] = color.b / 255;\n        vertexBuffer[this._vertexIndex++] = color.a;\n        // End\n        vertexBuffer[this._vertexIndex++] = finalEnd.x;\n        vertexBuffer[this._vertexIndex++] = finalEnd.y;\n        vertexBuffer[this._vertexIndex++] = color.r / 255;\n        vertexBuffer[this._vertexIndex++] = color.g / 255;\n        vertexBuffer[this._vertexIndex++] = color.b / 255;\n        vertexBuffer[this._vertexIndex++] = color.a;\n    }\n    _isFull() {\n        if (this._lineCount >= this._maxLines) {\n            return true;\n        }\n        return false;\n    }\n    hasPendingDraws() {\n        return this._lineCount !== 0;\n    }\n    flush() {\n        // nothing to draw early exit\n        if (this._lineCount === 0) {\n            return;\n        }\n        const gl = this._gl;\n        this._shader.use();\n        this._layout.use(true);\n        this._shader.setUniformMatrix('u_matrix', this._context.ortho);\n        gl.drawArrays(gl.LINES, 0, this._lineCount * 2); // 2 verts per line\n        GraphicsDiagnostics.DrawnImagesCount += this._lineCount;\n        GraphicsDiagnostics.DrawCallCount++;\n        // reset\n        this._vertexIndex = 0;\n        this._lineCount = 0;\n    }\n}\n\n;// CONCATENATED MODULE: ./Graphics/Context/point-renderer/point-vertex.glsl\n/* harmony default export */ const point_vertex = (\"#version 300 es\\r\\nin vec2 a_position;\\r\\nin vec4 a_color;\\r\\nin float a_size;\\r\\nout lowp vec4 v_color;\\r\\nuniform mat4 u_matrix;\\r\\n\\r\\nvoid main() {\\r\\n  gl_Position = u_matrix * vec4(a_position, 0.0, 1.0);\\r\\n  gl_PointSize = a_size * 2.0;\\r\\n  v_color = a_color;\\r\\n}\");\n;// CONCATENATED MODULE: ./Graphics/Context/point-renderer/point-fragment.glsl\n/* harmony default export */ const point_fragment = (\"#version 300 es\\r\\n\\r\\nprecision mediump float;\\r\\nin lowp vec4 v_color;\\r\\n\\r\\nout vec4 fragColor;\\r\\n\\r\\nvoid main() {\\r\\n  float r = 0.0, delta = 0.0, alpha = 1.0;\\r\\n  vec2 cxy = 2.0 * gl_PointCoord - 1.0;\\r\\n  r = dot(cxy, cxy);\\r\\n\\r\\n  delta = fwidth(r);\\r\\n  alpha = 1.0 - smoothstep(1.0 - delta, 1.0 + delta, r);\\r\\n  // \\\"premultiply\\\" the color by alpha\\r\\n  vec4 color = v_color;\\r\\n  color.a = color.a * alpha;\\r\\n  color.rgb = color.rgb * color.a;\\r\\n  fragColor = color;\\r\\n}\");\n;// CONCATENATED MODULE: ./Graphics/Context/point-renderer/point-renderer.ts\n\n\n\n\n\n\n\nclass PointRenderer {\n    constructor() {\n        this.type = 'ex.point';\n        this.priority = 0;\n        this._maxPoints = 10922;\n        this._pointCount = 0;\n        this._vertexIndex = 0;\n    }\n    initialize(gl, context) {\n        this._gl = gl;\n        this._context = context;\n        this._shader = new Shader({\n            gl,\n            vertexSource: point_vertex,\n            fragmentSource: point_fragment\n        });\n        this._shader.compile();\n        this._shader.use();\n        this._shader.setUniformMatrix('u_matrix', this._context.ortho);\n        this._buffer = new VertexBuffer({\n            gl,\n            size: 7 * this._maxPoints,\n            type: 'dynamic'\n        });\n        this._layout = new VertexLayout({\n            gl,\n            shader: this._shader,\n            vertexBuffer: this._buffer,\n            attributes: [\n                ['a_position', 2],\n                ['a_color', 4],\n                ['a_size', 1]\n            ]\n        });\n    }\n    dispose() {\n        this._buffer.dispose();\n        this._shader.dispose();\n        this._context = null;\n        this._gl = null;\n    }\n    draw(point, color, size) {\n        // Force a render if the batch is full\n        if (this._isFull()) {\n            this.flush();\n        }\n        this._pointCount++;\n        const transform = this._context.getTransform();\n        const opacity = this._context.opacity;\n        const snapToPixel = this._context.snapToPixel;\n        const finalPoint = transform.multiply(point);\n        if (snapToPixel) {\n            finalPoint.x = ~~(finalPoint.x + pixelSnapEpsilon);\n            finalPoint.y = ~~(finalPoint.y + pixelSnapEpsilon);\n        }\n        const vertexBuffer = this._buffer.bufferData;\n        vertexBuffer[this._vertexIndex++] = finalPoint.x;\n        vertexBuffer[this._vertexIndex++] = finalPoint.y;\n        vertexBuffer[this._vertexIndex++] = color.r / 255;\n        vertexBuffer[this._vertexIndex++] = color.g / 255;\n        vertexBuffer[this._vertexIndex++] = color.b / 255;\n        vertexBuffer[this._vertexIndex++] = color.a * opacity;\n        vertexBuffer[this._vertexIndex++] = size * Math.max(transform.getScaleX(), transform.getScaleY());\n    }\n    _isFull() {\n        if (this._pointCount >= this._maxPoints) {\n            return true;\n        }\n        return false;\n    }\n    hasPendingDraws() {\n        return this._pointCount !== 0;\n    }\n    flush() {\n        // nothing to draw early exit\n        if (this._pointCount === 0) {\n            return;\n        }\n        const gl = this._gl;\n        this._shader.use();\n        this._layout.use(true);\n        this._shader.setUniformMatrix('u_matrix', this._context.ortho);\n        gl.drawArrays(gl.POINTS, 0, this._pointCount);\n        GraphicsDiagnostics.DrawnImagesCount += this._pointCount;\n        GraphicsDiagnostics.DrawCallCount++;\n        this._pointCount = 0;\n        this._vertexIndex = 0;\n    }\n}\n\n;// CONCATENATED MODULE: ./Graphics/Context/screen-pass-painter/screen-vertex.glsl\n/* harmony default export */ const screen_vertex = (\"#version 300 es\\r\\nin vec2 a_position;\\r\\n\\r\\nin vec2 a_texcoord;\\r\\nout vec2 v_texcoord;\\r\\n\\r\\nvoid main() {\\r\\n  gl_Position = vec4(a_position, 0.0, 1.0);\\r\\n\\r\\n  // Pass the texcoord to the fragment shader.\\r\\n  v_texcoord = a_texcoord;\\r\\n}\");\n;// CONCATENATED MODULE: ./Graphics/Context/screen-pass-painter/screen-fragment.glsl\n/* harmony default export */ const screen_fragment = (\"#version 300 es\\r\\nprecision mediump float;\\r\\n\\r\\n// Passed in from the vertex shader.\\r\\nin vec2 v_texcoord;\\r\\n\\r\\n// The texture.\\r\\nuniform sampler2D u_texture;\\r\\n\\r\\nout vec4 fragColor;\\r\\n\\r\\nvoid main() {\\r\\n   fragColor = texture(u_texture, v_texcoord);\\r\\n}\");\n;// CONCATENATED MODULE: ./Graphics/Context/screen-pass-painter/screen-pass-painter.ts\n\n\n\n\n\n/**\n * This is responsible for painting the entire screen during the render passes\n */\nclass ScreenPassPainter {\n    constructor(gl) {\n        this._gl = gl;\n        this._shader = new Shader({\n            gl,\n            vertexSource: screen_vertex,\n            fragmentSource: screen_fragment\n        });\n        this._shader.compile();\n        // Setup memory layout\n        this._buffer = new VertexBuffer({\n            gl,\n            type: 'static',\n            // clip space quad + uv since we don't need a camera\n            data: new Float32Array([\n                -1, -1, 0, 0,\n                -1, 1, 0, 1,\n                1, -1, 1, 0,\n                1, -1, 1, 0,\n                -1, 1, 0, 1,\n                1, 1, 1, 1\n            ])\n        });\n        this._layout = new VertexLayout({\n            gl,\n            shader: this._shader,\n            vertexBuffer: this._buffer,\n            attributes: [\n                ['a_position', 2],\n                ['a_texcoord', 2]\n            ]\n        });\n        this._buffer.upload();\n    }\n    renderWithPostProcessor(postprocessor) {\n        const gl = this._gl;\n        postprocessor.getShader().use();\n        postprocessor.getLayout().use();\n        gl.drawArrays(gl.TRIANGLES, 0, 6);\n    }\n    renderToScreen() {\n        const gl = this._gl;\n        this._shader.use();\n        this._layout.use();\n        gl.drawArrays(gl.TRIANGLES, 0, 6);\n    }\n}\n\n;// CONCATENATED MODULE: ./Graphics/Context/quad-index-buffer.ts\n\n/**\n * Helper that defines and index buffer for quad geometry\n *\n * Index buffers allow you to save space in vertex buffers when you share vertices in geometry\n * it is almost always worth it in terms of performance to use an index buffer.\n */\nclass QuadIndexBuffer {\n    /**\n     * @param gl WebGL2RenderingContext this layout will be attached to, these cannot be reused across contexts.\n     * @param numberOfQuads Specify the max number of quads you want to draw\n     * @param useUint16 Optionally force a uint16 buffer\n     */\n    constructor(gl, numberOfQuads, useUint16) {\n        this._logger = Logger.getInstance();\n        this._gl = gl;\n        this.buffer = gl.createBuffer();\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.buffer);\n        const totalVertices = numberOfQuads * 6;\n        if (!useUint16) {\n            this.bufferData = new Uint32Array(totalVertices);\n        }\n        else {\n            // fall back to using gl.UNSIGNED_SHORT or tell the user they are out of luck\n            const maxUint16 = 65535;\n            const maxUint16Index = Math.floor((maxUint16 - 1) / 4); // max quads\n            this.bufferGlType = gl.UNSIGNED_SHORT;\n            this.bufferData = new Uint16Array(totalVertices);\n            // TODO Should we error if this happens?? maybe not might crash mid game\n            if (numberOfQuads > maxUint16Index) {\n                this._logger.warn(`Total quads exceeds hardware index buffer limit (uint16), max(${maxUint16Index}) requested quads(${numberOfQuads})`);\n            }\n        }\n        let currentQuad = 0;\n        for (let i = 0; i < totalVertices; i += 6) {\n            // first triangle\n            this.bufferData[i + 0] = currentQuad + 0;\n            this.bufferData[i + 1] = currentQuad + 1;\n            this.bufferData[i + 2] = currentQuad + 2;\n            // second triangle\n            this.bufferData[i + 3] = currentQuad + 2;\n            this.bufferData[i + 4] = currentQuad + 1;\n            this.bufferData[i + 5] = currentQuad + 3;\n            currentQuad += 4;\n        }\n        gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, this.bufferData, gl.STATIC_DRAW);\n    }\n    get size() {\n        return this.bufferData.length;\n    }\n    /**\n     * Upload data to the GPU\n     */\n    upload() {\n        const gl = this._gl;\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.buffer);\n        gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, this.bufferData, gl.STATIC_DRAW);\n    }\n    /**\n     * Bind this index buffer\n     */\n    bind() {\n        const gl = this._gl;\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.buffer);\n    }\n    dispose() {\n        const gl = this._gl;\n        gl.deleteBuffer(this.buffer);\n        this._gl = null;\n    }\n}\n\n;// CONCATENATED MODULE: ./Graphics/Context/image-renderer/image-renderer.frag.glsl\n/* harmony default export */ const image_renderer_frag = (\"#version 300 es\\r\\nprecision mediump float;\\r\\n\\r\\n// UV coord\\r\\nin vec2 v_texcoord;\\r\\n\\r\\n// Texture index\\r\\nin lowp float v_textureIndex;\\r\\n\\r\\n// Textures in the current draw\\r\\nuniform sampler2D u_textures[%%count%%];\\r\\n\\r\\nuniform bool u_pixelart;\\r\\n\\r\\n// Opacity\\r\\nin float v_opacity;\\r\\n\\r\\nin vec4 v_tint;\\r\\n\\r\\nin vec2 v_res;\\r\\n\\r\\nout vec4 fragColor;\\r\\n\\r\\n// Inigo Quilez pixel art filter https://jorenjoestar.github.io/post/pixel_art_filtering/\\r\\nvec2 uv_iq(in vec2 uv, in vec2 texture_size) {\\r\\n  vec2 pixel = uv * texture_size;\\r\\n  \\r\\n  vec2 seam=floor(pixel+.5);\\r\\n  vec2 dudv=fwidth(pixel);\\r\\n  pixel=seam+clamp((pixel-seam)/dudv,-.5,.5);\\r\\n  \\r\\n  return pixel/texture_size;\\r\\n}\\r\\n\\r\\nvoid main(){\\r\\n  // In order to support the most efficient sprite batching, we have multiple\\r\\n  // textures loaded into the gpu (usually 8) this picker logic skips over textures\\r\\n  // that do not apply to a particular sprite.\\r\\n  \\r\\n  vec4 color=vec4(1.,0,0,1.);\\r\\n  \\r\\n  // GLSL is templated out to pick the right texture and set the vec4 color\\r\\n  %%texture_picker%%\\r\\n  \\r\\n  color.rgb=color.rgb*v_opacity;\\r\\n  color.a=color.a*v_opacity;\\r\\n  fragColor=color*v_tint;\\r\\n}\");\n;// CONCATENATED MODULE: ./Graphics/Context/image-renderer/image-renderer.vert.glsl\n/* harmony default export */ const image_renderer_vert = (\"#version 300 es\\r\\nin vec2 a_position;\\r\\n\\r\\n// Opacity\\r\\nin float a_opacity;\\r\\nout float v_opacity;\\r\\n\\r\\n// UV coordinate\\r\\nin vec2 a_texcoord;\\r\\nout vec2 v_texcoord;\\r\\n\\r\\n// Texture res\\r\\nin vec2 a_res;\\r\\nout vec2 v_res;\\r\\n\\r\\n// Texture number\\r\\nin lowp float a_textureIndex;\\r\\nout lowp float v_textureIndex;\\r\\n\\r\\nin vec4 a_tint;\\r\\nout vec4 v_tint;\\r\\n\\r\\nuniform mat4 u_matrix;\\r\\n\\r\\nvoid main(){\\r\\n  // Set the vertex position using the ortho transform matrix\\r\\n  gl_Position=u_matrix*vec4(a_position,0.,1.);\\r\\n  \\r\\n  // Pass through the Opacity to the fragment shader\\r\\n  v_opacity=a_opacity;\\r\\n  // Pass through the UV coord to the fragment shader\\r\\n  v_texcoord=a_texcoord;\\r\\n\\r\\n  v_res = a_res;\\r\\n\\r\\n  // Pass through the texture number to the fragment shader\\r\\n  v_textureIndex=a_textureIndex;\\r\\n  // Pass through the tint\\r\\n  v_tint=a_tint;\\r\\n}\");\n;// CONCATENATED MODULE: ./Graphics/Context/image-renderer/image-renderer.ts\n\n\n\n\n\n\n\n\n\n\n\nclass ImageRenderer {\n    constructor(options) {\n        this.type = 'ex.image';\n        this.priority = 0;\n        this._maxImages = 10922; // max(uint16) / 6 verts\n        this._maxTextures = 0;\n        // Per flush vars\n        this._imageCount = 0;\n        this._textures = [];\n        this._vertexIndex = 0;\n        this.pixelArtSampler = options.pixelArtSampler;\n        this.uvPadding = options.uvPadding;\n    }\n    initialize(gl, context) {\n        this._gl = gl;\n        this._context = context;\n        // Transform shader source\n        // FIXME: PIXEL 6 complains `ERROR: Expression too complex.` if we use it's reported max texture units, 125 seems to work for now...\n        this._maxTextures = Math.min(gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS), 125);\n        const transformedFrag = this._transformFragmentSource(image_renderer_frag, this._maxTextures);\n        // Compile shader\n        this._shader = new Shader({\n            gl,\n            fragmentSource: transformedFrag,\n            vertexSource: image_renderer_vert\n        });\n        this._shader.compile();\n        // setup uniforms\n        this._shader.use();\n        this._shader.setUniformMatrix('u_matrix', context.ortho);\n        // Initialize texture slots to [0, 1, 2, 3, 4, .... maxGPUTextures]\n        this._shader.setUniformIntArray('u_textures', [...Array(this._maxTextures)].map((_, i) => i));\n        // Setup memory layout\n        this._buffer = new VertexBuffer({\n            gl,\n            size: 12 * 4 * this._maxImages, // 12 components * 4 verts\n            type: 'dynamic'\n        });\n        this._layout = new VertexLayout({\n            gl,\n            shader: this._shader,\n            vertexBuffer: this._buffer,\n            attributes: [\n                ['a_position', 2],\n                ['a_opacity', 1],\n                ['a_res', 2],\n                ['a_texcoord', 2],\n                ['a_textureIndex', 1],\n                ['a_tint', 4]\n            ]\n        });\n        // Setup index buffer\n        this._quads = new QuadIndexBuffer(gl, this._maxImages, true);\n    }\n    dispose() {\n        this._buffer.dispose();\n        this._quads.dispose();\n        this._shader.dispose();\n        this._textures.length = 0;\n        this._context = null;\n        this._gl = null;\n    }\n    _transformFragmentSource(source, maxTextures) {\n        let newSource = source.replace('%%count%%', maxTextures.toString());\n        let texturePickerBuilder = '';\n        for (let i = 0; i < maxTextures; i++) {\n            if (i === 0) {\n                texturePickerBuilder += `if (v_textureIndex <= ${i}.5) {\\n`;\n            }\n            else {\n                texturePickerBuilder += `   else if (v_textureIndex <= ${i}.5) {\\n`;\n            }\n            texturePickerBuilder += `      vec2 uv = u_pixelart ? uv_iq(v_texcoord, v_res) : v_texcoord;\\n`;\n            texturePickerBuilder += `      color = texture(u_textures[${i}], uv);\\n`;\n            texturePickerBuilder += `   }\\n`;\n        }\n        newSource = newSource.replace('%%texture_picker%%', texturePickerBuilder);\n        return newSource;\n    }\n    _addImageAsTexture(image) {\n        const maybeFiltering = image.getAttribute('filtering');\n        let filtering = null;\n        if (maybeFiltering === ImageFiltering.Blended ||\n            maybeFiltering === ImageFiltering.Pixel) {\n            filtering = maybeFiltering;\n        }\n        const force = image.getAttribute('forceUpload') === 'true' ? true : false;\n        const texture = this._context.textureLoader.load(image, filtering, force);\n        // remove force attribute after upload\n        image.removeAttribute('forceUpload');\n        if (this._textures.indexOf(texture) === -1) {\n            this._textures.push(texture);\n        }\n    }\n    _bindTextures(gl) {\n        // Bind textures in the correct order\n        for (let i = 0; i < this._maxTextures; i++) {\n            gl.activeTexture(gl.TEXTURE0 + i);\n            gl.bindTexture(gl.TEXTURE_2D, this._textures[i] || this._textures[0]);\n        }\n    }\n    _getTextureIdForImage(image) {\n        if (image) {\n            const maybeTexture = this._context.textureLoader.get(image);\n            return this._textures.indexOf(maybeTexture);\n        }\n        return -1;\n    }\n    _isFull() {\n        if (this._imageCount >= this._maxImages) {\n            return true;\n        }\n        if (this._textures.length >= this._maxTextures) {\n            return true;\n        }\n        return false;\n    }\n    draw(image, sx, sy, swidth, sheight, dx, dy, dwidth, dheight) {\n        var _a, _b, _c, _d;\n        // Force a render if the batch is full\n        if (this._isFull()) {\n            this.flush();\n        }\n        this._imageCount++;\n        // This creates and uploads the texture if not already done\n        this._addImageAsTexture(image);\n        let width = (image === null || image === void 0 ? void 0 : image.width) || swidth || 0;\n        let height = (image === null || image === void 0 ? void 0 : image.height) || sheight || 0;\n        let view = [0, 0, (_a = swidth !== null && swidth !== void 0 ? swidth : image === null || image === void 0 ? void 0 : image.width) !== null && _a !== void 0 ? _a : 0, (_b = sheight !== null && sheight !== void 0 ? sheight : image === null || image === void 0 ? void 0 : image.height) !== null && _b !== void 0 ? _b : 0];\n        let dest = [sx !== null && sx !== void 0 ? sx : 1, sy !== null && sy !== void 0 ? sy : 1];\n        // If destination is specified, update view and dest\n        if (dx !== undefined && dy !== undefined && dwidth !== undefined && dheight !== undefined) {\n            view = [sx !== null && sx !== void 0 ? sx : 1, sy !== null && sy !== void 0 ? sy : 1, (_c = swidth !== null && swidth !== void 0 ? swidth : image === null || image === void 0 ? void 0 : image.width) !== null && _c !== void 0 ? _c : 0, (_d = sheight !== null && sheight !== void 0 ? sheight : image === null || image === void 0 ? void 0 : image.height) !== null && _d !== void 0 ? _d : 0];\n            dest = [dx, dy];\n            width = dwidth;\n            height = dheight;\n        }\n        sx = view[0];\n        sy = view[1];\n        const sw = view[2];\n        const sh = view[3];\n        // transform based on current context\n        const transform = this._context.getTransform();\n        const opacity = this._context.opacity;\n        const snapToPixel = this._context.snapToPixel;\n        let topLeft = vec(dest[0], dest[1]);\n        let topRight = vec(dest[0] + width, dest[1]);\n        let bottomLeft = vec(dest[0], dest[1] + height);\n        let bottomRight = vec(dest[0] + width, dest[1] + height);\n        topLeft = transform.multiply(topLeft);\n        topRight = transform.multiply(topRight);\n        bottomLeft = transform.multiply(bottomLeft);\n        bottomRight = transform.multiply(bottomRight);\n        if (snapToPixel) {\n            topLeft.x = ~~(topLeft.x + sign(topLeft.x) * pixelSnapEpsilon);\n            topLeft.y = ~~(topLeft.y + sign(topLeft.y) * pixelSnapEpsilon);\n            topRight.x = ~~(topRight.x + sign(topRight.x) * pixelSnapEpsilon);\n            topRight.y = ~~(topRight.y + sign(topRight.y) * pixelSnapEpsilon);\n            bottomLeft.x = ~~(bottomLeft.x + sign(bottomLeft.x) * pixelSnapEpsilon);\n            bottomLeft.y = ~~(bottomLeft.y + sign(bottomLeft.y) * pixelSnapEpsilon);\n            bottomRight.x = ~~(bottomRight.x + sign(bottomRight.x) * pixelSnapEpsilon);\n            bottomRight.y = ~~(bottomRight.y + sign(bottomRight.y) * pixelSnapEpsilon);\n        }\n        const tint = this._context.tint;\n        const textureId = this._getTextureIdForImage(image);\n        const imageWidth = image.width || width;\n        const imageHeight = image.height || height;\n        const uvx0 = (sx + this.uvPadding) / imageWidth;\n        const uvy0 = (sy + this.uvPadding) / imageHeight;\n        const uvx1 = (sx + sw - this.uvPadding) / imageWidth;\n        const uvy1 = (sy + sh - this.uvPadding) / imageHeight;\n        const txWidth = image.width;\n        const txHeight = image.height;\n        // update data\n        const vertexBuffer = this._layout.vertexBuffer.bufferData;\n        // (0, 0) - 0\n        vertexBuffer[this._vertexIndex++] = topLeft.x;\n        vertexBuffer[this._vertexIndex++] = topLeft.y;\n        vertexBuffer[this._vertexIndex++] = opacity;\n        vertexBuffer[this._vertexIndex++] = txWidth;\n        vertexBuffer[this._vertexIndex++] = txHeight;\n        vertexBuffer[this._vertexIndex++] = uvx0;\n        vertexBuffer[this._vertexIndex++] = uvy0;\n        vertexBuffer[this._vertexIndex++] = textureId;\n        vertexBuffer[this._vertexIndex++] = tint.r / 255;\n        vertexBuffer[this._vertexIndex++] = tint.g / 255;\n        vertexBuffer[this._vertexIndex++] = tint.b / 255;\n        vertexBuffer[this._vertexIndex++] = tint.a;\n        // (0, 1) - 1\n        vertexBuffer[this._vertexIndex++] = bottomLeft.x;\n        vertexBuffer[this._vertexIndex++] = bottomLeft.y;\n        vertexBuffer[this._vertexIndex++] = opacity;\n        vertexBuffer[this._vertexIndex++] = txWidth;\n        vertexBuffer[this._vertexIndex++] = txHeight;\n        vertexBuffer[this._vertexIndex++] = uvx0;\n        vertexBuffer[this._vertexIndex++] = uvy1;\n        vertexBuffer[this._vertexIndex++] = textureId;\n        vertexBuffer[this._vertexIndex++] = tint.r / 255;\n        vertexBuffer[this._vertexIndex++] = tint.g / 255;\n        vertexBuffer[this._vertexIndex++] = tint.b / 255;\n        vertexBuffer[this._vertexIndex++] = tint.a;\n        // (1, 0) - 2\n        vertexBuffer[this._vertexIndex++] = topRight.x;\n        vertexBuffer[this._vertexIndex++] = topRight.y;\n        vertexBuffer[this._vertexIndex++] = opacity;\n        vertexBuffer[this._vertexIndex++] = txWidth;\n        vertexBuffer[this._vertexIndex++] = txHeight;\n        vertexBuffer[this._vertexIndex++] = uvx1;\n        vertexBuffer[this._vertexIndex++] = uvy0;\n        vertexBuffer[this._vertexIndex++] = textureId;\n        vertexBuffer[this._vertexIndex++] = tint.r / 255;\n        vertexBuffer[this._vertexIndex++] = tint.g / 255;\n        vertexBuffer[this._vertexIndex++] = tint.b / 255;\n        vertexBuffer[this._vertexIndex++] = tint.a;\n        // (1, 1) - 3\n        vertexBuffer[this._vertexIndex++] = bottomRight.x;\n        vertexBuffer[this._vertexIndex++] = bottomRight.y;\n        vertexBuffer[this._vertexIndex++] = opacity;\n        vertexBuffer[this._vertexIndex++] = txWidth;\n        vertexBuffer[this._vertexIndex++] = txHeight;\n        vertexBuffer[this._vertexIndex++] = uvx1;\n        vertexBuffer[this._vertexIndex++] = uvy1;\n        vertexBuffer[this._vertexIndex++] = textureId;\n        vertexBuffer[this._vertexIndex++] = tint.r / 255;\n        vertexBuffer[this._vertexIndex++] = tint.g / 255;\n        vertexBuffer[this._vertexIndex++] = tint.b / 255;\n        vertexBuffer[this._vertexIndex++] = tint.a;\n    }\n    hasPendingDraws() {\n        return this._imageCount !== 0;\n    }\n    flush() {\n        // nothing to draw early exit\n        if (this._imageCount === 0) {\n            return;\n        }\n        const gl = this._gl;\n        // Bind the shader\n        this._shader.use();\n        // Bind the memory layout and upload data\n        this._layout.use(true, 4 * 12 * this._imageCount); // 4 verts * 12 components\n        // Update ortho matrix uniform\n        this._shader.setUniformMatrix('u_matrix', this._context.ortho);\n        // Turn on pixel art aa sampler\n        this._shader.setUniformBoolean('u_pixelart', this.pixelArtSampler);\n        // Bind textures to\n        this._bindTextures(gl);\n        // Bind index buffer\n        this._quads.bind();\n        // Draw all the quads\n        gl.drawElements(gl.TRIANGLES, this._imageCount * 6, this._quads.bufferGlType, 0);\n        GraphicsDiagnostics.DrawnImagesCount += this._imageCount;\n        GraphicsDiagnostics.DrawCallCount++;\n        // Reset\n        this._imageCount = 0;\n        this._vertexIndex = 0;\n        this._textures.length = 0;\n    }\n}\n\n;// CONCATENATED MODULE: ./Graphics/Context/rectangle-renderer/rectangle-renderer.frag.glsl\n/* harmony default export */ const rectangle_renderer_frag = (\"#version 300 es\\r\\n\\r\\nprecision mediump float;\\r\\n\\r\\n// UV coord\\r\\nin vec2 v_uv;\\r\\n\\r\\nin vec2 v_size; // in pixels\\r\\n\\r\\n// Color coord to blend with image\\r\\nin lowp vec4 v_color;\\r\\n\\r\\n// Stroke color if used\\r\\nin lowp vec4 v_strokeColor;\\r\\n\\r\\n// Stroke thickness if used\\r\\nin lowp float v_strokeThickness; // in pixels\\r\\n\\r\\n// Opacity\\r\\nin float v_opacity;\\r\\n\\r\\nout vec4 fragColor;\\r\\n\\r\\nvoid main() {\\r\\n    // modified from https://stackoverflow.com/questions/59197671/glsl-rounded-rectangle-with-variable-border\\r\\n    vec2 uv = v_uv;\\r\\n    vec2 fragCoord = uv * v_size;\\r\\n    float maxX = v_size.x - v_strokeThickness;\\r\\n    float minX = v_strokeThickness;\\r\\n    float maxY = v_size.y - v_strokeThickness;\\r\\n    float minY = v_strokeThickness;\\r\\n\\r\\n    if (fragCoord.x < maxX && fragCoord.x > minX &&\\r\\n        fragCoord.y < maxY && fragCoord.y > minY) {\\r\\n      fragColor = v_color;\\r\\n    } else {\\r\\n      fragColor = v_strokeColor;\\r\\n    }\\r\\n    fragColor.a *= v_opacity;\\r\\n    fragColor.rgb *= fragColor.a;\\r\\n\\r\\n    // vec2 v2CenteredPos     = abs(fragCoord - v_size.xy / 2.0);\\r\\n    // vec2 v2HalfShapeSizePx = v_size.xy/2.0 - v_strokeThickness/2.0;\\r\\n\\r\\n    // float fHalfBorderDist      = 0.0;\\r\\n    // float fHalfBorderThickness = 0.0;\\r\\n\\r\\n    // if (fragCoord.x > max(v_radius, v_strokeThickness) && \\r\\n    //     fragCoord.x < v_size.x - max(v_radius, v_strokeThickness))\\r\\n    // {\\r\\n    //     fHalfBorderDist      = v2CenteredPos.y - v2HalfShapeSizePx.y;\\r\\n    //     fHalfBorderThickness = v_strokeThickness / 2.0;\\r\\n    // }\\r\\n    // else if (fragCoord.y > max(v_radius, v_strokeThickness) && \\r\\n    //          fragCoord.y < v_size.y - max(v_radius, v_strokeThickness))\\r\\n    // {\\r\\n    //     fHalfBorderDist      = v2CenteredPos.x - v2HalfShapeSizePx.x;\\r\\n    //     fHalfBorderThickness = v_strokeThickness / 2.0;\\r\\n    // }\\r\\n    // else\\r\\n    // {\\r\\n    //     vec2 edgeVec = max(vec2(0.0), v_radius - vec2(\\r\\n    //         uv.x > 0.5 ? v_size.x - fragCoord.x : fragCoord.x,\\r\\n    //         uv.y > 0.5 ? v_size.y - fragCoord.y : fragCoord.y));\\r\\n        \\r\\n    //     float ellipse_ab    = v_radius-v_strokeThickness;\\r\\n    //     vec2 ellipse_isect = (v_strokeThickness > v_radius || v_strokeThickness > v_radius) ? vec2(0.0) :\\r\\n    //                             edgeVec.xy * ellipse_ab*ellipse_ab / length(ellipse_ab*edgeVec.yx); \\r\\n            \\r\\n    //     fHalfBorderThickness = (v_radius - length(ellipse_isect)) / 2.0;\\r\\n    //     fHalfBorderDist      = length(edgeVec) - (v_radius - fHalfBorderThickness);\\r\\n    // }\\r\\n\\r\\n    // vec4 v4FromColor = v_strokeColor;\\r\\n    // v4FromColor.rgb *= v4FromColor.a;\\r\\n    // vec4 v4ToColor   = vec4(0.0); // background color is transparent\\r\\n    // if (fHalfBorderDist < 0.0) {\\r\\n    //     v4ToColor = v_color;\\r\\n    //     v4ToColor.rgb *= v4ToColor.a;\\r\\n    // }\\r\\n\\r\\n    // float mixPct = abs(fHalfBorderDist) - fHalfBorderThickness;\\r\\n\\r\\n    // vec4 finalColor = mix(v4FromColor, v4ToColor, mixPct);\\r\\n    // gl_FragColor = finalColor;\\r\\n}\");\n;// CONCATENATED MODULE: ./Graphics/Context/rectangle-renderer/rectangle-renderer.vert.glsl\n/* harmony default export */ const rectangle_renderer_vert = (\"#version 300 es\\r\\nin vec2 a_position;\\r\\n\\r\\n// UV coordinate\\r\\nin vec2 a_uv;\\r\\nout vec2 v_uv;\\r\\n\\r\\nin vec2 a_size;\\r\\nout vec2 v_size;\\r\\n\\r\\n// Opacity \\r\\nin float a_opacity;\\r\\nout float v_opacity;\\r\\n\\r\\nin vec4 a_color;\\r\\nout vec4 v_color;\\r\\n\\r\\nin vec4 a_strokeColor;\\r\\nout vec4 v_strokeColor;\\r\\n\\r\\nin float a_strokeThickness;\\r\\nout float v_strokeThickness;\\r\\n\\r\\nuniform mat4 u_matrix;\\r\\n\\r\\n\\r\\nvoid main() {\\r\\n   // Set the vertex position using the ortho transform matrix\\r\\n   gl_Position = u_matrix * vec4(a_position, 0.0, 1.0);\\r\\n\\r\\n   // Pass through UV coords\\r\\n   v_uv = a_uv;\\r\\n   // Pass through size\\r\\n   v_size = a_size;\\r\\n   // Pass through the Opacity to the fragment shader\\r\\n   v_opacity = a_opacity;\\r\\n   // Pass through the color to the fragment shader\\r\\n   v_color = a_color;\\r\\n   // Pass through the stroke color to the fragment shader\\r\\n   v_strokeColor = a_strokeColor;\\r\\n   // Pass through the stroke thickenss to the fragment shader\\r\\n   v_strokeThickness = a_strokeThickness;\\r\\n}\");\n;// CONCATENATED MODULE: ./Graphics/Context/rectangle-renderer/rectangle-renderer.ts\n\n\n\n\n\n\n\n\n\n\nclass RectangleRenderer {\n    constructor() {\n        this.type = 'ex.rectangle';\n        this.priority = 0;\n        this._maxRectangles = 10922; // max(uint16) / 6 verts\n        this._rectangleCount = 0;\n        this._vertexIndex = 0;\n    }\n    initialize(gl, context) {\n        this._gl = gl;\n        this._context = context;\n        // https://stackoverflow.com/questions/59197671/glsl-rounded-rectangle-with-variable-border\n        this._shader = new Shader({\n            gl,\n            fragmentSource: rectangle_renderer_frag,\n            vertexSource: rectangle_renderer_vert\n        });\n        this._shader.compile();\n        // setup uniforms\n        this._shader.use();\n        this._shader.setUniformMatrix('u_matrix', context.ortho);\n        this._buffer = new VertexBuffer({\n            gl,\n            size: 16 * 4 * this._maxRectangles,\n            type: 'dynamic'\n        });\n        this._layout = new VertexLayout({\n            gl,\n            shader: this._shader,\n            vertexBuffer: this._buffer,\n            attributes: [\n                ['a_position', 2],\n                ['a_uv', 2],\n                ['a_size', 2],\n                ['a_opacity', 1],\n                ['a_color', 4],\n                ['a_strokeColor', 4],\n                ['a_strokeThickness', 1]\n            ]\n        });\n        this._quads = new QuadIndexBuffer(gl, this._maxRectangles, true);\n    }\n    dispose() {\n        this._buffer.dispose();\n        this._quads.dispose();\n        this._shader.dispose();\n        this._context = null;\n        this._gl = null;\n    }\n    _isFull() {\n        if (this._rectangleCount >= this._maxRectangles) {\n            return true;\n        }\n        return false;\n    }\n    draw(...args) {\n        if (args[0] instanceof Vector && args[1] instanceof Vector) {\n            this.drawLine.apply(this, args);\n        }\n        else {\n            this.drawRectangle.apply(this, args);\n        }\n    }\n    drawLine(start, end, color, thickness = 1) {\n        if (this._isFull()) {\n            this.flush();\n        }\n        this._rectangleCount++;\n        // transform based on current context\n        const transform = this._context.getTransform();\n        const opacity = this._context.opacity;\n        const snapToPixel = this._context.snapToPixel;\n        const dir = end.sub(start);\n        const length = dir.size;\n        const normal = dir.normalize().perpendicular();\n        const halfThick = thickness / 2;\n        /**\n         *    +---------------------^----------------------+\n         *    |                     | (normal)             |\n         *   (startx, starty)------------------>(endx, endy)\n         *    |                                            |\n         *    + -------------------------------------------+\n         */\n        const startTop = transform.multiply(normal.scale(halfThick).add(start));\n        const startBottom = transform.multiply(normal.scale(-halfThick).add(start));\n        const endTop = transform.multiply(normal.scale(halfThick).add(end));\n        const endBottom = transform.multiply(normal.scale(-halfThick).add(end));\n        if (snapToPixel) {\n            startTop.x = ~~(startTop.x + pixelSnapEpsilon);\n            startTop.y = ~~(startTop.y + pixelSnapEpsilon);\n            endTop.x = ~~(endTop.x + pixelSnapEpsilon);\n            endTop.y = ~~(endTop.y + pixelSnapEpsilon);\n            startBottom.x = ~~(startBottom.x + pixelSnapEpsilon);\n            startBottom.y = ~~(startBottom.y + pixelSnapEpsilon);\n            endBottom.x = ~~(endBottom.x + pixelSnapEpsilon);\n            endBottom.y = ~~(endBottom.y + pixelSnapEpsilon);\n        }\n        // TODO uv could be static vertex buffer\n        const uvx0 = 0;\n        const uvy0 = 0;\n        const uvx1 = 1;\n        const uvy1 = 1;\n        const stroke = Color.Transparent;\n        const strokeThickness = 0;\n        const width = 1;\n        // update data\n        const vertexBuffer = this._layout.vertexBuffer.bufferData;\n        // (0, 0) - 0\n        vertexBuffer[this._vertexIndex++] = startTop.x;\n        vertexBuffer[this._vertexIndex++] = startTop.y;\n        vertexBuffer[this._vertexIndex++] = uvx0;\n        vertexBuffer[this._vertexIndex++] = uvy0;\n        vertexBuffer[this._vertexIndex++] = length;\n        vertexBuffer[this._vertexIndex++] = thickness;\n        vertexBuffer[this._vertexIndex++] = opacity;\n        vertexBuffer[this._vertexIndex++] = color.r / 255;\n        vertexBuffer[this._vertexIndex++] = color.g / 255;\n        vertexBuffer[this._vertexIndex++] = color.b / 255;\n        vertexBuffer[this._vertexIndex++] = color.a;\n        vertexBuffer[this._vertexIndex++] = stroke.r / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.g / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.b / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.a;\n        vertexBuffer[this._vertexIndex++] = strokeThickness / width;\n        // (0, 1) - 1\n        vertexBuffer[this._vertexIndex++] = startBottom.x;\n        vertexBuffer[this._vertexIndex++] = startBottom.y;\n        vertexBuffer[this._vertexIndex++] = uvx0;\n        vertexBuffer[this._vertexIndex++] = uvy1;\n        vertexBuffer[this._vertexIndex++] = length;\n        vertexBuffer[this._vertexIndex++] = thickness;\n        vertexBuffer[this._vertexIndex++] = opacity;\n        vertexBuffer[this._vertexIndex++] = color.r / 255;\n        vertexBuffer[this._vertexIndex++] = color.g / 255;\n        vertexBuffer[this._vertexIndex++] = color.b / 255;\n        vertexBuffer[this._vertexIndex++] = color.a;\n        vertexBuffer[this._vertexIndex++] = stroke.r / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.g / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.b / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.a;\n        vertexBuffer[this._vertexIndex++] = strokeThickness / width;\n        // (1, 0) - 2\n        vertexBuffer[this._vertexIndex++] = endTop.x;\n        vertexBuffer[this._vertexIndex++] = endTop.y;\n        vertexBuffer[this._vertexIndex++] = uvx1;\n        vertexBuffer[this._vertexIndex++] = uvy0;\n        vertexBuffer[this._vertexIndex++] = length;\n        vertexBuffer[this._vertexIndex++] = thickness;\n        vertexBuffer[this._vertexIndex++] = opacity;\n        vertexBuffer[this._vertexIndex++] = color.r / 255;\n        vertexBuffer[this._vertexIndex++] = color.g / 255;\n        vertexBuffer[this._vertexIndex++] = color.b / 255;\n        vertexBuffer[this._vertexIndex++] = color.a;\n        vertexBuffer[this._vertexIndex++] = stroke.r / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.g / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.b / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.a;\n        vertexBuffer[this._vertexIndex++] = strokeThickness / width;\n        // (1, 1) - 3\n        vertexBuffer[this._vertexIndex++] = endBottom.x;\n        vertexBuffer[this._vertexIndex++] = endBottom.y;\n        vertexBuffer[this._vertexIndex++] = uvx1;\n        vertexBuffer[this._vertexIndex++] = uvy1;\n        vertexBuffer[this._vertexIndex++] = length;\n        vertexBuffer[this._vertexIndex++] = thickness;\n        vertexBuffer[this._vertexIndex++] = opacity;\n        vertexBuffer[this._vertexIndex++] = color.r / 255;\n        vertexBuffer[this._vertexIndex++] = color.g / 255;\n        vertexBuffer[this._vertexIndex++] = color.b / 255;\n        vertexBuffer[this._vertexIndex++] = color.a;\n        vertexBuffer[this._vertexIndex++] = stroke.r / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.g / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.b / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.a;\n        vertexBuffer[this._vertexIndex++] = strokeThickness / width;\n    }\n    drawRectangle(pos, width, height, color, stroke = Color.Transparent, strokeThickness = 0) {\n        if (this._isFull()) {\n            this.flush();\n        }\n        this._rectangleCount++;\n        // transform based on current context\n        const transform = this._context.getTransform();\n        const opacity = this._context.opacity;\n        const snapToPixel = this._context.snapToPixel;\n        const topLeft = transform.multiply(pos.add(vec(0, 0)));\n        const topRight = transform.multiply(pos.add(vec(width, 0)));\n        const bottomRight = transform.multiply(pos.add(vec(width, height)));\n        const bottomLeft = transform.multiply(pos.add(vec(0, height)));\n        if (snapToPixel) {\n            topLeft.x = ~~(topLeft.x + pixelSnapEpsilon);\n            topLeft.y = ~~(topLeft.y + pixelSnapEpsilon);\n            topRight.x = ~~(topRight.x + pixelSnapEpsilon);\n            topRight.y = ~~(topRight.y + pixelSnapEpsilon);\n            bottomLeft.x = ~~(bottomLeft.x + pixelSnapEpsilon);\n            bottomLeft.y = ~~(bottomLeft.y + pixelSnapEpsilon);\n            bottomRight.x = ~~(bottomRight.x + pixelSnapEpsilon);\n            bottomRight.y = ~~(bottomRight.y + pixelSnapEpsilon);\n        }\n        // TODO uv could be static vertex buffer\n        const uvx0 = 0;\n        const uvy0 = 0;\n        const uvx1 = 1;\n        const uvy1 = 1;\n        // update data\n        const vertexBuffer = this._layout.vertexBuffer.bufferData;\n        // (0, 0) - 0\n        vertexBuffer[this._vertexIndex++] = topLeft.x;\n        vertexBuffer[this._vertexIndex++] = topLeft.y;\n        vertexBuffer[this._vertexIndex++] = uvx0;\n        vertexBuffer[this._vertexIndex++] = uvy0;\n        vertexBuffer[this._vertexIndex++] = width;\n        vertexBuffer[this._vertexIndex++] = height;\n        vertexBuffer[this._vertexIndex++] = opacity;\n        vertexBuffer[this._vertexIndex++] = color.r / 255;\n        vertexBuffer[this._vertexIndex++] = color.g / 255;\n        vertexBuffer[this._vertexIndex++] = color.b / 255;\n        vertexBuffer[this._vertexIndex++] = color.a;\n        vertexBuffer[this._vertexIndex++] = stroke.r / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.g / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.b / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.a;\n        vertexBuffer[this._vertexIndex++] = strokeThickness;\n        // (0, 1) - 1\n        vertexBuffer[this._vertexIndex++] = bottomLeft.x;\n        vertexBuffer[this._vertexIndex++] = bottomLeft.y;\n        vertexBuffer[this._vertexIndex++] = uvx0;\n        vertexBuffer[this._vertexIndex++] = uvy1;\n        vertexBuffer[this._vertexIndex++] = width;\n        vertexBuffer[this._vertexIndex++] = height;\n        vertexBuffer[this._vertexIndex++] = opacity;\n        vertexBuffer[this._vertexIndex++] = color.r / 255;\n        vertexBuffer[this._vertexIndex++] = color.g / 255;\n        vertexBuffer[this._vertexIndex++] = color.b / 255;\n        vertexBuffer[this._vertexIndex++] = color.a;\n        vertexBuffer[this._vertexIndex++] = stroke.r / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.g / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.b / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.a;\n        vertexBuffer[this._vertexIndex++] = strokeThickness;\n        // (1, 0) - 2\n        vertexBuffer[this._vertexIndex++] = topRight.x;\n        vertexBuffer[this._vertexIndex++] = topRight.y;\n        vertexBuffer[this._vertexIndex++] = uvx1;\n        vertexBuffer[this._vertexIndex++] = uvy0;\n        vertexBuffer[this._vertexIndex++] = width;\n        vertexBuffer[this._vertexIndex++] = height;\n        vertexBuffer[this._vertexIndex++] = opacity;\n        vertexBuffer[this._vertexIndex++] = color.r / 255;\n        vertexBuffer[this._vertexIndex++] = color.g / 255;\n        vertexBuffer[this._vertexIndex++] = color.b / 255;\n        vertexBuffer[this._vertexIndex++] = color.a;\n        vertexBuffer[this._vertexIndex++] = stroke.r / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.g / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.b / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.a;\n        vertexBuffer[this._vertexIndex++] = strokeThickness;\n        // (1, 1) - 3\n        vertexBuffer[this._vertexIndex++] = bottomRight.x;\n        vertexBuffer[this._vertexIndex++] = bottomRight.y;\n        vertexBuffer[this._vertexIndex++] = uvx1;\n        vertexBuffer[this._vertexIndex++] = uvy1;\n        vertexBuffer[this._vertexIndex++] = width;\n        vertexBuffer[this._vertexIndex++] = height;\n        vertexBuffer[this._vertexIndex++] = opacity;\n        vertexBuffer[this._vertexIndex++] = color.r / 255;\n        vertexBuffer[this._vertexIndex++] = color.g / 255;\n        vertexBuffer[this._vertexIndex++] = color.b / 255;\n        vertexBuffer[this._vertexIndex++] = color.a;\n        vertexBuffer[this._vertexIndex++] = stroke.r / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.g / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.b / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.a;\n        vertexBuffer[this._vertexIndex++] = strokeThickness;\n    }\n    hasPendingDraws() {\n        return this._rectangleCount !== 0;\n    }\n    flush() {\n        // nothing to draw early exit\n        if (this._rectangleCount === 0) {\n            return;\n        }\n        const gl = this._gl;\n        // Bind the shader\n        this._shader.use();\n        // Bind the memory layout and upload data\n        this._layout.use(true);\n        // Update ortho matrix uniform\n        this._shader.setUniformMatrix('u_matrix', this._context.ortho);\n        // Bind index buffer\n        this._quads.bind();\n        // Draw all the quads\n        gl.drawElements(gl.TRIANGLES, this._rectangleCount * 6, this._quads.bufferGlType, 0);\n        GraphicsDiagnostics.DrawnImagesCount += this._rectangleCount;\n        GraphicsDiagnostics.DrawCallCount++;\n        // Reset\n        this._rectangleCount = 0;\n        this._vertexIndex = 0;\n    }\n}\n\n;// CONCATENATED MODULE: ./Graphics/Context/circle-renderer/circle-renderer.frag.glsl\n/* harmony default export */ const circle_renderer_frag = (\"#version 300 es\\r\\nprecision highp float;\\r\\n\\r\\n// UV coord\\r\\nin vec2 v_uv;\\r\\n\\r\\n// Color coord to blend with image\\r\\nin lowp vec4 v_color;\\r\\n\\r\\n// Stroke color if used\\r\\nin lowp vec4 v_strokeColor;\\r\\n\\r\\n// Stroke thickness if used\\r\\nin lowp float v_strokeThickness;\\r\\n\\r\\n// Opacity\\r\\nin float v_opacity;\\r\\n\\r\\nout vec4 fragColor;\\r\\n\\r\\nvoid main() {\\r\\n  // make (0, 0) the center the uv \\r\\n  vec2 uv = v_uv * 2.0 - 1.0;\\r\\n\\r\\n  vec4 color = v_color;\\r\\n  vec4 strokeColor = v_strokeColor;\\r\\n\\r\\n  // circle border is at radius 1.0 \\r\\n  // dist is > 0 when inside the circle \\r\\n  float d = length(uv);\\r\\n  float dist = 1.0 - length(uv);\\r\\n\\r\\n  // Fade based on fwidth\\r\\n  float fade = fwidth(dot(uv, uv));\\r\\n\\r\\n  // if dist is greater than 0 step to 1;\\r\\n  // when we cross this 0 threshold add a smooth fade\\r\\n  float fill = smoothstep(-fade/2.0, fade/2.0, dist);\\r\\n\\r\\n  // if dist is greater than the stroke thickness step to 1\\r\\n  float stroke = 1.0 - smoothstep(v_strokeThickness, v_strokeThickness + fade, dist);\\r\\n\\r\\n  strokeColor.a *= fill * stroke;\\r\\n  strokeColor.rgb *= strokeColor.a;\\r\\n\\r\\n  color.a *= fill * (1.0 - stroke);\\r\\n  color.rgb *= color.a;\\r\\n\\r\\n  vec4 finalColor = mix(vec4(0.0), (color + strokeColor), fill);\\r\\n  finalColor.rgb = finalColor.rgb * v_opacity;\\r\\n  finalColor.a = finalColor.a * v_opacity;\\r\\n  fragColor = finalColor;\\r\\n}\");\n;// CONCATENATED MODULE: ./Graphics/Context/circle-renderer/circle-renderer.vert.glsl\n/* harmony default export */ const circle_renderer_vert = (\"#version 300 es\\r\\nin vec2 a_position;\\r\\n\\r\\n// UV coordinate\\r\\nin vec2 a_uv;\\r\\nout vec2 v_uv;\\r\\n\\r\\n// Opacity \\r\\nin float a_opacity;\\r\\nout float v_opacity;\\r\\n\\r\\nin vec4 a_color;\\r\\nout vec4 v_color;\\r\\n\\r\\nin vec4 a_strokeColor;\\r\\nout vec4 v_strokeColor;\\r\\n\\r\\nin float a_strokeThickness;\\r\\nout float v_strokeThickness;\\r\\n\\r\\nuniform mat4 u_matrix;\\r\\n\\r\\n\\r\\nvoid main() {\\r\\n   // Set the vertex position using the ortho transform matrix\\r\\n   gl_Position = u_matrix * vec4(a_position, 0.0, 1.0);\\r\\n\\r\\n   // Pass through UV coords\\r\\n   v_uv = a_uv;\\r\\n   // Pass through the Opacity to the fragment shader\\r\\n   v_opacity = a_opacity;\\r\\n   // Pass through the color to the fragment shader\\r\\n   v_color = a_color;\\r\\n   // Pass through the stroke color to the fragment shader\\r\\n   v_strokeColor = a_strokeColor;\\r\\n   // Pass through the stroke thickenss to the fragment shader\\r\\n   v_strokeThickness = a_strokeThickness;\\r\\n}\");\n;// CONCATENATED MODULE: ./Graphics/Context/circle-renderer/circle-renderer.ts\n\n\n\n\n\n\n\n\n\n\nclass CircleRenderer {\n    constructor() {\n        this.type = 'ex.circle';\n        this.priority = 0;\n        this._maxCircles = 10922; // max(uint16) / 6 verts\n        this._circleCount = 0;\n        this._vertexIndex = 0;\n    }\n    initialize(gl, context) {\n        this._gl = gl;\n        this._context = context;\n        this._shader = new Shader({\n            gl,\n            fragmentSource: circle_renderer_frag,\n            vertexSource: circle_renderer_vert\n        });\n        this._shader.compile();\n        // setup uniforms\n        this._shader.use();\n        this._shader.setUniformMatrix('u_matrix', context.ortho);\n        this._buffer = new VertexBuffer({\n            gl,\n            size: 14 * 4 * this._maxCircles,\n            type: 'dynamic'\n        });\n        this._layout = new VertexLayout({\n            gl,\n            shader: this._shader,\n            vertexBuffer: this._buffer,\n            attributes: [\n                ['a_position', 2],\n                ['a_uv', 2],\n                ['a_opacity', 1],\n                ['a_color', 4],\n                ['a_strokeColor', 4],\n                ['a_strokeThickness', 1]\n            ]\n        });\n        this._quads = new QuadIndexBuffer(gl, this._maxCircles, true);\n    }\n    dispose() {\n        this._buffer.dispose();\n        this._quads.dispose();\n        this._shader.dispose();\n        this._context = null;\n        this._gl = null;\n    }\n    _isFull() {\n        if (this._circleCount >= this._maxCircles) {\n            return true;\n        }\n        return false;\n    }\n    draw(pos, radius, color, stroke = Color.Transparent, strokeThickness = 0) {\n        if (this._isFull()) {\n            this.flush();\n        }\n        this._circleCount++;\n        // transform based on current context\n        const transform = this._context.getTransform();\n        const opacity = this._context.opacity;\n        const snapToPixel = this._context.snapToPixel;\n        const topLeft = transform.multiply(pos.add(vec(-radius, -radius)));\n        const topRight = transform.multiply(pos.add(vec(radius, -radius)));\n        const bottomRight = transform.multiply(pos.add(vec(radius, radius)));\n        const bottomLeft = transform.multiply(pos.add(vec(-radius, radius)));\n        if (snapToPixel) {\n            topLeft.x = ~~(topLeft.x + pixelSnapEpsilon);\n            topLeft.y = ~~(topLeft.y + pixelSnapEpsilon);\n            topRight.x = ~~(topRight.x + pixelSnapEpsilon);\n            topRight.y = ~~(topRight.y + pixelSnapEpsilon);\n            bottomLeft.x = ~~(bottomLeft.x + pixelSnapEpsilon);\n            bottomLeft.y = ~~(bottomLeft.y + pixelSnapEpsilon);\n            bottomRight.x = ~~(bottomRight.x + pixelSnapEpsilon);\n            bottomRight.y = ~~(bottomRight.y + pixelSnapEpsilon);\n        }\n        // TODO UV could be static vertex buffer\n        const uvx0 = 0;\n        const uvy0 = 0;\n        const uvx1 = 1;\n        const uvy1 = 1;\n        // update data\n        const vertexBuffer = this._layout.vertexBuffer.bufferData;\n        // (0, 0) - 0\n        vertexBuffer[this._vertexIndex++] = topLeft.x;\n        vertexBuffer[this._vertexIndex++] = topLeft.y;\n        vertexBuffer[this._vertexIndex++] = uvx0;\n        vertexBuffer[this._vertexIndex++] = uvy0;\n        vertexBuffer[this._vertexIndex++] = opacity;\n        vertexBuffer[this._vertexIndex++] = color.r / 255;\n        vertexBuffer[this._vertexIndex++] = color.g / 255;\n        vertexBuffer[this._vertexIndex++] = color.b / 255;\n        vertexBuffer[this._vertexIndex++] = color.a;\n        vertexBuffer[this._vertexIndex++] = stroke.r / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.g / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.b / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.a;\n        vertexBuffer[this._vertexIndex++] = strokeThickness / radius;\n        // (0, 1) - 1\n        vertexBuffer[this._vertexIndex++] = bottomLeft.x;\n        vertexBuffer[this._vertexIndex++] = bottomLeft.y;\n        vertexBuffer[this._vertexIndex++] = uvx0;\n        vertexBuffer[this._vertexIndex++] = uvy1;\n        vertexBuffer[this._vertexIndex++] = opacity;\n        vertexBuffer[this._vertexIndex++] = color.r / 255;\n        vertexBuffer[this._vertexIndex++] = color.g / 255;\n        vertexBuffer[this._vertexIndex++] = color.b / 255;\n        vertexBuffer[this._vertexIndex++] = color.a;\n        vertexBuffer[this._vertexIndex++] = stroke.r / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.g / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.b / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.a;\n        vertexBuffer[this._vertexIndex++] = strokeThickness / radius;\n        // (1, 0) - 2\n        vertexBuffer[this._vertexIndex++] = topRight.x;\n        vertexBuffer[this._vertexIndex++] = topRight.y;\n        vertexBuffer[this._vertexIndex++] = uvx1;\n        vertexBuffer[this._vertexIndex++] = uvy0;\n        vertexBuffer[this._vertexIndex++] = opacity;\n        vertexBuffer[this._vertexIndex++] = color.r / 255;\n        vertexBuffer[this._vertexIndex++] = color.g / 255;\n        vertexBuffer[this._vertexIndex++] = color.b / 255;\n        vertexBuffer[this._vertexIndex++] = color.a;\n        vertexBuffer[this._vertexIndex++] = stroke.r / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.g / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.b / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.a;\n        vertexBuffer[this._vertexIndex++] = strokeThickness / radius;\n        // (1, 1) - 3\n        vertexBuffer[this._vertexIndex++] = bottomRight.x;\n        vertexBuffer[this._vertexIndex++] = bottomRight.y;\n        vertexBuffer[this._vertexIndex++] = uvx1;\n        vertexBuffer[this._vertexIndex++] = uvy1;\n        vertexBuffer[this._vertexIndex++] = opacity;\n        vertexBuffer[this._vertexIndex++] = color.r / 255;\n        vertexBuffer[this._vertexIndex++] = color.g / 255;\n        vertexBuffer[this._vertexIndex++] = color.b / 255;\n        vertexBuffer[this._vertexIndex++] = color.a;\n        vertexBuffer[this._vertexIndex++] = stroke.r / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.g / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.b / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.a;\n        vertexBuffer[this._vertexIndex++] = strokeThickness / radius;\n    }\n    hasPendingDraws() {\n        return this._circleCount !== 0;\n    }\n    flush() {\n        // nothing to draw early exit\n        if (this._circleCount === 0) {\n            return;\n        }\n        const gl = this._gl;\n        // Bind the shader\n        this._shader.use();\n        // Bind the memory layout and upload data\n        this._layout.use(true);\n        // Update ortho matrix uniform\n        this._shader.setUniformMatrix('u_matrix', this._context.ortho);\n        // Bind index buffer\n        this._quads.bind();\n        // Draw all the quads\n        gl.drawElements(gl.TRIANGLES, this._circleCount * 6, this._quads.bufferGlType, 0);\n        GraphicsDiagnostics.DrawnImagesCount += this._circleCount;\n        GraphicsDiagnostics.DrawCallCount++;\n        // Reset\n        this._circleCount = 0;\n        this._vertexIndex = 0;\n    }\n}\n\n;// CONCATENATED MODULE: ./Util/Pool.ts\n\nclass Pool {\n    constructor(builder, recycler, maxObjects = 100) {\n        this.builder = builder;\n        this.recycler = recycler;\n        this.maxObjects = maxObjects;\n        this.totalAllocations = 0;\n        this.index = 0;\n        this.objects = [];\n        this.disableWarnings = false;\n        this._logger = Logger.getInstance();\n    }\n    dispose() {\n        this.objects.length = 0;\n    }\n    preallocate() {\n        for (let i = 0; i < this.maxObjects; i++) {\n            this.objects[i] = this.builder();\n        }\n    }\n    /**\n     * Use many instances out of the in the context and return all to the pool.\n     *\n     * By returning values out of the context they will be un-hooked from the pool and are free to be passed to consumers\n     * @param context\n     */\n    using(context) {\n        const result = context(this);\n        if (result) {\n            return this.done(...result);\n        }\n        return this.done();\n    }\n    /**\n     * Use a single instance out of th pool and immediately return it to the pool\n     * @param context\n     */\n    borrow(context) {\n        const object = this.get();\n        context(object);\n        this.index--;\n    }\n    /**\n     * Retrieve a value from the pool, will allocate a new instance if necessary or recycle from the pool\n     * @param args\n     */\n    get(...args) {\n        if (this.index === this.maxObjects) {\n            if (!this.disableWarnings) {\n                this._logger.warn('Max pooled objects reached, possible memory leak? Doubling');\n            }\n            this.maxObjects = this.maxObjects * 2;\n        }\n        if (this.objects[this.index]) {\n            // Pool has an available object already constructed\n            return this.recycler(this.objects[this.index++], ...args);\n        }\n        else {\n            // New allocation\n            this.totalAllocations++;\n            const object = (this.objects[this.index++] = this.builder(...args));\n            return object;\n        }\n    }\n    done(...objects) {\n        // All objects in pool now considered \"free\"\n        this.index = 0;\n        for (const object of objects) {\n            const poolIndex = this.objects.indexOf(object);\n            // Build a new object to take the pool place\n            this.objects[poolIndex] = this.builder(); // TODO problematic 0-arg only support\n            this.totalAllocations++;\n        }\n        return objects;\n    }\n}\n\n;// CONCATENATED MODULE: ./Graphics/Context/draw-call.ts\n\n\nclass DrawCall {\n    constructor() {\n        this.z = 0;\n        this.priority = 0;\n        this.transform = AffineMatrix.identity();\n        this.state = {\n            z: 0,\n            opacity: 1,\n            tint: Color.White,\n            material: null\n        };\n    }\n}\n\n;// CONCATENATED MODULE: ./Graphics/Context/material.ts\n\n\n\n\nconst defaultVertexSource = `#version 300 es\r\nin vec2 a_position;\r\n\r\nin vec2 a_uv;\r\nout vec2 v_uv;\r\n\r\nin vec2 a_screenuv;\r\nout vec2 v_screenuv;\r\n\r\nuniform mat4 u_matrix;\r\nuniform mat4 u_transform;\r\n\r\nvoid main() {\r\n  // Set the vertex position using the ortho & transform matrix\r\n  gl_Position = u_matrix * u_transform * vec4(a_position, 0.0, 1.0);\r\n\r\n  // Pass through the UV coord to the fragment shader\r\n  v_uv = a_uv;\r\n  v_screenuv = a_screenuv;\r\n}\r\n`;\nclass Material {\n    constructor(options) {\n        this._logger = Logger.getInstance();\n        this._color = Color.Transparent;\n        this._initialized = false;\n        this._images = new Map();\n        this._textures = new Map();\n        const { color, name, vertexSource, fragmentSource, graphicsContext, images } = options;\n        this._name = name !== null && name !== void 0 ? name : 'anonymous material';\n        this._vertexSource = vertexSource !== null && vertexSource !== void 0 ? vertexSource : defaultVertexSource;\n        this._fragmentSource = fragmentSource;\n        this._color = color !== null && color !== void 0 ? color : this._color;\n        if (!graphicsContext) {\n            throw Error(`Material ${name} must be provided an excalibur webgl graphics context`);\n        }\n        if (graphicsContext instanceof ExcaliburGraphicsContextWebGL) {\n            this._graphicsContext = graphicsContext;\n            this._initialize(graphicsContext);\n        }\n        else {\n            this._logger.warn(`Material ${name} was created in 2D Canvas mode, currently only WebGL is supported`);\n        }\n        if (images) {\n            for (const key in images) {\n                this.addImageSource(key, images[key]);\n            }\n        }\n    }\n    _initialize(graphicsContextWebGL) {\n        if (this._initialized) {\n            return;\n        }\n        const gl = graphicsContextWebGL.__gl;\n        // max texture slots - 2 for the graphic texture and screen texture\n        this._maxTextureSlots = gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS) - 2;\n        this._shader = graphicsContextWebGL.createShader({\n            vertexSource: this._vertexSource,\n            fragmentSource: this._fragmentSource\n        });\n        this._shader.compile();\n        this._initialized = true;\n    }\n    get name() {\n        var _a;\n        return (_a = this._name) !== null && _a !== void 0 ? _a : 'anonymous material';\n    }\n    get isUsingScreenTexture() {\n        return this._fragmentSource.includes('u_screen_texture');\n    }\n    update(callback) {\n        if (this._shader) {\n            this._shader.use();\n            callback(this._shader);\n        }\n    }\n    getShader() {\n        return this._shader;\n    }\n    addImageSource(textureUniformName, image) {\n        if (this._images.size < this._maxTextureSlots) {\n            this._images.set(textureUniformName, image);\n        }\n        else {\n            this._logger.warn(`Max number texture slots ${this._maxTextureSlots} have been reached for material \"${this.name}\", ` +\n                `no more textures will be uploaded due to hardware constraints.`);\n        }\n    }\n    removeImageSource(textureName) {\n        const image = this._images.get(textureName);\n        this._graphicsContext.textureLoader.delete(image.image);\n        this._images.delete(textureName);\n    }\n    _loadImageSource(image) {\n        const imageElement = image.image;\n        const maybeFiltering = imageElement.getAttribute('filtering');\n        let filtering = null;\n        if (maybeFiltering === ImageFiltering.Blended ||\n            maybeFiltering === ImageFiltering.Pixel) {\n            filtering = maybeFiltering;\n        }\n        const force = imageElement.getAttribute('forceUpload') === 'true' ? true : false;\n        const texture = this._graphicsContext.textureLoader.load(imageElement, filtering, force);\n        // remove force attribute after upload\n        imageElement.removeAttribute('forceUpload');\n        if (!this._textures.has(image)) {\n            this._textures.set(image, texture);\n        }\n        return texture;\n    }\n    uploadAndBind(gl, startingTextureSlot = 2) {\n        let textureSlot = startingTextureSlot;\n        for (const [textureName, image] of this._images.entries()) {\n            if (!image.isLoaded()) {\n                this._logger.warnOnce(`Image named ${textureName} in material ${this.name} not loaded, nothing will be uploaded to the shader.` +\n                    ` Did you forget to add this to a loader? https://excaliburjs.com/docs/loaders/`);\n                continue;\n            } // skip unloaded images, maybe warn\n            const texture = this._loadImageSource(image);\n            gl.activeTexture(gl.TEXTURE0 + textureSlot);\n            gl.bindTexture(gl.TEXTURE_2D, texture);\n            this._shader.trySetUniformInt(textureName, textureSlot);\n            textureSlot++;\n        }\n    }\n    use() {\n        if (this._initialized) {\n            // bind the shader\n            this._shader.use();\n            // Apply standard uniforms\n            this._shader.trySetUniformFloatColor('u_color', this._color);\n        }\n        else {\n            throw Error(`Material ${this.name} not yet initialized, use the ExcaliburGraphicsContext.createMaterial() to work around this.`);\n        }\n    }\n}\n\n;// CONCATENATED MODULE: ./Graphics/Context/material-renderer/material-renderer.ts\n\n\n\n\n\n\nclass MaterialRenderer {\n    constructor() {\n        this.type = 'ex.material';\n        this.priority = 0;\n        this._textures = [];\n    }\n    initialize(gl, context) {\n        this._gl = gl;\n        this._context = context;\n        // Setup memory layout\n        this._buffer = new VertexBuffer({\n            gl,\n            size: 6 * 4, // 6 components * 4 verts\n            type: 'dynamic'\n        });\n        // Setup a vertex layout/buffer to the material\n        this._layout = new VertexLayout({\n            gl,\n            vertexBuffer: this._buffer,\n            attributes: [\n                ['a_position', 2],\n                ['a_uv', 2],\n                ['a_screenuv', 2]\n            ]\n        });\n        // Setup index buffer\n        this._quads = new QuadIndexBuffer(gl, 1, true);\n    }\n    dispose() {\n        this._buffer.dispose();\n        this._quads.dispose();\n        this._textures.length = 0;\n        this._context = null;\n        this._gl = null;\n    }\n    draw(image, sx, sy, swidth, sheight, dx, dy, dwidth, dheight) {\n        var _a, _b, _c, _d;\n        const gl = this._gl;\n        // Extract context info\n        const material = this._context.material;\n        const transform = this._context.getTransform();\n        const opacity = this._context.opacity;\n        // material shader\n        const shader = material.getShader();\n        // construct geometry, or hold on to it in the material?\n        // geometry primitive for drawing rectangles?\n        // update data\n        const vertexBuffer = this._layout.vertexBuffer.bufferData;\n        let vertexIndex = 0;\n        let width = (image === null || image === void 0 ? void 0 : image.width) || swidth || 0;\n        let height = (image === null || image === void 0 ? void 0 : image.height) || sheight || 0;\n        let view = [0, 0, (_a = swidth !== null && swidth !== void 0 ? swidth : image === null || image === void 0 ? void 0 : image.width) !== null && _a !== void 0 ? _a : 0, (_b = sheight !== null && sheight !== void 0 ? sheight : image === null || image === void 0 ? void 0 : image.height) !== null && _b !== void 0 ? _b : 0];\n        let dest = [sx !== null && sx !== void 0 ? sx : 1, sy !== null && sy !== void 0 ? sy : 1];\n        // If destination is specified, update view and dest\n        if (dx !== undefined && dy !== undefined && dwidth !== undefined && dheight !== undefined) {\n            view = [sx !== null && sx !== void 0 ? sx : 1, sy !== null && sy !== void 0 ? sy : 1, (_c = swidth !== null && swidth !== void 0 ? swidth : image === null || image === void 0 ? void 0 : image.width) !== null && _c !== void 0 ? _c : 0, (_d = sheight !== null && sheight !== void 0 ? sheight : image === null || image === void 0 ? void 0 : image.height) !== null && _d !== void 0 ? _d : 0];\n            dest = [dx, dy];\n            width = dwidth;\n            height = dheight;\n        }\n        sx = view[0];\n        sy = view[1];\n        const sw = view[2];\n        const sh = view[3];\n        const topLeft = vec(dest[0], dest[1]);\n        const topRight = vec(dest[0] + width, dest[1]);\n        const bottomLeft = vec(dest[0], dest[1] + height);\n        const bottomRight = vec(dest[0] + width, dest[1] + height);\n        const imageWidth = image.width || width;\n        const imageHeight = image.height || height;\n        const uvx0 = (sx) / imageWidth;\n        const uvy0 = (sy) / imageHeight;\n        const uvx1 = (sx + sw - 0.01) / imageWidth;\n        const uvy1 = (sy + sh - 0.01) / imageHeight;\n        const topLeftScreen = transform.getPosition();\n        const bottomRightScreen = topLeftScreen.add(bottomRight);\n        const screenUVX0 = topLeftScreen.x / this._context.width;\n        const screenUVY0 = topLeftScreen.y / this._context.height;\n        const screenUVX1 = bottomRightScreen.x / this._context.width;\n        const screenUVY1 = bottomRightScreen.y / this._context.height;\n        // (0, 0) - 0\n        vertexBuffer[vertexIndex++] = topLeft.x;\n        vertexBuffer[vertexIndex++] = topLeft.y;\n        vertexBuffer[vertexIndex++] = uvx0;\n        vertexBuffer[vertexIndex++] = uvy0;\n        vertexBuffer[vertexIndex++] = screenUVX0;\n        vertexBuffer[vertexIndex++] = screenUVY0;\n        // (0, 1) - 1\n        vertexBuffer[vertexIndex++] = bottomLeft.x;\n        vertexBuffer[vertexIndex++] = bottomLeft.y;\n        vertexBuffer[vertexIndex++] = uvx0;\n        vertexBuffer[vertexIndex++] = uvy1;\n        vertexBuffer[vertexIndex++] = screenUVX0;\n        vertexBuffer[vertexIndex++] = screenUVY1;\n        // (1, 0) - 2\n        vertexBuffer[vertexIndex++] = topRight.x;\n        vertexBuffer[vertexIndex++] = topRight.y;\n        vertexBuffer[vertexIndex++] = uvx1;\n        vertexBuffer[vertexIndex++] = uvy0;\n        vertexBuffer[vertexIndex++] = screenUVX1;\n        vertexBuffer[vertexIndex++] = screenUVY0;\n        // (1, 1) - 3\n        vertexBuffer[vertexIndex++] = bottomRight.x;\n        vertexBuffer[vertexIndex++] = bottomRight.y;\n        vertexBuffer[vertexIndex++] = uvx1;\n        vertexBuffer[vertexIndex++] = uvy1;\n        vertexBuffer[vertexIndex++] = screenUVX1;\n        vertexBuffer[vertexIndex++] = screenUVY1;\n        // This creates and uploads the texture if not already done\n        const texture = this._addImageAsTexture(image);\n        // apply material\n        material.use();\n        this._layout.shader = shader;\n        // apply layout and geometry\n        this._layout.use(true);\n        // apply time in ms since the page (performance.now())\n        shader.trySetUniformFloat('u_time_ms', performance.now());\n        // apply opacity\n        shader.trySetUniformFloat('u_opacity', opacity);\n        // apply resolution\n        shader.trySetUniformFloatVector('u_resolution', vec(this._context.width, this._context.height));\n        // apply graphic resolution\n        shader.trySetUniformFloatVector('u_graphic_resolution', vec(imageWidth, imageHeight));\n        // apply size\n        shader.trySetUniformFloatVector('u_size', vec(sw, sh));\n        // apply orthographic projection\n        shader.trySetUniformMatrix('u_matrix', this._context.ortho);\n        // apply geometry transform\n        shader.trySetUniformMatrix('u_transform', transform.to4x4());\n        // bind graphic image texture 'uniform sampler2D u_graphic;'\n        gl.activeTexture(gl.TEXTURE0 + 0);\n        gl.bindTexture(gl.TEXTURE_2D, texture);\n        shader.trySetUniformInt('u_graphic', 0);\n        // bind the screen texture\n        gl.activeTexture(gl.TEXTURE0 + 1);\n        gl.bindTexture(gl.TEXTURE_2D, this._context.materialScreenTexture);\n        shader.trySetUniformInt('u_screen_texture', 1);\n        // bind any additional textures in the material\n        material.uploadAndBind(gl);\n        // bind quad index buffer\n        this._quads.bind();\n        // Draw a single quad\n        gl.drawElements(gl.TRIANGLES, 6, this._quads.bufferGlType, 0);\n        GraphicsDiagnostics.DrawnImagesCount++;\n        GraphicsDiagnostics.DrawCallCount++;\n    }\n    _addImageAsTexture(image) {\n        const maybeFiltering = image.getAttribute('filtering');\n        let filtering = null;\n        if (maybeFiltering === ImageFiltering.Blended ||\n            maybeFiltering === ImageFiltering.Pixel) {\n            filtering = maybeFiltering;\n        }\n        const force = image.getAttribute('forceUpload') === 'true' ? true : false;\n        const texture = this._context.textureLoader.load(image, filtering, force);\n        // remove force attribute after upload\n        image.removeAttribute('forceUpload');\n        if (this._textures.indexOf(texture) === -1) {\n            this._textures.push(texture);\n        }\n        return texture;\n    }\n    hasPendingDraws() {\n        return false;\n    }\n    flush() {\n        // flush does not do anything, material renderer renders immediately per draw\n    }\n}\n\n;// CONCATENATED MODULE: ./Graphics/Context/ExcaliburGraphicsContextWebGL.ts\n\n\n\n\n\n\n\n\n\n// renderers\n\n\n\n\n\n\n\n\n\n\n\n\nconst pixelSnapEpsilon = 0.0001;\nclass ExcaliburGraphicsContextWebGLDebug {\n    constructor(_webglCtx) {\n        this._webglCtx = _webglCtx;\n        this._debugText = new DebugText();\n    }\n    /**\n     * Draw a debugging rectangle to the context\n     * @param x\n     * @param y\n     * @param width\n     * @param height\n     */\n    drawRect(x, y, width, height, rectOptions = { color: Color.Black }) {\n        this.drawLine(vec(x, y), vec(x + width, y), { ...rectOptions });\n        this.drawLine(vec(x + width, y), vec(x + width, y + height), { ...rectOptions });\n        this.drawLine(vec(x + width, y + height), vec(x, y + height), { ...rectOptions });\n        this.drawLine(vec(x, y + height), vec(x, y), { ...rectOptions });\n    }\n    /**\n     * Draw a debugging line to the context\n     * @param start\n     * @param end\n     * @param lineOptions\n     */\n    drawLine(start, end, lineOptions = { color: Color.Black }) {\n        this._webglCtx.draw('ex.line', start, end, lineOptions.color);\n    }\n    /**\n     * Draw a debugging point to the context\n     * @param point\n     * @param pointOptions\n     */\n    drawPoint(point, pointOptions = { color: Color.Black, size: 5 }) {\n        this._webglCtx.draw('ex.point', point, pointOptions.color, pointOptions.size);\n    }\n    drawText(text, pos) {\n        this._debugText.write(this._webglCtx, text, pos);\n    }\n}\nclass ExcaliburGraphicsContextWebGL {\n    get z() {\n        return this._state.current.z;\n    }\n    set z(value) {\n        this._state.current.z = value;\n    }\n    get opacity() {\n        return this._state.current.opacity;\n    }\n    set opacity(value) {\n        this._state.current.opacity = value;\n    }\n    get tint() {\n        return this._state.current.tint;\n    }\n    set tint(color) {\n        this._state.current.tint = color;\n    }\n    get width() {\n        return this.__gl.canvas.width;\n    }\n    get height() {\n        return this.__gl.canvas.height;\n    }\n    get ortho() {\n        return this._ortho;\n    }\n    /**\n     * Checks the underlying webgl implementation if the requested internal resolution is supported\n     * @param dim\n     */\n    checkIfResolutionSupported(dim) {\n        // Slight hack based on this thread https://groups.google.com/g/webgl-dev-list/c/AHONvz3oQTo\n        let supported = true;\n        if (dim.width > 4096 || dim.height > 4096) {\n            supported = false;\n        }\n        return supported;\n    }\n    constructor(options) {\n        this._logger = Logger.getInstance();\n        this._renderers = new Map();\n        this._isDrawLifecycle = false;\n        this.useDrawSorting = true;\n        this._drawCallPool = new Pool(() => new DrawCall(), (instance) => {\n            instance.priority = 0;\n            instance.z = 0;\n            instance.renderer = undefined;\n            instance.args = undefined;\n            return instance;\n        }, 4000);\n        this._drawCalls = [];\n        // Postprocessing is a tuple with 2 render targets, these are flip-flopped during the postprocessing process\n        this._postProcessTargets = [];\n        this._postprocessors = [];\n        this._transform = new TransformStack();\n        this._state = new StateStack();\n        /**\n         * Snaps the drawing x/y coordinate to the nearest whole pixel\n         */\n        this.snapToPixel = false;\n        /**\n         * Native context smoothing\n         */\n        this.smoothing = false;\n        /**\n         * Whether the pixel art sampler is enabled for smooth sub pixel anti-aliasing\n         */\n        this.pixelArtSampler = false;\n        /**\n         * UV padding in pixels to use in internal image rendering to prevent texture bleed\n         *\n         */\n        this.uvPadding = .01;\n        this.backgroundColor = Color.ExcaliburBlue;\n        this.multiSampleAntialiasing = true;\n        this.transparency = true;\n        this._disposed = false;\n        this.debug = new ExcaliburGraphicsContextWebGLDebug(this);\n        this._totalPostProcessorTime = 0;\n        const { canvasElement, context, enableTransparency, antialiasing, uvPadding, multiSampleAntialiasing, pixelArtSampler, powerPreference, snapToPixel, backgroundColor, useDrawSorting } = options;\n        this.__gl = context !== null && context !== void 0 ? context : canvasElement.getContext('webgl2', {\n            antialias: antialiasing !== null && antialiasing !== void 0 ? antialiasing : this.smoothing,\n            premultipliedAlpha: false,\n            alpha: enableTransparency !== null && enableTransparency !== void 0 ? enableTransparency : this.transparency,\n            depth: false,\n            powerPreference: powerPreference !== null && powerPreference !== void 0 ? powerPreference : 'high-performance'\n        });\n        if (!this.__gl) {\n            throw Error('Failed to retrieve webgl context from browser');\n        }\n        this.textureLoader = new TextureLoader(this.__gl);\n        this.snapToPixel = snapToPixel !== null && snapToPixel !== void 0 ? snapToPixel : this.snapToPixel;\n        this.smoothing = antialiasing !== null && antialiasing !== void 0 ? antialiasing : this.smoothing;\n        this.transparency = enableTransparency !== null && enableTransparency !== void 0 ? enableTransparency : this.transparency;\n        this.pixelArtSampler = pixelArtSampler !== null && pixelArtSampler !== void 0 ? pixelArtSampler : this.pixelArtSampler;\n        this.uvPadding = uvPadding !== null && uvPadding !== void 0 ? uvPadding : this.uvPadding;\n        this.multiSampleAntialiasing = typeof multiSampleAntialiasing === 'boolean' ? multiSampleAntialiasing : this.multiSampleAntialiasing;\n        this.samples = typeof multiSampleAntialiasing === 'object' ? multiSampleAntialiasing.samples : undefined;\n        this.backgroundColor = backgroundColor !== null && backgroundColor !== void 0 ? backgroundColor : this.backgroundColor;\n        this.useDrawSorting = useDrawSorting !== null && useDrawSorting !== void 0 ? useDrawSorting : this.useDrawSorting;\n        this._drawCallPool.disableWarnings = true;\n        this._drawCallPool.preallocate();\n        this._init();\n    }\n    dispose() {\n        if (!this._disposed) {\n            this._disposed = true;\n            this.textureLoader.dispose();\n            for (const renderer of this._renderers.values()) {\n                renderer.dispose();\n            }\n            this._renderers.clear();\n            this._drawCallPool.dispose();\n            this._drawCalls.length = 0;\n            this.__gl = null;\n        }\n    }\n    _init() {\n        const gl = this.__gl;\n        // Setup viewport and view matrix\n        this._ortho = Matrix.ortho(0, gl.canvas.width, gl.canvas.height, 0, 400, -400);\n        gl.viewport(0, 0, gl.canvas.width, gl.canvas.height);\n        // Clear background\n        gl.clearColor(this.backgroundColor.r / 255, this.backgroundColor.g / 255, this.backgroundColor.b / 255, this.backgroundColor.a);\n        gl.clear(gl.COLOR_BUFFER_BIT);\n        // Enable alpha blending\n        // https://www.realtimerendering.com/blog/gpus-prefer-premultiplication/\n        gl.enable(gl.BLEND);\n        gl.blendEquation(gl.FUNC_ADD);\n        gl.blendFunc(gl.ONE, gl.ONE_MINUS_SRC_ALPHA);\n        gl.blendEquationSeparate(gl.FUNC_ADD, gl.FUNC_ADD);\n        gl.blendFuncSeparate(gl.ONE, gl.ONE_MINUS_SRC_ALPHA, gl.ONE, gl.ONE_MINUS_SRC_ALPHA);\n        // Setup builtin renderers\n        this.register(new ImageRenderer({\n            uvPadding: this.uvPadding,\n            pixelArtSampler: this.pixelArtSampler\n        }));\n        this.register(new MaterialRenderer());\n        this.register(new RectangleRenderer());\n        this.register(new CircleRenderer());\n        this.register(new PointRenderer());\n        this.register(new LineRenderer());\n        this.materialScreenTexture = gl.createTexture();\n        gl.bindTexture(gl.TEXTURE_2D, this.materialScreenTexture);\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, this.width, this.height, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.REPEAT);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.REPEAT);\n        gl.bindTexture(gl.TEXTURE_2D, null);\n        this._screenRenderer = new ScreenPassPainter(gl);\n        this._renderTarget = new RenderTarget({\n            gl,\n            transparency: this.transparency,\n            width: gl.canvas.width,\n            height: gl.canvas.height\n        });\n        this._postProcessTargets = [\n            new RenderTarget({\n                gl,\n                transparency: this.transparency,\n                width: gl.canvas.width,\n                height: gl.canvas.height\n            }),\n            new RenderTarget({\n                gl,\n                transparency: this.transparency,\n                width: gl.canvas.width,\n                height: gl.canvas.height\n            })\n        ];\n        this._msaaTarget = new RenderTarget({\n            gl,\n            transparency: this.transparency,\n            width: gl.canvas.width,\n            height: gl.canvas.height,\n            antialias: this.multiSampleAntialiasing,\n            samples: this.samples\n        });\n    }\n    register(renderer) {\n        this._renderers.set(renderer.type, renderer);\n        renderer.initialize(this.__gl, this);\n    }\n    get(rendererName) {\n        return this._renderers.get(rendererName);\n    }\n    _isCurrentRenderer(renderer) {\n        if (!this._currentRenderer || this._currentRenderer === renderer) {\n            return true;\n        }\n        return false;\n    }\n    beginDrawLifecycle() {\n        this._isDrawLifecycle = true;\n    }\n    endDrawLifecycle() {\n        this._isDrawLifecycle = false;\n    }\n    draw(rendererName, ...args) {\n        if (!this._isDrawLifecycle) {\n            this._logger.warnOnce(`Attempting to draw outside the the drawing lifecycle (preDraw/postDraw) is not supported and is a source of bugs/errors.\\n` +\n                `If you want to do custom drawing, use Actor.graphics, or any onPreDraw or onPostDraw handler.`);\n        }\n        const renderer = this._renderers.get(rendererName);\n        if (renderer) {\n            if (this.useDrawSorting) {\n                const drawCall = this._drawCallPool.get();\n                drawCall.z = this._state.current.z;\n                drawCall.priority = renderer.priority;\n                drawCall.renderer = rendererName;\n                this.getTransform().clone(drawCall.transform);\n                drawCall.state.z = this._state.current.z;\n                drawCall.state.opacity = this._state.current.opacity;\n                drawCall.state.tint = this._state.current.tint;\n                drawCall.state.material = this._state.current.material;\n                drawCall.args = args;\n                this._drawCalls.push(drawCall);\n            }\n            else {\n                // Set the current renderer if not defined\n                if (!this._currentRenderer) {\n                    this._currentRenderer = renderer;\n                }\n                if (!this._isCurrentRenderer(renderer)) {\n                    // switching graphics means we must flush the previous\n                    this._currentRenderer.flush();\n                }\n                // If we are still using the same renderer we can add to the current batch\n                renderer.draw(...args);\n                this._currentRenderer = renderer;\n            }\n        }\n        else {\n            throw Error(`No renderer with name ${rendererName} has been registered`);\n        }\n    }\n    resetTransform() {\n        this._transform.current = AffineMatrix.identity();\n    }\n    updateViewport(resolution) {\n        const gl = this.__gl;\n        this._ortho = this._ortho = Matrix.ortho(0, resolution.width, resolution.height, 0, 400, -400);\n        this._renderTarget.setResolution(gl.canvas.width, gl.canvas.height);\n        this._msaaTarget.setResolution(gl.canvas.width, gl.canvas.height);\n        this._postProcessTargets[0].setResolution(gl.canvas.width, gl.canvas.height);\n        this._postProcessTargets[1].setResolution(gl.canvas.width, gl.canvas.height);\n    }\n    drawImage(image, sx, sy, swidth, sheight, dx, dy, dwidth, dheight) {\n        if (swidth === 0 || sheight === 0) {\n            return; // zero dimension dest exit early\n        }\n        else if (dwidth === 0 || dheight === 0) {\n            return; // zero dimension dest exit early\n        }\n        else if (image.width === 0 || image.height === 0) {\n            return; // zero dimension source exit early\n        }\n        if (!image) {\n            Logger.getInstance().warn('Cannot draw a null or undefined image');\n            // tslint:disable-next-line: no-console\n            if (console.trace) {\n                // tslint:disable-next-line: no-console\n                console.trace();\n            }\n            return;\n        }\n        if (this._state.current.material) {\n            this.draw('ex.material', image, sx, sy, swidth, sheight, dx, dy, dwidth, dheight);\n        }\n        else {\n            this.draw('ex.image', image, sx, sy, swidth, sheight, dx, dy, dwidth, dheight);\n        }\n    }\n    drawLine(start, end, color, thickness = 1) {\n        this.draw('ex.rectangle', start, end, color, thickness);\n    }\n    drawRectangle(pos, width, height, color, stroke, strokeThickness) {\n        this.draw('ex.rectangle', pos, width, height, color, stroke, strokeThickness);\n    }\n    drawCircle(pos, radius, color, stroke, thickness) {\n        this.draw('ex.circle', pos, radius, color, stroke, thickness);\n    }\n    save() {\n        this._transform.save();\n        this._state.save();\n    }\n    restore() {\n        this._transform.restore();\n        this._state.restore();\n    }\n    translate(x, y) {\n        this._transform.translate(this.snapToPixel ? ~~(x + pixelSnapEpsilon) : x, this.snapToPixel ? ~~(y + pixelSnapEpsilon) : y);\n    }\n    rotate(angle) {\n        this._transform.rotate(angle);\n    }\n    scale(x, y) {\n        this._transform.scale(x, y);\n    }\n    transform(matrix) {\n        this._transform.current = matrix;\n    }\n    getTransform() {\n        return this._transform.current;\n    }\n    multiply(m) {\n        this._transform.current.multiply(m, this._transform.current);\n    }\n    addPostProcessor(postprocessor) {\n        this._postprocessors.push(postprocessor);\n        postprocessor.initialize(this.__gl);\n    }\n    removePostProcessor(postprocessor) {\n        const index = this._postprocessors.indexOf(postprocessor);\n        if (index !== -1) {\n            this._postprocessors.splice(index, 1);\n        }\n    }\n    clearPostProcessors() {\n        this._postprocessors.length = 0;\n    }\n    updatePostProcessors(delta) {\n        for (const postprocessor of this._postprocessors) {\n            const shader = postprocessor.getShader();\n            shader.use();\n            const uniforms = shader.getUniforms();\n            this._totalPostProcessorTime += delta;\n            if (uniforms.find(u => u.name === 'u_time_ms')) {\n                shader.setUniformFloat('u_time_ms', this._totalPostProcessorTime);\n            }\n            if (uniforms.find(u => u.name === 'u_elapsed_ms')) {\n                shader.setUniformFloat('u_elapsed_ms', delta);\n            }\n            if (uniforms.find(u => u.name === 'u_resolution')) {\n                shader.setUniformFloatVector('u_resolution', vec(this.width, this.height));\n            }\n            if (postprocessor.onUpdate) {\n                postprocessor.onUpdate(delta);\n            }\n        }\n    }\n    set material(material) {\n        this._state.current.material = material;\n    }\n    get material() {\n        return this._state.current.material;\n    }\n    /**\n     * Creates and initializes the material which compiles the internal shader\n     * @param options\n     * @returns Material\n     */\n    createMaterial(options) {\n        const material = new Material({ ...options, graphicsContext: this });\n        return material;\n    }\n    createShader(options) {\n        const gl = this.__gl;\n        const { vertexSource, fragmentSource } = options;\n        const shader = new Shader({\n            gl,\n            vertexSource,\n            fragmentSource\n        });\n        shader.compile();\n        return shader;\n    }\n    clear() {\n        const gl = this.__gl;\n        const currentTarget = this.multiSampleAntialiasing ? this._msaaTarget : this._renderTarget;\n        currentTarget.use();\n        gl.clearColor(this.backgroundColor.r / 255, this.backgroundColor.g / 255, this.backgroundColor.b / 255, this.backgroundColor.a);\n        // Clear the context with the newly set color. This is\n        // the function call that actually does the drawing.\n        gl.clear(gl.COLOR_BUFFER_BIT);\n    }\n    /**\n     * Flushes all batched rendering to the screen\n     */\n    flush() {\n        // render target captures all draws and redirects to the render target\n        let currentTarget = this.multiSampleAntialiasing ? this._msaaTarget : this._renderTarget;\n        currentTarget.use();\n        if (this.useDrawSorting) {\n            // sort draw calls\n            // Find the original order of the first instance of the draw call\n            const originalSort = new Map();\n            for (const [name] of this._renderers) {\n                const firstIndex = this._drawCalls.findIndex(dc => dc.renderer === name);\n                originalSort.set(name, firstIndex);\n            }\n            this._drawCalls.sort((a, b) => {\n                const zIndex = a.z - b.z;\n                const originalSortOrder = originalSort.get(a.renderer) - originalSort.get(b.renderer);\n                const priority = a.priority - b.priority;\n                if (zIndex === 0) { // sort by z first\n                    if (priority === 0) { // sort by priority\n                        return originalSortOrder; // use the original order to inform draw call packing to maximally preserve painter order\n                    }\n                    return priority;\n                }\n                return zIndex;\n            });\n            const oldTransform = this._transform.current;\n            const oldState = this._state.current;\n            if (this._drawCalls.length) {\n                let currentRendererName = this._drawCalls[0].renderer;\n                let currentRenderer = this._renderers.get(currentRendererName);\n                for (let i = 0; i < this._drawCalls.length; i++) {\n                    // hydrate the state for renderers\n                    this._transform.current = this._drawCalls[i].transform;\n                    this._state.current = this._drawCalls[i].state;\n                    if (this._drawCalls[i].renderer !== currentRendererName) {\n                        // switching graphics renderer means we must flush the previous\n                        currentRenderer.flush();\n                        currentRendererName = this._drawCalls[i].renderer;\n                        currentRenderer = this._renderers.get(currentRendererName);\n                    }\n                    // ! hack to grab screen texture before materials run because they might want it\n                    if (currentRenderer instanceof MaterialRenderer && this.material.isUsingScreenTexture) {\n                        currentTarget.copyToTexture(this.materialScreenTexture);\n                        currentTarget.use();\n                    }\n                    // If we are still using the same renderer we can add to the current batch\n                    currentRenderer.draw(...this._drawCalls[i].args);\n                }\n                if (currentRenderer.hasPendingDraws()) {\n                    currentRenderer.flush();\n                }\n            }\n            // reset state\n            this._transform.current = oldTransform;\n            this._state.current = oldState;\n            // reclaim draw calls\n            this._drawCallPool.done();\n            this._drawCalls.length = 0;\n        }\n        else {\n            // This is the final flush at the moment to draw any leftover pending draw\n            for (const renderer of this._renderers.values()) {\n                if (renderer.hasPendingDraws()) {\n                    renderer.flush();\n                }\n            }\n        }\n        currentTarget.disable();\n        // post process step\n        if (this._postprocessors.length > 0) {\n            const source = currentTarget.toRenderSource();\n            source.use();\n        }\n        // flip flop render targets for post processing\n        for (let i = 0; i < this._postprocessors.length; i++) {\n            currentTarget = this._postProcessTargets[i % 2];\n            this._postProcessTargets[i % 2].use();\n            this._screenRenderer.renderWithPostProcessor(this._postprocessors[i]);\n            this._postProcessTargets[i % 2].toRenderSource().use();\n        }\n        // Final blit to the screen\n        currentTarget.blitToScreen();\n    }\n}\n\n;// CONCATENATED MODULE: ./Graphics/Context/ExcaliburGraphicsContext2DCanvas.ts\n\n\n\n\nconst ExcaliburGraphicsContext2DCanvas_pixelSnapEpsilon = 0.0001;\nclass ExcaliburGraphicsContext2DCanvasDebug {\n    constructor(_ex) {\n        this._ex = _ex;\n        this._debugText = new DebugText();\n    }\n    /**\n     * Draw a debug rectangle to the context\n     * @param x\n     * @param y\n     * @param width\n     * @param height\n     */\n    drawRect(x, y, width, height) {\n        this._ex.__ctx.save();\n        this._ex.__ctx.strokeStyle = 'red';\n        this._ex.__ctx.strokeRect(this._ex.snapToPixel ? ~~(x + ExcaliburGraphicsContext2DCanvas_pixelSnapEpsilon) : x, this._ex.snapToPixel ? ~~(y + ExcaliburGraphicsContext2DCanvas_pixelSnapEpsilon) : y, this._ex.snapToPixel ? ~~(width + ExcaliburGraphicsContext2DCanvas_pixelSnapEpsilon) : width, this._ex.snapToPixel ? ~~(height + ExcaliburGraphicsContext2DCanvas_pixelSnapEpsilon) : height);\n        this._ex.__ctx.restore();\n    }\n    drawLine(start, end, lineOptions = { color: Color.Black }) {\n        this._ex.__ctx.save();\n        this._ex.__ctx.beginPath();\n        this._ex.__ctx.strokeStyle = lineOptions.color.toString();\n        this._ex.__ctx.moveTo(this._ex.snapToPixel ? ~~(start.x + ExcaliburGraphicsContext2DCanvas_pixelSnapEpsilon) : start.x, this._ex.snapToPixel ? ~~(start.y + ExcaliburGraphicsContext2DCanvas_pixelSnapEpsilon) : start.y);\n        this._ex.__ctx.lineTo(this._ex.snapToPixel ? ~~(end.x + ExcaliburGraphicsContext2DCanvas_pixelSnapEpsilon) : end.x, this._ex.snapToPixel ? ~~(end.y + ExcaliburGraphicsContext2DCanvas_pixelSnapEpsilon) : end.y);\n        this._ex.__ctx.lineWidth = 2;\n        this._ex.__ctx.stroke();\n        this._ex.__ctx.closePath();\n        this._ex.__ctx.restore();\n    }\n    drawPoint(point, pointOptions = { color: Color.Black, size: 5 }) {\n        this._ex.__ctx.save();\n        this._ex.__ctx.beginPath();\n        this._ex.__ctx.fillStyle = pointOptions.color.toString();\n        this._ex.__ctx.arc(this._ex.snapToPixel ? ~~(point.x + ExcaliburGraphicsContext2DCanvas_pixelSnapEpsilon) : point.x, this._ex.snapToPixel ? ~~(point.y + ExcaliburGraphicsContext2DCanvas_pixelSnapEpsilon) : point.y, pointOptions.size, 0, Math.PI * 2);\n        this._ex.__ctx.fill();\n        this._ex.__ctx.closePath();\n        this._ex.__ctx.restore();\n    }\n    drawText(text, pos) {\n        this._debugText.write(this._ex, text, pos);\n    }\n}\nclass ExcaliburGraphicsContext2DCanvas {\n    get width() {\n        return this.__ctx.canvas.width;\n    }\n    get height() {\n        return this.__ctx.canvas.height;\n    }\n    get opacity() {\n        return this._state.current.opacity;\n    }\n    set opacity(value) {\n        this._state.current.opacity = value;\n    }\n    get tint() {\n        return this._state.current.tint;\n    }\n    set tint(color) {\n        this._state.current.tint = color;\n    }\n    get smoothing() {\n        return this.__ctx.imageSmoothingEnabled;\n    }\n    set smoothing(value) {\n        this.__ctx.imageSmoothingEnabled = value;\n    }\n    constructor(options) {\n        /**\n         * Unused in Canvas implementation\n         */\n        this.useDrawSorting = false;\n        /**\n         * Unused in Canvas implementation\n         */\n        this.z = 0;\n        this.backgroundColor = Color.ExcaliburBlue;\n        this._state = new StateStack();\n        this.snapToPixel = false;\n        this.debug = new ExcaliburGraphicsContext2DCanvasDebug(this);\n        const { canvasElement, context, enableTransparency, snapToPixel, antialiasing: smoothing, backgroundColor } = options;\n        this.__ctx = context !== null && context !== void 0 ? context : canvasElement.getContext('2d', {\n            alpha: enableTransparency !== null && enableTransparency !== void 0 ? enableTransparency : true\n        });\n        if (!this.__ctx) {\n            throw new Error('Cannot build new ExcaliburGraphicsContext2D for some reason!');\n        }\n        this.backgroundColor = backgroundColor !== null && backgroundColor !== void 0 ? backgroundColor : this.backgroundColor;\n        this.snapToPixel = snapToPixel !== null && snapToPixel !== void 0 ? snapToPixel : this.snapToPixel;\n        this.smoothing = smoothing !== null && smoothing !== void 0 ? smoothing : this.smoothing;\n    }\n    resetTransform() {\n        this.__ctx.resetTransform();\n    }\n    updateViewport(_resolution) {\n        // pass\n    }\n    drawImage(image, sx, sy, swidth, sheight, dx, dy, dwidth, dheight) {\n        if (swidth === 0 || sheight === 0) {\n            return; // zero dimension dest exit early\n        }\n        else if (dwidth === 0 || dheight === 0) {\n            return; // zero dimension dest exit early\n        }\n        else if (image.width === 0 || image.height === 0) {\n            return; // zero dimension source exit early\n        }\n        this.__ctx.globalAlpha = this.opacity;\n        const args = [image, sx, sy, swidth, sheight, dx, dy, dwidth, dheight]\n            .filter((a) => a !== undefined)\n            .map((a) => (typeof a === 'number' && this.snapToPixel ? ~~a : a));\n        this.__ctx.drawImage.apply(this.__ctx, args);\n        GraphicsDiagnostics.DrawCallCount++;\n        GraphicsDiagnostics.DrawnImagesCount = 1;\n    }\n    drawLine(start, end, color, thickness = 1) {\n        this.__ctx.save();\n        this.__ctx.beginPath();\n        this.__ctx.strokeStyle = color.toString();\n        this.__ctx.moveTo(this.snapToPixel ? ~~(start.x + ExcaliburGraphicsContext2DCanvas_pixelSnapEpsilon) : start.x, this.snapToPixel ? ~~(start.y + ExcaliburGraphicsContext2DCanvas_pixelSnapEpsilon) : start.y);\n        this.__ctx.lineTo(this.snapToPixel ? ~~(end.x + ExcaliburGraphicsContext2DCanvas_pixelSnapEpsilon) : end.x, this.snapToPixel ? ~~(end.y + ExcaliburGraphicsContext2DCanvas_pixelSnapEpsilon) : end.y);\n        this.__ctx.lineWidth = thickness;\n        this.__ctx.stroke();\n        this.__ctx.closePath();\n        this.__ctx.restore();\n    }\n    drawRectangle(pos, width, height, color) {\n        this.__ctx.save();\n        this.__ctx.fillStyle = color.toString();\n        this.__ctx.fillRect(this.snapToPixel ? ~~(pos.x + ExcaliburGraphicsContext2DCanvas_pixelSnapEpsilon) : pos.x, this.snapToPixel ? ~~(pos.y + ExcaliburGraphicsContext2DCanvas_pixelSnapEpsilon) : pos.y, this.snapToPixel ? ~~(width + ExcaliburGraphicsContext2DCanvas_pixelSnapEpsilon) : width, this.snapToPixel ? ~~(height + ExcaliburGraphicsContext2DCanvas_pixelSnapEpsilon) : height);\n        this.__ctx.restore();\n    }\n    drawCircle(pos, radius, color, stroke, thickness) {\n        this.__ctx.save();\n        this.__ctx.beginPath();\n        if (stroke) {\n            this.__ctx.strokeStyle = stroke.toString();\n        }\n        if (thickness) {\n            this.__ctx.lineWidth = thickness;\n        }\n        this.__ctx.fillStyle = color.toString();\n        this.__ctx.arc(this.snapToPixel ? ~~(pos.x + ExcaliburGraphicsContext2DCanvas_pixelSnapEpsilon) : pos.x, this.snapToPixel ? ~~(pos.y + ExcaliburGraphicsContext2DCanvas_pixelSnapEpsilon) : pos.y, radius, 0, Math.PI * 2);\n        this.__ctx.fill();\n        if (stroke) {\n            this.__ctx.stroke();\n        }\n        this.__ctx.closePath();\n        this.__ctx.restore();\n    }\n    /**\n     * Save the current state of the canvas to the stack (transforms and opacity)\n     */\n    save() {\n        this.__ctx.save();\n        this._state.save();\n    }\n    /**\n     * Restore the state of the canvas from the stack\n     */\n    restore() {\n        this.__ctx.restore();\n        this._state.restore();\n    }\n    /**\n     * Translate the origin of the context by an x and y\n     * @param x\n     * @param y\n     */\n    translate(x, y) {\n        this.__ctx.translate(this.snapToPixel ? ~~(x + ExcaliburGraphicsContext2DCanvas_pixelSnapEpsilon) : x, this.snapToPixel ? ~~(y + ExcaliburGraphicsContext2DCanvas_pixelSnapEpsilon) : y);\n    }\n    /**\n     * Rotate the context about the current origin\n     */\n    rotate(angle) {\n        this.__ctx.rotate(angle);\n    }\n    /**\n     * Scale the context by an x and y factor\n     * @param x\n     * @param y\n     */\n    scale(x, y) {\n        this.__ctx.scale(x, y);\n    }\n    getTransform() {\n        throw new Error('Not implemented');\n    }\n    multiply(_m) {\n        this.__ctx.setTransform(this.__ctx.getTransform().multiply(_m.toDOMMatrix()));\n    }\n    addPostProcessor(_postprocessor) {\n        // pass\n    }\n    removePostProcessor(_postprocessor) {\n        // pass\n    }\n    clearPostProcessors() {\n        // pass\n    }\n    updatePostProcessors(delta) {\n        // pass\n    }\n    beginDrawLifecycle() {\n        // pass\n    }\n    endDrawLifecycle() {\n        // pass\n    }\n    set material(material) {\n        this._state.current.material = material;\n    }\n    get material() {\n        return this._state.current.material;\n    }\n    createMaterial(options) {\n        // pass\n        return null;\n    }\n    clear() {\n        // Clear frame\n        this.__ctx.clearRect(0, 0, this.width, this.height);\n        this.__ctx.fillStyle = this.backgroundColor.toString();\n        this.__ctx.fillRect(0, 0, this.width, this.height);\n        GraphicsDiagnostics.clear();\n    }\n    /**\n     * Flushes the batched draw calls to the screen\n     */\n    flush() {\n        // pass\n    }\n    dispose() {\n        this.__ctx = null;\n    }\n}\n\n;// CONCATENATED MODULE: ./Screen.ts\n\n\n\n\n\n\n\n/**\n * Enum representing the different display modes available to Excalibur.\n */\nvar DisplayMode;\n(function (DisplayMode) {\n    /**\n     * Default, use a specified resolution for the game. Like 800x600 pixels for example.\n     */\n    DisplayMode[\"Fixed\"] = \"Fixed\";\n    /**\n     * Fit the aspect ratio given by the game resolution within the container at all times will fill any gaps with canvas.\n     * The displayed area outside the aspect ratio is not guaranteed to be on the screen, only the [[Screen.contentArea]]\n     * is guaranteed to be on screen.\n     */\n    DisplayMode[\"FitContainerAndFill\"] = \"FitContainerAndFill\";\n    /**\n     * Fit the aspect ratio given by the game resolution the screen at all times will fill the screen.\n     * This displayed area outside the aspect ratio is not guaranteed to be on the screen, only the [[Screen.contentArea]]\n     * is guaranteed to be on screen.\n     */\n    DisplayMode[\"FitScreenAndFill\"] = \"FitScreenAndFill\";\n    /**\n     * Fit the viewport to the parent element maintaining aspect ratio given by the game resolution, but zooms in to avoid the black bars\n     * (letterbox) that would otherwise be present in [[FitContainer]].\n     *\n     * **warning** This will clip some drawable area from the user because of the zoom,\n     * use [[Screen.contentArea]] to know the safe to draw area.\n     */\n    DisplayMode[\"FitContainerAndZoom\"] = \"FitContainerAndZoom\";\n    /**\n     * Fit the viewport to the device screen maintaining aspect ratio given by the game resolution, but zooms in to avoid the black bars\n     * (letterbox) that would otherwise be present in [[FitScreen]].\n     *\n     * **warning** This will clip some drawable area from the user because of the zoom,\n     * use [[Screen.contentArea]] to know the safe to draw area.\n     */\n    DisplayMode[\"FitScreenAndZoom\"] = \"FitScreenAndZoom\";\n    /**\n     * Fit to screen using as much space as possible while maintaining aspect ratio and resolution.\n     * This is not the same as [[Screen.goFullScreen]] but behaves in a similar way maintaining aspect ratio.\n     *\n     * You may want to center your game here is an example\n     * ```html\n     * <!-- html -->\n     * <body>\n     * <main>\n     *   <canvas id=\"game\"></canvas>\n     * </main>\n     * </body>\n     * ```\n     *\n     * ```css\n     * // css\n     * main {\n     *   display: flex;\n     *   align-items: center;\n     *   justify-content: center;\n     *   height: 100%;\n     *   width: 100%;\n     * }\n     * ```\n     */\n    DisplayMode[\"FitScreen\"] = \"FitScreen\";\n    /**\n     * Fill the entire screen's css width/height for the game resolution dynamically. This means the resolution of the game will\n     * change dynamically as the window is resized. This is not the same as [[Screen.goFullScreen]]\n     */\n    DisplayMode[\"FillScreen\"] = \"FillScreen\";\n    /**\n     * Fit to parent element width/height using as much space as possible while maintaining aspect ratio and resolution.\n     */\n    DisplayMode[\"FitContainer\"] = \"FitContainer\";\n    /**\n     * Use the parent DOM container's css width/height for the game resolution dynamically\n     */\n    DisplayMode[\"FillContainer\"] = \"FillContainer\";\n})(DisplayMode || (DisplayMode = {}));\n/**\n * Convenience class for quick resolutions\n * Mostly sourced from https://emulation.gametechwiki.com/index.php/Resolution\n */\nclass Resolution {\n    /* istanbul ignore next */\n    static get SVGA() {\n        return { width: 800, height: 600 };\n    }\n    /* istanbul ignore next */\n    static get Standard() {\n        return { width: 1920, height: 1080 };\n    }\n    /* istanbul ignore next */\n    static get Atari2600() {\n        return { width: 160, height: 192 };\n    }\n    /* istanbul ignore next */\n    static get GameBoy() {\n        return { width: 160, height: 144 };\n    }\n    /* istanbul ignore next */\n    static get GameBoyAdvance() {\n        return { width: 240, height: 160 };\n    }\n    /* istanbul ignore next */\n    static get NintendoDS() {\n        return { width: 256, height: 192 };\n    }\n    /* istanbul ignore next */\n    static get NES() {\n        return { width: 256, height: 224 };\n    }\n    /* istanbul ignore next */\n    static get SNES() {\n        return { width: 256, height: 244 };\n    }\n}\nconst ScreenEvents = {\n    ScreenResize: 'resize',\n    PixelRatioChange: 'pixelratio',\n    FullScreenChange: 'fullscreen'\n};\n/**\n * The Screen handles all aspects of interacting with the screen for Excalibur.\n */\nclass Screen {\n    constructor(options) {\n        var _a, _b, _c, _d;\n        /**\n         * Listen to screen events [[ScreenEvents]]\n         */\n        this.events = new EventEmitter();\n        this._antialiasing = true;\n        this._canvasImageRendering = 'auto';\n        this._resolutionStack = [];\n        this._viewportStack = [];\n        this._pixelRatioOverride = null;\n        this._isFullScreen = false;\n        this._isDisposed = false;\n        this._logger = Logger.getInstance();\n        this._fullscreenChangeHandler = () => {\n            if (this._isDisposed) {\n                return;\n            }\n            this._isFullScreen = !this._isFullScreen;\n            this._logger.debug('Fullscreen Change', this._isFullScreen);\n            this.events.emit('fullscreen', {\n                fullscreen: this.isFullScreen\n            });\n        };\n        this._pixelRatioChangeHandler = () => {\n            if (this._isDisposed) {\n                return;\n            }\n            this._logger.debug('Pixel Ratio Change', window.devicePixelRatio);\n            this._listenForPixelRatio();\n            this._devicePixelRatio = this._calculateDevicePixelRatio();\n            this.applyResolutionAndViewport();\n            this.events.emit('pixelratio', {\n                pixelRatio: this.pixelRatio\n            });\n        };\n        this._resizeHandler = () => {\n            if (this._isDisposed) {\n                return;\n            }\n            const parent = this.parent;\n            this._logger.debug('View port resized');\n            this._setResolutionAndViewportByDisplayMode(parent);\n            this.applyResolutionAndViewport();\n            // Emit resize event\n            this.events.emit('resize', {\n                resolution: this.resolution,\n                viewport: this.viewport\n            });\n        };\n        // Asking the window.devicePixelRatio is expensive we do it once\n        this._devicePixelRatio = this._calculateDevicePixelRatio();\n        this._contentArea = new BoundingBox();\n        this.viewport = options.viewport;\n        this.resolution = (_a = options.resolution) !== null && _a !== void 0 ? _a : { ...this.viewport };\n        this._contentResolution = this.resolution;\n        this._displayMode = (_b = options.displayMode) !== null && _b !== void 0 ? _b : DisplayMode.Fixed;\n        this._canvas = options.canvas;\n        this.graphicsContext = options.context;\n        this._antialiasing = (_c = options.antialiasing) !== null && _c !== void 0 ? _c : this._antialiasing;\n        this._canvasImageRendering = (_d = options.canvasImageRendering) !== null && _d !== void 0 ? _d : this._canvasImageRendering;\n        this._browser = options.browser;\n        this._pixelRatioOverride = options.pixelRatio;\n        this._applyDisplayMode();\n        this._listenForPixelRatio();\n        this._canvas.addEventListener('fullscreenchange', this._fullscreenChangeHandler);\n        this.applyResolutionAndViewport();\n    }\n    _listenForPixelRatio() {\n        if (this._mediaQueryList && !this._mediaQueryList.addEventListener) {\n            // Safari <=13.1 workaround, remove any existing handlers\n            this._mediaQueryList.removeListener(this._pixelRatioChangeHandler);\n        }\n        this._mediaQueryList = this._browser.window.nativeComponent.matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`);\n        // Safari <=13.1 workaround\n        if (this._mediaQueryList.addEventListener) {\n            this._mediaQueryList.addEventListener('change', this._pixelRatioChangeHandler, { once: true });\n        }\n        else {\n            this._mediaQueryList.addListener(this._pixelRatioChangeHandler);\n        }\n    }\n    dispose() {\n        if (!this._isDisposed) {\n            // Clean up handlers\n            this._isDisposed = true;\n            this.events.clear();\n            this._browser.window.off('resize', this._resizeHandler);\n            this._browser.window.clear();\n            if (this._resizeObserver) {\n                this._resizeObserver.disconnect();\n            }\n            this.parent.removeEventListener('resize', this._resizeHandler);\n            // Safari <=13.1 workaround\n            if (this._mediaQueryList.removeEventListener) {\n                this._mediaQueryList.removeEventListener('change', this._pixelRatioChangeHandler);\n            }\n            else {\n                this._mediaQueryList.removeListener(this._pixelRatioChangeHandler);\n            }\n            this._canvas.removeEventListener('fullscreenchange', this._fullscreenChangeHandler);\n            this._canvas = null;\n        }\n    }\n    _calculateDevicePixelRatio() {\n        if (window.devicePixelRatio < 1) {\n            return 1;\n        }\n        const devicePixelRatio = window.devicePixelRatio || 1;\n        return devicePixelRatio;\n    }\n    /**\n     * Returns the computed pixel ratio, first using any override, then the device pixel ratio\n     */\n    get pixelRatio() {\n        if (this._pixelRatioOverride) {\n            return this._pixelRatioOverride;\n        }\n        return this._devicePixelRatio;\n    }\n    /**\n     * Get or set the pixel ratio override\n     *\n     * You will need to call applyResolutionAndViewport() affect change on the screen\n     */\n    get pixelRatioOverride() {\n        return this._pixelRatioOverride;\n    }\n    set pixelRatioOverride(value) {\n        this._pixelRatioOverride = value;\n    }\n    get isHiDpi() {\n        return this.pixelRatio !== 1;\n    }\n    get displayMode() {\n        return this._displayMode;\n    }\n    get canvas() {\n        return this._canvas;\n    }\n    get parent() {\n        switch (this.displayMode) {\n            case DisplayMode.FillContainer:\n            case DisplayMode.FitContainer:\n            case DisplayMode.FitContainerAndFill:\n            case DisplayMode.FitContainerAndZoom:\n                return this.canvas.parentElement || document.body;\n            default:\n                return window;\n        }\n    }\n    get resolution() {\n        return this._resolution;\n    }\n    set resolution(resolution) {\n        this._resolution = resolution;\n    }\n    get viewport() {\n        if (this._viewport) {\n            return this._viewport;\n        }\n        return this._resolution;\n    }\n    set viewport(viewport) {\n        this._viewport = viewport;\n    }\n    get aspectRatio() {\n        return this._resolution.width / this._resolution.height;\n    }\n    get scaledWidth() {\n        return this._resolution.width * this.pixelRatio;\n    }\n    get scaledHeight() {\n        return this._resolution.height * this.pixelRatio;\n    }\n    setCurrentCamera(camera) {\n        this._camera = camera;\n    }\n    pushResolutionAndViewport() {\n        this._resolutionStack.push(this.resolution);\n        this._viewportStack.push(this.viewport);\n        this.resolution = { ...this.resolution };\n        this.viewport = { ...this.viewport };\n    }\n    peekViewport() {\n        return this._viewportStack[this._viewportStack.length - 1];\n    }\n    peekResolution() {\n        return this._resolutionStack[this._resolutionStack.length - 1];\n    }\n    popResolutionAndViewport() {\n        if (this._resolutionStack.length && this._viewportStack.length) {\n            this.resolution = this._resolutionStack.pop();\n            this.viewport = this._viewportStack.pop();\n        }\n    }\n    applyResolutionAndViewport() {\n        this._canvas.width = this.scaledWidth;\n        this._canvas.height = this.scaledHeight;\n        if (this.graphicsContext instanceof ExcaliburGraphicsContextWebGL) {\n            const supported = this.graphicsContext.checkIfResolutionSupported({\n                width: this.scaledWidth,\n                height: this.scaledHeight\n            });\n            if (!supported) {\n                this._logger.warnOnce(`The currently configured resolution (${this.resolution.width}x${this.resolution.height}) and pixel ratio (${this.pixelRatio})` +\n                    ' are too large for the platform WebGL implementation, this may work but cause WebGL rendering to behave oddly.' +\n                    ' Try reducing the resolution or disabling Hi DPI scaling to avoid this' +\n                    ' (read more here https://excaliburjs.com/docs/screens#understanding-viewport--resolution).');\n            }\n        }\n        if (this._canvasImageRendering === 'auto') {\n            this._canvas.style.imageRendering = 'auto';\n        }\n        else {\n            this._canvas.style.imageRendering = 'pixelated';\n            // Fall back to 'crisp-edges' if 'pixelated' is not supported\n            // Currently for firefox https://developer.mozilla.org/en-US/docs/Web/CSS/image-rendering\n            if (this._canvas.style.imageRendering === '') {\n                this._canvas.style.imageRendering = 'crisp-edges';\n            }\n        }\n        this._canvas.style.width = this.viewport.width + 'px';\n        this._canvas.style.height = this.viewport.height + 'px';\n        // After messing with the canvas width/height the graphics context is invalidated and needs to have some properties reset\n        this.graphicsContext.updateViewport(this.resolution);\n        this.graphicsContext.resetTransform();\n        this.graphicsContext.smoothing = this._antialiasing;\n        if (this.graphicsContext instanceof ExcaliburGraphicsContext2DCanvas) {\n            this.graphicsContext.scale(this.pixelRatio, this.pixelRatio);\n        }\n    }\n    get antialiasing() {\n        return this._antialiasing;\n    }\n    set antialiasing(isSmooth) {\n        this._antialiasing = isSmooth;\n        this.graphicsContext.smoothing = this._antialiasing;\n    }\n    /**\n     * Returns true if excalibur is fullscreen using the browser fullscreen api\n     */\n    get isFullScreen() {\n        return this._isFullScreen;\n    }\n    /**\n     * Requests to go fullscreen using the browser fullscreen api, requires user interaction to be successful.\n     * For example, wire this to a user click handler.\n     *\n     * Optionally specify a target element id to go fullscreen, by default the game canvas is used\n     * @param elementId\n     */\n    goFullScreen(elementId) {\n        if (elementId) {\n            const maybeElement = document.getElementById(elementId);\n            if (maybeElement) {\n                if (!maybeElement.getAttribute('ex-fullscreen-listener')) {\n                    maybeElement.setAttribute('ex-fullscreen-listener', 'true');\n                    maybeElement.addEventListener('fullscreenchange', this._fullscreenChangeHandler);\n                }\n                const fullscreenPromise = maybeElement.requestFullscreen();\n                return fullscreenPromise;\n            }\n        }\n        return this._canvas.requestFullscreen();\n    }\n    /**\n     * Requests to exit fullscreen using the browser fullscreen api\n     */\n    exitFullScreen() {\n        return document.exitFullscreen();\n    }\n    /**\n     * Takes a coordinate in normal html page space, for example from a pointer move event, and translates it to\n     * Excalibur screen space.\n     *\n     * Excalibur screen space starts at the top left (0, 0) corner of the viewport, and extends to the\n     * bottom right corner (resolutionX, resolutionY). When using *AndFill suffixed display modes screen space\n     * (0, 0) is the top left of the safe content area bounding box not the viewport.\n     * @param point\n     */\n    pageToScreenCoordinates(point) {\n        let newX = point.x;\n        let newY = point.y;\n        if (!this._isFullScreen) {\n            newX -= getPosition(this._canvas).x;\n            newY -= getPosition(this._canvas).y;\n        }\n        // if fullscreen api on it centers with black bars\n        // we need to adjust the screen to world coordinates in this case\n        if (this._isFullScreen) {\n            if (window.innerWidth / this.aspectRatio < window.innerHeight) {\n                const screenHeight = window.innerWidth / this.aspectRatio;\n                const screenMarginY = (window.innerHeight - screenHeight) / 2;\n                newY = ((newY - screenMarginY) / screenHeight) * this.viewport.height;\n                newX = (newX / window.innerWidth) * this.viewport.width;\n            }\n            else {\n                const screenWidth = window.innerHeight * this.aspectRatio;\n                const screenMarginX = (window.innerWidth - screenWidth) / 2;\n                newX = ((newX - screenMarginX) / screenWidth) * this.viewport.width;\n                newY = (newY / window.innerHeight) * this.viewport.height;\n            }\n        }\n        newX = (newX / this.viewport.width) * this.resolution.width;\n        newY = (newY / this.viewport.height) * this.resolution.height;\n        // offset by content area\n        newX = newX - this.contentArea.left;\n        newY = newY - this.contentArea.top;\n        return new Vector(newX, newY);\n    }\n    /**\n     * Takes a coordinate in Excalibur screen space, and translates it to normal html page space. For example,\n     * this is where html elements might live if you want to position them relative to Excalibur.\n     *\n     * Excalibur screen space starts at the top left (0, 0) corner of the viewport, and extends to the\n     * bottom right corner (resolutionX, resolutionY)\n     * @param point\n     */\n    screenToPageCoordinates(point) {\n        let newX = point.x;\n        let newY = point.y;\n        // no need to offset by content area, drawing is already offset by this\n        newX = (newX / this.resolution.width) * this.viewport.width;\n        newY = (newY / this.resolution.height) * this.viewport.height;\n        if (this._isFullScreen) {\n            if (window.innerWidth / this.aspectRatio < window.innerHeight) {\n                const screenHeight = window.innerWidth / this.aspectRatio;\n                const screenMarginY = (window.innerHeight - screenHeight) / 2;\n                newY = (newY / this.viewport.height) * screenHeight + screenMarginY;\n                newX = (newX / this.viewport.width) * window.innerWidth;\n            }\n            else {\n                const screenWidth = window.innerHeight * this.aspectRatio;\n                const screenMarginX = (window.innerWidth - screenWidth) / 2;\n                newX = (newX / this.viewport.width) * screenWidth + screenMarginX;\n                newY = (newY / this.viewport.height) * window.innerHeight;\n            }\n        }\n        if (!this._isFullScreen) {\n            newX += getPosition(this._canvas).x;\n            newY += getPosition(this._canvas).y;\n        }\n        return new Vector(newX, newY);\n    }\n    /**\n     * Takes a coordinate in Excalibur screen space, and translates it to Excalibur world space.\n     *\n     * World space is where [[Entity|entities]] in Excalibur live by default [[CoordPlane.World]]\n     * and extends infinitely out relative from the [[Camera]].\n     * @param point  Screen coordinate to convert\n     */\n    screenToWorldCoordinates(point) {\n        // offset by content area\n        point = point.add(vec(this.contentArea.left, this.contentArea.top));\n        // the only difference between screen & world is the camera transform\n        if (this._camera) {\n            return this._camera.inverse.multiply(point);\n        }\n        return point.sub(vec(this.resolution.width / 2, this.resolution.height / 2));\n    }\n    /**\n     * Takes a coordinate in Excalibur world space, and translates it to Excalibur screen space.\n     *\n     * Screen space is where [[ScreenElement|screen elements]] and [[Entity|entities]] with [[CoordPlane.Screen]] live.\n     * @param point  World coordinate to convert\n     */\n    worldToScreenCoordinates(point) {\n        if (this._camera) {\n            return this._camera.transform.multiply(point);\n        }\n        return point.add(vec(this.resolution.width / 2, this.resolution.height / 2));\n    }\n    pageToWorldCoordinates(point) {\n        const screen = this.pageToScreenCoordinates(point);\n        return this.screenToWorldCoordinates(screen);\n    }\n    worldToPageCoordinates(point) {\n        const screen = this.worldToScreenCoordinates(point);\n        return this.screenToPageCoordinates(screen);\n    }\n    /**\n     * Returns a BoundingBox of the top left corner of the screen\n     * and the bottom right corner of the screen.\n     *\n     * World bounds are in world coordinates, useful for culling objects offscreen that are in world space\n     */\n    getWorldBounds() {\n        const bounds = BoundingBox.fromDimension(this.resolution.width, this.resolution.height, Vector.Half)\n            .scale(vec(1 / this._camera.zoom, 1 / this._camera.zoom))\n            .rotate(this._camera.rotation)\n            .translate(this._camera.pos);\n        return bounds;\n    }\n    /**\n     * Returns a BoundingBox of the top left corner of the screen and the bottom right corner of the screen.\n     *\n     * Screen bounds are in screen coordinates, useful for culling objects offscreen that are in screen space\n     */\n    getScreenBounds() {\n        const bounds = BoundingBox.fromDimension(this.resolution.width, this.resolution.height, Vector.Zero, Vector.Zero);\n        return bounds;\n    }\n    /**\n     * The width of the game canvas in pixels (physical width component of the\n     * resolution of the canvas element)\n     */\n    get canvasWidth() {\n        return this.canvas.width;\n    }\n    /**\n     * Returns half width of the game canvas in pixels (half physical width component)\n     */\n    get halfCanvasWidth() {\n        return this.canvas.width / 2;\n    }\n    /**\n     * The height of the game canvas in pixels, (physical height component of\n     * the resolution of the canvas element)\n     */\n    get canvasHeight() {\n        return this.canvas.height;\n    }\n    /**\n     * Returns half height of the game canvas in pixels (half physical height component)\n     */\n    get halfCanvasHeight() {\n        return this.canvas.height / 2;\n    }\n    /**\n     * Returns the width of the engine's visible drawing surface in pixels including zoom and device pixel ratio.\n     */\n    get drawWidth() {\n        if (this._camera) {\n            return this.resolution.width / this._camera.zoom;\n        }\n        return this.resolution.width;\n    }\n    /**\n     * Returns half the width of the engine's visible drawing surface in pixels including zoom and device pixel ratio.\n     */\n    get halfDrawWidth() {\n        return this.drawWidth / 2;\n    }\n    /**\n     * Returns the height of the engine's visible drawing surface in pixels including zoom and device pixel ratio.\n     */\n    get drawHeight() {\n        if (this._camera) {\n            return this.resolution.height / this._camera.zoom;\n        }\n        return this.resolution.height;\n    }\n    /**\n     * Returns half the height of the engine's visible drawing surface in pixels including zoom and device pixel ratio.\n     */\n    get halfDrawHeight() {\n        return this.drawHeight / 2;\n    }\n    /**\n     * Returns screen center coordinates including zoom and device pixel ratio.\n     */\n    get center() {\n        return vec(this.halfDrawWidth, this.halfDrawHeight);\n    }\n    /**\n     * Returns the content area in screen space where it is safe to place content\n     */\n    get contentArea() {\n        return this._contentArea;\n    }\n    _computeFit() {\n        document.body.style.margin = '0px';\n        document.body.style.overflow = 'hidden';\n        const aspect = this.aspectRatio;\n        let adjustedWidth = 0;\n        let adjustedHeight = 0;\n        if (window.innerWidth / aspect < window.innerHeight) {\n            adjustedWidth = window.innerWidth;\n            adjustedHeight = window.innerWidth / aspect;\n        }\n        else {\n            adjustedWidth = window.innerHeight * aspect;\n            adjustedHeight = window.innerHeight;\n        }\n        this.viewport = {\n            width: adjustedWidth,\n            height: adjustedHeight\n        };\n        this._contentArea = BoundingBox.fromDimension(this.resolution.width, this.resolution.height, Vector.Zero);\n    }\n    _computeFitScreenAndFill() {\n        document.body.style.margin = '0px';\n        document.body.style.overflow = 'hidden';\n        const vw = window.innerWidth;\n        const vh = window.innerHeight;\n        this._computeFitAndFill(vw, vh);\n    }\n    _computeFitContainerAndFill() {\n        document.body.style.margin = '0px';\n        document.body.style.overflow = 'hidden';\n        const parent = this.canvas.parentElement;\n        const vw = parent.clientWidth;\n        const vh = parent.clientHeight;\n        this._computeFitAndFill(vw, vh);\n    }\n    _computeFitAndFill(vw, vh) {\n        this.viewport = {\n            width: vw,\n            height: vh\n        };\n        // if the current screen aspectRatio is less than the original aspectRatio\n        if (vw / vh <= this._contentResolution.width / this._contentResolution.height) {\n            // compute new resolution to match the original aspect ratio\n            this.resolution = {\n                width: vw * this._contentResolution.width / vw,\n                height: vw * this._contentResolution.width / vw * vh / vw\n            };\n            const clip = (this.resolution.height - this._contentResolution.height) / 2;\n            this._contentArea = new BoundingBox({\n                top: clip,\n                left: 0,\n                right: this._contentResolution.width,\n                bottom: this.resolution.height - clip\n            });\n        }\n        else {\n            this.resolution = {\n                width: vh * this._contentResolution.height / vh * vw / vh,\n                height: vh * this._contentResolution.height / vh\n            };\n            const clip = (this.resolution.width - this._contentResolution.width) / 2;\n            this._contentArea = new BoundingBox({\n                top: 0,\n                left: clip,\n                right: this.resolution.width - clip,\n                bottom: this._contentResolution.height\n            });\n        }\n    }\n    _computeFitScreenAndZoom() {\n        document.body.style.margin = '0px';\n        document.body.style.overflow = 'hidden';\n        this.canvas.style.position = 'absolute';\n        const vw = window.innerWidth;\n        const vh = window.innerHeight;\n        this._computeFitAndZoom(vw, vh);\n    }\n    _computeFitContainerAndZoom() {\n        document.body.style.margin = '0px';\n        document.body.style.overflow = 'hidden';\n        this.canvas.style.position = 'absolute';\n        const parent = this.canvas.parentElement;\n        parent.style.position = 'relative';\n        parent.style.overflow = 'hidden';\n        const vw = parent.clientWidth;\n        const vh = parent.clientHeight;\n        this._computeFitAndZoom(vw, vh);\n    }\n    _computeFitAndZoom(vw, vh) {\n        const aspect = this.aspectRatio;\n        let adjustedWidth = 0;\n        let adjustedHeight = 0;\n        if (vw / aspect < vh) {\n            adjustedWidth = vw;\n            adjustedHeight = vw / aspect;\n        }\n        else {\n            adjustedWidth = vh * aspect;\n            adjustedHeight = vh;\n        }\n        const scaleX = vw / adjustedWidth;\n        const scaleY = vh / adjustedHeight;\n        const maxScaleFactor = Math.max(scaleX, scaleY);\n        const zoomedWidth = adjustedWidth * maxScaleFactor;\n        const zoomedHeight = adjustedHeight * maxScaleFactor;\n        // Center zoomed dimension if bigger than the screen\n        if (zoomedWidth > vw) {\n            this.canvas.style.left = -(zoomedWidth - vw) / 2 + 'px';\n        }\n        else {\n            this.canvas.style.left = '';\n        }\n        if (zoomedHeight > vh) {\n            this.canvas.style.top = -(zoomedHeight - vh) / 2 + 'px';\n        }\n        else {\n            this.canvas.style.top = '';\n        }\n        this.viewport = {\n            width: zoomedWidth,\n            height: zoomedHeight\n        };\n        const bounds = BoundingBox.fromDimension(this.viewport.width, this.viewport.height, Vector.Zero);\n        // return safe area\n        if (this.viewport.width > vw) {\n            const clip = (this.viewport.width - vw) / this.viewport.width * this.resolution.width;\n            bounds.top = 0;\n            bounds.left = clip / 2;\n            bounds.right = this.resolution.width - clip / 2;\n            bounds.bottom = this.resolution.height;\n        }\n        if (this.viewport.height > vh) {\n            const clip = (this.viewport.height - vh) / this.viewport.height * this.resolution.height;\n            bounds.top = clip / 2;\n            bounds.left = 0;\n            bounds.bottom = this.resolution.height - clip / 2;\n            bounds.right = this.resolution.width;\n        }\n        this._contentArea = bounds;\n    }\n    _computeFitContainer() {\n        const aspect = this.aspectRatio;\n        let adjustedWidth = 0;\n        let adjustedHeight = 0;\n        const parent = this.canvas.parentElement;\n        if (parent.clientWidth / aspect < parent.clientHeight) {\n            adjustedWidth = parent.clientWidth;\n            adjustedHeight = parent.clientWidth / aspect;\n        }\n        else {\n            adjustedWidth = parent.clientHeight * aspect;\n            adjustedHeight = parent.clientHeight;\n        }\n        this.viewport = {\n            width: adjustedWidth,\n            height: adjustedHeight\n        };\n        this._contentArea = BoundingBox.fromDimension(this.resolution.width, this.resolution.height, Vector.Zero);\n    }\n    _applyDisplayMode() {\n        this._setResolutionAndViewportByDisplayMode(this.parent);\n        // watch resizing\n        if (this.parent instanceof Window) {\n            this._browser.window.on('resize', this._resizeHandler);\n        }\n        else {\n            this._resizeObserver = new ResizeObserver(() => {\n                this._resizeHandler();\n            });\n            this._resizeObserver.observe(this.parent);\n        }\n        this.parent.addEventListener('resize', this._resizeHandler);\n    }\n    /**\n     * Sets the resolution and viewport based on the selected display mode.\n     */\n    _setResolutionAndViewportByDisplayMode(parent) {\n        if (this.displayMode === DisplayMode.FillContainer) {\n            this.resolution = {\n                width: parent.clientWidth,\n                height: parent.clientHeight\n            };\n            this.viewport = this.resolution;\n        }\n        if (this.displayMode === DisplayMode.FillScreen) {\n            document.body.style.margin = '0px';\n            document.body.style.overflow = 'hidden';\n            this.resolution = {\n                width: parent.innerWidth,\n                height: parent.innerHeight\n            };\n            this.viewport = this.resolution;\n        }\n        this._contentArea = BoundingBox.fromDimension(this.resolution.width, this.resolution.height, Vector.Zero);\n        if (this.displayMode === DisplayMode.FitScreen) {\n            this._computeFit();\n        }\n        if (this.displayMode === DisplayMode.FitContainer) {\n            this._computeFitContainer();\n        }\n        if (this.displayMode === DisplayMode.FitScreenAndFill) {\n            this._computeFitScreenAndFill();\n        }\n        if (this.displayMode === DisplayMode.FitContainerAndFill) {\n            this._computeFitContainerAndFill();\n        }\n        if (this.displayMode === DisplayMode.FitScreenAndZoom) {\n            this._computeFitScreenAndZoom();\n        }\n        if (this.displayMode === DisplayMode.FitContainerAndZoom) {\n            this._computeFitContainerAndZoom();\n        }\n    }\n}\n\n;// CONCATENATED MODULE: ./Resources/Sound/AudioContext.ts\n/**\n * Internal class used to build instances of AudioContext\n */\n/* istanbul ignore next */\nclass AudioContextFactory {\n    static create() {\n        if (!this._INSTANCE) {\n            if (window.AudioContext || window.webkitAudioContext) {\n                this._INSTANCE = new AudioContext();\n            }\n        }\n        return this._INSTANCE;\n    }\n}\nAudioContextFactory._INSTANCE = null;\n\n;// CONCATENATED MODULE: ./Util/WebAudio.ts\n\n\n/**\n * Patch for detecting legacy web audio in browsers\n * @internal\n * @param source\n */\nfunction isLegacyWebAudioSource(source) {\n    return !!source.playbackState;\n}\nclass WebAudio {\n    /**\n     * Play an empty sound to unlock Safari WebAudio context. Call this function\n     * right after a user interaction event.\n     * @source https://paulbakaus.com/tutorials/html5/web-audio-on-ios/\n     */\n    static unlock() {\n        const promise = new Promise((resolve, reject) => {\n            if (WebAudio._UNLOCKED || !AudioContextFactory.create()) {\n                return resolve(true);\n            }\n            const unlockTimeoutTimer = setTimeout(() => {\n                Logger.getInstance().warn('Excalibur was unable to unlock the audio context, audio probably will not play in this browser.');\n                resolve(false);\n            }, 200);\n            const audioContext = AudioContextFactory.create();\n            audioContext.resume().then(() => {\n                // create empty buffer and play it\n                const buffer = audioContext.createBuffer(1, 1, 22050);\n                const source = audioContext.createBufferSource();\n                let ended = false;\n                source.buffer = buffer;\n                source.connect(audioContext.destination);\n                source.onended = () => (ended = true);\n                source.start(0);\n                // by checking the play state after some time, we know if we're really unlocked\n                setTimeout(() => {\n                    if (isLegacyWebAudioSource(source)) {\n                        if (source.playbackState === source.PLAYING_STATE || source.playbackState === source.FINISHED_STATE) {\n                            WebAudio._UNLOCKED = true;\n                        }\n                    }\n                    else {\n                        if (audioContext.currentTime > 0 || ended) {\n                            WebAudio._UNLOCKED = true;\n                        }\n                    }\n                }, 0);\n                clearTimeout(unlockTimeoutTimer);\n                resolve(true);\n            }, () => {\n                reject();\n            });\n        });\n        return promise;\n    }\n    static isUnlocked() {\n        return this._UNLOCKED;\n    }\n}\nWebAudio._UNLOCKED = false;\n\n;// CONCATENATED MODULE: ./Graphics/Raster.ts\n\n\n\n\n\n\n/**\n * A Raster is a Graphic that needs to be first painted to a HTMLCanvasElement before it can be drawn to the\n * [[ExcaliburGraphicsContext]]. This is useful for generating custom images using the 2D canvas api.\n *\n * Implementors must implement the [[Raster.execute]] method to rasterize their drawing.\n */\nclass Raster extends Graphic {\n    constructor(options) {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\n        super(omit(options, ['width', 'height'])); // rasters do some special sauce with width/height\n        this.filtering = null;\n        this.lineCap = 'butt';\n        this.quality = 1;\n        this._dirty = true;\n        this._smoothing = false;\n        this._color = watch(Color.Black, () => this.flagDirty());\n        this._lineWidth = 1;\n        this._lineDash = [];\n        this._padding = 0;\n        if (options) {\n            this.quality = (_a = options.quality) !== null && _a !== void 0 ? _a : this.quality;\n            this.color = (_b = options.color) !== null && _b !== void 0 ? _b : Color.Black;\n            this.strokeColor = options === null || options === void 0 ? void 0 : options.strokeColor;\n            this.smoothing = (_c = options.smoothing) !== null && _c !== void 0 ? _c : this.smoothing;\n            this.lineWidth = (_d = options.lineWidth) !== null && _d !== void 0 ? _d : this.lineWidth;\n            this.lineDash = (_e = options.lineDash) !== null && _e !== void 0 ? _e : this.lineDash;\n            this.lineCap = (_f = options.lineCap) !== null && _f !== void 0 ? _f : this.lineCap;\n            this.padding = (_g = options.padding) !== null && _g !== void 0 ? _g : this.padding;\n            this.filtering = (_h = options.filtering) !== null && _h !== void 0 ? _h : this.filtering;\n        }\n        this._bitmap = document.createElement('canvas');\n        // get the default canvas width/height as a fallback\n        const bitmapWidth = (_j = options === null || options === void 0 ? void 0 : options.width) !== null && _j !== void 0 ? _j : this._bitmap.width;\n        const bitmapHeight = (_k = options === null || options === void 0 ? void 0 : options.height) !== null && _k !== void 0 ? _k : this._bitmap.height;\n        this.width = bitmapWidth;\n        this.height = bitmapHeight;\n        const maybeCtx = this._bitmap.getContext('2d');\n        if (!maybeCtx) {\n            /* istanbul ignore next */\n            throw new Error('Browser does not support 2d canvas drawing, cannot create Raster graphic');\n        }\n        else {\n            this._ctx = maybeCtx;\n        }\n    }\n    cloneRasterOptions() {\n        return {\n            color: this.color ? this.color.clone() : null,\n            strokeColor: this.strokeColor ? this.strokeColor.clone() : null,\n            smoothing: this.smoothing,\n            lineWidth: this.lineWidth,\n            lineDash: this.lineDash,\n            lineCap: this.lineCap,\n            quality: this.quality,\n            padding: this.padding\n        };\n    }\n    /**\n     * Gets whether the graphic is dirty, this means there are changes that haven't been re-rasterized\n     */\n    get dirty() {\n        return this._dirty;\n    }\n    /**\n     * Flags the graphic as dirty, meaning it must be re-rasterized before draw.\n     * This should be called any time the graphics state changes such that it affects the outputted drawing\n     */\n    flagDirty() {\n        this._dirty = true;\n    }\n    /**\n     * Gets or sets the current width of the Raster graphic. Setting the width will cause the raster\n     * to be flagged dirty causing a re-raster on the next draw.\n     *\n     * Any `padding`s or `quality` set will be factored into the width\n     */\n    get width() {\n        return Math.abs(this._getTotalWidth() * this.scale.x);\n    }\n    set width(value) {\n        value /= Math.abs(this.scale.x);\n        this._bitmap.width = value;\n        this._originalWidth = value;\n        this.flagDirty();\n    }\n    /**\n     * Gets or sets the current height of the Raster graphic. Setting the height will cause the raster\n     * to be flagged dirty causing a re-raster on the next draw.\n     *\n     * Any `padding` or `quality` set will be factored into the height\n     */\n    get height() {\n        return Math.abs(this._getTotalHeight() * this.scale.y);\n    }\n    set height(value) {\n        value /= Math.abs(this.scale.y);\n        this._bitmap.height = value;\n        this._originalHeight = value;\n        this.flagDirty();\n    }\n    _getTotalWidth() {\n        var _a;\n        return (((_a = this._originalWidth) !== null && _a !== void 0 ? _a : this._bitmap.width) + this.padding * 2) * 1;\n    }\n    _getTotalHeight() {\n        var _a;\n        return (((_a = this._originalHeight) !== null && _a !== void 0 ? _a : this._bitmap.height) + this.padding * 2) * 1;\n    }\n    /**\n     * Returns the local bounds of the Raster including the padding\n     */\n    get localBounds() {\n        return BoundingBox.fromDimension(this._getTotalWidth() * this.scale.x, this._getTotalHeight() * this.scale.y, Vector.Zero);\n    }\n    /**\n     * Gets or sets the smoothing (anti-aliasing of the graphic). Setting the height will cause the raster\n     * to be flagged dirty causing a re-raster on the next draw.\n     */\n    get smoothing() {\n        return this._smoothing;\n    }\n    set smoothing(value) {\n        this._smoothing = value;\n        this.flagDirty();\n    }\n    /**\n     * Gets or sets the fillStyle of the Raster graphic. Setting the fillStyle will cause the raster to be\n     * flagged dirty causing a re-raster on the next draw.\n     */\n    get color() {\n        return this._color;\n    }\n    set color(value) {\n        this.flagDirty();\n        this._color = watch(value, () => this.flagDirty());\n    }\n    /**\n     * Gets or sets the strokeStyle of the Raster graphic. Setting the strokeStyle will cause the raster to be\n     * flagged dirty causing a re-raster on the next draw.\n     */\n    get strokeColor() {\n        return this._strokeColor;\n    }\n    set strokeColor(value) {\n        this.flagDirty();\n        this._strokeColor = watch(value, () => this.flagDirty());\n    }\n    /**\n     * Gets or sets the line width of the Raster graphic. Setting the lineWidth will cause the raster to be\n     * flagged dirty causing a re-raster on the next draw.\n     */\n    get lineWidth() {\n        return this._lineWidth;\n    }\n    set lineWidth(value) {\n        this._lineWidth = value;\n        this.flagDirty();\n    }\n    get lineDash() {\n        return this._lineDash;\n    }\n    set lineDash(value) {\n        this._lineDash = value;\n        this.flagDirty();\n    }\n    get padding() {\n        return this._padding;\n    }\n    set padding(value) {\n        this._padding = value;\n        this.flagDirty();\n    }\n    /**\n     * Rasterize the graphic to a bitmap making it usable as in excalibur. Rasterize is called automatically if\n     * the graphic is [[Raster.dirty]] on the next [[Graphic.draw]] call\n     */\n    rasterize() {\n        this._dirty = false;\n        this._ctx.clearRect(0, 0, this._getTotalWidth(), this._getTotalHeight());\n        this._ctx.save();\n        this._applyRasterProperties(this._ctx);\n        this.execute(this._ctx);\n        this._ctx.restore();\n    }\n    _applyRasterProperties(ctx) {\n        var _a, _b, _c;\n        this._bitmap.width = this._getTotalWidth() * this.quality;\n        this._bitmap.height = this._getTotalHeight() * this.quality;\n        // Do a bad thing to pass the filtering as an attribute\n        this._bitmap.setAttribute('filtering', this.filtering);\n        this._bitmap.setAttribute('forceUpload', 'true');\n        ctx.scale(this.quality, this.quality);\n        ctx.translate(this.padding, this.padding);\n        ctx.imageSmoothingEnabled = this.smoothing;\n        ctx.lineWidth = this.lineWidth;\n        ctx.setLineDash((_a = this.lineDash) !== null && _a !== void 0 ? _a : ctx.getLineDash());\n        ctx.lineCap = this.lineCap;\n        ctx.strokeStyle = (_b = this.strokeColor) === null || _b === void 0 ? void 0 : _b.toString();\n        ctx.fillStyle = (_c = this.color) === null || _c === void 0 ? void 0 : _c.toString();\n    }\n    _drawImage(ex, x, y) {\n        if (this._dirty) {\n            this.rasterize();\n        }\n        ex.scale(1 / this.quality, 1 / this.quality);\n        ex.drawImage(this._bitmap, x, y);\n    }\n}\n\n;// CONCATENATED MODULE: ./Graphics/Canvas.ts\n\n/**\n * A canvas [[Graphic]] to provide an adapter between the 2D Canvas API and the [[ExcaliburGraphicsContext]].\n *\n * The [[Canvas]] works by re-rastering a draw handler to a HTMLCanvasElement for every draw which is then passed\n * to the [[ExcaliburGraphicsContext]] implementation as a rendered image.\n *\n * **Low performance API**\n */\nclass Canvas extends Raster {\n    /**\n     * Return the 2D graphics context of this canvas\n     */\n    get ctx() {\n        return this._ctx;\n    }\n    constructor(_options) {\n        super(_options);\n        this._options = _options;\n    }\n    clone() {\n        return new Canvas({\n            ...this._options,\n            ...this.cloneGraphicOptions(),\n            ...this.cloneRasterOptions()\n        });\n    }\n    execute(ctx) {\n        var _a, _b;\n        if ((_a = this._options) === null || _a === void 0 ? void 0 : _a.draw) {\n            (_b = this._options) === null || _b === void 0 ? void 0 : _b.draw(ctx);\n        }\n        if (!this._options.cache) {\n            this.flagDirty();\n        }\n    }\n}\n\n;// CONCATENATED MODULE: ./Interfaces/AudioImplementation.ts\nclass ExResponse {\n}\nExResponse.type = {\n    any: '',\n    blob: 'blob',\n    json: 'json',\n    text: 'text',\n    document: 'document',\n    arraybuffer: 'arraybuffer'\n};\n\n;// CONCATENATED MODULE: ./Util/StateMachine.ts\nclass StateMachine {\n    constructor() {\n        this.states = new Map();\n    }\n    get currentState() {\n        return this._currentState;\n    }\n    set currentState(state) {\n        this._currentState = state;\n    }\n    static create(machineDescription, data) {\n        const machine = new StateMachine();\n        machine.data = data;\n        for (const stateName in machineDescription.states) {\n            machine.states.set(stateName, {\n                name: stateName,\n                ...machineDescription.states[stateName]\n            });\n        }\n        // validate transitions are states\n        for (const state of machine.states.values()) {\n            for (const transitionState of state.transitions) {\n                if (transitionState === '*') {\n                    continue;\n                }\n                if (!machine.states.has(transitionState)) {\n                    throw Error(`Invalid state machine, state [${state.name}] has a transition to another state that doesn't exist [${transitionState}]`);\n                }\n            }\n        }\n        machine.currentState = machine.startState = machine.states.get(machineDescription.start);\n        return machine;\n    }\n    in(state) {\n        return this.currentState.name === state;\n    }\n    go(stateName, eventData) {\n        var _a, _b;\n        if (this.currentState.transitions.includes(stateName) || this.currentState.transitions.includes('*')) {\n            const potentialNewState = this.states.get(stateName);\n            if (this.currentState.onExit) {\n                const canExit = (_a = this.currentState) === null || _a === void 0 ? void 0 : _a.onExit({ to: potentialNewState.name, data: this.data });\n                if (canExit === false) {\n                    return false;\n                }\n            }\n            if (potentialNewState === null || potentialNewState === void 0 ? void 0 : potentialNewState.onEnter) {\n                const canEnter = potentialNewState === null || potentialNewState === void 0 ? void 0 : potentialNewState.onEnter({ from: this.currentState.name, eventData, data: this.data });\n                if (canEnter === false) {\n                    return false;\n                }\n            }\n            // console.log(`${this.currentState.name} => ${potentialNewState.name} (${eventData})`);\n            this.currentState = potentialNewState;\n            if ((_b = this.currentState) === null || _b === void 0 ? void 0 : _b.onState) {\n                this.currentState.onState();\n            }\n            return true;\n        }\n        return false;\n    }\n    update(elapsedMs) {\n        if (this.currentState.onUpdate) {\n            this.currentState.onUpdate(this.data, elapsedMs);\n        }\n    }\n    save(saveKey) {\n        localStorage.setItem(saveKey, JSON.stringify({\n            currentState: this.currentState.name,\n            data: this.data\n        }));\n    }\n    restore(saveKey) {\n        const state = JSON.parse(localStorage.getItem(saveKey));\n        this.currentState = this.states.get(state.currentState);\n        this.data = state.data;\n    }\n}\n\n;// CONCATENATED MODULE: ./Resources/Sound/WebAudioInstance.ts\n\n\n\n\n/**\n * Internal class representing a Web Audio AudioBufferSourceNode instance\n * @see https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API\n */\nclass WebAudioInstance {\n    _createNewBufferSource() {\n        this._instance = this._audioContext.createBufferSource();\n        this._instance.buffer = this._src;\n        this._instance.loop = this.loop;\n        this._instance.playbackRate.value = this._playbackRate;\n        this._instance.connect(this._volumeNode);\n        this._volumeNode.connect(this._audioContext.destination);\n    }\n    _handleEnd() {\n        if (!this.loop) {\n            this._instance.onended = () => {\n                this._playingFuture.resolve(true);\n            };\n        }\n    }\n    set loop(value) {\n        this._loop = value;\n        if (this._instance) {\n            this._instance.loop = value;\n            if (!this.loop) {\n                this._instance.onended = () => {\n                    this._playingFuture.resolve(true);\n                };\n            }\n        }\n    }\n    get loop() {\n        return this._loop;\n    }\n    set volume(value) {\n        value = clamp(value, 0, 1.0);\n        this._volume = value;\n        if (this._stateMachine.in('PLAYING') && this._volumeNode.gain.setTargetAtTime) {\n            // https://developer.mozilla.org/en-US/docs/Web/API/AudioParam/setTargetAtTime\n            // After each .1 seconds timestep, the target value will ~63.2% closer to the target value.\n            // This exponential ramp provides a more pleasant transition in gain\n            this._volumeNode.gain.setTargetAtTime(value, this._audioContext.currentTime, 0.1);\n        }\n        else {\n            this._volumeNode.gain.value = value;\n        }\n    }\n    get volume() {\n        return this._volume;\n    }\n    /**\n     * Returns the set duration to play, otherwise returns the total duration if unset\n     */\n    get duration() {\n        var _a;\n        return (_a = this._duration) !== null && _a !== void 0 ? _a : this.getTotalPlaybackDuration();\n    }\n    /**\n     * Set the duration that this audio should play.\n     *\n     * Note: if you seek to a specific point the duration will start from that point, for example\n     *\n     * If you have a 10 second clip, seek to 5 seconds, then set the duration to 2, it will play the clip from 5-7 seconds.\n     */\n    set duration(duration) {\n        this._duration = duration;\n    }\n    constructor(_src) {\n        this._src = _src;\n        this._audioContext = AudioContextFactory.create();\n        this._volumeNode = this._audioContext.createGain();\n        this._playingFuture = new Future();\n        this._stateMachine = StateMachine.create({\n            start: 'STOPPED',\n            states: {\n                PLAYING: {\n                    onEnter: ({ data }) => {\n                        // Buffer nodes are single use\n                        this._createNewBufferSource();\n                        this._handleEnd();\n                        if (this.loop) {\n                            // when looping don't set a duration\n                            this._instance.start(0, data.pausedAt * this._playbackRate);\n                        }\n                        else {\n                            this._instance.start(0, data.pausedAt * this._playbackRate, this.duration);\n                        }\n                        data.startedAt = (this._audioContext.currentTime - data.pausedAt);\n                        data.pausedAt = 0;\n                    },\n                    onState: () => this._playStarted(),\n                    onExit: ({ to }) => {\n                        // If you've exited early only resolve if explicitly STOPPED\n                        if (to === 'STOPPED') {\n                            this._playingFuture.resolve(true);\n                        }\n                        // Whenever you're not playing... you stop!\n                        this._instance.onended = null; // disconnect the wired on-end handler\n                        this._instance.disconnect();\n                        this._instance.stop(0);\n                        this._instance = null;\n                    },\n                    transitions: ['STOPPED', 'PAUSED', 'SEEK']\n                },\n                SEEK: {\n                    onEnter: ({ eventData: position, data }) => {\n                        data.pausedAt = (position !== null && position !== void 0 ? position : 0) / this._playbackRate;\n                        data.startedAt = 0;\n                    },\n                    transitions: ['*']\n                },\n                STOPPED: {\n                    onEnter: ({ data }) => {\n                        data.pausedAt = 0;\n                        data.startedAt = 0;\n                        this._playingFuture.resolve(true);\n                    },\n                    transitions: ['PLAYING', 'PAUSED', 'SEEK']\n                },\n                PAUSED: {\n                    onEnter: ({ data }) => {\n                        // Playback rate will be a scale factor of how fast/slow the audio is being played\n                        // default is 1.0\n                        // we need to invert it to get the time scale\n                        data.pausedAt = (this._audioContext.currentTime - data.startedAt);\n                    },\n                    transitions: ['PLAYING', 'STOPPED', 'SEEK']\n                }\n            }\n        }, {\n            startedAt: 0,\n            pausedAt: 0\n        });\n        this._volume = 1;\n        this._loop = false;\n        // eslint-disable-next-line @typescript-eslint/no-empty-function\n        this._playStarted = () => { };\n        this._playbackRate = 1.0;\n        this._createNewBufferSource();\n    }\n    isPlaying() {\n        return this._stateMachine.in('PLAYING');\n    }\n    isPaused() {\n        return this._stateMachine.in('PAUSED') || this._stateMachine.in('SEEK');\n    }\n    isStopped() {\n        return this._stateMachine.in('STOPPED');\n    }\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    play(playStarted = () => { }) {\n        this._playStarted = playStarted;\n        this._stateMachine.go('PLAYING');\n        return this._playingFuture.promise;\n    }\n    pause() {\n        this._stateMachine.go('PAUSED');\n    }\n    stop() {\n        this._stateMachine.go('STOPPED');\n    }\n    seek(position) {\n        this._stateMachine.go('PAUSED');\n        this._stateMachine.go('SEEK', position);\n    }\n    getTotalPlaybackDuration() {\n        return this._src.duration;\n    }\n    getPlaybackPosition() {\n        const { pausedAt, startedAt } = this._stateMachine.data;\n        if (pausedAt) {\n            return pausedAt * this._playbackRate;\n        }\n        if (startedAt) {\n            return (this._audioContext.currentTime - startedAt) * this._playbackRate;\n        }\n        return 0;\n    }\n    set playbackRate(playbackRate) {\n        this._instance.playbackRate.value = this._playbackRate = playbackRate;\n    }\n    get playbackRate() {\n        return this._instance.playbackRate.value;\n    }\n}\n\n;// CONCATENATED MODULE: ./Events.ts\nvar EventTypes;\n(function (EventTypes) {\n    EventTypes[\"Kill\"] = \"kill\";\n    EventTypes[\"PreKill\"] = \"prekill\";\n    EventTypes[\"PostKill\"] = \"postkill\";\n    EventTypes[\"PreDraw\"] = \"predraw\";\n    EventTypes[\"PostDraw\"] = \"postdraw\";\n    EventTypes[\"PreDebugDraw\"] = \"predebugdraw\";\n    EventTypes[\"PostDebugDraw\"] = \"postdebugdraw\";\n    EventTypes[\"PreUpdate\"] = \"preupdate\";\n    EventTypes[\"PostUpdate\"] = \"postupdate\";\n    EventTypes[\"PreFrame\"] = \"preframe\";\n    EventTypes[\"PostFrame\"] = \"postframe\";\n    EventTypes[\"PreCollision\"] = \"precollision\";\n    EventTypes[\"CollisionStart\"] = \"collisionstart\";\n    EventTypes[\"CollisionEnd\"] = \"collisionend\";\n    EventTypes[\"PostCollision\"] = \"postcollision\";\n    EventTypes[\"Initialize\"] = \"initialize\";\n    EventTypes[\"Activate\"] = \"activate\";\n    EventTypes[\"Deactivate\"] = \"deactivate\";\n    EventTypes[\"ExitViewport\"] = \"exitviewport\";\n    EventTypes[\"EnterViewport\"] = \"enterviewport\";\n    EventTypes[\"ExitTrigger\"] = \"exit\";\n    EventTypes[\"EnterTrigger\"] = \"enter\";\n    EventTypes[\"Connect\"] = \"connect\";\n    EventTypes[\"Disconnect\"] = \"disconnect\";\n    EventTypes[\"Button\"] = \"button\";\n    EventTypes[\"Axis\"] = \"axis\";\n    EventTypes[\"Visible\"] = \"visible\";\n    EventTypes[\"Hidden\"] = \"hidden\";\n    EventTypes[\"Start\"] = \"start\";\n    EventTypes[\"Stop\"] = \"stop\";\n    EventTypes[\"PointerUp\"] = \"pointerup\";\n    EventTypes[\"PointerDown\"] = \"pointerdown\";\n    EventTypes[\"PointerMove\"] = \"pointermove\";\n    EventTypes[\"PointerEnter\"] = \"pointerenter\";\n    EventTypes[\"PointerLeave\"] = \"pointerleave\";\n    EventTypes[\"PointerCancel\"] = \"pointercancel\";\n    EventTypes[\"PointerWheel\"] = \"pointerwheel\";\n    EventTypes[\"Up\"] = \"up\";\n    EventTypes[\"Down\"] = \"down\";\n    EventTypes[\"Move\"] = \"move\";\n    EventTypes[\"Enter\"] = \"enter\";\n    EventTypes[\"Leave\"] = \"leave\";\n    EventTypes[\"Cancel\"] = \"cancel\";\n    EventTypes[\"Wheel\"] = \"wheel\";\n    EventTypes[\"Press\"] = \"press\";\n    EventTypes[\"Release\"] = \"release\";\n    EventTypes[\"Hold\"] = \"hold\";\n    EventTypes[\"PointerDragStart\"] = \"pointerdragstart\";\n    EventTypes[\"PointerDragEnd\"] = \"pointerdragend\";\n    EventTypes[\"PointerDragEnter\"] = \"pointerdragenter\";\n    EventTypes[\"PointerDragLeave\"] = \"pointerdragleave\";\n    EventTypes[\"PointerDragMove\"] = \"pointerdragmove\";\n    EventTypes[\"ActionStart\"] = \"actionstart\";\n    EventTypes[\"ActionComplete\"] = \"actioncomplete\";\n})(EventTypes || (EventTypes = {}));\n/**\n * Base event type in Excalibur that all other event types derive from. Not all event types are thrown on all Excalibur game objects,\n * some events are unique to a type, others are not.\n *\n */\nclass GameEvent {\n    constructor() {\n        this._bubbles = true;\n    }\n    /**\n     * If set to false, prevents event from propagating to other actors. If true it will be propagated\n     * to all actors that apply.\n     */\n    get bubbles() {\n        return this._bubbles;\n    }\n    set bubbles(value) {\n        this._bubbles = value;\n    }\n    /**\n     * Prevents event from bubbling\n     */\n    stopPropagation() {\n        this.bubbles = false;\n    }\n}\n/**\n * The 'kill' event is emitted on actors when it is killed. The target is the actor that was killed.\n */\nclass KillEvent extends GameEvent {\n    constructor(target) {\n        super();\n        this.target = target;\n    }\n}\n/**\n * The 'prekill' event is emitted directly before an actor is killed.\n */\nclass PreKillEvent extends GameEvent {\n    constructor(target) {\n        super();\n        this.target = target;\n    }\n}\n/**\n * The 'postkill' event is emitted directly after the actor is killed.\n */\nclass PostKillEvent extends GameEvent {\n    constructor(target) {\n        super();\n        this.target = target;\n    }\n}\n/**\n * The 'start' event is emitted on engine when has started and is ready for interaction.\n */\nclass GameStartEvent extends GameEvent {\n    constructor(target) {\n        super();\n        this.target = target;\n    }\n}\n/**\n * The 'stop' event is emitted on engine when has been stopped and will no longer take input, update or draw.\n */\nclass GameStopEvent extends GameEvent {\n    constructor(target) {\n        super();\n        this.target = target;\n    }\n}\n/**\n * The 'predraw' event is emitted on actors, scenes, and engine before drawing starts. Actors' predraw happens inside their graphics\n * transform so that all drawing takes place with the actor as the origin.\n *\n */\nclass PreDrawEvent extends GameEvent {\n    constructor(ctx, delta, target) {\n        super();\n        this.ctx = ctx;\n        this.delta = delta;\n        this.target = target;\n    }\n}\n/**\n * The 'postdraw' event is emitted on actors, scenes, and engine after drawing finishes. Actors' postdraw happens inside their graphics\n * transform so that all drawing takes place with the actor as the origin.\n *\n */\nclass PostDrawEvent extends GameEvent {\n    constructor(ctx, delta, target) {\n        super();\n        this.ctx = ctx;\n        this.delta = delta;\n        this.target = target;\n    }\n}\n/**\n * The 'pretransformdraw' event is emitted on actors/entities before any graphics transforms have taken place.\n * Useful if you need to completely customize the draw or modify the transform before drawing in the draw step (for example needing\n * latest camera positions)\n *\n */\nclass PreTransformDrawEvent extends GameEvent {\n    constructor(ctx, delta, target) {\n        super();\n        this.ctx = ctx;\n        this.delta = delta;\n        this.target = target;\n    }\n}\n/**\n * The 'posttransformdraw' event is emitted on actors/entities after all graphics have been draw and transforms reset.\n * Useful if you need to completely custom the draw after everything is done.\n *\n */\nclass PostTransformDrawEvent extends GameEvent {\n    constructor(ctx, delta, target) {\n        super();\n        this.ctx = ctx;\n        this.delta = delta;\n        this.target = target;\n    }\n}\n/**\n * The 'predebugdraw' event is emitted on actors, scenes, and engine before debug drawing starts.\n */\nclass PreDebugDrawEvent extends GameEvent {\n    constructor(ctx, target) {\n        super();\n        this.ctx = ctx;\n        this.target = target;\n    }\n}\n/**\n * The 'postdebugdraw' event is emitted on actors, scenes, and engine after debug drawing starts.\n */\nclass PostDebugDrawEvent extends GameEvent {\n    constructor(ctx, target) {\n        super();\n        this.ctx = ctx;\n        this.target = target;\n    }\n}\n/**\n * The 'preupdate' event is emitted on actors, scenes, camera, and engine before the update starts.\n */\nclass PreUpdateEvent extends GameEvent {\n    constructor(engine, delta, target) {\n        super();\n        this.engine = engine;\n        this.delta = delta;\n        this.target = target;\n    }\n}\n/**\n * The 'postupdate' event is emitted on actors, scenes, camera, and engine after the update ends.\n */\nclass PostUpdateEvent extends GameEvent {\n    constructor(engine, delta, target) {\n        super();\n        this.engine = engine;\n        this.delta = delta;\n        this.target = target;\n    }\n}\n/**\n * The 'preframe' event is emitted on the engine, before the frame begins.\n */\nclass PreFrameEvent extends GameEvent {\n    constructor(engine, prevStats) {\n        super();\n        this.engine = engine;\n        this.prevStats = prevStats;\n        this.target = engine;\n    }\n}\n/**\n * The 'postframe' event is emitted on the engine, after a frame ends.\n */\nclass PostFrameEvent extends GameEvent {\n    constructor(engine, stats) {\n        super();\n        this.engine = engine;\n        this.stats = stats;\n        this.target = engine;\n    }\n}\n/**\n * Event received when a gamepad is connected to Excalibur. [[Gamepads]] receives this event.\n */\nclass GamepadConnectEvent extends GameEvent {\n    constructor(index, gamepad) {\n        super();\n        this.index = index;\n        this.gamepad = gamepad;\n        this.target = gamepad;\n    }\n}\n/**\n * Event received when a gamepad is disconnected from Excalibur. [[Gamepads]] receives this event.\n */\nclass GamepadDisconnectEvent extends GameEvent {\n    constructor(index, gamepad) {\n        super();\n        this.index = index;\n        this.gamepad = gamepad;\n        this.target = gamepad;\n    }\n}\n/**\n * Gamepad button event. See [[Gamepads]] for information on responding to controller input. [[Gamepad]] instances receive this event;\n */\nclass GamepadButtonEvent extends GameEvent {\n    /**\n     * @param button  The Gamepad button\n     * @param value   A numeric value between 0 and 1\n     */\n    constructor(button, value, target) {\n        super();\n        this.button = button;\n        this.value = value;\n        this.target = target;\n    }\n}\n/**\n * Gamepad axis event. See [[Gamepads]] for information on responding to controller input. [[Gamepad]] instances receive this event;\n */\nclass GamepadAxisEvent extends GameEvent {\n    /**\n     * @param axis  The Gamepad axis\n     * @param value A numeric value between -1 and 1\n     */\n    constructor(axis, value, target) {\n        super();\n        this.axis = axis;\n        this.value = value;\n        this.target = target;\n    }\n}\n/**\n * Event received by the [[Engine]] when the browser window is visible on a screen.\n */\nclass VisibleEvent extends GameEvent {\n    constructor(target) {\n        super();\n        this.target = target;\n    }\n}\n/**\n * Event received by the [[Engine]] when the browser window is hidden from all screens.\n */\nclass HiddenEvent extends GameEvent {\n    constructor(target) {\n        super();\n        this.target = target;\n    }\n}\n/**\n * Event thrown on an [[Actor|actor]] when a collision will occur this frame if it resolves\n */\nclass PreCollisionEvent extends GameEvent {\n    /**\n     * @param actor         The actor the event was thrown on\n     * @param other         The actor that will collided with the current actor\n     * @param side          The side that will be collided with the current actor\n     * @param intersection  Intersection vector\n     */\n    constructor(actor, other, side, intersection, contact) {\n        super();\n        this.other = other;\n        this.side = side;\n        this.intersection = intersection;\n        this.contact = contact;\n        this.target = actor;\n    }\n}\n/**\n * Event thrown on an [[Actor|actor]] when a collision has been resolved (body reacted) this frame\n */\nclass PostCollisionEvent extends GameEvent {\n    /**\n     * @param actor         The actor the event was thrown on\n     * @param other         The actor that did collide with the current actor\n     * @param side          The side that did collide with the current actor\n     * @param intersection  Intersection vector\n     */\n    constructor(actor, other, side, intersection, contact) {\n        super();\n        this.other = other;\n        this.side = side;\n        this.intersection = intersection;\n        this.contact = contact;\n        this.target = actor;\n    }\n    get actor() {\n        return this.target;\n    }\n    set actor(actor) {\n        this.target = actor;\n    }\n}\nclass ContactStartEvent {\n    constructor(target, other, side, contact) {\n        this.target = target;\n        this.other = other;\n        this.side = side;\n        this.contact = contact;\n    }\n}\nclass ContactEndEvent {\n    constructor(target, other, side, lastContact) {\n        this.target = target;\n        this.other = other;\n        this.side = side;\n        this.lastContact = lastContact;\n    }\n}\nclass CollisionPreSolveEvent {\n    constructor(target, other, side, intersection, contact) {\n        this.target = target;\n        this.other = other;\n        this.side = side;\n        this.intersection = intersection;\n        this.contact = contact;\n    }\n}\nclass CollisionPostSolveEvent {\n    constructor(target, other, side, intersection, contact) {\n        this.target = target;\n        this.other = other;\n        this.side = side;\n        this.intersection = intersection;\n        this.contact = contact;\n    }\n}\n/**\n * Event thrown the first time an [[Actor|actor]] collides with another, after an actor is in contact normal collision events are fired.\n */\nclass CollisionStartEvent extends GameEvent {\n    /**\n     *\n     * @param actor\n     * @param other\n     * @param side\n     * @param contact\n     */\n    constructor(actor, other, side, contact) {\n        super();\n        this.other = other;\n        this.side = side;\n        this.contact = contact;\n        this.target = actor;\n    }\n    get actor() {\n        return this.target;\n    }\n    set actor(actor) {\n        this.target = actor;\n    }\n}\n/**\n * Event thrown when the [[Actor|actor]] is no longer colliding with another\n */\nclass CollisionEndEvent extends GameEvent {\n    /**\n     *\n     */\n    constructor(actor, other, side, lastContact) {\n        super();\n        this.other = other;\n        this.side = side;\n        this.lastContact = lastContact;\n        this.target = actor;\n    }\n    get actor() {\n        return this.target;\n    }\n    set actor(actor) {\n        this.target = actor;\n    }\n}\n/**\n * Event thrown on an [[Actor]], [[Scene]], and [[Engine]] only once before the first update call\n */\nclass InitializeEvent extends GameEvent {\n    /**\n     * @param engine  The reference to the current engine\n     */\n    constructor(engine, target) {\n        super();\n        this.engine = engine;\n        this.target = target;\n    }\n}\n/**\n * Event thrown on a [[Scene]] on activation\n */\nclass ActivateEvent extends GameEvent {\n    /**\n     * @param context  The context for the scene activation\n     */\n    constructor(context, target) {\n        super();\n        this.context = context;\n        this.target = target;\n    }\n}\n/**\n * Event thrown on a [[Scene]] on deactivation\n */\nclass DeactivateEvent extends GameEvent {\n    /**\n     * @param context  The context for the scene deactivation\n     */\n    constructor(context, target) {\n        super();\n        this.context = context;\n        this.target = target;\n    }\n}\n/**\n * Event thrown on an [[Actor]] when the graphics bounds completely leaves the screen.\n */\nclass ExitViewPortEvent extends GameEvent {\n    constructor(target) {\n        super();\n        this.target = target;\n    }\n}\n/**\n * Event thrown on an [[Actor]] when any part of the graphics bounds are on screen.\n */\nclass EnterViewPortEvent extends GameEvent {\n    constructor(target) {\n        super();\n        this.target = target;\n    }\n}\nclass EnterTriggerEvent extends GameEvent {\n    constructor(target, actor) {\n        super();\n        this.target = target;\n        this.actor = actor;\n    }\n}\nclass ExitTriggerEvent extends GameEvent {\n    constructor(target, actor) {\n        super();\n        this.target = target;\n        this.actor = actor;\n    }\n}\n/**\n * Event thrown on an [[Actor]] when an action starts.\n */\nclass ActionStartEvent extends GameEvent {\n    constructor(action, target) {\n        super();\n        this.action = action;\n        this.target = target;\n    }\n}\n/**\n * Event thrown on an [[Actor]] when an action completes.\n */\nclass ActionCompleteEvent extends GameEvent {\n    constructor(action, target) {\n        super();\n        this.action = action;\n        this.target = target;\n    }\n}\n\n;// CONCATENATED MODULE: ./Events/MediaEvents.ts\n\nclass MediaEvent extends GameEvent {\n    /**\n     * Media event cannot bubble\n     */\n    set bubbles(_value) {\n        // stubbed\n    }\n    /**\n     * Media event cannot bubble\n     */\n    get bubbles() {\n        return false;\n    }\n    /**\n     * Media event cannot bubble, so they have no path\n     */\n    get _path() {\n        return null;\n    }\n    /**\n     * Media event cannot bubble, so they have no path\n     */\n    set _path(_val) {\n        // stubbed\n    }\n    constructor(target, _name = 'MediaEvent') {\n        super();\n        this.target = target;\n        this._name = _name;\n    }\n    /**\n     * Prevents event from bubbling\n     */\n    stopPropagation() {\n        /**\n         * Stub\n         */\n    }\n    /**\n     * Action, that calls when event happens\n     */\n    action() {\n        /**\n         * Stub\n         */\n    }\n    /**\n     * Propagate event further through event path\n     */\n    propagate() {\n        /**\n         * Stub\n         */\n    }\n    layPath(_actor) {\n        /**\n         * Stub\n         */\n    }\n}\nclass NativeSoundEvent extends MediaEvent {\n    constructor(target, track) {\n        super(target, 'NativeSoundEvent');\n        this.track = track;\n    }\n}\nclass NativeSoundProcessedEvent extends MediaEvent {\n    constructor(target, _processedData) {\n        super(target, 'NativeSoundProcessedEvent');\n        this._processedData = _processedData;\n        this.data = this._processedData;\n    }\n}\n\n;// CONCATENATED MODULE: ./Util/Sound.ts\n\n/**\n * Whether or not the browser can play this file as HTML5 Audio\n */\nfunction canPlayFile(file) {\n    try {\n        const a = new Audio();\n        const filetype = /.*\\.([A-Za-z0-9]+)(?:(?:\\?|\\#).*)*$/;\n        const type = file.match(filetype)[1];\n        if (a.canPlayType('audio/' + type)) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n    catch (e) {\n        Logger.getInstance().warn('Cannot determine audio support, assuming no support for the Audio Tag', e);\n        return false;\n    }\n}\n\n;// CONCATENATED MODULE: ./Resources/Sound/Sound.ts\n\n\n\n\n\n\n\n\nconst SoundEvents = {\n    VolumeChange: 'volumechange',\n    Processed: 'processed',\n    Pause: 'pause',\n    Stop: 'stop',\n    PlaybackEnd: 'playbackend',\n    Resume: 'resume',\n    PlaybackStart: 'playbackstart'\n};\n/**\n * The [[Sound]] object allows games built in Excalibur to load audio\n * components, from soundtracks to sound effects. [[Sound]] is an [[Loadable]]\n * which means it can be passed to a [[Loader]] to pre-load before a game or level.\n */\nclass Sound {\n    /**\n     * Indicates whether the clip should loop when complete\n     * @param value  Set the looping flag\n     */\n    set loop(value) {\n        this._loop = value;\n        for (const track of this._tracks) {\n            track.loop = this._loop;\n        }\n        this.logger.debug('Set loop for all instances of sound', this.path, 'to', this._loop);\n    }\n    get loop() {\n        return this._loop;\n    }\n    set volume(value) {\n        this._volume = value;\n        for (const track of this._tracks) {\n            track.volume = this._volume;\n        }\n        this.events.emit('volumechange', new NativeSoundEvent(this));\n        this.logger.debug('Set loop for all instances of sound', this.path, 'to', this._volume);\n    }\n    get volume() {\n        return this._volume;\n    }\n    /**\n     * Get the duration that this audio should play. If unset the total natural playback duration will be used.\n     */\n    get duration() {\n        return this._duration;\n    }\n    /**\n     * Set the duration that this audio should play. If unset the total natural playback duration will be used.\n     *\n     * Note: if you seek to a specific point the duration will start from that point, for example\n     *\n     * If you have a 10 second clip, seek to 5 seconds, then set the duration to 2, it will play the clip from 5-7 seconds.\n     */\n    set duration(duration) {\n        this._duration = duration;\n    }\n    /**\n     * Return array of Current AudioInstances playing or being paused\n     */\n    get instances() {\n        return this._tracks;\n    }\n    get path() {\n        return this._resource.path;\n    }\n    set path(val) {\n        this._resource.path = val;\n    }\n    /**\n     * Should excalibur add a cache busting querystring? By default false.\n     * Must be set before loading\n     */\n    get bustCache() {\n        return this._resource.bustCache;\n    }\n    set bustCache(val) {\n        this._resource.bustCache = val;\n    }\n    /**\n     * @param paths A list of audio sources (clip.wav, clip.mp3, clip.ogg) for this audio clip. This is done for browser compatibility.\n     */\n    constructor(...paths) {\n        this.events = new EventEmitter();\n        this.logger = Logger.getInstance();\n        this._loop = false;\n        this._volume = 1;\n        this._isStopped = false;\n        // private _isPaused = false;\n        this._tracks = [];\n        this._wasPlayingOnHidden = false;\n        this._playbackRate = 1.0;\n        this._audioContext = AudioContextFactory.create();\n        this._resource = new Resource('', ExResponse.type.arraybuffer);\n        /**\n         * Chrome : MP3, WAV, Ogg\n         * Firefox : WAV, Ogg,\n         * IE : MP3, WAV coming soon\n         * Safari MP3, WAV, Ogg\n         */\n        for (const path of paths) {\n            if (canPlayFile(path)) {\n                this.path = path;\n                break;\n            }\n        }\n        if (!this.path) {\n            this.logger.warn('This browser does not support any of the audio files specified:', paths.join(', '));\n            this.logger.warn('Attempting to use', paths[0]);\n            this.path = paths[0]; // select the first specified\n        }\n    }\n    isLoaded() {\n        return !!this.data;\n    }\n    async load() {\n        var _a, _b;\n        if (this.data) {\n            return this.data;\n        }\n        const arraybuffer = await this._resource.load();\n        const audiobuffer = await this.decodeAudio(arraybuffer.slice(0));\n        this._duration = (_b = (_a = this._duration) !== null && _a !== void 0 ? _a : audiobuffer === null || audiobuffer === void 0 ? void 0 : audiobuffer.duration) !== null && _b !== void 0 ? _b : undefined;\n        this.events.emit('processed', new NativeSoundProcessedEvent(this, audiobuffer));\n        return this.data = audiobuffer;\n    }\n    async decodeAudio(data) {\n        try {\n            return await this._audioContext.decodeAudioData(data.slice(0));\n        }\n        catch (e) {\n            this.logger.error('Unable to decode ' +\n                ' this browser may not fully support this format, or the file may be corrupt, ' +\n                'if this is an mp3 try removing id3 tags and album art from the file.');\n            return await Promise.reject();\n        }\n    }\n    wireEngine(engine) {\n        if (engine) {\n            this._engine = engine;\n            this._engine.on('hidden', () => {\n                if (engine.pauseAudioWhenHidden && this.isPlaying()) {\n                    this._wasPlayingOnHidden = true;\n                    this.pause();\n                }\n            });\n            this._engine.on('visible', () => {\n                if (engine.pauseAudioWhenHidden && this._wasPlayingOnHidden) {\n                    // eslint-disable-next-line @typescript-eslint/no-floating-promises\n                    this.play();\n                    this._wasPlayingOnHidden = false;\n                }\n            });\n            this._engine.on('start', () => {\n                this._isStopped = false;\n            });\n            this._engine.on('stop', () => {\n                this.stop();\n                this._isStopped = true;\n            });\n        }\n    }\n    /**\n     * Returns how many instances of the sound are currently playing\n     */\n    instanceCount() {\n        return this._tracks.length;\n    }\n    /**\n     * Whether or not the sound is playing right now\n     */\n    isPlaying() {\n        return this._tracks.some((t) => t.isPlaying());\n    }\n    isPaused() {\n        return this._tracks.some(t => t.isPaused());\n    }\n    isStopped() {\n        return this._tracks.some(t => t.isStopped());\n    }\n    /**\n     * Play the sound, returns a promise that resolves when the sound is done playing\n     * An optional volume argument can be passed in to play the sound. Max volume is 1.0\n     */\n    play(volume) {\n        if (!this.isLoaded()) {\n            this.logger.warn('Cannot start playing. Resource', this.path, 'is not loaded yet');\n            return Promise.resolve(true);\n        }\n        if (this._isStopped) {\n            this.logger.warn('Cannot start playing. Engine is in a stopped state.');\n            return Promise.resolve(false);\n        }\n        this.volume = volume || this.volume;\n        if (this.isPaused()) {\n            return this._resumePlayback();\n        }\n        else {\n            return this._startPlayback();\n        }\n    }\n    /**\n     * Stop the sound, and do not rewind\n     */\n    pause() {\n        if (!this.isPlaying()) {\n            return;\n        }\n        for (const track of this._tracks) {\n            track.pause();\n        }\n        this.events.emit('pause', new NativeSoundEvent(this));\n        this.logger.debug('Paused all instances of sound', this.path);\n    }\n    /**\n     * Stop the sound if it is currently playing and rewind the track. If the sound is not playing, rewinds the track.\n     */\n    stop() {\n        for (const track of this._tracks) {\n            track.stop();\n        }\n        this.events.emit('stop', new NativeSoundEvent(this));\n        this._tracks.length = 0;\n        this.logger.debug('Stopped all instances of sound', this.path);\n    }\n    get playbackRate() {\n        return this._playbackRate;\n    }\n    set playbackRate(playbackRate) {\n        this._playbackRate = playbackRate;\n        this._tracks.forEach(t => {\n            t.playbackRate = this._playbackRate;\n        });\n    }\n    seek(position, trackId = 0) {\n        if (this._tracks.length === 0) {\n            this._getTrackInstance(this.data);\n        }\n        this._tracks[trackId].seek(position);\n    }\n    getTotalPlaybackDuration() {\n        if (!this.isLoaded()) {\n            this.logger.warnOnce(`Sound from ${this.path} is not loaded, cannot return total playback duration.` +\n                `Did you forget to add Sound to a loader? https://excaliburjs.com/docs/loaders/`);\n            return 0;\n        }\n        return this.data.duration;\n    }\n    /**\n     * Return the current playback time of the playing track in seconds from the start.\n     *\n     * Optionally specify the track to query if multiple are playing at once.\n     * @param trackId\n     */\n    getPlaybackPosition(trackId = 0) {\n        if (this._tracks.length) {\n            return this._tracks[trackId].getPlaybackPosition();\n        }\n        return 0;\n    }\n    /**\n     * Get Id of provided AudioInstance in current trackList\n     * @param track [[Audio]] which Id is to be given\n     */\n    getTrackId(track) {\n        return this._tracks.indexOf(track);\n    }\n    async _resumePlayback() {\n        if (this.isPaused) {\n            const resumed = [];\n            // ensure we resume *current* tracks (if paused)\n            for (const track of this._tracks) {\n                resumed.push(track.play().then(() => {\n                    this._tracks.splice(this.getTrackId(track), 1);\n                    return true;\n                }));\n            }\n            this.events.emit('resume', new NativeSoundEvent(this));\n            this.logger.debug('Resuming paused instances for sound', this.path, this._tracks);\n            // resolve when resumed tracks are done\n            await Promise.all(resumed);\n        }\n        return true;\n    }\n    /**\n     * Starts playback, returns a promise that resolves when playback is complete\n     */\n    async _startPlayback() {\n        const track = this._getTrackInstance(this.data);\n        const complete = await track.play(() => {\n            this.events.emit('playbackstart', new NativeSoundEvent(this, track));\n            this.logger.debug('Playing new instance for sound', this.path);\n        });\n        this.events.emit('playbackend', new NativeSoundEvent(this, track));\n        // cleanup any done tracks\n        const trackId = this.getTrackId(track);\n        if (trackId !== -1) {\n            this._tracks.splice(trackId, 1);\n        }\n        return complete;\n    }\n    _getTrackInstance(data) {\n        const newTrack = new WebAudioInstance(data);\n        newTrack.loop = this.loop;\n        newTrack.volume = this.volume;\n        newTrack.duration = this.duration;\n        newTrack.playbackRate = this._playbackRate;\n        this._tracks.push(newTrack);\n        return newTrack;\n    }\n    emit(eventName, event) {\n        this.events.emit(eventName, event);\n    }\n    on(eventName, handler) {\n        return this.events.on(eventName, handler);\n    }\n    once(eventName, handler) {\n        return this.events.once(eventName, handler);\n    }\n    off(eventName, handler) {\n        this.events.off(eventName, handler);\n    }\n}\n\n;// CONCATENATED MODULE: ./Director/DefaultLoader.ts\n\n\n\n\n\n\n\n\n\nconst LoaderEvents = {\n    // Add event types here\n    BeforeLoad: 'beforeload',\n    AfterLoad: 'afterload',\n    UserAction: 'useraction',\n    LoadResourceStart: 'loadresourcestart',\n    LoadResourceEnd: 'loadresourceend'\n};\n/**\n * Returns true if the constructor is for an Excalibur Loader\n */\nfunction isLoaderConstructor(x) {\n    var _a, _b;\n    return !!(x === null || x === void 0 ? void 0 : x.prototype) && !!((_b = (_a = x === null || x === void 0 ? void 0 : x.prototype) === null || _a === void 0 ? void 0 : _a.constructor) === null || _b === void 0 ? void 0 : _b.name);\n}\nclass DefaultLoader {\n    get resources() {\n        return this._resources;\n    }\n    /**\n     * @param options Optionally provide the list of resources you want to load at constructor time\n     */\n    constructor(options) {\n        var _a;\n        this.events = new EventEmitter();\n        this.canvas = new Canvas({\n            filtering: ImageFiltering.Blended,\n            smoothing: true,\n            cache: false,\n            draw: this.onDraw.bind(this)\n        });\n        this._resources = [];\n        this._numLoaded = 0;\n        this._totalTimeMs = 0;\n        this._loadingFuture = new Future();\n        if (options && ((_a = options.loadables) === null || _a === void 0 ? void 0 : _a.length)) {\n            this.addResources(options.loadables);\n        }\n    }\n    /**\n     * Called by the engine before loading\n     * @param engine\n     */\n    onInitialize(engine) {\n        this.engine = engine;\n        this.canvas.width = this.engine.screen.canvasWidth;\n        this.canvas.height = this.engine.screen.canvasHeight;\n    }\n    /**\n     * Return a promise that resolves when the user interacts with the loading screen in some way, usually a click.\n     *\n     * It's important to implement this in order to unlock the audio context in the browser. Browsers automatically prevent\n     * audio from playing until the user performs an action.\n     *\n     */\n    async onUserAction() {\n        return await Promise.resolve();\n    }\n    /**\n     * Overridable lifecycle method, called directly before loading starts\n     */\n    async onBeforeLoad() {\n        // override me\n    }\n    /**\n     * Overridable lifecycle method, called after loading has completed\n     */\n    async onAfterLoad() {\n        // override me\n        await delay(500, this.engine.clock); // avoid a flicker\n    }\n    /**\n     * Add a resource to the loader to load\n     * @param loadable  Resource to add\n     */\n    addResource(loadable) {\n        this._resources.push(loadable);\n    }\n    /**\n     * Add a list of resources to the loader to load\n     * @param loadables  The list of resources to load\n     */\n    addResources(loadables) {\n        let i = 0;\n        const len = loadables.length;\n        for (i; i < len; i++) {\n            this.addResource(loadables[i]);\n        }\n    }\n    markResourceComplete() {\n        this._numLoaded++;\n    }\n    /**\n     * Returns the progress of the loader as a number between [0, 1] inclusive.\n     */\n    get progress() {\n        const total = this._resources.length;\n        return total > 0 ? clamp(this._numLoaded, 0, total) / total : 1;\n    }\n    /**\n     * Returns true if the loader has completely loaded all resources\n     */\n    isLoaded() {\n        return this._numLoaded === this._resources.length;\n    }\n    /**\n     * Optionally override the onUpdate\n     * @param engine\n     * @param elapsedMilliseconds\n     */\n    onUpdate(engine, elapsedMilliseconds) {\n        this._totalTimeMs += elapsedMilliseconds;\n        // override me\n    }\n    /**\n     * Optionally override the onDraw\n     */\n    onDraw(ctx) {\n        const seconds = this._totalTimeMs / 1000;\n        ctx.fillStyle = Color.Black.toRGBA();\n        ctx.fillRect(0, 0, this.engine.screen.drawWidth, this.engine.screen.drawHeight);\n        ctx.save();\n        ctx.translate(this.engine.screen.center.x, this.engine.screen.center.y);\n        const speed = seconds * 10;\n        ctx.strokeStyle = 'white';\n        ctx.lineWidth = 10;\n        ctx.lineCap = 'round';\n        ctx.arc(0, 0, 40, speed, speed + (Math.PI * 3 / 2));\n        ctx.stroke();\n        ctx.fillStyle = 'white';\n        ctx.font = '16px sans-serif';\n        const text = (this.progress * 100).toFixed(0) + '%';\n        const textbox = ctx.measureText(text);\n        const width = Math.abs(textbox.actualBoundingBoxLeft) + Math.abs(textbox.actualBoundingBoxRight);\n        const height = Math.abs(textbox.actualBoundingBoxAscent) + Math.abs(textbox.actualBoundingBoxDescent);\n        ctx.fillText(text, -width / 2, height / 2); // center\n        ctx.restore();\n    }\n    areResourcesLoaded() {\n        return this._loadingFuture.promise;\n    }\n    /**\n     * Not meant to be overridden\n     *\n     * Begin loading all of the supplied resources, returning a promise\n     * that resolves when loading of all is complete AND the user has interacted with the loading screen\n     */\n    async load() {\n        await this.onBeforeLoad();\n        this.events.emit('beforeload');\n        this.canvas.flagDirty();\n        await Promise.all(this._resources.map(async (r) => {\n            this.events.emit('loadresourcestart', r);\n            await r.load().finally(() => {\n                // capture progress\n                this._numLoaded++;\n                this.canvas.flagDirty();\n                this.events.emit('loadresourceend', r);\n            });\n        }));\n        // Wire all sound to the engine\n        for (const resource of this._resources) {\n            if (resource instanceof Sound) {\n                resource.wireEngine(this.engine);\n            }\n        }\n        this._loadingFuture.resolve();\n        this.canvas.flagDirty();\n        // Unlock browser AudioContext in after user gesture\n        // See: https://github.com/excaliburjs/Excalibur/issues/262\n        // See: https://github.com/excaliburjs/Excalibur/issues/1031\n        await this.onUserAction();\n        this.events.emit('useraction');\n        await WebAudio.unlock();\n        await this.onAfterLoad();\n        this.events.emit('afterload');\n        return (this.data = this._resources);\n    }\n    emit(eventName, event) {\n        this.events.emit(eventName, event);\n    }\n    on(eventName, handler) {\n        return this.events.on(eventName, handler);\n    }\n    once(eventName, handler) {\n        return this.events.once(eventName, handler);\n    }\n    off(eventName, handler) {\n        this.events.off(eventName, handler);\n    }\n}\n\n;// CONCATENATED MODULE: ./Util/DrawUtil.ts\n\n/* istanbul ignore next */\n/**\n * Draw a line on canvas context\n * @param ctx The canvas context\n * @param color The color of the line\n * @param x1 The start x coordinate\n * @param y1 The start y coordinate\n * @param x2 The ending x coordinate\n * @param y2 The ending y coordinate\n * @param thickness The line thickness\n * @param cap The [[LineCapStyle]] (butt, round, or square)\n */\nfunction line(ctx, color = Color.Red, x1, y1, x2, y2, thickness = 1, cap = 'butt') {\n    ctx.save();\n    ctx.beginPath();\n    ctx.lineWidth = thickness;\n    ctx.lineCap = cap;\n    ctx.strokeStyle = color.toString();\n    ctx.moveTo(x1, y1);\n    ctx.lineTo(x2, y2);\n    ctx.closePath();\n    ctx.stroke();\n    ctx.restore();\n}\n/* istanbul ignore next */\n/**\n * Draw the vector as a point onto the canvas.\n */\nfunction point(ctx, color = Color.Red, point) {\n    ctx.beginPath();\n    ctx.strokeStyle = color.toString();\n    ctx.arc(point.x, point.y, 5, 0, Math.PI * 2);\n    ctx.closePath();\n    ctx.stroke();\n}\n/**\n * Draw the vector as a line onto the canvas starting a origin point.\n */\n/* istanbul ignore next */\n/**\n *\n */\nfunction vector(ctx, color, origin, vector, scale = 1.0) {\n    const c = color ? color.toString() : 'blue';\n    const v = vector.scale(scale);\n    ctx.beginPath();\n    ctx.strokeStyle = c;\n    ctx.moveTo(origin.x, origin.y);\n    ctx.lineTo(origin.x + v.x, origin.y + v.y);\n    ctx.closePath();\n    ctx.stroke();\n}\n/**\n * Draw a round rectangle on a canvas context\n * @param ctx The canvas context\n * @param x The top-left x coordinate\n * @param y The top-left y coordinate\n * @param width The width of the rectangle\n * @param height The height of the rectangle\n * @param radius The border radius of the rectangle\n * @param stroke The [[Color]] to stroke rectangle with\n * @param fill The [[Color]] to fill rectangle with\n */\nfunction roundRect(ctx, x, y, width, height, radius = 5, stroke = Color.White, fill = null) {\n    let br;\n    if (typeof radius === 'number') {\n        br = { tl: radius, tr: radius, br: radius, bl: radius };\n    }\n    else {\n        const defaultRadius = { tl: 0, tr: 0, br: 0, bl: 0 };\n        for (const prop in defaultRadius) {\n            if (defaultRadius.hasOwnProperty(prop)) {\n                const side = prop;\n                br[side] = radius[side] || defaultRadius[side];\n            }\n        }\n    }\n    ctx.beginPath();\n    ctx.moveTo(x + br.tl, y);\n    ctx.lineTo(x + width - br.tr, y);\n    ctx.quadraticCurveTo(x + width, y, x + width, y + br.tr);\n    ctx.lineTo(x + width, y + height - br.br);\n    ctx.quadraticCurveTo(x + width, y + height, x + width - br.br, y + height);\n    ctx.lineTo(x + br.bl, y + height);\n    ctx.quadraticCurveTo(x, y + height, x, y + height - br.bl);\n    ctx.lineTo(x, y + br.tl);\n    ctx.quadraticCurveTo(x, y, x + br.tl, y);\n    ctx.closePath();\n    if (fill) {\n        ctx.fillStyle = fill.toString();\n        ctx.fill();\n    }\n    if (stroke) {\n        ctx.strokeStyle = stroke.toString();\n        ctx.stroke();\n    }\n}\n/**\n *\n */\nfunction circle(ctx, x, y, radius, stroke = Color.White, fill = null) {\n    ctx.beginPath();\n    ctx.arc(x, y, radius, 0, Math.PI * 2);\n    ctx.closePath();\n    if (fill) {\n        ctx.fillStyle = fill.toString();\n        ctx.fill();\n    }\n    if (stroke) {\n        ctx.strokeStyle = stroke.toString();\n        ctx.stroke();\n    }\n}\n\n;// CONCATENATED MODULE: ./Director/Loader.logo.png\n/* harmony default export */ const Loader_logo = (\"data:image/png;base64,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\");\n// EXTERNAL MODULE: ./Director/Loader.css\nvar Director_Loader = __webpack_require__(7835);\n;// CONCATENATED MODULE: ./Director/Loader.ts\n\n\n\n\n\n\n\n\n/**\n * Pre-loading assets\n *\n * The loader provides a mechanism to preload multiple resources at\n * one time. The loader must be passed to the engine in order to\n * trigger the loading progress bar.\n *\n * The [[Loader]] itself implements [[Loadable]] so you can load loaders.\n *\n * ## Example: Pre-loading resources for a game\n *\n * ```js\n * // create a loader\n * var loader = new ex.Loader();\n *\n * // create a resource dictionary (best practice is to keep a separate file)\n * var resources = {\n *   TextureGround: new ex.Texture(\"/images/textures/ground.png\"),\n *   SoundDeath: new ex.Sound(\"/sound/death.wav\", \"/sound/death.mp3\")\n * };\n *\n * // loop through dictionary and add to loader\n * for (var loadable in resources) {\n *   if (resources.hasOwnProperty(loadable)) {\n *     loader.addResource(resources[loadable]);\n *   }\n * }\n *\n * // start game\n * game.start(loader).then(function () {\n *   console.log(\"Game started!\");\n * });\n * ```\n *\n * ## Customize the Loader\n *\n * The loader can be customized to show different, text, logo, background color, and button.\n *\n * ```typescript\n * const loader = new ex.Loader([playerTexture]);\n *\n * // The loaders button text can simply modified using this\n * loader.playButtonText = 'Start the best game ever';\n *\n * // The logo can be changed by inserting a base64 image string here\n *\n * loader.logo = 'data:image/png;base64,iVBORw...';\n * loader.logoWidth = 15;\n * loader.logoHeight = 14;\n *\n * // The background color can be changed like so by supplying a valid CSS color string\n *\n * loader.backgroundColor = 'red'\n * loader.backgroundColor = '#176BAA'\n *\n * // To build a completely new button\n * loader.startButtonFactory = () => {\n *     let myButton = document.createElement('button');\n *     myButton.textContent = 'The best button';\n *     return myButton;\n * };\n *\n * engine.start(loader).then(() => {});\n * ```\n */\nclass Loader extends DefaultLoader {\n    get _image() {\n        if (!this._imageElement) {\n            this._imageElement = new Image();\n            this._imageElement.src = this.logo;\n        }\n        return this._imageElement;\n    }\n    get playButtonRootElement() {\n        return this._playButtonRootElement;\n    }\n    get playButtonElement() {\n        return this._playButtonElement;\n    }\n    get _playButton() {\n        const existingRoot = document.getElementById('excalibur-play-root');\n        if (existingRoot) {\n            this._playButtonRootElement = existingRoot;\n        }\n        if (!this._playButtonRootElement) {\n            this._playButtonRootElement = document.createElement('div');\n            this._playButtonRootElement.id = 'excalibur-play-root';\n            this._playButtonRootElement.style.position = 'absolute';\n            document.body.appendChild(this._playButtonRootElement);\n        }\n        if (!this._styleBlock) {\n            this._styleBlock = document.createElement('style');\n            this._styleBlock.textContent = this._playButtonStyles;\n            document.head.appendChild(this._styleBlock);\n        }\n        if (!this._playButtonElement) {\n            this._playButtonElement = this.startButtonFactory();\n            this._playButtonRootElement.appendChild(this._playButtonElement);\n        }\n        return this._playButtonElement;\n    }\n    constructor(loadablesOrOptions) {\n        const options = Array.isArray(loadablesOrOptions) ? {\n            loadables: loadablesOrOptions\n        } : loadablesOrOptions;\n        super(options);\n        this._logger = Logger.getInstance();\n        this._originalOptions = { loadables: [] };\n        this.events = new EventEmitter();\n        this._playButtonShown = false;\n        // logo drawing stuff\n        // base64 string encoding of the excalibur logo (logo-white.png)\n        this.logo = Loader_logo;\n        this.logoWidth = 468;\n        this.logoHeight = 118;\n        /**\n         * Gets or sets the color of the loading bar, default is [[Color.White]]\n         */\n        this.loadingBarColor = Color.White;\n        /**\n         * Gets or sets the background color of the loader as a hex string\n         */\n        this.backgroundColor = '#176BAA';\n        this.suppressPlayButton = false;\n        /** Loads the css from Loader.css */\n        this._playButtonStyles = Director_Loader/* default */.Z.toString();\n        /**\n         * Get/set play button text\n         */\n        this.playButtonText = 'Play game';\n        /**\n         * Return a html button element for excalibur to use as a play button\n         */\n        this.startButtonFactory = () => {\n            let buttonElement = document.getElementById('excalibur-play');\n            if (!buttonElement) {\n                buttonElement = document.createElement('button');\n            }\n            buttonElement.id = 'excalibur-play';\n            buttonElement.textContent = this.playButtonText;\n            buttonElement.style.display = 'none';\n            return buttonElement;\n        };\n        this._configuredPixelRatio = null;\n        this._originalOptions = { ...Loader._DEFAULT_LOADER_OPTIONS, ...options };\n    }\n    onInitialize(engine) {\n        this.engine = engine;\n        this.screen = engine.screen;\n        this.canvas.width = this.engine.canvas.width;\n        this.canvas.height = this.engine.canvas.height;\n    }\n    /**\n     * Shows the play button and returns a promise that resolves when clicked\n     */\n    async showPlayButton() {\n        var _a, _b;\n        if (this.suppressPlayButton) {\n            this.hidePlayButton();\n            // Delay is to give the logo a chance to show, otherwise don't delay\n            await delay(500, (_a = this.engine) === null || _a === void 0 ? void 0 : _a.clock);\n        }\n        else {\n            const resizeHandler = () => {\n                try {\n                    this._positionPlayButton();\n                }\n                catch (_a) {\n                    // swallow if can't position\n                }\n                ;\n            };\n            if ((_b = this.engine) === null || _b === void 0 ? void 0 : _b.browser) {\n                this.engine.browser.window.on('resize', resizeHandler);\n            }\n            this._playButtonShown = true;\n            this._playButton.style.display = 'block';\n            document.body.addEventListener('keyup', (evt) => {\n                if (evt.key === 'Enter') {\n                    this._playButton.click();\n                }\n            });\n            this._positionPlayButton();\n            const playButtonClicked = new Promise(resolve => {\n                const startButtonHandler = (e) => {\n                    var _a;\n                    // We want to stop propagation to keep bubbling to the engine pointer handlers\n                    e.stopPropagation();\n                    // Hide Button after click\n                    this.hidePlayButton();\n                    if ((_a = this.engine) === null || _a === void 0 ? void 0 : _a.browser) {\n                        this.engine.browser.window.off('resize', resizeHandler);\n                    }\n                    if (this._originalOptions.fullscreenAfterLoad) {\n                        try {\n                            this._logger.info('requesting fullscreen');\n                            if (this._originalOptions.fullscreenContainer instanceof HTMLElement) {\n                                this._originalOptions.fullscreenContainer.requestFullscreen();\n                            }\n                            else {\n                                this.engine.screen.goFullScreen(this._originalOptions.fullscreenContainer);\n                            }\n                        }\n                        catch (error) {\n                            this._logger.error('could not go fullscreen', error);\n                        }\n                    }\n                    resolve();\n                };\n                this._playButton.addEventListener('click', startButtonHandler);\n                this._playButton.addEventListener('touchend', startButtonHandler);\n                this._playButton.addEventListener('pointerup', startButtonHandler);\n            });\n            return await playButtonClicked;\n        }\n    }\n    hidePlayButton() {\n        this._playButtonShown = false;\n        this._playButton.style.display = 'none';\n    }\n    /**\n     * Clean up generated elements for the loader\n     */\n    dispose() {\n        if (this._playButtonRootElement.parentElement) {\n            this._playButtonRootElement.removeChild(this._playButtonElement);\n            document.body.removeChild(this._playButtonRootElement);\n            document.head.removeChild(this._styleBlock);\n            this._playButtonRootElement = null;\n            this._playButtonElement = null;\n            this._styleBlock = null;\n        }\n    }\n    async onUserAction() {\n        var _a;\n        // short delay in showing the button for aesthetics\n        await delay(200, (_a = this.engine) === null || _a === void 0 ? void 0 : _a.clock);\n        this.canvas.flagDirty();\n        // show play button\n        await this.showPlayButton();\n    }\n    async onBeforeLoad() {\n        var _a;\n        this._configuredPixelRatio = this.screen.pixelRatioOverride;\n        // Push the current user entered resolution/viewport\n        this.screen.pushResolutionAndViewport();\n        // Configure resolution for loader, it expects resolution === viewport\n        this.screen.resolution = this.screen.viewport;\n        this.screen.pixelRatioOverride = 1;\n        this.screen.applyResolutionAndViewport();\n        this.canvas.width = this.engine.canvas.width;\n        this.canvas.height = this.engine.canvas.height;\n        await ((_a = this._image) === null || _a === void 0 ? void 0 : _a.decode()); // decode logo if it exists\n    }\n    // eslint-disable-next-line require-await\n    async onAfterLoad() {\n        this.screen.pixelRatioOverride = this._configuredPixelRatio;\n        this.screen.popResolutionAndViewport();\n        this.screen.applyResolutionAndViewport();\n        this.dispose();\n    }\n    _positionPlayButton() {\n        if (this.engine) {\n            const screenHeight = this.engine.screen.viewport.height;\n            const screenWidth = this.engine.screen.viewport.width;\n            if (this._playButtonRootElement) {\n                const left = this.engine.canvas.offsetLeft;\n                const top = this.engine.canvas.offsetTop;\n                const buttonWidth = this._playButton.clientWidth;\n                const buttonHeight = this._playButton.clientHeight;\n                if (this.playButtonPosition) {\n                    this._playButtonRootElement.style.left = `${this.playButtonPosition.x}px`;\n                    this._playButtonRootElement.style.top = `${this.playButtonPosition.y}px`;\n                }\n                else {\n                    this._playButtonRootElement.style.left = `${left + screenWidth / 2 - buttonWidth / 2}px`;\n                    this._playButtonRootElement.style.top = `${top + screenHeight / 2 - buttonHeight / 2 + 100}px`;\n                }\n            }\n        }\n    }\n    /**\n     * Loader draw function. Draws the default Excalibur loading screen.\n     * Override `logo`, `logoWidth`, `logoHeight` and `backgroundColor` properties\n     * to customize the drawing, or just override entire method.\n     */\n    onDraw(ctx) {\n        const canvasHeight = this.engine.canvasHeight / this.engine.pixelRatio;\n        const canvasWidth = this.engine.canvasWidth / this.engine.pixelRatio;\n        this._positionPlayButton();\n        ctx.fillStyle = this.backgroundColor;\n        ctx.fillRect(0, 0, canvasWidth, canvasHeight);\n        let logoY = canvasHeight / 2;\n        const width = Math.min(this.logoWidth, canvasWidth * 0.75);\n        let logoX = canvasWidth / 2 - width / 2;\n        if (this.logoPosition) {\n            logoX = this.logoPosition.x;\n            logoY = this.logoPosition.y;\n        }\n        const imageHeight = Math.floor(width * (this.logoHeight / this.logoWidth)); // OG height/width factor\n        const oldAntialias = this.engine.getAntialiasing();\n        this.engine.setAntialiasing(true);\n        if (!this.logoPosition) {\n            ctx.drawImage(this._image, 0, 0, this.logoWidth, this.logoHeight, logoX, logoY - imageHeight - 20, width, imageHeight);\n        }\n        else {\n            ctx.drawImage(this._image, 0, 0, this.logoWidth, this.logoHeight, logoX, logoY, width, imageHeight);\n        }\n        // loading box\n        if (!this.suppressPlayButton && this._playButtonShown) {\n            this.engine.setAntialiasing(oldAntialias);\n            return;\n        }\n        let loadingX = logoX;\n        let loadingY = logoY;\n        if (this.loadingBarPosition) {\n            loadingX = this.loadingBarPosition.x;\n            loadingY = this.loadingBarPosition.y;\n        }\n        ctx.lineWidth = 2;\n        roundRect(ctx, loadingX, loadingY, width, 20, 10, this.loadingBarColor);\n        const progress = width * this.progress;\n        const margin = 5;\n        const progressWidth = progress - margin * 2;\n        const height = 20 - margin * 2;\n        roundRect(ctx, loadingX + margin, loadingY + margin, progressWidth > 10 ? progressWidth : 10, height, 5, null, this.loadingBarColor);\n        this.engine.setAntialiasing(oldAntialias);\n    }\n}\nLoader._DEFAULT_LOADER_OPTIONS = {\n    loadables: [],\n    fullscreenAfterLoad: false,\n    fullscreenContainer: undefined\n};\n\n;// CONCATENATED MODULE: ./Util/Detector.ts\n\n/**\n * This is the list of features that will be used to log the supported\n * features to the console when Detector.logBrowserFeatures() is called.\n */\nconst REPORTED_FEATURES = {\n    webgl: 'WebGL',\n    webaudio: 'WebAudio',\n    gamepadapi: 'Gamepad API'\n};\n/**\n * Excalibur internal feature detection helper class\n */\nclass Detector {\n    constructor() {\n        this._features = null;\n        this.failedTests = [];\n        // critical browser features required for ex to run\n        this._criticalTests = {\n            // Test canvas/2d context support\n            canvasSupport: function () {\n                const elem = document.createElement('canvas');\n                return !!(elem.getContext && elem.getContext('2d'));\n            },\n            // Test array buffer support ex uses for downloading binary data\n            arrayBufferSupport: function () {\n                const xhr = new XMLHttpRequest();\n                xhr.open('GET', '/');\n                try {\n                    xhr.responseType = 'arraybuffer';\n                }\n                catch (e) {\n                    return false;\n                }\n                return xhr.responseType === 'arraybuffer';\n            },\n            // Test data urls ex uses for sprites\n            dataUrlSupport: function () {\n                const canvas = document.createElement('canvas');\n                return canvas.toDataURL('image/png').indexOf('data:image/png') === 0;\n            },\n            // Test object url support for loading\n            objectUrlSupport: function () {\n                return 'URL' in window && 'revokeObjectURL' in URL && 'createObjectURL' in URL;\n            },\n            // RGBA support for colors\n            rgbaSupport: function () {\n                const style = document.createElement('a').style;\n                style.cssText = 'background-color:rgba(150,255,150,.5)';\n                return ('' + style.backgroundColor).indexOf('rgba') > -1;\n            }\n        };\n        // warnings excalibur performance will be degraded\n        this._warningTest = {\n            webAudioSupport: function () {\n                return !!(window.AudioContext ||\n                    window.webkitAudioContext ||\n                    window.mozAudioContext ||\n                    window.msAudioContext ||\n                    window.oAudioContext);\n            },\n            webglSupport: function () {\n                const elem = document.createElement('canvas');\n                return !!(elem.getContext && elem.getContext('webgl'));\n            }\n        };\n        this._features = this._loadBrowserFeatures();\n    }\n    /**\n     * Returns a map of currently supported browser features. This method\n     * treats the features as a singleton and will only calculate feature\n     * support if it has not previously been done.\n     */\n    getBrowserFeatures() {\n        if (this._features === null) {\n            this._features = this._loadBrowserFeatures();\n        }\n        return this._features;\n    }\n    /**\n     * Report on non-critical browser support for debugging purposes.\n     * Use native browser console colors for visibility.\n     */\n    logBrowserFeatures() {\n        let msg = '%cSUPPORTED BROWSER FEATURES\\n==========================%c\\n';\n        const args = ['font-weight: bold; color: navy', 'font-weight: normal; color: inherit'];\n        const supported = this.getBrowserFeatures();\n        for (const feature of Object.keys(REPORTED_FEATURES)) {\n            if (supported[feature]) {\n                msg += '(%c\\u2713%c)'; // ()\n                args.push('font-weight: bold; color: green');\n                args.push('font-weight: normal; color: inherit');\n            }\n            else {\n                msg += '(%c\\u2717%c)'; // ()\n                args.push('font-weight: bold; color: red');\n                args.push('font-weight: normal; color: inherit');\n            }\n            msg += ' ' + REPORTED_FEATURES[feature] + '\\n';\n        }\n        args.unshift(msg);\n        // eslint-disable-next-line no-console\n        console.log.apply(console, args);\n    }\n    /**\n     * Executes several IIFE's to get a constant reference to supported\n     * features within the current execution context.\n     */\n    _loadBrowserFeatures() {\n        return {\n            // IIFE to check canvas support\n            canvas: (() => {\n                return this._criticalTests.canvasSupport();\n            })(),\n            // IIFE to check arraybuffer support\n            arraybuffer: (() => {\n                return this._criticalTests.arrayBufferSupport();\n            })(),\n            // IIFE to check dataurl support\n            dataurl: (() => {\n                return this._criticalTests.dataUrlSupport();\n            })(),\n            // IIFE to check objecturl support\n            objecturl: (() => {\n                return this._criticalTests.objectUrlSupport();\n            })(),\n            // IIFE to check rgba support\n            rgba: (() => {\n                return this._criticalTests.rgbaSupport();\n            })(),\n            // IIFE to check webaudio support\n            webaudio: (() => {\n                return this._warningTest.webAudioSupport();\n            })(),\n            // IIFE to check webgl support\n            webgl: (() => {\n                return this._warningTest.webglSupport();\n            })(),\n            // IIFE to check gamepadapi support\n            gamepadapi: (() => {\n                return !!navigator.getGamepads;\n            })()\n        };\n    }\n    test() {\n        // Critical test will for ex not to run\n        let failedCritical = false;\n        for (const test in this._criticalTests) {\n            if (!this._criticalTests[test].call(this)) {\n                this.failedTests.push(test);\n                Logger.getInstance().error('Critical browser feature missing, Excalibur requires:', test);\n                failedCritical = true;\n            }\n        }\n        if (failedCritical) {\n            return false;\n        }\n        // Warning tests do not for ex to return false to compatibility\n        for (const warning in this._warningTest) {\n            if (!this._warningTest[warning]()) {\n                Logger.getInstance().warn('Warning browser feature missing, Excalibur will have reduced performance:', warning);\n            }\n        }\n        return true;\n    }\n}\n\n;// CONCATENATED MODULE: ./Collision/CollisionType.ts\n/**\n * An enum that describes the types of collisions bodies can participate in\n */\nvar CollisionType;\n(function (CollisionType) {\n    /**\n     * Bodies with the `PreventCollision` setting do not participate in any\n     * collisions and do not raise collision events.\n     */\n    CollisionType[\"PreventCollision\"] = \"PreventCollision\";\n    /**\n     * Bodies with the `Passive` setting only raise collision events, but are not\n     * influenced or moved by other bodies and do not influence or move other bodies.\n     * This is useful for use in trigger type behavior.\n     */\n    CollisionType[\"Passive\"] = \"Passive\";\n    /**\n     * Bodies with the `Active` setting raise collision events and participate\n     * in collisions with other bodies and will be push or moved by bodies sharing\n     * the `Active` or `Fixed` setting.\n     */\n    CollisionType[\"Active\"] = \"Active\";\n    /**\n     * Bodies with the `Fixed` setting raise collision events and participate in\n     * collisions with other bodies. Actors with the `Fixed` setting will not be\n     * pushed or moved by other bodies sharing the `Fixed`. Think of Fixed\n     * bodies as \"immovable/unstoppable\" objects. If two `Fixed` bodies meet they will\n     * not be pushed or moved by each other, they will not interact except to throw\n     * collision events.\n     */\n    CollisionType[\"Fixed\"] = \"Fixed\";\n})(CollisionType || (CollisionType = {}));\n\n;// CONCATENATED MODULE: ./Math/coord-plane.ts\n/**\n * Enum representing the coordinate plane for the position 2D vector in the [[TransformComponent]]\n */\nvar CoordPlane;\n(function (CoordPlane) {\n    /**\n     * The world coordinate plane (default) represents world space, any entities drawn with world\n     * space move when the camera moves.\n     */\n    CoordPlane[\"World\"] = \"world\";\n    /**\n     * The screen coordinate plane represents screen space, entities drawn in screen space are pinned\n     * to screen coordinates ignoring the camera.\n     */\n    CoordPlane[\"Screen\"] = \"screen\";\n})(CoordPlane || (CoordPlane = {}));\n\n;// CONCATENATED MODULE: ./Math/vector-view.ts\n\nclass VectorView extends Vector {\n    constructor(options) {\n        super(0, 0);\n        this._getX = options.getX;\n        this._getY = options.getY;\n        this._setX = options.setX;\n        this._setY = options.setY;\n    }\n    get x() {\n        return (this._x = this._getX());\n    }\n    set x(val) {\n        this._setX(val);\n        this._x = val;\n    }\n    get y() {\n        return (this._y = this._getY());\n    }\n    set y(val) {\n        this._setY(val);\n        this._y = val;\n    }\n}\n\n;// CONCATENATED MODULE: ./Math/watch-vector.ts\n\n/**\n * Wraps a vector and watches for changes in the x/y, modifies the original vector.\n */\nclass WatchVector extends Vector {\n    constructor(original, change) {\n        super(original.x, original.y);\n        this.original = original;\n        this.change = change;\n    }\n    get x() {\n        return this._x = this.original.x;\n    }\n    set x(newX) {\n        this.change(newX, this._y);\n        this._x = this.original.x = newX;\n    }\n    get y() {\n        return this._y = this.original.y;\n    }\n    set y(newY) {\n        this.change(this._x, newY);\n        this._y = this.original.y = newY;\n    }\n}\n\n;// CONCATENATED MODULE: ./Math/transform.ts\n\n\n\n\n\nclass transform_Transform {\n    constructor() {\n        this._parent = null;\n        this._children = [];\n        this._pos = vec(0, 0);\n        this._rotation = 0;\n        this._scale = vec(1, 1);\n        this._isDirty = false;\n        this._isInverseDirty = false;\n        this._matrix = AffineMatrix.identity();\n        this._inverse = AffineMatrix.identity();\n    }\n    get parent() {\n        return this._parent;\n    }\n    set parent(transform) {\n        if (this._parent) {\n            const index = this._parent._children.indexOf(this);\n            if (index > -1) {\n                this._parent._children.splice(index, 1);\n            }\n        }\n        this._parent = transform;\n        if (this._parent) {\n            this._parent._children.push(this);\n        }\n        this.flagDirty();\n    }\n    get children() {\n        return this._children;\n    }\n    set pos(v) {\n        if (!v.equals(this._pos)) {\n            this._pos.x = v.x;\n            this._pos.y = v.y;\n            this.flagDirty();\n        }\n    }\n    get pos() {\n        return new WatchVector(this._pos, (x, y) => {\n            if (x !== this._pos.x || y !== this._pos.y) {\n                this.flagDirty();\n            }\n        });\n    }\n    set globalPos(v) {\n        let localPos = v.clone();\n        if (this.parent) {\n            localPos = this.parent.inverse.multiply(v);\n        }\n        if (!localPos.equals(this._pos)) {\n            this._pos = localPos;\n            this.flagDirty();\n        }\n    }\n    get globalPos() {\n        return new VectorView({\n            getX: () => this.matrix.data[4],\n            getY: () => this.matrix.data[5],\n            setX: (x) => {\n                if (this.parent) {\n                    const { x: newX } = this.parent.inverse.multiply(vec(x, this.pos.y));\n                    this.pos.x = newX;\n                }\n                else {\n                    this.pos.x = x;\n                }\n                if (x !== this.matrix.data[4]) {\n                    this.flagDirty();\n                }\n            },\n            setY: (y) => {\n                if (this.parent) {\n                    const { y: newY } = this.parent.inverse.multiply(vec(this.pos.x, y));\n                    this.pos.y = newY;\n                }\n                else {\n                    this.pos.y = y;\n                }\n                if (y !== this.matrix.data[5]) {\n                    this.flagDirty();\n                }\n            }\n        });\n    }\n    set rotation(rotation) {\n        const canonRotation = canonicalizeAngle(rotation);\n        if (canonRotation !== this._rotation) {\n            this.flagDirty();\n        }\n        this._rotation = canonRotation;\n    }\n    get rotation() {\n        return this._rotation;\n    }\n    set globalRotation(rotation) {\n        let inverseRotation = 0;\n        if (this.parent) {\n            inverseRotation = this.parent.globalRotation;\n        }\n        const canonRotation = canonicalizeAngle(rotation + inverseRotation);\n        if (canonRotation !== this._rotation) {\n            this.flagDirty();\n        }\n        this._rotation = canonRotation;\n    }\n    get globalRotation() {\n        if (this.parent) {\n            return this.matrix.getRotation();\n        }\n        return this.rotation;\n    }\n    set scale(v) {\n        if (!v.equals(this._scale)) {\n            this._scale.x = v.x;\n            this._scale.y = v.y;\n            this.flagDirty();\n        }\n    }\n    get scale() {\n        return new WatchVector(this._scale, (x, y) => {\n            if (x !== this._scale.x || y !== this._scale.y) {\n                this.flagDirty();\n            }\n        });\n    }\n    set globalScale(v) {\n        let inverseScale = vec(1, 1);\n        if (this.parent) {\n            inverseScale = this.parent.globalScale;\n        }\n        this.scale = v.scale(vec(1 / inverseScale.x, 1 / inverseScale.y));\n    }\n    get globalScale() {\n        return new VectorView({\n            getX: () => this.parent ? this.matrix.getScaleX() : this.scale.x,\n            getY: () => this.parent ? this.matrix.getScaleY() : this.scale.y,\n            setX: (x) => {\n                if (this.parent) {\n                    const globalScaleX = this.parent.globalScale.x;\n                    this.scale.x = x / globalScaleX;\n                }\n                else {\n                    this.scale.x = x;\n                }\n            },\n            setY: (y) => {\n                if (this.parent) {\n                    const globalScaleY = this.parent.globalScale.y;\n                    this.scale.y = y / globalScaleY;\n                }\n                else {\n                    this.scale.y = y;\n                }\n            }\n        });\n    }\n    get matrix() {\n        if (this._isDirty) {\n            if (this.parent === null) {\n                this._matrix = this._calculateMatrix();\n            }\n            else {\n                this._matrix = this.parent.matrix.multiply(this._calculateMatrix());\n            }\n            this._isDirty = false;\n        }\n        return this._matrix;\n    }\n    get inverse() {\n        if (this._isInverseDirty) {\n            this._inverse = this.matrix.inverse();\n            this._isInverseDirty = false;\n        }\n        return this._inverse;\n    }\n    _calculateMatrix() {\n        const matrix = AffineMatrix.identity()\n            .translate(this.pos.x, this.pos.y)\n            .rotate(this.rotation)\n            .scale(this.scale.x, this.scale.y);\n        return matrix;\n    }\n    flagDirty() {\n        this._isDirty = true;\n        this._isInverseDirty = true;\n        for (let i = 0; i < this._children.length; i++) {\n            this._children[i].flagDirty();\n        }\n    }\n    apply(point) {\n        return this.matrix.multiply(point);\n    }\n    applyInverse(point) {\n        return this.inverse.multiply(point);\n    }\n    setTransform(pos, rotation, scale) {\n        this._pos.x = pos.x;\n        this._pos.y = pos.y;\n        this._rotation = canonicalizeAngle(rotation);\n        this._scale.x = scale.x;\n        this._scale.y = scale.y;\n        this.flagDirty();\n    }\n    /**\n     * Clones the current transform\n     * **Warning does not clone the parent**\n     * @param dest\n     */\n    clone(dest) {\n        const target = dest !== null && dest !== void 0 ? dest : new transform_Transform();\n        this._pos.clone(target._pos);\n        target._rotation = this._rotation;\n        this._scale.clone(target._scale);\n        target.flagDirty();\n        return target;\n    }\n}\n\n;// CONCATENATED MODULE: ./EntityComponentSystem/Component.ts\n/**\n *\n */\nfunction isComponentCtor(value) {\n    return !!value && !!value.prototype && !!value.prototype.constructor;\n}\n/**\n * Type guard to check if a component implements clone\n * @param x\n */\nfunction hasClone(x) {\n    return !!(x === null || x === void 0 ? void 0 : x.clone);\n}\n/**\n * Components are containers for state in Excalibur, the are meant to convey capabilities that an Entity possesses\n *\n * Implementations of Component must have a zero-arg constructor to support dependencies\n *\n * ```typescript\n * class MyComponent extends ex.Component {\n *   // zero arg support required if you want to use component dependencies\n *   constructor(public optionalPos?: ex.Vector) {}\n * }\n * ```\n */\nclass Component {\n    constructor() {\n        // TODO maybe generate a unique id?\n        /**\n         * Current owning [[Entity]], if any, of this component. Null if not added to any [[Entity]]\n         */\n        this.owner = undefined;\n    }\n    /**\n     * Clones any properties on this component, if that property value has a `clone()` method it will be called\n     */\n    clone() {\n        const newComponent = new this.constructor();\n        for (const prop in this) {\n            if (this.hasOwnProperty(prop)) {\n                const val = this[prop];\n                if (hasClone(val) && prop !== 'owner' && prop !== 'clone') {\n                    newComponent[prop] = val.clone();\n                }\n                else {\n                    newComponent[prop] = val;\n                }\n            }\n        }\n        return newComponent;\n    }\n}\n\n;// CONCATENATED MODULE: ./Util/Observable.ts\n/**\n * Simple Observable implementation\n * @template T is the typescript Type that defines the data being observed\n */\nclass Observable {\n    constructor() {\n        this.observers = [];\n        this.subscriptions = [];\n    }\n    /**\n     * Register an observer to listen to this observable\n     * @param observer\n     */\n    register(observer) {\n        this.observers.push(observer);\n    }\n    /**\n     * Register a callback to listen to this observable\n     * @param func\n     */\n    subscribe(func) {\n        this.subscriptions.push(func);\n    }\n    /**\n     * Remove an observer from the observable\n     * @param observer\n     */\n    unregister(observer) {\n        const i = this.observers.indexOf(observer);\n        if (i !== -1) {\n            this.observers.splice(i, 1);\n        }\n    }\n    /**\n     * Remove a callback that is listening to this observable\n     * @param func\n     */\n    unsubscribe(func) {\n        const i = this.subscriptions.indexOf(func);\n        if (i !== -1) {\n            this.subscriptions.splice(i, 1);\n        }\n    }\n    /**\n     * Broadcasts a message to all observers and callbacks\n     * @param message\n     */\n    notifyAll(message) {\n        const observersLength = this.observers.length;\n        for (let i = 0; i < observersLength; i++) {\n            this.observers[i].notify(message);\n        }\n        const subscriptionsLength = this.subscriptions.length;\n        for (let i = 0; i < subscriptionsLength; i++) {\n            this.subscriptions[i](message);\n        }\n    }\n    /**\n     * Removes all observers and callbacks\n     */\n    clear() {\n        this.observers.length = 0;\n        this.subscriptions.length = 0;\n    }\n}\n\n;// CONCATENATED MODULE: ./EntityComponentSystem/Components/TransformComponent.ts\n\n\n\n\n\nclass TransformComponent extends Component {\n    constructor() {\n        super(...arguments);\n        this._logger = Logger.getInstance();\n        this._parentComponent = null;\n        this._transform = new transform_Transform();\n        this._addChildTransform = (child) => {\n            const childTxComponent = child.get(TransformComponent);\n            if (childTxComponent) {\n                childTxComponent._transform.parent = this._transform;\n                childTxComponent._parentComponent = this;\n            }\n        };\n        /**\n         * Observable that emits when the z index changes on this component\n         */\n        this.zIndexChanged$ = new Observable();\n        this._z = 0;\n        this._coordPlane = CoordPlane.World;\n    }\n    get() {\n        return this._transform;\n    }\n    onAdd(owner) {\n        for (const child of owner.children) {\n            this._addChildTransform(child);\n        }\n        owner.childrenAdded$.subscribe(child => this._addChildTransform(child));\n        owner.childrenRemoved$.subscribe(child => {\n            const childTxComponent = child.get(TransformComponent);\n            if (childTxComponent) {\n                childTxComponent._transform.parent = null;\n                childTxComponent._parentComponent = null;\n            }\n        });\n    }\n    onRemove(_previousOwner) {\n        this._transform.parent = null;\n        this._parentComponent = null;\n    }\n    /**\n     * The z-index ordering of the entity, a higher values are drawn on top of lower values.\n     * For example z=99 would be drawn on top of z=0.\n     */\n    get z() {\n        return this._z;\n    }\n    set z(val) {\n        const oldz = this._z;\n        this._z = val;\n        if (oldz !== val) {\n            this.zIndexChanged$.notifyAll(val);\n        }\n    }\n    /**\n     * The [[CoordPlane|coordinate plane|]] for this transform for the entity.\n     */\n    get coordPlane() {\n        if (this._parentComponent) {\n            return this._parentComponent.coordPlane;\n        }\n        return this._coordPlane;\n    }\n    set coordPlane(value) {\n        var _a;\n        if (!this._parentComponent) {\n            this._coordPlane = value;\n        }\n        else {\n            this._logger.warn(`Cannot set coordinate plane on child entity ${(_a = this.owner) === null || _a === void 0 ? void 0 : _a.name}, children inherit their coordinate plane from their parents.`);\n        }\n    }\n    get pos() {\n        return this._transform.pos;\n    }\n    set pos(v) {\n        this._transform.pos = v;\n    }\n    get globalPos() {\n        return this._transform.globalPos;\n    }\n    set globalPos(v) {\n        this._transform.globalPos = v;\n    }\n    get rotation() {\n        return this._transform.rotation;\n    }\n    set rotation(rotation) {\n        this._transform.rotation = rotation;\n    }\n    get globalRotation() {\n        return this._transform.globalRotation;\n    }\n    set globalRotation(rotation) {\n        this._transform.globalRotation = rotation;\n    }\n    get scale() {\n        return this._transform.scale;\n    }\n    set scale(v) {\n        this._transform.scale = v;\n    }\n    get globalScale() {\n        return this._transform.globalScale;\n    }\n    set globalScale(v) {\n        this._transform.globalScale = v;\n    }\n    applyInverse(v) {\n        return this._transform.applyInverse(v);\n    }\n    apply(v) {\n        return this._transform.apply(v);\n    }\n    clone() {\n        const component = new TransformComponent();\n        component._transform = this._transform.clone();\n        component._z = this._z;\n        return component;\n    }\n}\n\n;// CONCATENATED MODULE: ./EntityComponentSystem/Components/MotionComponent.ts\n\n\nclass MotionComponent extends Component {\n    constructor() {\n        super(...arguments);\n        /**\n         * The velocity of an entity in pixels per second\n         */\n        this.vel = Vector.Zero;\n        /**\n         * The acceleration of entity in pixels per second^2\n         */\n        this.acc = Vector.Zero;\n        /**\n         * The scale rate of change in scale units per second\n         */\n        this.scaleFactor = Vector.Zero;\n        /**\n         * The angular velocity which is how quickly the entity is rotating in radians per second\n         */\n        this.angularVelocity = 0;\n        /**\n         * The amount of torque applied to the entity, angular acceleration is torque * inertia\n         */\n        this.torque = 0;\n        /**\n         * Inertia can be thought of as the resistance to motion\n         */\n        this.inertia = 1;\n    }\n}\n\n;// CONCATENATED MODULE: ./Collision/Group/CollisionGroupManager.ts\n\n/**\n * Static class for managing collision groups in excalibur, there is a maximum of 32 collision groups possible in excalibur\n */\nclass CollisionGroupManager {\n    /**\n     * Create a new named collision group up to a max of 32.\n     * @param name Name for the collision group\n     * @param mask Optionally provide your own 32-bit mask, if none is provide the manager will generate one\n     */\n    static create(name, mask) {\n        if (this._CURRENT_GROUP > this._MAX_GROUPS) {\n            throw new Error(`Cannot have more than ${this._MAX_GROUPS} collision groups`);\n        }\n        if (this._GROUPS.get(name)) {\n            const existingGroup = this._GROUPS.get(name);\n            if (existingGroup.mask === mask) {\n                return existingGroup;\n            }\n            throw new Error(`Collision group ${name} already exists with a different mask!`);\n        }\n        const group = new CollisionGroup(name, this._CURRENT_BIT, mask !== undefined ? mask : ~this._CURRENT_BIT);\n        this._CURRENT_BIT = (this._CURRENT_BIT << 1) | 0;\n        this._CURRENT_GROUP++;\n        this._GROUPS.set(name, group);\n        return group;\n    }\n    /**\n     * Get all collision groups currently tracked by excalibur\n     */\n    static get groups() {\n        return Array.from(this._GROUPS.values());\n    }\n    /**\n     * Get a collision group by it's name\n     * @param name\n     */\n    static groupByName(name) {\n        return this._GROUPS.get(name);\n    }\n    /**\n     * Resets the managers internal group management state\n     */\n    static reset() {\n        this._GROUPS = new Map();\n        this._CURRENT_BIT = this._STARTING_BIT;\n        this._CURRENT_GROUP = 1;\n    }\n}\n// using bitmasking the maximum number of groups is 32, because that is the highest 32bit integer that JS can present.\nCollisionGroupManager._STARTING_BIT = 0b1 | 0;\nCollisionGroupManager._MAX_GROUPS = 32;\nCollisionGroupManager._CURRENT_GROUP = 1;\nCollisionGroupManager._CURRENT_BIT = CollisionGroupManager._STARTING_BIT;\nCollisionGroupManager._GROUPS = new Map();\n\n;// CONCATENATED MODULE: ./Collision/Group/CollisionGroup.ts\n\n/**\n * CollisionGroups indicate like members that do not collide with each other. Use [[CollisionGroupManager]] to create [[CollisionGroup]]s\n *\n * For example:\n *\n * Players have collision group \"player\"\n *\n * ![Player Collision Group](/assets/images/docs/CollisionGroupsPlayer.png)\n *\n * Enemies have collision group \"enemy\"\n *\n * ![Enemy Collision Group](/assets/images/docs/CollisionGroupsEnemy.png)\n *\n * Blocks have collision group \"ground\"\n *\n * ![Ground collision group](/assets/images/docs/CollisionGroupsGround.png)\n *\n * Players don't collide with each other, but enemies and blocks. Likewise, enemies don't collide with each other but collide\n * with players and blocks.\n *\n * This is done with bitmasking, see the following pseudo-code\n *\n * PlayerGroup = `0b001`\n * PlayerGroupMask = `0b110`\n *\n * EnemyGroup = `0b010`\n * EnemyGroupMask = `0b101`\n *\n * BlockGroup = `0b100`\n * BlockGroupMask = `0b011`\n *\n * Should Players collide? No because the bitwise mask evaluates to 0\n * `(player1.group & player2.mask) === 0`\n * `(0b001 & 0b110) === 0`\n *\n * Should Players and Enemies collide? Yes because the bitwise mask is non-zero\n * `(player1.group & enemy1.mask) === 1`\n * `(0b001 & 0b101) === 1`\n *\n * Should Players and Blocks collide? Yes because the bitwise mask is non-zero\n * `(player1.group & blocks1.mask) === 1`\n * `(0b001 & 0b011) === 1`\n */\nclass CollisionGroup {\n    /**\n     * STOP!!** It is preferred that [[CollisionGroupManager.create]] is used to create collision groups\n     *  unless you know how to construct the proper bitmasks. See https://github.com/excaliburjs/Excalibur/issues/1091 for more info.\n     * @param name Name of the collision group\n     * @param category 32 bit category for the group, should be a unique power of 2. For example `0b001` or `0b010`\n     * @param mask 32 bit mask of category, or `~category` generally. For a category of `0b001`, the mask would be `0b110`\n     */\n    constructor(name, category, mask) {\n        this._name = name;\n        this._category = category;\n        this._mask = mask;\n    }\n    /**\n     * Get the name of the collision group\n     */\n    get name() {\n        return this._name;\n    }\n    /**\n     * Get the category of the collision group, a 32 bit number which should be a unique power of 2\n     */\n    get category() {\n        return this._category;\n    }\n    /**\n     * Get the mask for this collision group\n     */\n    get mask() {\n        return this._mask;\n    }\n    /**\n     * Evaluates whether 2 collision groups can collide\n     *\n     * This means the mask has the same bit set the other category and vice versa\n     * @param other  CollisionGroup\n     */\n    canCollide(other) {\n        const overlap1 = this.category & other.mask;\n        const overlap2 = this.mask & other.category;\n        return (overlap1 !== 0) && (overlap2 !== 0);\n    }\n    /**\n     * Inverts the collision group. For example, if before the group specified \"players\",\n     * inverting would specify all groups except players\n     * @returns CollisionGroup\n     */\n    invert() {\n        const group = CollisionGroupManager.create('~(' + this.name + ')', ~this.mask | 0);\n        group._category = ~this.category;\n        return group;\n    }\n    /**\n     * Combine collision groups with each other. The new group includes all of the previous groups.\n     * @param collisionGroups\n     */\n    static combine(collisionGroups) {\n        const combinedName = collisionGroups.map((c) => c.name).join('+');\n        const combinedCategory = collisionGroups.reduce((current, g) => g.category | current, 0b0);\n        const combinedMask = ~combinedCategory;\n        return CollisionGroupManager.create(combinedName, combinedMask);\n    }\n    /**\n     * Creates a collision group that collides with the listed groups\n     * @param collisionGroups\n     */\n    static collidesWith(collisionGroups) {\n        const combinedName = `collidesWith(${collisionGroups.map((c) => c.name).join('+')})`;\n        const combinedMask = collisionGroups.reduce((current, g) => g.category | current, 0b0);\n        return CollisionGroupManager.create(combinedName, combinedMask);\n    }\n    toString() {\n        return `\r\ncategory: ${this.category.toString(2).padStart(32, '0')}\r\nmask:     ${(this.mask >>> 0).toString(2).padStart(32, '0')}\r\n    `;\n    }\n}\n/**\n * The `All` [[CollisionGroup]] is a special group that collides with all other groups including itself,\n * it is the default collision group on colliders.\n */\nCollisionGroup.All = new CollisionGroup('Collide with all groups', -1, -1);\n\n;// CONCATENATED MODULE: ./Collision/Detection/Pair.ts\n\n\n/**\n * Models a potential collision between 2 colliders\n */\nclass Pair {\n    constructor(colliderA, colliderB) {\n        this.colliderA = colliderA;\n        this.colliderB = colliderB;\n        this.id = null;\n        this.id = Pair.calculatePairHash(colliderA.id, colliderB.id);\n    }\n    /**\n     * Returns whether a it is allowed for 2 colliders in a Pair to collide\n     * @param colliderA\n     * @param colliderB\n     */\n    static canCollide(colliderA, colliderB) {\n        var _a, _b;\n        const bodyA = (_a = colliderA === null || colliderA === void 0 ? void 0 : colliderA.owner) === null || _a === void 0 ? void 0 : _a.get(BodyComponent);\n        const bodyB = (_b = colliderB === null || colliderB === void 0 ? void 0 : colliderB.owner) === null || _b === void 0 ? void 0 : _b.get(BodyComponent);\n        // Prevent self collision\n        if (colliderA.id === colliderB.id) {\n            return false;\n        }\n        // Colliders with the same owner do not collide (composite colliders)\n        if (colliderA.owner &&\n            colliderB.owner &&\n            colliderA.owner.id === colliderB.owner.id) {\n            return false;\n        }\n        // if the pair has a member with zero dimension don't collide\n        if (colliderA.localBounds.hasZeroDimensions() || colliderB.localBounds.hasZeroDimensions()) {\n            return false;\n        }\n        // Body's needed for collision in the current state\n        // TODO can we collide without a body?\n        if (!bodyA || !bodyB) {\n            return false;\n        }\n        // If both are in the same collision group short circuit\n        if (!bodyA.group.canCollide(bodyB.group)) {\n            return false;\n        }\n        // if both are fixed short circuit\n        if (bodyA.collisionType === CollisionType.Fixed && bodyB.collisionType === CollisionType.Fixed) {\n            return false;\n        }\n        // if the either is prevent collision short circuit\n        if (bodyB.collisionType === CollisionType.PreventCollision || bodyA.collisionType === CollisionType.PreventCollision) {\n            return false;\n        }\n        // if either is dead short circuit\n        if (!bodyA.active || !bodyB.active) {\n            return false;\n        }\n        return true;\n    }\n    /**\n     * Returns whether or not it is possible for the pairs to collide\n     */\n    get canCollide() {\n        const colliderA = this.colliderA;\n        const colliderB = this.colliderB;\n        return Pair.canCollide(colliderA, colliderB);\n    }\n    /**\n     * Runs the collision intersection logic on the members of this pair\n     */\n    collide() {\n        return this.colliderA.collide(this.colliderB);\n    }\n    /**\n     * Check if the collider is part of the pair\n     * @param collider\n     */\n    hasCollider(collider) {\n        return collider === this.colliderA || collider === this.colliderB;\n    }\n    /**\n     * Calculates the unique pair hash id for this collision pair (owning id)\n     */\n    static calculatePairHash(idA, idB) {\n        if (idA.value < idB.value) {\n            return `#${idA.value}+${idB.value}`;\n        }\n        else {\n            return `#${idB.value}+${idA.value}`;\n        }\n    }\n}\n\n;// CONCATENATED MODULE: ./Math/projection.ts\n/**\n * A 1 dimensional projection on an axis, used to test overlaps\n */\nclass Projection {\n    constructor(min, max) {\n        this.min = min;\n        this.max = max;\n    }\n    overlaps(projection) {\n        return this.max > projection.min && projection.max > this.min;\n    }\n    getOverlap(projection) {\n        if (this.overlaps(projection)) {\n            if (this.max > projection.max) {\n                return projection.max - this.min;\n            }\n            else {\n                return this.max - projection.min;\n            }\n        }\n        return 0;\n    }\n}\n\n;// CONCATENATED MODULE: ./Collision/Detection/DynamicTree.ts\n\n\n\n\n/**\n * Dynamic Tree Node used for tracking bounds within the tree\n */\nclass TreeNode {\n    constructor(parent) {\n        this.parent = parent;\n        this.parent = parent || null;\n        this.data = null;\n        this.bounds = new BoundingBox();\n        this.left = null;\n        this.right = null;\n        this.height = 0;\n    }\n    isLeaf() {\n        return !this.left && !this.right;\n    }\n}\n/**\n * The DynamicTrees provides a spatial partitioning data structure for quickly querying for overlapping bounding boxes for\n * all tracked bodies. The worst case performance of this is O(n*log(n)) where n is the number of bodies in the tree.\n *\n * Internally the bounding boxes are organized as a balanced binary tree of bounding boxes, where the leaf nodes are tracked bodies.\n * Every non-leaf node is a bounding box that contains child bounding boxes.\n */\nclass DynamicTree {\n    constructor(_config, worldBounds = new BoundingBox(-Number.MAX_VALUE, -Number.MAX_VALUE, Number.MAX_VALUE, Number.MAX_VALUE)) {\n        this._config = _config;\n        this.worldBounds = worldBounds;\n        this.root = null;\n        this.nodes = {};\n    }\n    /**\n     * Inserts a node into the dynamic tree\n     */\n    _insert(leaf) {\n        // If there are no nodes in the tree, make this the root leaf\n        if (this.root === null) {\n            this.root = leaf;\n            this.root.parent = null;\n            return;\n        }\n        // Search the tree for a node that is not a leaf and find the best place to insert\n        const leafAABB = leaf.bounds;\n        let currentRoot = this.root;\n        while (!currentRoot.isLeaf()) {\n            const left = currentRoot.left;\n            const right = currentRoot.right;\n            const area = currentRoot.bounds.getPerimeter();\n            const combinedAABB = currentRoot.bounds.combine(leafAABB);\n            const combinedArea = combinedAABB.getPerimeter();\n            // Calculate cost heuristic for creating a new parent and leaf\n            const cost = 2 * combinedArea;\n            // Minimum cost of pushing the leaf down the tree\n            const inheritanceCost = 2 * (combinedArea - area);\n            // Cost of descending\n            let leftCost = 0;\n            const leftCombined = leafAABB.combine(left.bounds);\n            let newArea;\n            let oldArea;\n            if (left.isLeaf()) {\n                leftCost = leftCombined.getPerimeter() + inheritanceCost;\n            }\n            else {\n                oldArea = left.bounds.getPerimeter();\n                newArea = leftCombined.getPerimeter();\n                leftCost = newArea - oldArea + inheritanceCost;\n            }\n            let rightCost = 0;\n            const rightCombined = leafAABB.combine(right.bounds);\n            if (right.isLeaf()) {\n                rightCost = rightCombined.getPerimeter() + inheritanceCost;\n            }\n            else {\n                oldArea = right.bounds.getPerimeter();\n                newArea = rightCombined.getPerimeter();\n                rightCost = newArea - oldArea + inheritanceCost;\n            }\n            // cost is acceptable\n            if (cost < leftCost && cost < rightCost) {\n                break;\n            }\n            // Descend to the depths\n            if (leftCost < rightCost) {\n                currentRoot = left;\n            }\n            else {\n                currentRoot = right;\n            }\n        }\n        // Create the new parent node and insert into the tree\n        const oldParent = currentRoot.parent;\n        const newParent = new TreeNode(oldParent);\n        newParent.bounds = leafAABB.combine(currentRoot.bounds);\n        newParent.height = currentRoot.height + 1;\n        if (oldParent !== null) {\n            // The sibling node was not the root\n            if (oldParent.left === currentRoot) {\n                oldParent.left = newParent;\n            }\n            else {\n                oldParent.right = newParent;\n            }\n            newParent.left = currentRoot;\n            newParent.right = leaf;\n            currentRoot.parent = newParent;\n            leaf.parent = newParent;\n        }\n        else {\n            // The sibling node was the root\n            newParent.left = currentRoot;\n            newParent.right = leaf;\n            currentRoot.parent = newParent;\n            leaf.parent = newParent;\n            this.root = newParent;\n        }\n        // Walk up the tree fixing heights and AABBs\n        let currentNode = leaf.parent;\n        while (currentNode) {\n            currentNode = this._balance(currentNode);\n            if (!currentNode.left) {\n                throw new Error('Parent of current leaf cannot have a null left child' + currentNode);\n            }\n            if (!currentNode.right) {\n                throw new Error('Parent of current leaf cannot have a null right child' + currentNode);\n            }\n            currentNode.height = 1 + Math.max(currentNode.left.height, currentNode.right.height);\n            currentNode.bounds = currentNode.left.bounds.combine(currentNode.right.bounds);\n            currentNode = currentNode.parent;\n        }\n    }\n    /**\n     * Removes a node from the dynamic tree\n     */\n    _remove(leaf) {\n        if (leaf === this.root) {\n            this.root = null;\n            return;\n        }\n        const parent = leaf.parent;\n        const grandParent = parent.parent;\n        let sibling;\n        if (parent.left === leaf) {\n            sibling = parent.right;\n        }\n        else {\n            sibling = parent.left;\n        }\n        if (grandParent) {\n            if (grandParent.left === parent) {\n                grandParent.left = sibling;\n            }\n            else {\n                grandParent.right = sibling;\n            }\n            sibling.parent = grandParent;\n            let currentNode = grandParent;\n            while (currentNode) {\n                currentNode = this._balance(currentNode);\n                currentNode.bounds = currentNode.left.bounds.combine(currentNode.right.bounds);\n                currentNode.height = 1 + Math.max(currentNode.left.height, currentNode.right.height);\n                currentNode = currentNode.parent;\n            }\n        }\n        else {\n            this.root = sibling;\n            sibling.parent = null;\n        }\n    }\n    /**\n     * Tracks a body in the dynamic tree\n     */\n    trackCollider(collider) {\n        const node = new TreeNode();\n        node.data = collider;\n        node.bounds = collider.bounds;\n        node.bounds.left -= 2;\n        node.bounds.top -= 2;\n        node.bounds.right += 2;\n        node.bounds.bottom += 2;\n        this.nodes[collider.id.value] = node;\n        this._insert(node);\n    }\n    /**\n     * Updates the dynamic tree given the current bounds of each body being tracked\n     */\n    updateCollider(collider) {\n        var _a;\n        const node = this.nodes[collider.id.value];\n        if (!node) {\n            return false;\n        }\n        const b = collider.bounds;\n        // if the body is outside the world no longer update it\n        if (!this.worldBounds.contains(b)) {\n            Logger.getInstance().warn('Collider with id ' + collider.id.value + ' is outside the world bounds and will no longer be tracked for physics');\n            this.untrackCollider(collider);\n            return false;\n        }\n        if (node.bounds.contains(b)) {\n            return false;\n        }\n        this._remove(node);\n        b.left -= this._config.boundsPadding;\n        b.top -= this._config.boundsPadding;\n        b.right += this._config.boundsPadding;\n        b.bottom += this._config.boundsPadding;\n        // THIS IS CAUSING UNNECESSARY CHECKS\n        if (collider.owner) {\n            const body = (_a = collider.owner) === null || _a === void 0 ? void 0 : _a.get(BodyComponent);\n            if (body) {\n                const multdx = ((body.vel.x * 32) / 1000) * this._config.velocityMultiplier;\n                const multdy = ((body.vel.y * 32) / 1000) * this._config.velocityMultiplier;\n                if (multdx < 0) {\n                    b.left += multdx;\n                }\n                else {\n                    b.right += multdx;\n                }\n                if (multdy < 0) {\n                    b.top += multdy;\n                }\n                else {\n                    b.bottom += multdy;\n                }\n            }\n        }\n        node.bounds = b;\n        this._insert(node);\n        return true;\n    }\n    /**\n     * Untracks a body from the dynamic tree\n     */\n    untrackCollider(collider) {\n        const node = this.nodes[collider.id.value];\n        if (!node) {\n            return;\n        }\n        this._remove(node);\n        this.nodes[collider.id.value] = null;\n        delete this.nodes[collider.id.value];\n    }\n    /**\n     * Balances the tree about a node\n     */\n    _balance(node) {\n        if (node === null) {\n            throw new Error('Cannot balance at null node');\n        }\n        if (node.isLeaf() || node.height < 2) {\n            return node;\n        }\n        const left = node.left;\n        const right = node.right;\n        const a = node;\n        const b = left;\n        const c = right;\n        const d = left.left;\n        const e = left.right;\n        const f = right.left;\n        const g = right.right;\n        const balance = c.height - b.height;\n        // Rotate c node up\n        if (balance > 1) {\n            // Swap the right node with it's parent\n            c.left = a;\n            c.parent = a.parent;\n            a.parent = c;\n            // The original node's old parent should point to the right node\n            // this is mega confusing\n            if (c.parent) {\n                if (c.parent.left === a) {\n                    c.parent.left = c;\n                }\n                else {\n                    c.parent.right = c;\n                }\n            }\n            else {\n                this.root = c;\n            }\n            // Rotate\n            if (f.height > g.height) {\n                c.right = f;\n                a.right = g;\n                g.parent = a;\n                a.bounds = b.bounds.combine(g.bounds);\n                c.bounds = a.bounds.combine(f.bounds);\n                a.height = 1 + Math.max(b.height, g.height);\n                c.height = 1 + Math.max(a.height, f.height);\n            }\n            else {\n                c.right = g;\n                a.right = f;\n                f.parent = a;\n                a.bounds = b.bounds.combine(f.bounds);\n                c.bounds = a.bounds.combine(g.bounds);\n                a.height = 1 + Math.max(b.height, f.height);\n                c.height = 1 + Math.max(a.height, g.height);\n            }\n            return c;\n        }\n        // Rotate left node up\n        if (balance < -1) {\n            // swap\n            b.left = a;\n            b.parent = a.parent;\n            a.parent = b;\n            // node's old parent should point to b\n            if (b.parent) {\n                if (b.parent.left === a) {\n                    b.parent.left = b;\n                }\n                else {\n                    if (b.parent.right !== a) {\n                        throw 'Error rotating Dynamic Tree';\n                    }\n                    b.parent.right = b;\n                }\n            }\n            else {\n                this.root = b;\n            }\n            // rotate\n            if (d.height > e.height) {\n                b.right = d;\n                a.left = e;\n                e.parent = a;\n                a.bounds = c.bounds.combine(e.bounds);\n                b.bounds = a.bounds.combine(d.bounds);\n                a.height = 1 + Math.max(c.height, e.height);\n                b.height = 1 + Math.max(a.height, d.height);\n            }\n            else {\n                b.right = e;\n                a.left = d;\n                d.parent = a;\n                a.bounds = c.bounds.combine(d.bounds);\n                b.bounds = a.bounds.combine(e.bounds);\n                a.height = 1 + Math.max(c.height, d.height);\n                b.height = 1 + Math.max(a.height, e.height);\n            }\n            return b;\n        }\n        return node;\n    }\n    /**\n     * Returns the internal height of the tree, shorter trees are better. Performance drops as the tree grows\n     */\n    getHeight() {\n        if (this.root === null) {\n            return 0;\n        }\n        return this.root.height;\n    }\n    /**\n     * Queries the Dynamic Axis Aligned Tree for bodies that could be colliding with the provided body.\n     *\n     * In the query callback, it will be passed a potential collider. Returning true from this callback indicates\n     * that you are complete with your query and you do not want to continue. Returning false will continue searching\n     * the tree until all possible colliders have been returned.\n     */\n    query(collider, callback) {\n        const bounds = collider.bounds;\n        const helper = (currentNode) => {\n            if (currentNode && currentNode.bounds.overlaps(bounds)) {\n                if (currentNode.isLeaf() && currentNode.data !== collider) {\n                    if (callback.call(collider, currentNode.data)) {\n                        return true;\n                    }\n                }\n                else {\n                    return helper(currentNode.left) || helper(currentNode.right);\n                }\n            }\n            return false;\n        };\n        helper(this.root);\n    }\n    /**\n     * Queries the Dynamic Axis Aligned Tree for bodies that could be intersecting. By default the raycast query uses an infinitely\n     * long ray to test the tree specified by `max`.\n     *\n     * In the query callback, it will be passed a potential body that intersects with the raycast. Returning true from this\n     * callback indicates that your are complete with your query and do not want to continue. Return false will continue searching\n     * the tree until all possible bodies that would intersect with the ray have been returned.\n     */\n    rayCastQuery(ray, max = Infinity, callback) {\n        const helper = (currentNode) => {\n            if (currentNode && currentNode.bounds.rayCast(ray, max)) {\n                if (currentNode.isLeaf()) {\n                    if (callback.call(ray, currentNode.data)) {\n                        // ray hit a leaf! return the body\n                        return true;\n                    }\n                }\n                else {\n                    // ray hit but not at a leaf, recurse deeper\n                    return helper(currentNode.left) || helper(currentNode.right);\n                }\n            }\n            return false; // ray missed\n        };\n        helper(this.root);\n    }\n    getNodes() {\n        const helper = (currentNode) => {\n            if (currentNode) {\n                return [currentNode].concat(helper(currentNode.left), helper(currentNode.right));\n            }\n            else {\n                return [];\n            }\n        };\n        return helper(this.root);\n    }\n    debug(ex) {\n        // draw all the nodes in the Dynamic Tree\n        const helper = (currentNode) => {\n            if (currentNode) {\n                if (currentNode.isLeaf()) {\n                    currentNode.bounds.draw(ex, Color.Green);\n                }\n                else {\n                    currentNode.bounds.draw(ex, Color.White);\n                }\n                if (currentNode.left) {\n                    helper(currentNode.left);\n                }\n                if (currentNode.right) {\n                    helper(currentNode.right);\n                }\n            }\n        };\n        helper(this.root);\n    }\n}\n\n;// CONCATENATED MODULE: ./Math/ray.ts\n/**\n * A 2D ray that can be cast into the scene to do collision detection\n */\nclass Ray {\n    /**\n     * @param pos The starting position for the ray\n     * @param dir The vector indicating the direction of the ray\n     */\n    constructor(pos, dir) {\n        this.pos = pos;\n        this.dir = dir.normalize();\n    }\n    /**\n     * Tests a whether this ray intersects with a line segment. Returns a number greater than or equal to 0 on success.\n     * This number indicates the mathematical intersection time.\n     * @param line  The line to test\n     */\n    intersect(line) {\n        const numerator = line.begin.sub(this.pos);\n        // Test is line and ray are parallel and non intersecting\n        if (this.dir.cross(line.getSlope()) === 0 && numerator.cross(this.dir) !== 0) {\n            return -1;\n        }\n        // Lines are parallel\n        const divisor = this.dir.cross(line.getSlope());\n        if (divisor === 0) {\n            return -1;\n        }\n        const t = numerator.cross(line.getSlope()) / divisor;\n        if (t >= 0) {\n            const u = numerator.cross(this.dir) / divisor / line.getLength();\n            if (u >= 0 && u <= 1) {\n                return t;\n            }\n        }\n        return -1;\n    }\n    intersectPoint(line) {\n        const time = this.intersect(line);\n        if (time < 0) {\n            return null;\n        }\n        return this.getPoint(time);\n    }\n    /**\n     * Returns the point of intersection given the intersection time\n     */\n    getPoint(time) {\n        return this.pos.add(this.dir.scale(time));\n    }\n}\n\n;// CONCATENATED MODULE: ./Collision/Detection/DynamicTreeCollisionProcessor.ts\n\n\n\n\n\n\n\n\n\n/**\n * Responsible for performing the collision broadphase (locating potential collisions) and\n * the narrowphase (actual collision contacts)\n */\nclass DynamicTreeCollisionProcessor {\n    constructor(_config) {\n        this._config = _config;\n        this._pairs = new Set();\n        this._collisionPairCache = [];\n        this._colliders = [];\n        this._dynamicCollisionTree = new DynamicTree(_config.dynamicTree);\n    }\n    getColliders() {\n        return this._colliders;\n    }\n    rayCast(ray, options) {\n        var _a, _b, _c;\n        const results = [];\n        const maxDistance = (_a = options === null || options === void 0 ? void 0 : options.maxDistance) !== null && _a !== void 0 ? _a : Infinity;\n        const collisionGroup = options === null || options === void 0 ? void 0 : options.collisionGroup;\n        const collisionMask = !collisionGroup ? (_b = options === null || options === void 0 ? void 0 : options.collisionMask) !== null && _b !== void 0 ? _b : CollisionGroup.All.category : collisionGroup.category;\n        const searchAllColliders = (_c = options === null || options === void 0 ? void 0 : options.searchAllColliders) !== null && _c !== void 0 ? _c : false;\n        this._dynamicCollisionTree.rayCastQuery(ray, maxDistance, (collider) => {\n            const owner = collider.owner;\n            const maybeBody = owner.get(BodyComponent);\n            if ((options === null || options === void 0 ? void 0 : options.ignoreCollisionGroupAll) && maybeBody.group === CollisionGroup.All) {\n                return false;\n            }\n            const canCollide = (collisionMask & maybeBody.group.category) !== 0;\n            // Early exit if not the right group\n            if ((maybeBody === null || maybeBody === void 0 ? void 0 : maybeBody.group) && !canCollide) {\n                return false;\n            }\n            const hit = collider.rayCast(ray, maxDistance);\n            if (hit) {\n                if (options === null || options === void 0 ? void 0 : options.filter) {\n                    if (options.filter(hit)) {\n                        results.push(hit);\n                        if (!searchAllColliders) {\n                            // returning true exits the search\n                            return true;\n                        }\n                    }\n                }\n                else {\n                    results.push(hit);\n                    if (!searchAllColliders) {\n                        // returning true exits the search\n                        return true;\n                    }\n                }\n            }\n            return false;\n        });\n        return results;\n    }\n    /**\n     * Tracks a physics body for collisions\n     */\n    track(target) {\n        if (!target) {\n            Logger.getInstance().warn('Cannot track null collider');\n            return;\n        }\n        if (target instanceof CompositeCollider) {\n            const colliders = target.getColliders();\n            for (const c of colliders) {\n                c.owner = target.owner;\n                this._colliders.push(c);\n                this._dynamicCollisionTree.trackCollider(c);\n            }\n        }\n        else {\n            this._colliders.push(target);\n            this._dynamicCollisionTree.trackCollider(target);\n        }\n    }\n    /**\n     * Untracks a physics body\n     */\n    untrack(target) {\n        if (!target) {\n            Logger.getInstance().warn('Cannot untrack a null collider');\n            return;\n        }\n        if (target instanceof CompositeCollider) {\n            const colliders = target.getColliders();\n            for (const c of colliders) {\n                const index = this._colliders.indexOf(c);\n                if (index !== -1) {\n                    this._colliders.splice(index, 1);\n                }\n                this._dynamicCollisionTree.untrackCollider(c);\n            }\n        }\n        else {\n            const index = this._colliders.indexOf(target);\n            if (index !== -1) {\n                this._colliders.splice(index, 1);\n            }\n            this._dynamicCollisionTree.untrackCollider(target);\n        }\n    }\n    _pairExists(colliderA, colliderB) {\n        // if the collision pair has been calculated already short circuit\n        const hash = Pair.calculatePairHash(colliderA.id, colliderB.id);\n        return this._pairs.has(hash);\n    }\n    /**\n     * Detects potential collision pairs in a broadphase approach with the dynamic AABB tree strategy\n     */\n    broadphase(targets, delta, stats) {\n        const seconds = delta / 1000;\n        // Retrieve the list of potential colliders, exclude killed, prevented, and self\n        const potentialColliders = targets.filter((other) => {\n            var _a, _b;\n            const body = (_a = other.owner) === null || _a === void 0 ? void 0 : _a.get(BodyComponent);\n            return ((_b = other.owner) === null || _b === void 0 ? void 0 : _b.active) && body.collisionType !== CollisionType.PreventCollision;\n        });\n        // clear old list of collision pairs\n        this._collisionPairCache = [];\n        this._pairs.clear();\n        // check for normal collision pairs\n        let collider;\n        for (let j = 0, l = potentialColliders.length; j < l; j++) {\n            collider = potentialColliders[j];\n            // Query the collision tree for potential colliders\n            this._dynamicCollisionTree.query(collider, (other) => {\n                if (!this._pairExists(collider, other) && Pair.canCollide(collider, other)) {\n                    const pair = new Pair(collider, other);\n                    this._pairs.add(pair.id);\n                    this._collisionPairCache.push(pair);\n                }\n                // Always return false, to query whole tree. Returning true in the query method stops searching\n                return false;\n            });\n        }\n        if (stats) {\n            stats.physics.pairs = this._collisionPairCache.length;\n        }\n        // Check dynamic tree for fast moving objects\n        // Fast moving objects are those moving at least there smallest bound per frame\n        if (this._config.continuous.checkForFastBodies) {\n            for (const collider of potentialColliders) {\n                const body = collider.owner.get(BodyComponent);\n                // Skip non-active objects. Does not make sense on other collision types\n                if (body.collisionType !== CollisionType.Active) {\n                    continue;\n                }\n                // Maximum travel distance next frame\n                const updateDistance = body.vel.size * seconds + // velocity term\n                    body.acc.size * 0.5 * seconds * seconds; // acc term\n                // Find the minimum dimension\n                const minDimension = Math.min(collider.bounds.height, collider.bounds.width);\n                if (this._config.continuous.disableMinimumSpeedForFastBody || updateDistance > minDimension / 2) {\n                    if (stats) {\n                        stats.physics.fastBodies++;\n                    }\n                    // start with the oldPos because the integration for actors has already happened\n                    // objects resting on a surface may be slightly penetrating in the current position\n                    const updateVec = body.globalPos.sub(body.oldPos);\n                    const centerPoint = collider.center;\n                    const furthestPoint = collider.getFurthestPoint(body.vel);\n                    const origin = furthestPoint.sub(updateVec);\n                    const ray = new Ray(origin, body.vel);\n                    // back the ray up by -2x surfaceEpsilon to account for fast moving objects starting on the surface\n                    ray.pos = ray.pos.add(ray.dir.scale(-2 * this._config.continuous.surfaceEpsilon));\n                    let minCollider;\n                    let minTranslate = new Vector(Infinity, Infinity);\n                    this._dynamicCollisionTree.rayCastQuery(ray, updateDistance + this._config.continuous.surfaceEpsilon * 2, (other) => {\n                        if (!this._pairExists(collider, other) && Pair.canCollide(collider, other)) {\n                            const hit = other.rayCast(ray, updateDistance + this._config.continuous.surfaceEpsilon * 10);\n                            if (hit) {\n                                const translate = hit.point.sub(origin);\n                                if (translate.size < minTranslate.size) {\n                                    minTranslate = translate;\n                                    minCollider = other;\n                                }\n                            }\n                        }\n                        return false;\n                    });\n                    if (minCollider && Vector.isValid(minTranslate)) {\n                        const pair = new Pair(collider, minCollider);\n                        if (!this._pairs.has(pair.id)) {\n                            this._pairs.add(pair.id);\n                            this._collisionPairCache.push(pair);\n                        }\n                        // move the fast moving object to the other body\n                        // need to push into the surface by ex.Physics.surfaceEpsilon\n                        const shift = centerPoint.sub(furthestPoint);\n                        body.globalPos = origin\n                            .add(shift)\n                            .add(minTranslate)\n                            .add(ray.dir.scale(10 * this._config.continuous.surfaceEpsilon)); // needed to push the shape slightly into contact\n                        collider.update(body.transform.get());\n                        if (stats) {\n                            stats.physics.fastBodyCollisions++;\n                        }\n                    }\n                }\n            }\n        }\n        // return cache\n        return this._collisionPairCache;\n    }\n    /**\n     * Applies narrow phase on collision pairs to find actual area intersections\n     * Adds actual colliding pairs to stats' Frame data\n     */\n    narrowphase(pairs, stats) {\n        let contacts = [];\n        for (let i = 0; i < pairs.length; i++) {\n            const newContacts = pairs[i].collide();\n            contacts = contacts.concat(newContacts);\n            if (stats && newContacts.length > 0) {\n                for (const c of newContacts) {\n                    stats.physics.contacts.set(c.id, c);\n                }\n            }\n        }\n        if (stats) {\n            stats.physics.collisions += contacts.length;\n        }\n        return contacts;\n    }\n    /**\n     * Update the dynamic tree positions\n     */\n    update(targets) {\n        let updated = 0;\n        const len = targets.length;\n        for (let i = 0; i < len; i++) {\n            if (this._dynamicCollisionTree.updateCollider(targets[i])) {\n                updated++;\n            }\n        }\n        return updated;\n    }\n    debug(ex) {\n        this._dynamicCollisionTree.debug(ex);\n    }\n}\n\n;// CONCATENATED MODULE: ./Collision/Colliders/Collider.ts\n\n\n\n/**\n * A collision collider specifies the geometry that can detect when other collision colliders intersect\n * for the purposes of colliding 2 objects in excalibur.\n */\nclass Collider {\n    constructor() {\n        this.id = createId('collider', Collider._ID++);\n        /**\n         * Composite collider if any this collider is attached to\n         *\n         * **WARNING** do not tamper with this property\n         */\n        this.composite = null;\n        this.events = new EventEmitter();\n        /**\n         * Pixel offset of the collision collider relative to the collider, by default (0, 0) meaning the collider is positioned\n         * on top of the collider.\n         */\n        this.offset = Vector.Zero;\n    }\n    /**\n     * Returns a boolean indicating whether this body collided with\n     * or was in stationary contact with\n     * the body of the other [[Collider]]\n     */\n    touching(other) {\n        const contact = this.collide(other);\n        if (contact) {\n            return true;\n        }\n        return false;\n    }\n}\nCollider._ID = 0;\n\n;// CONCATENATED MODULE: ./Collision/SolverStrategy.ts\n/**\n * Possible collision resolution strategies\n *\n * The default is [[SolverStrategy.Arcade]] which performs simple axis aligned arcade style physics. This is useful for things\n * like platformers or top down games.\n *\n * More advanced rigid body physics are enabled by setting [[SolverStrategy.Realistic]] which allows for complicated\n * simulated physical interactions.\n */\nvar SolverStrategy;\n(function (SolverStrategy) {\n    SolverStrategy[\"Arcade\"] = \"arcade\";\n    SolverStrategy[\"Realistic\"] = \"realistic\";\n})(SolverStrategy || (SolverStrategy = {}));\n\n;// CONCATENATED MODULE: ./Collision/Physics.ts\n\n\n/**\n * Possible broadphase collision pair identification strategies\n *\n * The default strategy is [[BroadphaseStrategy.DynamicAABBTree]] which uses a binary tree of axis-aligned bounding boxes to identify\n * potential collision pairs which is O(nlog(n)) faster.\n * @deprecated Unused in Excalibur, will be removed in v0.30\n */\nvar BroadphaseStrategy;\n(function (BroadphaseStrategy) {\n    BroadphaseStrategy[BroadphaseStrategy[\"DynamicAABBTree\"] = 0] = \"DynamicAABBTree\";\n})(BroadphaseStrategy || (BroadphaseStrategy = {}));\n/**\n * Possible numerical integrators for position and velocity\n * @deprecated Unused in Excalibur, will be removed in v0.30\n */\nvar Integrator;\n(function (Integrator) {\n    Integrator[Integrator[\"Euler\"] = 0] = \"Euler\";\n})(Integrator || (Integrator = {}));\n/**\n * The [[Physics]] object is the global configuration object for all Excalibur physics.\n * @deprecated Use engine args to configure Physics `new ex.Engine({physics: {...}})`, will be removed in v0.30\n */\n/* istanbul ignore next */\nclass Physics {\n    /**\n     * @deprecated Use engine args to configure Physics `new ex.Engine({physics: {...}})`, will be removed in v0.30\n     */\n    static get gravity() {\n        return Physics.acc;\n    }\n    static set gravity(v) {\n        Physics.acc = v;\n    }\n    /**\n     * Configures Excalibur to use \"arcade\" physics. Arcade physics which performs simple axis aligned arcade style physics.\n     * @deprecated Use engine args to configure Physics `new ex.Engine({physics: {...}})`, will be removed in v0.30\n     */\n    static useArcadePhysics() {\n        Physics.collisionResolutionStrategy = SolverStrategy.Arcade;\n    }\n    /**\n     * Configures Excalibur to use rigid body physics. Rigid body physics allows for complicated\n     * simulated physical interactions.\n     * @deprecated Use engine args to configure Physics `new ex.Engine({physics: {...}})`, will be removed in v0.30\n     */\n    static useRealisticPhysics() {\n        Physics.collisionResolutionStrategy = SolverStrategy.Realistic;\n    }\n}\n/**\n * Global acceleration that is applied to all vanilla actors that have a [[CollisionType.Active|active]] collision type.\n * Global acceleration won't effect [[Label|labels]], [[ScreenElement|ui actors]], or [[Trigger|triggers]] in Excalibur.\n *\n * This is a great way to globally simulate effects like gravity.\n * @deprecated Use engine args to configure Physics `new ex.Engine({physics: {...}})`, will be removed in v0.30\n */\nPhysics.acc = new Vector(0, 0);\n/**\n * Globally switches all Excalibur physics behavior on or off.\n * @deprecated Use engine args to configure Physics `new ex.Engine({physics: {...}})`, will be removed in v0.30\n */\nPhysics.enabled = true;\n/**\n * Gets or sets the broadphase pair identification strategy.\n *\n * The default strategy is [[BroadphaseStrategy.DynamicAABBTree]] which uses a binary tree of axis-aligned bounding boxes to identify\n * potential collision pairs which is O(nlog(n)) faster.\n * @deprecated Use engine args to configure Physics `new ex.Engine({physics: {...}})`, will be removed in v0.30\n */\nPhysics.broadphaseStrategy = BroadphaseStrategy.DynamicAABBTree;\n/**\n * Gets or sets the global collision resolution strategy (narrowphase).\n *\n * The default is [[SolverStrategy.Arcade]] which performs simple axis aligned arcade style physics.\n *\n * More advanced rigid body physics are enabled by setting [[SolverStrategy.Realistic]] which allows for complicated\n * simulated physical interactions.\n * @deprecated Use engine args to configure Physics `new ex.Engine({physics: {...}})`, will be removed in v0.30\n */\nPhysics.collisionResolutionStrategy = SolverStrategy.Arcade;\n/**\n * The default mass to use if none is specified\n * @deprecated Use engine args to configure Physics `new ex.Engine({physics: {...}})`, will be removed in v0.30\n */\nPhysics.defaultMass = 10;\n/**\n * Gets or sets the position and velocity positional integrator, currently only Euler is supported.\n * @deprecated Use engine args to configure Physics `new ex.Engine({physics: {...}})`, will be removed in v0.30\n */\nPhysics.integrator = Integrator.Euler;\n/**\n * Factor to add to the RigidBody BoundingBox, bounding box (dimensions += vel * dynamicTreeVelocityMultiplier);\n * @deprecated Use engine args to configure Physics `new ex.Engine({physics: {...}})`, will be removed in v0.30\n */\nPhysics.dynamicTreeVelocityMultiplier = 2;\n/**\n * Pad RigidBody BoundingBox by a constant amount\n * @deprecated Use engine args to configure Physics `new ex.Engine({physics: {...}})`, will be removed in v0.30\n */\nPhysics.boundsPadding = 5;\n/**\n * Number of position iterations (overlap) to run in the solver\n * @deprecated Use engine args to configure Physics `new ex.Engine({physics: {...}})`, will be removed in v0.30\n */\nPhysics.positionIterations = 3;\n/**\n * Number of velocity iteration (response) to run in the solver\n * @deprecated Use engine args to configure Physics `new ex.Engine({physics: {...}})`, will be removed in v0.30\n */\nPhysics.velocityIterations = 8;\n/**\n * Amount of overlap to tolerate in pixels\n * @deprecated Use engine args to configure Physics `new ex.Engine({physics: {...}})`, will be removed in v0.30\n */\nPhysics.slop = 1;\n/**\n * Amount of positional overlap correction to apply each position iteration of the solver\n * O - meaning no correction, 1 - meaning correct all overlap\n * @deprecated Use engine args to configure Physics `new ex.Engine({physics: {...}})`, will be removed in v0.30\n */\nPhysics.steeringFactor = 0.2;\n/**\n * Warm start set to true re-uses impulses from previous frames back in the solver\n * @deprecated Use engine args to configure Physics `new ex.Engine({physics: {...}})`, will be removed in v0.30\n */\nPhysics.warmStart = true;\n/**\n * By default bodies do not sleep\n * @deprecated Use engine args to configure Physics `new ex.Engine({physics: {...}})`, will be removed in v0.30\n */\nPhysics.bodiesCanSleepByDefault = false;\n/**\n * Surface epsilon is used to help deal with surface penetration\n * @deprecated Use engine args to configure Physics `new ex.Engine({physics: {...}})`, will be removed in v0.30\n */\nPhysics.surfaceEpsilon = 0.1;\n/**\n * @deprecated Use engine args to configure Physics `new ex.Engine({physics: {...}})`, will be removed in v0.30\n */\nPhysics.sleepEpsilon = 0.07;\n/**\n * @deprecated Use engine args to configure Physics `new ex.Engine({physics: {...}})`, will be removed in v0.30\n */\nPhysics.wakeThreshold = Physics.sleepEpsilon * 3;\n/**\n * @deprecated Use engine args to configure Physics `new ex.Engine({physics: {...}})`, will be removed in v0.30\n */\nPhysics.sleepBias = 0.9;\n/**\n * Enable fast moving body checking, this enables checking for collision pairs via raycast for fast moving objects to prevent\n * bodies from tunneling through one another.\n * @deprecated Use engine args to configure Physics `new ex.Engine({physics: {...}})`, will be removed in v0.30\n */\nPhysics.checkForFastBodies = true;\n/**\n * Disable minimum fast moving body raycast, by default if ex.Physics.checkForFastBodies = true Excalibur will only check if the\n * body is moving at least half of its minimum dimension in an update. If ex.Physics.disableMinimumSpeedForFastBody is set to true,\n * Excalibur will always perform the fast body raycast regardless of speed.\n * @deprecated Use engine args to configure Physics `new ex.Engine({physics: {...}})`, will be removed in v0.30\n */\nPhysics.disableMinimumSpeedForFastBody = false;\n\n;// CONCATENATED MODULE: ./Collision/Solver/ContactBias.ts\n/**\n * Tells the Arcade collision solver to prefer certain contacts over others\n */\nvar ContactSolveBias;\n(function (ContactSolveBias) {\n    ContactSolveBias[\"None\"] = \"none\";\n    ContactSolveBias[\"VerticalFirst\"] = \"vertical-first\";\n    ContactSolveBias[\"HorizontalFirst\"] = \"horizontal-first\";\n})(ContactSolveBias || (ContactSolveBias = {}));\n/**\n * Vertical First contact solve bias Used by the [[ArcadeSolver]] to sort contacts\n */\nconst VerticalFirst = {\n    'vertical': 1,\n    'horizontal': 2\n};\n/**\n * Horizontal First contact solve bias Used by the [[ArcadeSolver]] to sort contacts\n */\nconst HorizontalFirst = {\n    'horizontal': 1,\n    'vertical': 2\n};\n/**\n * None value, [[ArcadeSolver]] sorts contacts using distance by default\n */\nconst None = {\n    'horizontal': 0,\n    'vertical': 0\n};\n\n;// CONCATENATED MODULE: ./Collision/PhysicsConfig.ts\n\n\n\n\nconst DefaultPhysicsConfig = {\n    enabled: true,\n    gravity: vec(0, 0),\n    solver: SolverStrategy.Arcade,\n    colliders: {\n        compositeStrategy: 'together'\n    },\n    continuous: {\n        checkForFastBodies: true,\n        disableMinimumSpeedForFastBody: false,\n        surfaceEpsilon: 0.1\n    },\n    bodies: {\n        canSleepByDefault: false,\n        sleepEpsilon: 0.07,\n        wakeThreshold: 0.07 * 3,\n        sleepBias: 0.9,\n        defaultMass: 10\n    },\n    dynamicTree: {\n        boundsPadding: 5,\n        velocityMultiplier: 2\n    },\n    arcade: {\n        contactSolveBias: ContactSolveBias.None\n    },\n    realistic: {\n        positionIterations: 3,\n        velocityIterations: 8,\n        slop: 1,\n        steeringFactor: 0.2,\n        warmStart: true\n    }\n};\n/**\n * @deprecated will be removed in v0.30\n */\nfunction DeprecatedStaticToConfig() {\n    return {\n        enabled: Physics.enabled,\n        gravity: Physics.gravity,\n        solver: Physics.collisionResolutionStrategy,\n        continuous: {\n            checkForFastBodies: Physics.checkForFastBodies,\n            disableMinimumSpeedForFastBody: Physics.disableMinimumSpeedForFastBody,\n            surfaceEpsilon: Physics.surfaceEpsilon\n        },\n        colliders: {\n            compositeStrategy: 'together'\n        },\n        bodies: {\n            canSleepByDefault: Physics.bodiesCanSleepByDefault,\n            sleepEpsilon: Physics.sleepEpsilon,\n            wakeThreshold: Physics.wakeThreshold,\n            sleepBias: Physics.sleepBias,\n            defaultMass: Physics.defaultMass\n        },\n        dynamicTree: {\n            boundsPadding: Physics.boundsPadding,\n            velocityMultiplier: Physics.dynamicTreeVelocityMultiplier\n        },\n        arcade: {\n            contactSolveBias: ContactSolveBias.None\n        },\n        realistic: {\n            positionIterations: Physics.positionIterations,\n            velocityIterations: Physics.velocityIterations,\n            slop: Physics.slop,\n            steeringFactor: Physics.steeringFactor,\n            warmStart: Physics.warmStart\n        }\n    };\n}\n\n;// CONCATENATED MODULE: ./Collision/Colliders/CompositeCollider.ts\n\n\n\n\n\n\n\n\n\nclass CompositeCollider extends Collider {\n    /**\n     * Treat composite collider's member colliders as either separate colliders for the purposes of onCollisionStart/onCollision\n     * or as a single collider together.\n     *\n     * This property can be overridden on individual [[CompositeColliders]].\n     *\n     * For composites without gaps or small groups of colliders, you probably want 'together'\n     *\n     * For composites with deliberate gaps, like a platforming level layout, you probably want 'separate'\n     *\n     * Default is 'together' if unset\n     */\n    set compositeStrategy(value) {\n        this._compositeStrategy = value;\n    }\n    get compositeStrategy() {\n        return this._compositeStrategy;\n    }\n    constructor(colliders) {\n        super();\n        this._collisionProcessor = new DynamicTreeCollisionProcessor(DefaultPhysicsConfig);\n        this._dynamicAABBTree = new DynamicTree(DefaultPhysicsConfig.dynamicTree);\n        this._colliders = [];\n        for (const c of colliders) {\n            this.addCollider(c);\n        }\n    }\n    clearColliders() {\n        this._colliders = [];\n    }\n    addCollider(collider) {\n        let colliders;\n        if (collider instanceof CompositeCollider) {\n            colliders = collider.getColliders();\n            colliders.forEach(c => c.offset.addEqual(collider.offset));\n        }\n        else {\n            colliders = [collider];\n        }\n        // Flatten composites\n        for (const c of colliders) {\n            c.events.pipe(this.events);\n            c.composite = this;\n            this._colliders.push(c);\n            this._collisionProcessor.track(c);\n            this._dynamicAABBTree.trackCollider(c);\n        }\n    }\n    removeCollider(collider) {\n        collider.events.pipe(this.events);\n        collider.composite = null;\n        removeItemFromArray(collider, this._colliders);\n        this._collisionProcessor.untrack(collider);\n        this._dynamicAABBTree.untrackCollider(collider);\n    }\n    getColliders() {\n        return this._colliders;\n    }\n    get worldPos() {\n        var _a, _b;\n        return ((_b = (_a = this._transform) === null || _a === void 0 ? void 0 : _a.pos) !== null && _b !== void 0 ? _b : Vector.Zero).add(this.offset);\n    }\n    get center() {\n        var _a, _b;\n        return ((_b = (_a = this._transform) === null || _a === void 0 ? void 0 : _a.pos) !== null && _b !== void 0 ? _b : Vector.Zero).add(this.offset);\n    }\n    get bounds() {\n        var _a, _b;\n        // TODO cache this\n        const colliders = this.getColliders();\n        const results = colliders.reduce((acc, collider) => acc.combine(collider.bounds), (_b = (_a = colliders[0]) === null || _a === void 0 ? void 0 : _a.bounds) !== null && _b !== void 0 ? _b : new BoundingBox().translate(this.worldPos));\n        return results.translate(this.offset);\n    }\n    get localBounds() {\n        var _a, _b;\n        // TODO cache this\n        const colliders = this.getColliders();\n        const results = colliders.reduce((acc, collider) => acc.combine(collider.localBounds), (_b = (_a = colliders[0]) === null || _a === void 0 ? void 0 : _a.localBounds) !== null && _b !== void 0 ? _b : new BoundingBox());\n        return results;\n    }\n    get axes() {\n        // TODO cache this\n        const colliders = this.getColliders();\n        let axes = [];\n        for (const collider of colliders) {\n            axes = axes.concat(collider.axes);\n        }\n        return axes;\n    }\n    getFurthestPoint(direction) {\n        const colliders = this.getColliders();\n        const furthestPoints = [];\n        for (const collider of colliders) {\n            furthestPoints.push(collider.getFurthestPoint(direction));\n        }\n        // Pick best point from all colliders\n        let bestPoint = furthestPoints[0];\n        let maxDistance = -Number.MAX_VALUE;\n        for (const point of furthestPoints) {\n            const distance = point.dot(direction);\n            if (distance > maxDistance) {\n                bestPoint = point;\n                maxDistance = distance;\n            }\n        }\n        return bestPoint;\n    }\n    getInertia(mass) {\n        const colliders = this.getColliders();\n        let totalInertia = 0;\n        for (const collider of colliders) {\n            totalInertia += collider.getInertia(mass);\n        }\n        return totalInertia;\n    }\n    collide(other) {\n        let otherColliders = [other];\n        if (other instanceof CompositeCollider) {\n            otherColliders = other.getColliders();\n        }\n        const pairs = [];\n        for (const c of otherColliders) {\n            this._dynamicAABBTree.query(c, (potentialCollider) => {\n                pairs.push(new Pair(c, potentialCollider));\n                return false;\n            });\n        }\n        let contacts = [];\n        for (const p of pairs) {\n            contacts = contacts.concat(p.collide());\n        }\n        return contacts;\n    }\n    getClosestLineBetween(other) {\n        const colliders = this.getColliders();\n        const lines = [];\n        if (other instanceof CompositeCollider) {\n            const otherColliders = other.getColliders();\n            for (const colliderA of colliders) {\n                for (const colliderB of otherColliders) {\n                    const maybeLine = colliderA.getClosestLineBetween(colliderB);\n                    if (maybeLine) {\n                        lines.push(maybeLine);\n                    }\n                }\n            }\n        }\n        else {\n            for (const collider of colliders) {\n                const maybeLine = other.getClosestLineBetween(collider);\n                if (maybeLine) {\n                    lines.push(maybeLine);\n                }\n            }\n        }\n        if (lines.length) {\n            let minLength = lines[0].getLength();\n            let minLine = lines[0];\n            for (const line of lines) {\n                const length = line.getLength();\n                if (length < minLength) {\n                    minLength = length;\n                    minLine = line;\n                }\n            }\n            return minLine;\n        }\n        return null;\n    }\n    contains(point) {\n        const colliders = this.getColliders();\n        for (const collider of colliders) {\n            if (collider.contains(point)) {\n                return true;\n            }\n        }\n        return false;\n    }\n    rayCast(ray, max) {\n        const colliders = this.getColliders();\n        const hits = [];\n        for (const collider of colliders) {\n            const hit = collider.rayCast(ray, max);\n            if (hit) {\n                hits.push(hit);\n            }\n        }\n        if (hits.length) {\n            let minHit = hits[0];\n            let minDistance = minHit.point.dot(ray.dir);\n            for (const hit of hits) {\n                const distance = ray.dir.dot(hit.point);\n                if (distance < minDistance) {\n                    minHit = hit;\n                    minDistance = distance;\n                }\n            }\n            return minHit;\n        }\n        return null;\n    }\n    project(axis) {\n        const colliders = this.getColliders();\n        const projections = [];\n        for (const collider of colliders) {\n            const proj = collider.project(axis);\n            if (proj) {\n                projections.push(proj);\n            }\n        }\n        // Merge all proj's on the same axis\n        if (projections.length) {\n            const newProjection = new Projection(projections[0].min, projections[0].max);\n            for (const proj of projections) {\n                newProjection.min = Math.min(proj.min, newProjection.min);\n                newProjection.max = Math.max(proj.max, newProjection.max);\n            }\n            return newProjection;\n        }\n        return null;\n    }\n    update(transform) {\n        if (transform) {\n            const colliders = this.getColliders();\n            for (const collider of colliders) {\n                collider.owner = this.owner;\n                collider.update(transform);\n            }\n        }\n    }\n    debug(ex, color, options) {\n        const colliders = this.getColliders();\n        ex.save();\n        ex.translate(this.offset.x, this.offset.y);\n        for (const collider of colliders) {\n            collider.debug(ex, color, options);\n        }\n        ex.restore();\n    }\n    clone() {\n        const result = new CompositeCollider(this._colliders.map((c) => c.clone()));\n        result.offset = this.offset.clone();\n        return result;\n    }\n}\n\n;// CONCATENATED MODULE: ./Math/line-segment.ts\n\n/**\n * A 2D line segment\n */\nclass LineSegment {\n    /**\n     * @param begin  The starting point of the line segment\n     * @param end  The ending point of the line segment\n     */\n    constructor(begin, end) {\n        this.begin = begin;\n        this.end = end;\n    }\n    /**\n     * Gets the raw slope (m) of the line. Will return (+/-)Infinity for vertical lines.\n     */\n    get slope() {\n        return (this.end.y - this.begin.y) / (this.end.x - this.begin.x);\n    }\n    /**\n     * Gets the Y-intercept (b) of the line. Will return (+/-)Infinity if there is no intercept.\n     */\n    get intercept() {\n        return this.begin.y - this.slope * this.begin.x;\n    }\n    /**\n     * Gets the normal of the line\n     */\n    normal() {\n        if (this._normal) {\n            return this._normal;\n        }\n        return this._normal = this.end.sub(this.begin).normal();\n    }\n    dir() {\n        if (this._dir) {\n            return this._dir;\n        }\n        return this._dir = this.end.sub(this.begin);\n    }\n    getPoints() {\n        return [this.begin, this.end];\n    }\n    /**\n     * Returns the slope of the line in the form of a vector of length 1\n     */\n    getSlope() {\n        if (this._slope) {\n            return this._slope;\n        }\n        const begin = this.begin;\n        const end = this.end;\n        const distance = begin.distance(end);\n        return this._slope = end.sub(begin).scale(1 / distance);\n    }\n    /**\n     * Returns the edge of the line as vector, the length of the vector is the length of the edge\n     */\n    getEdge() {\n        const begin = this.begin;\n        const end = this.end;\n        return end.sub(begin);\n    }\n    /**\n     * Returns the length of the line segment in pixels\n     */\n    getLength() {\n        if (this._length) {\n            return this._length;\n        }\n        const begin = this.begin;\n        const end = this.end;\n        const distance = begin.distance(end);\n        return this._length = distance;\n    }\n    /**\n     * Returns the midpoint of the edge\n     */\n    get midpoint() {\n        return this.begin.add(this.end).scale(0.5);\n    }\n    /**\n     * Flips the direction of the line segment\n     */\n    flip() {\n        return new LineSegment(this.end, this.begin);\n    }\n    /**\n     * Tests if a given point is below the line, points in the normal direction above the line are considered above.\n     * @param point\n     */\n    below(point) {\n        const above2 = (this.end.x - this.begin.x) * (point.y - this.begin.y) - (this.end.y - this.begin.y) * (point.x - this.begin.x);\n        return above2 >= 0;\n    }\n    /**\n     * Returns the clip point\n     * @param sideVector Vector that traces the line\n     * @param length Length to clip along side\n     */\n    clip(sideVector, length) {\n        let dir = sideVector;\n        dir = dir.normalize();\n        const near = dir.dot(this.begin) - length;\n        const far = dir.dot(this.end) - length;\n        const results = [];\n        if (near <= 0) {\n            results.push(this.begin);\n        }\n        if (far <= 0) {\n            results.push(this.end);\n        }\n        if (near * far < 0) {\n            const clipTime = near / (near - far);\n            results.push(this.begin.add(this.end.sub(this.begin).scale(clipTime)));\n        }\n        if (results.length !== 2) {\n            return null;\n        }\n        return new LineSegment(results[0], results[1]);\n    }\n    /**\n     * Find the perpendicular distance from the line to a point\n     * https://en.wikipedia.org/wiki/Distance_from_a_point_to_a_line\n     * @param point\n     */\n    distanceToPoint(point, signed = false) {\n        const x0 = point.x;\n        const y0 = point.y;\n        const l = this.getLength();\n        const dy = this.end.y - this.begin.y;\n        const dx = this.end.x - this.begin.x;\n        const distance = (dy * x0 - dx * y0 + this.end.x * this.begin.y - this.end.y * this.begin.x) / l;\n        return signed ? distance : Math.abs(distance);\n    }\n    /**\n     * Find the perpendicular line from the line to a point\n     * https://en.wikipedia.org/wiki/Distance_from_a_point_to_a_line\n     * (a - p) - ((a - p) * n)n\n     * a is a point on the line\n     * p is the arbitrary point above the line\n     * n is a unit vector in direction of the line\n     * @param point\n     */\n    findVectorToPoint(point) {\n        const aMinusP = this.begin.sub(point);\n        const n = this.getSlope();\n        return aMinusP.sub(n.scale(aMinusP.dot(n)));\n    }\n    /**\n     * Finds a point on the line given only an X or a Y value. Given an X value, the function returns\n     * a new point with the calculated Y value and vice-versa.\n     * @param x The known X value of the target point\n     * @param y The known Y value of the target point\n     * @returns A new point with the other calculated axis value\n     */\n    findPoint(x = null, y = null) {\n        const m = this.slope;\n        const b = this.intercept;\n        if (x !== null) {\n            return new Vector(x, m * x + b);\n        }\n        else if (y !== null) {\n            return new Vector((y - b) / m, y);\n        }\n        else {\n            throw new Error('You must provide an X or a Y value');\n        }\n    }\n    /**\n     * @see http://stackoverflow.com/a/11908158/109458\n     */\n    hasPoint() {\n        let currPoint;\n        let threshold = 0;\n        if (typeof arguments[0] === 'number' && typeof arguments[1] === 'number') {\n            currPoint = new Vector(arguments[0], arguments[1]);\n            threshold = arguments[2] || 0;\n        }\n        else if (arguments[0] instanceof Vector) {\n            currPoint = arguments[0];\n            threshold = arguments[1] || 0;\n        }\n        else {\n            throw 'Could not determine the arguments for Vector.hasPoint';\n        }\n        const dxc = currPoint.x - this.begin.x;\n        const dyc = currPoint.y - this.begin.y;\n        const dx1 = this.end.x - this.begin.x;\n        const dy1 = this.end.y - this.begin.y;\n        const cross = dxc * dy1 - dyc * dx1;\n        // check whether point lines on the line\n        if (Math.abs(cross) > threshold) {\n            return false;\n        }\n        // check whether point lies in-between start and end\n        if (Math.abs(dx1) >= Math.abs(dy1)) {\n            return dx1 > 0 ? this.begin.x <= currPoint.x && currPoint.x <= this.end.x : this.end.x <= currPoint.x && currPoint.x <= this.begin.x;\n        }\n        else {\n            return dy1 > 0 ? this.begin.y <= currPoint.y && currPoint.y <= this.end.y : this.end.y <= currPoint.y && currPoint.y <= this.begin.y;\n        }\n    }\n}\n\n;// CONCATENATED MODULE: ./Collision/Colliders/ClosestLineJumpTable.ts\n\n\n\n/**\n * Finds the closes line between 2 line segments, were the magnitude of u, v are the lengths of each segment\n * L1 = P(s) = p0 + s * u, where s is time and p0 is the start of the line\n * L2 = Q(t) = q0 + t * v, where t is time and q0 is the start of the line\n * @param p0 Point where L1 begins\n * @param u Direction and length of L1\n * @param q0 Point were L2 begins\n * @param v Direction and length of L2\n */\nfunction ClosestLine(p0, u, q0, v) {\n    // Distance between 2 lines http://geomalgorithms.com/a07-_distance.html\n    // w(s, t) = P(s) - Q(t)\n    // The w(s, t) that has the minimum distance we will say is w(sClosest, tClosest) = wClosest\n    //\n    // wClosest is the vector that is uniquely perpendicular to the 2 line directions u & v.\n    // wClosest = w0 + sClosest * u - tClosest * v, where w0 is p0 - q0\n    //\n    // The closest point between 2 lines then satisfies this pair of equations\n    // 1: u * wClosest = 0\n    // 2: v * wClosest = 0\n    //\n    // Substituting wClosest into the equations we get\n    //\n    // 1: (u * u) * sClosest - (u * v) tClosest = -u * w0\n    // 2: (v * u) * sClosest - (v * v) tClosest = -v * w0\n    // simplify w0\n    const w0 = p0.sub(q0);\n    // simplify (u * u);\n    const a = u.dot(u);\n    // simplify (u * v);\n    const b = u.dot(v);\n    // simplify (v * v)\n    const c = v.dot(v);\n    // simplify (u * w0)\n    const d = u.dot(w0);\n    // simplify (v * w0)\n    const e = v.dot(w0);\n    // denominator ac - b^2\n    const denom = a * c - b * b;\n    let sDenom = denom;\n    let tDenom = denom;\n    // if denom is 0 they are parallel, use any point from either as the start in this case p0\n    if (denom === 0 || denom <= 0.01) {\n        const tClosestParallel = d / b;\n        return new LineSegment(p0, q0.add(v.scale(tClosestParallel)));\n    }\n    // Solve for sClosest for infinite line\n    let sClosest = b * e - c * d; // / denom;\n    // Solve for tClosest for infinite line\n    let tClosest = a * e - b * d; // / denom;\n    // Solve for segments candidate edges, if sClosest and tClosest are outside their segments\n    if (sClosest < 0) {\n        sClosest = 0;\n        tClosest = e;\n        tDenom = c;\n    }\n    else if (sClosest > sDenom) {\n        sClosest = sDenom;\n        tClosest = e + b;\n        tDenom = c;\n    }\n    if (tClosest < 0) {\n        tClosest = 0;\n        if (-d < 0) {\n            sClosest = 0;\n        }\n        else if (-d > a) {\n            sClosest = sDenom;\n        }\n        else {\n            sClosest = -d;\n            sDenom = a;\n        }\n    }\n    else if (tClosest > tDenom) {\n        tClosest = tDenom;\n        if (-d + b < 0) {\n            sClosest = 0;\n        }\n        else if (-d + b > a) {\n            sClosest = sDenom;\n        }\n        else {\n            sClosest = -d + b;\n            sDenom = a;\n        }\n    }\n    sClosest = Math.abs(sClosest) < 0.001 ? 0 : sClosest / sDenom;\n    tClosest = Math.abs(tClosest) < 0.001 ? 0 : tClosest / tDenom;\n    return new LineSegment(p0.add(u.scale(sClosest)), q0.add(v.scale(tClosest)));\n}\nconst ClosestLineJumpTable = {\n    PolygonPolygonClosestLine(polygonA, polygonB) {\n        // Find the 2 closest faces on each polygon\n        const otherWorldPos = polygonB.worldPos;\n        const otherDirection = otherWorldPos.sub(polygonA.worldPos);\n        const thisDirection = otherDirection.negate();\n        const rayTowardsOther = new Ray(polygonA.worldPos, otherDirection);\n        const rayTowardsThis = new Ray(otherWorldPos, thisDirection);\n        const thisPoint = polygonA.rayCast(rayTowardsOther).point.add(rayTowardsOther.dir.scale(0.1));\n        const otherPoint = polygonB.rayCast(rayTowardsThis).point.add(rayTowardsThis.dir.scale(0.1));\n        const thisFace = polygonA.getClosestFace(thisPoint);\n        const otherFace = polygonB.getClosestFace(otherPoint);\n        // L1 = P(s) = p0 + s * u, where s is time and p0 is the start of the line\n        const p0 = thisFace.face.begin;\n        const u = thisFace.face.getEdge();\n        // L2 = Q(t) = q0 + t * v, where t is time and q0 is the start of the line\n        const q0 = otherFace.face.begin;\n        const v = otherFace.face.getEdge();\n        return ClosestLine(p0, u, q0, v);\n    },\n    PolygonEdgeClosestLine(polygon, edge) {\n        // Find the 2 closest faces on each polygon\n        const otherWorldPos = edge.worldPos;\n        const otherDirection = otherWorldPos.sub(polygon.worldPos);\n        const rayTowardsOther = new Ray(polygon.worldPos, otherDirection);\n        const thisPoint = polygon.rayCast(rayTowardsOther).point.add(rayTowardsOther.dir.scale(0.1));\n        const thisFace = polygon.getClosestFace(thisPoint);\n        // L1 = P(s) = p0 + s * u, where s is time and p0 is the start of the line\n        const p0 = thisFace.face.begin;\n        const u = thisFace.face.getEdge();\n        // L2 = Q(t) = q0 + t * v, where t is time and q0 is the start of the line\n        const edgeLine = edge.asLine();\n        const edgeStart = edgeLine.begin;\n        const edgeVector = edgeLine.getEdge();\n        const q0 = edgeStart;\n        const v = edgeVector;\n        return ClosestLine(p0, u, q0, v);\n    },\n    PolygonCircleClosestLine(polygon, circle) {\n        // https://math.stackexchange.com/questions/1919177/how-to-find-point-on-line-closest-to-sphere\n        // Find the 2 closest faces on each polygon\n        const otherWorldPos = circle.worldPos;\n        const otherDirection = otherWorldPos.sub(polygon.worldPos);\n        const rayTowardsOther = new Ray(polygon.worldPos, otherDirection.normalize());\n        const thisPoint = polygon.rayCast(rayTowardsOther).point.add(rayTowardsOther.dir.scale(0.1));\n        const thisFace = polygon.getClosestFace(thisPoint);\n        // L1 = P(s) = p0 + s * u, where s is time and p0 is the start of the line\n        const p0 = thisFace.face.begin;\n        const u = thisFace.face.getEdge();\n        // Time of minimum distance\n        let t = (u.x * (otherWorldPos.x - p0.x) + u.y * (otherWorldPos.y - p0.y)) / (u.x * u.x + u.y * u.y);\n        // If time of minimum is past the edge clamp\n        if (t > 1) {\n            t = 1;\n        }\n        else if (t < 0) {\n            t = 0;\n        }\n        // Minimum distance\n        const d = Math.sqrt(Math.pow(p0.x + u.x * t - otherWorldPos.x, 2) + Math.pow(p0.y + u.y * t - otherWorldPos.y, 2)) - circle.radius;\n        const circlex = ((p0.x + u.x * t - otherWorldPos.x) * circle.radius) / (circle.radius + d);\n        const circley = ((p0.y + u.y * t - otherWorldPos.y) * circle.radius) / (circle.radius + d);\n        return new LineSegment(u.scale(t).add(p0), new Vector(otherWorldPos.x + circlex, otherWorldPos.y + circley));\n    },\n    CircleCircleClosestLine(circleA, circleB) {\n        // Find the 2 closest faces on each polygon\n        const otherWorldPos = circleB.worldPos;\n        const otherDirection = otherWorldPos.sub(circleA.worldPos);\n        const thisWorldPos = circleA.worldPos;\n        const thisDirection = thisWorldPos.sub(circleB.worldPos);\n        const rayTowardsOther = new Ray(circleA.worldPos, otherDirection);\n        const rayTowardsThis = new Ray(circleB.worldPos, thisDirection);\n        const thisPoint = circleA.rayCast(rayTowardsOther);\n        const otherPoint = circleB.rayCast(rayTowardsThis);\n        return new LineSegment(thisPoint.point, otherPoint.point);\n    },\n    CircleEdgeClosestLine(circle, edge) {\n        // https://math.stackexchange.com/questions/1919177/how-to-find-point-on-line-closest-to-sphere\n        const circleWorldPos = circle.worldPos;\n        // L1 = P(s) = p0 + s * u, where s is time and p0 is the start of the line\n        const edgeLine = edge.asLine();\n        const edgeStart = edgeLine.begin;\n        const edgeVector = edgeLine.getEdge();\n        const p0 = edgeStart;\n        const u = edgeVector;\n        // Time of minimum distance\n        let t = (u.x * (circleWorldPos.x - p0.x) + u.y * (circleWorldPos.y - p0.y)) / (u.x * u.x + u.y * u.y);\n        // If time of minimum is past the edge clamp to edge\n        if (t > 1) {\n            t = 1;\n        }\n        else if (t < 0) {\n            t = 0;\n        }\n        // Minimum distance\n        const d = Math.sqrt(Math.pow(p0.x + u.x * t - circleWorldPos.x, 2) + Math.pow(p0.y + u.y * t - circleWorldPos.y, 2)) - circle.radius;\n        const circlex = ((p0.x + u.x * t - circleWorldPos.x) * circle.radius) / (circle.radius + d);\n        const circley = ((p0.y + u.y * t - circleWorldPos.y) * circle.radius) / (circle.radius + d);\n        return new LineSegment(u.scale(t).add(p0), new Vector(circleWorldPos.x + circlex, circleWorldPos.y + circley));\n    },\n    EdgeEdgeClosestLine(edgeA, edgeB) {\n        // L1 = P(s) = p0 + s * u, where s is time and p0 is the start of the line\n        const edgeLineA = edgeA.asLine();\n        const edgeStartA = edgeLineA.begin;\n        const edgeVectorA = edgeLineA.getEdge();\n        const p0 = edgeStartA;\n        const u = edgeVectorA;\n        // L2 = Q(t) = q0 + t * v, where t is time and q0 is the start of the line\n        const edgeLineB = edgeB.asLine();\n        const edgeStartB = edgeLineB.begin;\n        const edgeVectorB = edgeLineB.getEdge();\n        const q0 = edgeStartB;\n        const v = edgeVectorB;\n        return ClosestLine(p0, u, q0, v);\n    }\n};\n\n;// CONCATENATED MODULE: ./Collision/Colliders/CircleCollider.ts\n\n\n\n\n\n\n\n\n\n\n\n/**\n * This is a circle collider for the excalibur rigid body physics simulation\n */\nclass CircleCollider extends Collider {\n    get worldPos() {\n        return this._globalMatrix.getPosition();\n    }\n    /**\n     * Get the radius of the circle\n     */\n    get radius() {\n        var _a;\n        const tx = this._transform;\n        const scale = (_a = tx === null || tx === void 0 ? void 0 : tx.globalScale) !== null && _a !== void 0 ? _a : Vector.One;\n        // This is a trade off, the alternative is retooling circles to support ellipse collisions\n        return this._naturalRadius * Math.min(scale.x, scale.y);\n    }\n    /**\n     * Set the radius of the circle\n     */\n    set radius(val) {\n        var _a;\n        const tx = this._transform;\n        const scale = (_a = tx === null || tx === void 0 ? void 0 : tx.globalScale) !== null && _a !== void 0 ? _a : Vector.One;\n        // This is a trade off, the alternative is retooling circles to support ellipse collisions\n        this._naturalRadius = val / Math.min(scale.x, scale.y);\n    }\n    constructor(options) {\n        super();\n        /**\n         * Position of the circle relative to the collider, by default (0, 0).\n         */\n        this.offset = Vector.Zero;\n        this._globalMatrix = AffineMatrix.identity();\n        this.offset = options.offset || Vector.Zero;\n        this.radius = options.radius || 0;\n        this._globalMatrix.translate(this.offset.x, this.offset.y);\n    }\n    /**\n     * Returns a clone of this shape, not associated with any collider\n     */\n    clone() {\n        return new CircleCollider({\n            offset: this.offset.clone(),\n            radius: this.radius\n        });\n    }\n    /**\n     * Get the center of the collider in world coordinates\n     */\n    get center() {\n        return this._globalMatrix.getPosition();\n    }\n    /**\n     * Tests if a point is contained in this collider\n     */\n    contains(point) {\n        var _a, _b;\n        const pos = (_b = (_a = this._transform) === null || _a === void 0 ? void 0 : _a.pos) !== null && _b !== void 0 ? _b : this.offset;\n        const distance = pos.distance(point);\n        if (distance <= this.radius) {\n            return true;\n        }\n        return false;\n    }\n    /**\n     * Casts a ray at the Circle collider and returns the nearest point of collision\n     * @param ray\n     */\n    rayCast(ray, max = Infinity) {\n        var _a, _b;\n        //https://en.wikipedia.org/wiki/Line%E2%80%93sphere_intersection\n        const c = this.center;\n        const dir = ray.dir;\n        const orig = ray.pos;\n        const discriminant = Math.sqrt(Math.pow(dir.dot(orig.sub(c)), 2) - Math.pow(orig.sub(c).distance(), 2) + Math.pow(this.radius, 2));\n        if (discriminant < 0) {\n            // no intersection\n            return null;\n        }\n        else {\n            let toi = 0;\n            // tangent case\n            if (discriminant === 0) {\n                toi = -dir.dot(orig.sub(c));\n                if (toi > 0 && toi < max) {\n                    const point = ray.getPoint(toi);\n                    return {\n                        point,\n                        normal: point.sub(c).normalize(),\n                        collider: this,\n                        body: (_a = this.owner) === null || _a === void 0 ? void 0 : _a.get(BodyComponent),\n                        distance: toi\n                    };\n                }\n                return null;\n            }\n            else { // two point\n                const toi1 = -dir.dot(orig.sub(c)) + discriminant;\n                const toi2 = -dir.dot(orig.sub(c)) - discriminant;\n                const positiveToi = [];\n                if (toi1 >= 0) {\n                    positiveToi.push(toi1);\n                }\n                if (toi2 >= 0) {\n                    positiveToi.push(toi2);\n                }\n                const minToi = Math.min(...positiveToi);\n                if (minToi <= max) {\n                    const point = ray.getPoint(minToi);\n                    return {\n                        point,\n                        normal: point.sub(c).normalize(),\n                        collider: this,\n                        body: (_b = this.owner) === null || _b === void 0 ? void 0 : _b.get(BodyComponent),\n                        distance: minToi\n                    };\n                }\n                return null;\n            }\n        }\n    }\n    getClosestLineBetween(shape) {\n        if (shape instanceof CircleCollider) {\n            return ClosestLineJumpTable.CircleCircleClosestLine(this, shape);\n        }\n        else if (shape instanceof PolygonCollider) {\n            return ClosestLineJumpTable.PolygonCircleClosestLine(shape, this).flip();\n        }\n        else if (shape instanceof EdgeCollider) {\n            return ClosestLineJumpTable.CircleEdgeClosestLine(this, shape).flip();\n        }\n        else {\n            throw new Error(`Polygon could not collide with unknown CollisionShape ${typeof shape}`);\n        }\n    }\n    /**\n     * @inheritdoc\n     */\n    collide(collider) {\n        if (collider instanceof CircleCollider) {\n            return CollisionJumpTable.CollideCircleCircle(this, collider);\n        }\n        else if (collider instanceof PolygonCollider) {\n            return CollisionJumpTable.CollideCirclePolygon(this, collider);\n        }\n        else if (collider instanceof EdgeCollider) {\n            return CollisionJumpTable.CollideCircleEdge(this, collider);\n        }\n        else {\n            throw new Error(`Circle could not collide with unknown CollisionShape ${typeof collider}`);\n        }\n    }\n    /**\n     * Find the point on the collider furthest in the direction specified\n     */\n    getFurthestPoint(direction) {\n        return this.center.add(direction.normalize().scale(this.radius));\n    }\n    /**\n     * Find the local point on the shape in the direction specified\n     * @param direction\n     */\n    getFurthestLocalPoint(direction) {\n        const dir = direction.normalize();\n        return dir.scale(this.radius);\n    }\n    /**\n     * Get the axis aligned bounding box for the circle collider in world coordinates\n     */\n    get bounds() {\n        var _a, _b, _c;\n        const tx = this._transform;\n        const scale = (_a = tx === null || tx === void 0 ? void 0 : tx.globalScale) !== null && _a !== void 0 ? _a : Vector.One;\n        const rotation = (_b = tx === null || tx === void 0 ? void 0 : tx.globalRotation) !== null && _b !== void 0 ? _b : 0;\n        const pos = ((_c = tx === null || tx === void 0 ? void 0 : tx.globalPos) !== null && _c !== void 0 ? _c : Vector.Zero);\n        return new BoundingBox(this.offset.x - this._naturalRadius, this.offset.y - this._naturalRadius, this.offset.x + this._naturalRadius, this.offset.y + this._naturalRadius).rotate(rotation).scale(scale).translate(pos);\n    }\n    /**\n     * Get the axis aligned bounding box for the circle collider in local coordinates\n     */\n    get localBounds() {\n        return new BoundingBox(this.offset.x - this._naturalRadius, this.offset.y - this._naturalRadius, this.offset.x + this._naturalRadius, this.offset.y + this._naturalRadius);\n    }\n    /**\n     * Get axis not implemented on circles, since there are infinite axis in a circle\n     */\n    get axes() {\n        return [];\n    }\n    /**\n     * Returns the moment of inertia of a circle given it's mass\n     * https://en.wikipedia.org/wiki/List_of_moments_of_inertia\n     */\n    getInertia(mass) {\n        return (mass * this.radius * this.radius) / 2;\n    }\n    /* istanbul ignore next */\n    update(transform) {\n        var _a;\n        this._transform = transform;\n        const globalMat = (_a = transform.matrix) !== null && _a !== void 0 ? _a : this._globalMatrix;\n        globalMat.clone(this._globalMatrix);\n        this._globalMatrix.translate(this.offset.x, this.offset.y);\n    }\n    /**\n     * Project the circle along a specified axis\n     */\n    project(axis) {\n        const scalars = [];\n        const point = this.center;\n        const dotProduct = point.dot(axis);\n        scalars.push(dotProduct);\n        scalars.push(dotProduct + this.radius);\n        scalars.push(dotProduct - this.radius);\n        return new Projection(Math.min.apply(Math, scalars), Math.max.apply(Math, scalars));\n    }\n    debug(ex, color, options) {\n        var _a, _b, _c, _d;\n        const { lineWidth } = { ...{ lineWidth: 1 }, ...options };\n        const tx = this._transform;\n        const scale = (_a = tx === null || tx === void 0 ? void 0 : tx.globalScale) !== null && _a !== void 0 ? _a : Vector.One;\n        const rotation = (_b = tx === null || tx === void 0 ? void 0 : tx.globalRotation) !== null && _b !== void 0 ? _b : 0;\n        const pos = ((_c = tx === null || tx === void 0 ? void 0 : tx.globalPos) !== null && _c !== void 0 ? _c : Vector.Zero);\n        ex.save();\n        ex.translate(pos.x, pos.y);\n        ex.rotate(rotation);\n        ex.scale(scale.x, scale.y);\n        ex.drawCircle(((_d = this.offset) !== null && _d !== void 0 ? _d : Vector.Zero), this._naturalRadius, Color.Transparent, color, lineWidth);\n        ex.restore();\n    }\n}\n\n;// CONCATENATED MODULE: ./Collision/Detection/CollisionContact.ts\n\n\n\n/**\n * Collision contacts are used internally by Excalibur to resolve collision between colliders. This\n * Pair prevents collisions from being evaluated more than one time\n */\nclass CollisionContact {\n    constructor(colliderA, colliderB, mtv, normal, tangent, points, localPoints, info) {\n        var _a, _b, _c, _d, _e, _f;\n        this._canceled = false;\n        this.colliderA = colliderA;\n        this.colliderB = colliderB;\n        this.mtv = mtv;\n        this.normal = normal;\n        this.tangent = tangent;\n        this.points = points;\n        this.localPoints = localPoints;\n        this.info = info;\n        this.id = Pair.calculatePairHash(colliderA.id, colliderB.id);\n        if (colliderA.composite || colliderB.composite) {\n            // Add on the parent composite pair for start/end contact if 'together\n            const colliderAId = ((_a = colliderA.composite) === null || _a === void 0 ? void 0 : _a.compositeStrategy) === 'separate' ? colliderA.id : (_c = (_b = colliderA.composite) === null || _b === void 0 ? void 0 : _b.id) !== null && _c !== void 0 ? _c : colliderA.id;\n            const colliderBId = ((_d = colliderB.composite) === null || _d === void 0 ? void 0 : _d.compositeStrategy) === 'separate' ? colliderB.id : (_f = (_e = colliderB.composite) === null || _e === void 0 ? void 0 : _e.id) !== null && _f !== void 0 ? _f : colliderB.id;\n            this.id += '|' + Pair.calculatePairHash(colliderAId, colliderBId);\n        }\n    }\n    /**\n     * Match contact awake state, except if body's are Fixed\n     */\n    matchAwake() {\n        const bodyA = this.colliderA.owner.get(BodyComponent);\n        const bodyB = this.colliderB.owner.get(BodyComponent);\n        if (bodyA && bodyB) {\n            if (bodyA.sleeping !== bodyB.sleeping) {\n                if (bodyA.sleeping && bodyA.collisionType !== CollisionType.Fixed && bodyB.sleepMotion >= bodyA.wakeThreshold) {\n                    bodyA.setSleeping(false);\n                }\n                if (bodyB.sleeping && bodyB.collisionType !== CollisionType.Fixed && bodyA.sleepMotion >= bodyB.wakeThreshold) {\n                    bodyB.setSleeping(false);\n                }\n            }\n        }\n    }\n    isCanceled() {\n        return this._canceled;\n    }\n    cancel() {\n        this._canceled = true;\n    }\n}\n\n;// CONCATENATED MODULE: ./Collision/Colliders/SeparatingAxis.ts\nclass SeparatingAxis {\n    static findPolygonPolygonSeparation(polyA, polyB) {\n        let bestSeparation = -Number.MAX_VALUE;\n        let bestSide = null;\n        let bestAxis = null;\n        let bestSideIndex = -1;\n        let bestOtherPoint = null;\n        const sides = polyA.getSides();\n        const localSides = polyA.getLocalSides();\n        for (let i = 0; i < sides.length; i++) {\n            const side = sides[i];\n            const axis = side.normal();\n            const vertB = polyB.getFurthestPoint(axis.negate());\n            // Separation on side i's axis\n            // We are looking for the largest separation between poly A's sides\n            const vertSeparation = side.distanceToPoint(vertB, true);\n            if (vertSeparation > bestSeparation) {\n                bestSeparation = vertSeparation;\n                bestSide = side;\n                bestAxis = axis;\n                bestSideIndex = i;\n                bestOtherPoint = vertB;\n            }\n        }\n        return {\n            collider: polyA,\n            separation: bestAxis ? bestSeparation : 99,\n            axis: bestAxis,\n            side: bestSide,\n            localSide: localSides[bestSideIndex],\n            sideId: bestSideIndex,\n            point: bestOtherPoint,\n            localPoint: bestAxis ? polyB.getFurthestLocalPoint(bestAxis.negate()) : null\n        };\n    }\n    static findCirclePolygonSeparation(circle, polygon) {\n        const axes = polygon.axes;\n        const pc = polygon.center;\n        // Special SAT with circles\n        const polyDir = pc.sub(circle.worldPos);\n        const closestPointOnPoly = polygon.getFurthestPoint(polyDir.negate());\n        axes.push(closestPointOnPoly.sub(circle.worldPos).normalize());\n        let minOverlap = Number.MAX_VALUE;\n        let minAxis = null;\n        let minIndex = -1;\n        for (let i = 0; i < axes.length; i++) {\n            const proj1 = polygon.project(axes[i]);\n            const proj2 = circle.project(axes[i]);\n            const overlap = proj1.getOverlap(proj2);\n            if (overlap <= 0) {\n                return null;\n            }\n            else {\n                if (overlap < minOverlap) {\n                    minOverlap = overlap;\n                    minAxis = axes[i];\n                    minIndex = i;\n                }\n            }\n        }\n        if (minIndex < 0) {\n            return null;\n        }\n        return minAxis.normalize().scale(minOverlap);\n    }\n}\n\n;// CONCATENATED MODULE: ./Collision/Colliders/CollisionJumpTable.ts\n\n\n\n\n\n\n\n\nconst CollisionJumpTable = {\n    CollideCircleCircle(circleA, circleB) {\n        const circleAPos = circleA.worldPos;\n        const circleBPos = circleB.worldPos;\n        const combinedRadius = circleA.radius + circleB.radius;\n        const distance = circleAPos.distance(circleBPos);\n        if (distance > combinedRadius) {\n            return [];\n        }\n        // negative means overlap\n        const separation = combinedRadius - distance;\n        // Normal points from A -> B\n        const normal = circleBPos.sub(circleAPos).normalize();\n        const tangent = normal.perpendicular();\n        const mvt = normal.scale(separation);\n        const point = circleA.getFurthestPoint(normal);\n        const local = circleA.getFurthestLocalPoint(normal);\n        const info = {\n            collider: circleA,\n            separation,\n            axis: normal,\n            point: point\n        };\n        return [new CollisionContact(circleA, circleB, mvt, normal, tangent, [point], [local], info)];\n    },\n    CollideCirclePolygon(circle, polygon) {\n        var _a, _b;\n        let minAxis = SeparatingAxis.findCirclePolygonSeparation(circle, polygon);\n        if (!minAxis) {\n            return [];\n        }\n        // make sure that the minAxis is pointing away from circle\n        const samedir = minAxis.dot(polygon.center.sub(circle.center));\n        minAxis = samedir < 0 ? minAxis.negate() : minAxis;\n        const point = circle.getFurthestPoint(minAxis);\n        const xf = (_b = (_a = circle.owner) === null || _a === void 0 ? void 0 : _a.get(TransformComponent)) !== null && _b !== void 0 ? _b : new TransformComponent();\n        const local = xf.applyInverse(point);\n        const normal = minAxis.normalize();\n        const info = {\n            collider: circle,\n            separation: -minAxis.size,\n            axis: normal,\n            point: point,\n            localPoint: local,\n            side: polygon.findSide(normal.negate()),\n            localSide: polygon.findLocalSide(normal.negate())\n        };\n        return [new CollisionContact(circle, polygon, minAxis, normal, normal.perpendicular(), [point], [local], info)];\n    },\n    CollideCircleEdge(circle, edge) {\n        // TODO not sure this actually abides by local/world collisions\n        // Are edge.begin and edge.end local space or world space? I think they should be local\n        // center of the circle in world pos\n        const cc = circle.center;\n        // vector in the direction of the edge\n        const edgeWorld = edge.asLine();\n        const e = edgeWorld.end.sub(edgeWorld.begin);\n        // amount of overlap with the circle's center along the edge direction\n        const u = e.dot(edgeWorld.end.sub(cc));\n        const v = e.dot(cc.sub(edgeWorld.begin));\n        const side = edge.asLine();\n        const localSide = edge.asLocalLine();\n        // Potential region A collision (circle is on the left side of the edge, before the beginning)\n        if (v <= 0) {\n            const da = edgeWorld.begin.sub(cc);\n            const dda = da.dot(da); // quick and dirty way of calc'n distance in r^2 terms saves some sqrts\n            // save some sqrts\n            if (dda > circle.radius * circle.radius) {\n                return []; // no collision\n            }\n            const normal = da.normalize();\n            const separation = circle.radius - Math.sqrt(dda);\n            const info = {\n                collider: circle,\n                separation: separation,\n                axis: normal,\n                point: side.begin,\n                side: side,\n                localSide: localSide\n            };\n            return [\n                new CollisionContact(circle, edge, normal.scale(separation), normal, normal.perpendicular(), [side.begin], [localSide.begin], info)\n            ];\n        }\n        // Potential region B collision (circle is on the right side of the edge, after the end)\n        if (u <= 0) {\n            const db = edgeWorld.end.sub(cc);\n            const ddb = db.dot(db);\n            if (ddb > circle.radius * circle.radius) {\n                return [];\n            }\n            const normal = db.normalize();\n            const separation = circle.radius - Math.sqrt(ddb);\n            const info = {\n                collider: circle,\n                separation: separation,\n                axis: normal,\n                point: side.end,\n                side: side,\n                localSide: localSide\n            };\n            return [\n                new CollisionContact(circle, edge, normal.scale(separation), normal, normal.perpendicular(), [side.end], [localSide.end], info)\n            ];\n        }\n        // Otherwise potential region AB collision (circle is in the middle of the edge between the beginning and end)\n        const den = e.dot(e);\n        const pointOnEdge = edgeWorld.begin\n            .scale(u)\n            .add(edgeWorld.end.scale(v))\n            .scale(1 / den);\n        const d = cc.sub(pointOnEdge);\n        const dd = d.dot(d);\n        if (dd > circle.radius * circle.radius) {\n            return []; // no collision\n        }\n        let normal = e.perpendicular();\n        // flip correct direction\n        if (normal.dot(cc.sub(edgeWorld.begin)) < 0) {\n            normal.x = -normal.x;\n            normal.y = -normal.y;\n        }\n        normal = normal.normalize();\n        const separation = circle.radius - Math.sqrt(dd);\n        const mvt = normal.scale(separation);\n        const info = {\n            collider: circle,\n            separation: separation,\n            axis: normal,\n            point: pointOnEdge,\n            side: side,\n            localSide: localSide\n        };\n        return [\n            new CollisionContact(circle, edge, mvt, normal.negate(), normal.negate().perpendicular(), [pointOnEdge], [pointOnEdge.sub(edge.worldPos)], info)\n        ];\n    },\n    CollideEdgeEdge() {\n        // Edge-edge collision doesn't make sense\n        return [];\n    },\n    CollidePolygonEdge(polygon, edge) {\n        var _a;\n        const pc = polygon.center;\n        const ec = edge.center;\n        const dir = ec.sub(pc).normalize();\n        // build a temporary polygon from the edge to use SAT\n        const linePoly = new PolygonCollider({\n            points: [edge.begin, edge.end, edge.end.add(dir.scale(100)), edge.begin.add(dir.scale(100))],\n            offset: edge.offset\n        });\n        linePoly.owner = edge.owner;\n        const tx = (_a = edge.owner) === null || _a === void 0 ? void 0 : _a.get(TransformComponent);\n        if (tx) {\n            linePoly.update(edge.owner.get(TransformComponent).get());\n        }\n        // Gross hack but poly-poly works well\n        const contact = this.CollidePolygonPolygon(polygon, linePoly);\n        if (contact.length) {\n            // Fudge the contact back to edge\n            contact[0].colliderB = edge;\n            contact[0].id = Pair.calculatePairHash(polygon.id, edge.id);\n        }\n        return contact;\n    },\n    CollidePolygonPolygon(polyA, polyB) {\n        var _a, _b, _c, _d;\n        // Multi contact from SAT\n        // https://gamedev.stackexchange.com/questions/111390/multiple-contacts-for-sat-collision-detection\n        // do a SAT test to find a min axis if it exists\n        const separationA = SeparatingAxis.findPolygonPolygonSeparation(polyA, polyB);\n        // If there is no overlap from boxA's perspective we can end early\n        if (separationA.separation > 0) {\n            return [];\n        }\n        const separationB = SeparatingAxis.findPolygonPolygonSeparation(polyB, polyA);\n        // If there is no overlap from boxB's perspective exit now\n        if (separationB.separation > 0) {\n            return [];\n        }\n        // Separations are both negative, we want to pick the least negative (minimal movement)\n        const separation = separationA.separation > separationB.separation ? separationA : separationB;\n        // The incident side is the most opposite from the axes of collision on the other collider\n        const other = separation.collider === polyA ? polyB : polyA;\n        const incident = other.findSide(separation.axis.negate());\n        // Clip incident side by the perpendicular lines at each end of the reference side\n        // https://en.wikipedia.org/wiki/Sutherland%E2%80%93Hodgman_algorithm\n        const reference = separation.side;\n        const refDir = reference.dir().normalize();\n        // Find our contact points by clipping the incident by the collision side\n        const clipRight = incident.clip(refDir.negate(), -refDir.dot(reference.begin));\n        let clipLeft = null;\n        if (clipRight) {\n            clipLeft = clipRight.clip(refDir, refDir.dot(reference.end));\n        }\n        // If there is no left there is no collision\n        if (clipLeft) {\n            // We only want clip points below the reference edge, discard the others\n            const points = clipLeft.getPoints().filter((p) => {\n                return reference.below(p);\n            });\n            let normal = separation.axis;\n            let tangent = normal.perpendicular();\n            // Point Contact A -> B\n            if (polyB.center.sub(polyA.center).dot(normal) < 0) {\n                normal = normal.negate();\n                tangent = normal.perpendicular();\n            }\n            // Points are clipped from incident which is the other collider\n            // Store those as locals\n            let localPoints = [];\n            if (separation.collider === polyA) {\n                const xf = (_b = (_a = polyB.owner) === null || _a === void 0 ? void 0 : _a.get(TransformComponent)) !== null && _b !== void 0 ? _b : new TransformComponent();\n                localPoints = points.map((p) => xf.applyInverse(p));\n            }\n            else {\n                const xf = (_d = (_c = polyA.owner) === null || _c === void 0 ? void 0 : _c.get(TransformComponent)) !== null && _d !== void 0 ? _d : new TransformComponent();\n                localPoints = points.map((p) => xf.applyInverse(p));\n            }\n            return [new CollisionContact(polyA, polyB, normal.scale(-separation.separation), normal, tangent, points, localPoints, separation)];\n        }\n        return [];\n    },\n    FindContactSeparation(contact, localPoint) {\n        var _a, _b, _c, _d;\n        const shapeA = contact.colliderA;\n        const txA = (_b = (_a = contact.colliderA.owner) === null || _a === void 0 ? void 0 : _a.get(TransformComponent)) !== null && _b !== void 0 ? _b : new TransformComponent();\n        const shapeB = contact.colliderB;\n        const txB = (_d = (_c = contact.colliderB.owner) === null || _c === void 0 ? void 0 : _c.get(TransformComponent)) !== null && _d !== void 0 ? _d : new TransformComponent();\n        // both are circles\n        if (shapeA instanceof CircleCollider && shapeB instanceof CircleCollider) {\n            const combinedRadius = shapeA.radius + shapeB.radius;\n            const distance = txA.pos.distance(txB.pos);\n            const separation = combinedRadius - distance;\n            return -separation;\n        }\n        // both are polygons\n        if (shapeA instanceof PolygonCollider && shapeB instanceof PolygonCollider) {\n            if (contact.info.localSide) {\n                let side;\n                let worldPoint;\n                if (contact.info.collider === shapeA) {\n                    side = new LineSegment(txA.apply(contact.info.localSide.begin), txA.apply(contact.info.localSide.end));\n                    worldPoint = txB.apply(localPoint);\n                }\n                else {\n                    side = new LineSegment(txB.apply(contact.info.localSide.begin), txB.apply(contact.info.localSide.end));\n                    worldPoint = txA.apply(localPoint);\n                }\n                return side.distanceToPoint(worldPoint, true);\n            }\n        }\n        // polygon v circle\n        if ((shapeA instanceof PolygonCollider && shapeB instanceof CircleCollider) ||\n            (shapeB instanceof PolygonCollider && shapeA instanceof CircleCollider)) {\n            const worldPoint = txA.apply(localPoint);\n            if (contact.info.side) {\n                return contact.info.side.distanceToPoint(worldPoint, true);\n            }\n        }\n        // polygon v edge\n        if ((shapeA instanceof EdgeCollider && shapeB instanceof PolygonCollider) ||\n            (shapeB instanceof EdgeCollider && shapeA instanceof PolygonCollider)) {\n            let worldPoint;\n            if (contact.info.collider === shapeA) {\n                worldPoint = txB.apply(localPoint);\n            }\n            else {\n                worldPoint = txA.apply(localPoint);\n            }\n            if (contact.info.side) {\n                return contact.info.side.distanceToPoint(worldPoint, true);\n            }\n        }\n        // circle v edge\n        if ((shapeA instanceof CircleCollider && shapeB instanceof EdgeCollider) ||\n            (shapeB instanceof CircleCollider && shapeA instanceof EdgeCollider)) {\n            // Local point is always on the edge which is always shapeB\n            const worldPoint = txB.apply(localPoint);\n            let circlePoint;\n            if (shapeA instanceof CircleCollider) {\n                circlePoint = shapeA.getFurthestPoint(contact.normal);\n            }\n            const dist = worldPoint.distance(circlePoint);\n            if (contact.info.side) {\n                return dist > 0 ? -dist : 0;\n            }\n        }\n        return 0;\n    }\n};\n\n;// CONCATENATED MODULE: ./Collision/Colliders/EdgeCollider.ts\n\n\n\n\n\n\n\n\n\n\n\n/**\n * Edge is a single line collider to create collisions with a single line.\n */\nclass EdgeCollider extends Collider {\n    constructor(options) {\n        var _a;\n        super();\n        this._globalMatrix = AffineMatrix.identity();\n        this.begin = options.begin || Vector.Zero;\n        this.end = options.end || Vector.Zero;\n        this.offset = (_a = options.offset) !== null && _a !== void 0 ? _a : Vector.Zero;\n    }\n    /**\n     * Returns a clone of this Edge, not associated with any collider\n     */\n    clone() {\n        return new EdgeCollider({\n            begin: this.begin.clone(),\n            end: this.end.clone()\n        });\n    }\n    get worldPos() {\n        var _a;\n        const tx = this._transform;\n        return (_a = tx === null || tx === void 0 ? void 0 : tx.globalPos.add(this.offset)) !== null && _a !== void 0 ? _a : this.offset;\n    }\n    /**\n     * Get the center of the collision area in world coordinates\n     */\n    get center() {\n        const begin = this._getTransformedBegin();\n        const end = this._getTransformedEnd();\n        const pos = begin.average(end);\n        return pos;\n    }\n    _getTransformedBegin() {\n        return this._globalMatrix.multiply(this.begin);\n    }\n    _getTransformedEnd() {\n        return this._globalMatrix.multiply(this.end);\n    }\n    /**\n     * Returns the slope of the line in the form of a vector\n     */\n    getSlope() {\n        const begin = this._getTransformedBegin();\n        const end = this._getTransformedEnd();\n        const distance = begin.distance(end);\n        return end.sub(begin).scale(1 / distance);\n    }\n    /**\n     * Returns the length of the line segment in pixels\n     */\n    getLength() {\n        const begin = this._getTransformedBegin();\n        const end = this._getTransformedEnd();\n        const distance = begin.distance(end);\n        return distance;\n    }\n    /**\n     * Tests if a point is contained in this collision area\n     */\n    contains() {\n        return false;\n    }\n    /**\n     * @inheritdoc\n     */\n    rayCast(ray, max = Infinity) {\n        var _a;\n        const numerator = this._getTransformedBegin().sub(ray.pos);\n        // Test is line and ray are parallel and non intersecting\n        if (ray.dir.cross(this.getSlope()) === 0 && numerator.cross(ray.dir) !== 0) {\n            return null;\n        }\n        // Lines are parallel\n        const divisor = ray.dir.cross(this.getSlope());\n        if (divisor === 0) {\n            return null;\n        }\n        const t = numerator.cross(this.getSlope()) / divisor;\n        if (t >= 0 && t <= max) {\n            const u = numerator.cross(ray.dir) / divisor / this.getLength();\n            if (u >= 0 && u <= 1) {\n                return {\n                    distance: t,\n                    normal: this.asLine().normal(),\n                    collider: this,\n                    body: (_a = this.owner) === null || _a === void 0 ? void 0 : _a.get(BodyComponent),\n                    point: ray.getPoint(t)\n                };\n            }\n        }\n        return null;\n    }\n    /**\n     * Returns the closes line between this and another collider, from this -> collider\n     * @param shape\n     */\n    getClosestLineBetween(shape) {\n        if (shape instanceof CircleCollider) {\n            return ClosestLineJumpTable.CircleEdgeClosestLine(shape, this);\n        }\n        else if (shape instanceof PolygonCollider) {\n            return ClosestLineJumpTable.PolygonEdgeClosestLine(shape, this).flip();\n        }\n        else if (shape instanceof EdgeCollider) {\n            return ClosestLineJumpTable.EdgeEdgeClosestLine(this, shape);\n        }\n        else {\n            throw new Error(`Polygon could not collide with unknown CollisionShape ${typeof shape}`);\n        }\n    }\n    /**\n     * @inheritdoc\n     */\n    collide(shape) {\n        if (shape instanceof CircleCollider) {\n            return CollisionJumpTable.CollideCircleEdge(shape, this);\n        }\n        else if (shape instanceof PolygonCollider) {\n            return CollisionJumpTable.CollidePolygonEdge(shape, this);\n        }\n        else if (shape instanceof EdgeCollider) {\n            return CollisionJumpTable.CollideEdgeEdge();\n        }\n        else {\n            throw new Error(`Edge could not collide with unknown CollisionShape ${typeof shape}`);\n        }\n    }\n    /**\n     * Find the point on the collider furthest in the direction specified\n     */\n    getFurthestPoint(direction) {\n        const transformedBegin = this._getTransformedBegin();\n        const transformedEnd = this._getTransformedEnd();\n        if (direction.dot(transformedBegin) > 0) {\n            return transformedBegin;\n        }\n        else {\n            return transformedEnd;\n        }\n    }\n    _boundsFromBeginEnd(begin, end, padding = 10) {\n        // A perfectly vertical or horizontal edge would have a bounds 0 width or height\n        // this causes problems for the collision system so we give them some padding\n        return new BoundingBox(Math.min(begin.x, end.x) - padding, Math.min(begin.y, end.y) - padding, Math.max(begin.x, end.x) + padding, Math.max(begin.y, end.y) + padding);\n    }\n    /**\n     * Get the axis aligned bounding box for the edge collider in world space\n     */\n    get bounds() {\n        const transformedBegin = this._getTransformedBegin();\n        const transformedEnd = this._getTransformedEnd();\n        return this._boundsFromBeginEnd(transformedBegin, transformedEnd);\n    }\n    /**\n     * Get the axis aligned bounding box for the edge collider in local space\n     */\n    get localBounds() {\n        return this._boundsFromBeginEnd(this.begin, this.end);\n    }\n    /**\n     * Returns this edge represented as a line in world coordinates\n     */\n    asLine() {\n        return new LineSegment(this._getTransformedBegin(), this._getTransformedEnd());\n    }\n    /**\n     * Return this edge as a line in local line coordinates (relative to the position)\n     */\n    asLocalLine() {\n        return new LineSegment(this.begin, this.end);\n    }\n    /**\n     * Get the axis associated with the edge\n     */\n    get axes() {\n        const e = this._getTransformedEnd().sub(this._getTransformedBegin());\n        const edgeNormal = e.normal();\n        const axes = [];\n        axes.push(edgeNormal);\n        axes.push(edgeNormal.negate());\n        axes.push(edgeNormal.normal());\n        axes.push(edgeNormal.normal().negate());\n        return axes;\n    }\n    /**\n     * Get the moment of inertia for an edge\n     * https://en.wikipedia.org/wiki/List_of_moments_of_inertia\n     */\n    getInertia(mass) {\n        const length = this.end.sub(this.begin).distance() / 2;\n        return mass * length * length;\n    }\n    /**\n     * @inheritdoc\n     */\n    update(transform) {\n        var _a;\n        this._transform = transform;\n        const globalMat = (_a = transform.matrix) !== null && _a !== void 0 ? _a : this._globalMatrix;\n        globalMat.clone(this._globalMatrix);\n        this._globalMatrix.translate(this.offset.x, this.offset.y);\n    }\n    /**\n     * Project the edge along a specified axis\n     */\n    project(axis) {\n        const scalars = [];\n        const points = [this._getTransformedBegin(), this._getTransformedEnd()];\n        const len = points.length;\n        for (let i = 0; i < len; i++) {\n            scalars.push(points[i].dot(axis));\n        }\n        return new Projection(Math.min.apply(Math, scalars), Math.max.apply(Math, scalars));\n    }\n    debug(ex, color) {\n        const begin = this._getTransformedBegin();\n        const end = this._getTransformedEnd();\n        ex.drawLine(begin, end, color, 2);\n        ex.drawCircle(begin, 2, color);\n        ex.drawCircle(end, 2, color);\n    }\n}\n\n;// CONCATENATED MODULE: ./Graphics/Debug.ts\n\nclass Debug {\n    static registerGraphicsContext(ctx) {\n        Debug._ctx = ctx;\n    }\n    static draw(debugDrawCall) {\n        this._drawCalls.push(debugDrawCall);\n    }\n    static drawPoint(point, options) {\n        Debug.draw(ctx => {\n            ctx.debug.drawPoint(point, options);\n        });\n    }\n    static drawLine(start, end, options) {\n        Debug.draw(ctx => {\n            ctx.debug.drawLine(start, end, options);\n        });\n    }\n    static drawLines(points, options) {\n        if (points.length > 1) {\n            Debug.draw(ctx => {\n                for (let i = 0; i < points.length - 1; i++) {\n                    ctx.debug.drawLine(points[i], points[i + 1], options);\n                }\n            });\n        }\n    }\n    static drawText(text, pos) {\n        Debug.draw(ctx => {\n            ctx.debug.drawText(text, pos);\n        });\n    }\n    static drawPolygon(points, options) {\n        if (points.length > 1) {\n            Debug.draw(ctx => {\n                const firstPoint = points[0];\n                const polygon = [...points, firstPoint];\n                for (let i = 0; i < polygon.length - 1; i++) {\n                    ctx.debug.drawLine(polygon[i], polygon[i + 1], options);\n                }\n            });\n        }\n    }\n    static drawCircle(center, radius, options) {\n        const { color, strokeColor, width } = {\n            color: Color.Black,\n            strokeColor: undefined,\n            width: undefined,\n            ...options\n        };\n        Debug.draw(ctx => {\n            ctx.drawCircle(center, radius, color, strokeColor, width);\n        });\n    }\n    static drawBounds(boundingBox, options) {\n        Debug.draw(ctx => {\n            ctx.debug.drawRect(boundingBox.left, boundingBox.top, boundingBox.width, boundingBox.height, options);\n        });\n    }\n    static drawRay(ray, options) {\n        const { distance, color } = {\n            color: Color.Blue,\n            distance: 10,\n            ...options\n        };\n        Debug.draw((ctx) => {\n            const start = ray.pos;\n            const end = ray.pos.add(ray.dir.scale(distance));\n            ctx.debug.drawLine(start, end, { color });\n        });\n    }\n    static flush(ctx) {\n        ctx.save();\n        ctx.z = Debug.z;\n        for (const drawCall of Debug._drawCalls) {\n            drawCall(ctx);\n        }\n        ctx.restore();\n        Debug.clear();\n    }\n    static clear() {\n        Debug._drawCalls.length = 0;\n    }\n}\nDebug._drawCalls = [];\nDebug.z = Infinity;\n\n;// CONCATENATED MODULE: ./Collision/Colliders/PolygonCollider.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * Polygon collider for detecting collisions\n */\nclass PolygonCollider extends Collider {\n    flagDirty() {\n        this._localBoundsDirty = true;\n        this._localSidesDirty = true;\n        this._transformedPointsDirty = true;\n        this._sidesDirty = true;\n    }\n    /**\n     * Points in the polygon in order around the perimeter in local coordinates. These are relative from the body transform position.\n     * Excalibur stores these in counter-clockwise order\n     */\n    set points(points) {\n        this._points = points;\n        this.flagDirty();\n    }\n    /**\n     * Points in the polygon in order around the perimeter in local coordinates. These are relative from the body transform position.\n     * Excalibur stores these in counter-clockwise order\n     */\n    get points() {\n        return this._points;\n    }\n    constructor(options) {\n        var _a, _b;\n        super();\n        this._logger = Logger.getInstance();\n        this._transformedPoints = [];\n        this._sides = [];\n        this._localSides = [];\n        this._globalMatrix = AffineMatrix.identity();\n        this._transformedPointsDirty = true;\n        this._sidesDirty = true;\n        this._localSidesDirty = true;\n        this._localBoundsDirty = true;\n        this.offset = (_a = options.offset) !== null && _a !== void 0 ? _a : Vector.Zero;\n        this._globalMatrix.translate(this.offset.x, this.offset.y);\n        this.points = (_b = options.points) !== null && _b !== void 0 ? _b : [];\n        const counterClockwise = this._isCounterClockwiseWinding(this.points);\n        if (!counterClockwise) {\n            this.points.reverse();\n        }\n        if (!this.isConvex()) {\n            if (!options.suppressConvexWarning) {\n                this._logger.warn('Excalibur only supports convex polygon colliders and will not behave properly.' +\n                    'Call PolygonCollider.triangulate() to build a new collider composed of smaller convex triangles');\n            }\n        }\n        // calculate initial transformation\n        this._calculateTransformation();\n    }\n    _isCounterClockwiseWinding(points) {\n        // https://stackoverflow.com/a/1165943\n        let sum = 0;\n        for (let i = 0; i < points.length; i++) {\n            sum += (points[(i + 1) % points.length].x - points[i].x) * (points[(i + 1) % points.length].y + points[i].y);\n        }\n        return sum < 0;\n    }\n    /**\n     * Returns if the polygon collider is convex, Excalibur does not handle non-convex collision shapes.\n     * Call [[Polygon.triangulate]] to generate a [[CompositeCollider]] from this non-convex shape\n     */\n    isConvex() {\n        // From SO: https://stackoverflow.com/a/45372025\n        if (this.points.length < 3) {\n            return false;\n        }\n        let oldPoint = this.points[this.points.length - 2];\n        let newPoint = this.points[this.points.length - 1];\n        let direction = Math.atan2(newPoint.y - oldPoint.y, newPoint.x - oldPoint.x);\n        let oldDirection = 0;\n        let orientation = 0;\n        let angleSum = 0;\n        for (const [i, point] of this.points.entries()) {\n            oldPoint = newPoint;\n            oldDirection = direction;\n            newPoint = point;\n            direction = Math.atan2(newPoint.y - oldPoint.y, newPoint.x - oldPoint.x);\n            if (oldPoint.equals(newPoint)) {\n                return false; // repeat point\n            }\n            let angle = direction - oldDirection;\n            if (angle <= -Math.PI) {\n                angle += Math.PI * 2;\n            }\n            else if (angle > Math.PI) {\n                angle -= Math.PI * 2;\n            }\n            if (i === 0) {\n                if (angle === 0.0) {\n                    return false;\n                }\n                orientation = angle > 0 ? 1 : -1;\n            }\n            else {\n                if (orientation * angle <= 0) {\n                    return false;\n                }\n            }\n            angleSum += angle;\n        }\n        return Math.abs(Math.round(angleSum / (Math.PI * 2))) === 1;\n    }\n    /**\n     * Tessellates the polygon into a triangle fan as a [[CompositeCollider]] of triangle polygons\n     */\n    tessellate() {\n        const polygons = [];\n        for (let i = 1; i < this.points.length - 2; i++) {\n            polygons.push([this.points[0], this.points[i + 1], this.points[i + 2]]);\n        }\n        polygons.push([this.points[0], this.points[1], this.points[2]]);\n        return new CompositeCollider(polygons.map(points => Shape.Polygon(points)));\n    }\n    /**\n     * Triangulate the polygon collider using the \"Ear Clipping\" algorithm.\n     * Returns a new [[CompositeCollider]] made up of smaller triangles.\n     */\n    triangulate() {\n        // https://www.youtube.com/watch?v=hTJFcHutls8\n        if (this.points.length < 3) {\n            throw Error('Invalid polygon');\n        }\n        const triangles = [];\n        // algorithm likes clockwise\n        const vertices = [...this.points].reverse();\n        let vertexCount = vertices.length;\n        /**\n         * Returns the previous index based on the current vertex\n         */\n        function getPrevIndex(index) {\n            return index === 0 ? vertexCount - 1 : index - 1;\n        }\n        /**\n         * Retrieves the next index based on the current vertex\n         */\n        function getNextIndex(index) {\n            return index === vertexCount - 1 ? 0 : index + 1;\n        }\n        /**\n         * Whether or not the angle at this vertex index is convex\n         */\n        function isConvex(index) {\n            const prev = getPrevIndex(index);\n            const next = getNextIndex(index);\n            const va = vertices[prev];\n            const vb = vertices[index];\n            const vc = vertices[next];\n            // Check convexity\n            const leftArm = va.sub(vb);\n            const rightArm = vc.sub(vb);\n            // Positive cross product is convex\n            if (leftArm.cross(rightArm) < 0) {\n                return false;\n            }\n            return true;\n        }\n        const convexVertices = vertices.map((_, i) => isConvex(i));\n        /**\n         * Quick test for point in triangle\n         */\n        function isPointInTriangle(point, a, b, c) {\n            const ab = b.sub(a);\n            const bc = c.sub(b);\n            const ca = a.sub(c);\n            const ap = point.sub(a);\n            const bp = point.sub(b);\n            const cp = point.sub(c);\n            const cross1 = ab.cross(ap);\n            const cross2 = bc.cross(bp);\n            const cross3 = ca.cross(cp);\n            if (cross1 > 0 || cross2 > 0 || cross3 > 0) {\n                return false;\n            }\n            return true;\n        }\n        /**\n         * Calculate the area of the triangle\n         */\n        // function triangleArea(a: Vector, b: Vector, c: Vector) {\n        //   return Math.abs(a.x * (b.y - c.y) + b.x * (c.y - a.y) + c.x * (a.y - c.y))/2;\n        // }\n        /**\n         * Find the next suitable ear tip\n         */\n        function findEarTip() {\n            for (let i = 0; i < vertexCount; i++) {\n                if (convexVertices[i]) {\n                    const prev = getPrevIndex(i);\n                    const next = getNextIndex(i);\n                    const va = vertices[prev];\n                    const vb = vertices[i];\n                    const vc = vertices[next];\n                    let isEar = true;\n                    // Check that if any vertices are in the triangle a, b, c\n                    for (let j = 0; j < vertexCount; j++) {\n                        // We can skip these verts because they are the triangle we are testing\n                        if (j === i || j === prev || j === next) {\n                            continue;\n                        }\n                        const point = vertices[j];\n                        if (isPointInTriangle(point, va, vb, vc)) {\n                            isEar = false;\n                            break;\n                        }\n                    }\n                    // Add ear to polygon list and remove from list\n                    if (isEar) {\n                        return i;\n                    }\n                }\n            }\n            // Fall back to any convex vertex\n            for (let i = 0; i < vertexCount; i++) {\n                if (convexVertices[i]) {\n                    return i;\n                }\n            }\n            // bail and return the first one?\n            return 0;\n        }\n        /**\n         * Cut the ear and produce a triangle, update internal state\n         */\n        function cutEarTip(index) {\n            const prev = getPrevIndex(index);\n            const next = getNextIndex(index);\n            const va = vertices[prev];\n            const vb = vertices[index];\n            const vc = vertices[next];\n            // Clockwise winding\n            // if (triangleArea(va, vb, vc) > 0) {\n            triangles.push([va, vb, vc]);\n            // }\n            vertices.splice(index, 1);\n            convexVertices.splice(index, 1);\n            vertexCount--;\n        }\n        // Loop over all the vertices finding ears\n        while (vertexCount > 3) {\n            const earIndex = findEarTip();\n            cutEarTip(earIndex);\n            // reclassify vertices\n            for (let i = 0; i < vertexCount; i++) {\n                convexVertices[i] = isConvex(i);\n            }\n        }\n        // Last triangle after the loop\n        triangles.push([vertices[0], vertices[1], vertices[2]]);\n        // FIXME: there is a colinear triangle that sneaks in here sometimes\n        return new CompositeCollider(triangles.map(points => Shape.Polygon(points, Vector.Zero, true)));\n    }\n    /**\n     * Returns a clone of this ConvexPolygon, not associated with any collider\n     */\n    clone() {\n        return new PolygonCollider({\n            offset: this.offset.clone(),\n            points: this.points.map((p) => p.clone())\n        });\n    }\n    /**\n     * Returns the world position of the collider, which is the current body transform plus any defined offset\n     */\n    get worldPos() {\n        if (this._transform) {\n            return this._transform.pos.add(this.offset);\n        }\n        return this.offset;\n    }\n    /**\n     * Get the center of the collider in world coordinates\n     */\n    get center() {\n        return this.bounds.center;\n    }\n    /**\n     * Calculates the underlying transformation from the body relative space to world space\n     */\n    _calculateTransformation() {\n        const points = this.points;\n        const len = points.length;\n        this._transformedPoints.length = 0; // clear out old transform\n        for (let i = 0; i < len; i++) {\n            this._transformedPoints[i] = this._globalMatrix.multiply(points[i].clone());\n        }\n    }\n    /**\n     * Gets the points that make up the polygon in world space, from actor relative space (if specified)\n     */\n    getTransformedPoints() {\n        if (this._transformedPointsDirty) {\n            this._calculateTransformation();\n            this._transformedPointsDirty = false;\n        }\n        return this._transformedPoints;\n    }\n    /**\n     * Gets the sides of the polygon in world space\n     */\n    getSides() {\n        if (this._sidesDirty) {\n            const lines = [];\n            const points = this.getTransformedPoints();\n            const len = points.length;\n            for (let i = 0; i < len; i++) {\n                // This winding is important\n                lines.push(new LineSegment(points[i], points[(i + 1) % len]));\n            }\n            this._sides = lines;\n            this._sidesDirty = false;\n        }\n        return this._sides;\n    }\n    /**\n     * Returns the local coordinate space sides\n     */\n    getLocalSides() {\n        if (this._localSidesDirty) {\n            const lines = [];\n            const points = this.points;\n            const len = points.length;\n            for (let i = 0; i < len; i++) {\n                // This winding is important\n                lines.push(new LineSegment(points[i], points[(i + 1) % len]));\n            }\n            this._localSides = lines;\n            this._localSidesDirty = false;\n        }\n        return this._localSides;\n    }\n    /**\n     * Given a direction vector find the world space side that is most in that direction\n     * @param direction\n     */\n    findSide(direction) {\n        const sides = this.getSides();\n        let bestSide = sides[0];\n        let maxDistance = -Number.MAX_VALUE;\n        for (let side = 0; side < sides.length; side++) {\n            const currentSide = sides[side];\n            const sideNormal = currentSide.normal();\n            const mostDirection = sideNormal.dot(direction);\n            if (mostDirection > maxDistance) {\n                bestSide = currentSide;\n                maxDistance = mostDirection;\n            }\n        }\n        return bestSide;\n    }\n    /**\n     * Given a direction vector find the local space side that is most in that direction\n     * @param direction\n     */\n    findLocalSide(direction) {\n        const sides = this.getLocalSides();\n        let bestSide = sides[0];\n        let maxDistance = -Number.MAX_VALUE;\n        for (let side = 0; side < sides.length; side++) {\n            const currentSide = sides[side];\n            const sideNormal = currentSide.normal();\n            const mostDirection = sideNormal.dot(direction);\n            if (mostDirection > maxDistance) {\n                bestSide = currentSide;\n                maxDistance = mostDirection;\n            }\n        }\n        return bestSide;\n    }\n    /**\n     * Get the axis associated with the convex polygon\n     */\n    get axes() {\n        const axes = [];\n        const sides = this.getSides();\n        for (let i = 0; i < sides.length; i++) {\n            axes.push(sides[i].normal());\n        }\n        return axes;\n    }\n    /**\n     * Updates the transform for the collision geometry\n     *\n     * Collision geometry (points/bounds) will not change until this is called.\n     * @param transform\n     */\n    update(transform) {\n        var _a;\n        if (transform) {\n            this._transform = transform;\n            this._transformedPointsDirty = true;\n            this._sidesDirty = true;\n            // This change means an update must be performed in order for geometry to update\n            const globalMat = (_a = transform.matrix) !== null && _a !== void 0 ? _a : this._globalMatrix;\n            globalMat.clone(this._globalMatrix);\n            this._globalMatrix.translate(this.offset.x, this.offset.y);\n        }\n    }\n    /**\n     * Tests if a point is contained in this collider in world space\n     */\n    contains(point) {\n        // Always cast to the right, as long as we cast in a consistent fixed direction we\n        // will be fine\n        const testRay = new Ray(point, new Vector(1, 0));\n        const intersectCount = this.getSides().reduce(function (accum, side) {\n            if (testRay.intersect(side) >= 0) {\n                return accum + 1;\n            }\n            return accum;\n        }, 0);\n        if (intersectCount % 2 === 0) {\n            return false;\n        }\n        return true;\n    }\n    getClosestLineBetween(collider) {\n        if (collider instanceof CircleCollider) {\n            return ClosestLineJumpTable.PolygonCircleClosestLine(this, collider);\n        }\n        else if (collider instanceof PolygonCollider) {\n            return ClosestLineJumpTable.PolygonPolygonClosestLine(this, collider);\n        }\n        else if (collider instanceof EdgeCollider) {\n            return ClosestLineJumpTable.PolygonEdgeClosestLine(this, collider);\n        }\n        else {\n            throw new Error(`Polygon could not collide with unknown CollisionShape ${typeof collider}`);\n        }\n    }\n    /**\n     * Returns a collision contact if the 2 colliders collide, otherwise collide will\n     * return null.\n     * @param collider\n     */\n    collide(collider) {\n        if (collider instanceof CircleCollider) {\n            return CollisionJumpTable.CollideCirclePolygon(collider, this);\n        }\n        else if (collider instanceof PolygonCollider) {\n            return CollisionJumpTable.CollidePolygonPolygon(this, collider);\n        }\n        else if (collider instanceof EdgeCollider) {\n            return CollisionJumpTable.CollidePolygonEdge(this, collider);\n        }\n        else {\n            throw new Error(`Polygon could not collide with unknown CollisionShape ${typeof collider}`);\n        }\n    }\n    /**\n     * Find the point on the collider furthest in the direction specified\n     */\n    getFurthestPoint(direction) {\n        const pts = this.getTransformedPoints();\n        let furthestPoint = null;\n        let maxDistance = -Number.MAX_VALUE;\n        for (let i = 0; i < pts.length; i++) {\n            const distance = direction.dot(pts[i]);\n            if (distance > maxDistance) {\n                maxDistance = distance;\n                furthestPoint = pts[i];\n            }\n        }\n        return furthestPoint;\n    }\n    /**\n     * Find the local point on the collider furthest in the direction specified\n     * @param direction\n     */\n    getFurthestLocalPoint(direction) {\n        const pts = this.points;\n        let furthestPoint = pts[0];\n        let maxDistance = -Number.MAX_VALUE;\n        for (let i = 0; i < pts.length; i++) {\n            const distance = direction.dot(pts[i]);\n            if (distance > maxDistance) {\n                maxDistance = distance;\n                furthestPoint = pts[i];\n            }\n        }\n        return furthestPoint;\n    }\n    /**\n     * Finds the closes face to the point using perpendicular distance\n     * @param point point to test against polygon\n     */\n    getClosestFace(point) {\n        const sides = this.getSides();\n        let min = Number.POSITIVE_INFINITY;\n        let faceIndex = -1;\n        let distance = -1;\n        for (let i = 0; i < sides.length; i++) {\n            const dist = sides[i].distanceToPoint(point);\n            if (dist < min) {\n                min = dist;\n                faceIndex = i;\n                distance = dist;\n            }\n        }\n        if (faceIndex !== -1) {\n            return {\n                distance: sides[faceIndex].normal().scale(distance),\n                face: sides[faceIndex]\n            };\n        }\n        return null;\n    }\n    /**\n     * Get the axis aligned bounding box for the polygon collider in world coordinates\n     */\n    get bounds() {\n        return this.localBounds.transform(this._globalMatrix);\n    }\n    /**\n     * Get the axis aligned bounding box for the polygon collider in local coordinates\n     */\n    get localBounds() {\n        if (this._localBoundsDirty) {\n            this._localBounds = BoundingBox.fromPoints(this.points);\n            this._localBoundsDirty = false;\n        }\n        return this._localBounds;\n    }\n    /**\n     * Get the moment of inertia for an arbitrary polygon\n     * https://en.wikipedia.org/wiki/List_of_moments_of_inertia\n     */\n    getInertia(mass) {\n        if (this._cachedMass === mass && this._cachedInertia) {\n            return this._cachedInertia;\n        }\n        let numerator = 0;\n        let denominator = 0;\n        const points = this.points;\n        for (let i = 0; i < points.length; i++) {\n            const iplusone = (i + 1) % points.length;\n            const crossTerm = points[iplusone].cross(points[i]);\n            numerator +=\n                crossTerm *\n                    (points[i].dot(points[i]) + points[i].dot(points[iplusone]) + points[iplusone].dot(points[iplusone]));\n            denominator += crossTerm;\n        }\n        this._cachedMass = mass;\n        return this._cachedInertia = (mass / 6) * (numerator / denominator);\n    }\n    /**\n     * Casts a ray into the polygon and returns a vector representing the point of contact (in world space) or null if no collision.\n     */\n    rayCast(ray, max = Infinity) {\n        var _a;\n        // find the minimum contact time greater than 0\n        // contact times less than 0 are behind the ray and we don't want those\n        const sides = this.getSides();\n        const len = sides.length;\n        let minContactTime = Number.MAX_VALUE;\n        let contactSide;\n        let contactIndex = -1;\n        for (let i = 0; i < len; i++) {\n            const contactTime = ray.intersect(sides[i]);\n            if (contactTime >= 0 && contactTime < minContactTime && contactTime <= max) {\n                minContactTime = contactTime;\n                contactSide = sides[i];\n                contactIndex = i;\n            }\n        }\n        // contact was found\n        if (contactIndex >= 0) {\n            return {\n                collider: this,\n                distance: minContactTime,\n                body: (_a = this.owner) === null || _a === void 0 ? void 0 : _a.get(BodyComponent),\n                point: ray.getPoint(minContactTime),\n                normal: contactSide.normal()\n            };\n        }\n        // no contact found\n        return null;\n    }\n    /**\n     * Project the edges of the polygon along a specified axis\n     */\n    project(axis) {\n        const points = this.getTransformedPoints();\n        const len = points.length;\n        let min = Number.MAX_VALUE;\n        let max = -Number.MAX_VALUE;\n        for (let i = 0; i < len; i++) {\n            const scalar = points[i].dot(axis);\n            min = Math.min(min, scalar);\n            max = Math.max(max, scalar);\n        }\n        return new Projection(min, max);\n    }\n    debug(ex, color, options) {\n        const points = this.getTransformedPoints();\n        Debug.drawPolygon(points, { color });\n    }\n}\n\n;// CONCATENATED MODULE: ./Collision/Colliders/Shape.ts\n\n\n\n\n\n\n\n/**\n * Excalibur helper for defining colliders quickly\n */\nclass Shape {\n    /**\n     * Creates a box collider, under the hood defines a [[PolygonCollider]] collider\n     * @param width Width of the box\n     * @param height Height of the box\n     * @param anchor Anchor of the box (default (.5, .5)) which positions the box relative to the center of the collider's position\n     * @param offset Optional offset relative to the collider in local coordinates\n     */\n    static Box(width, height, anchor = Vector.Half, offset = Vector.Zero) {\n        return new PolygonCollider({\n            points: new BoundingBox(-width * anchor.x, -height * anchor.y, width - width * anchor.x, height - height * anchor.y).getPoints(),\n            offset: offset\n        });\n    }\n    /**\n     * Creates a new [[PolygonCollider|arbitrary polygon]] collider\n     *\n     * PolygonColliders are useful for creating convex polygon shapes\n     * @param points Points specified in counter clockwise\n     * @param offset Optional offset relative to the collider in local coordinates\n     */\n    static Polygon(points, offset = Vector.Zero, suppressConvexWarning = false) {\n        return new PolygonCollider({\n            points: points,\n            offset: offset,\n            suppressConvexWarning\n        });\n    }\n    /**\n     * Creates a new [[CircleCollider|circle]] collider\n     *\n     * Circle colliders are useful for balls, or to make collisions more forgiving on sharp edges\n     * @param radius Radius of the circle collider\n     * @param offset Optional offset relative to the collider in local coordinates\n     */\n    static Circle(radius, offset = Vector.Zero) {\n        return new CircleCollider({\n            radius: radius,\n            offset: offset\n        });\n    }\n    /**\n     * Creates a new [[EdgeCollider|edge]] collider\n     *\n     * Edge colliders are useful for  floors, walls, and other barriers\n     * @param begin Beginning of the edge in local coordinates to the collider\n     * @param end Ending of the edge in local coordinates to the collider\n     */\n    static Edge(begin, end) {\n        return new EdgeCollider({\n            begin: begin,\n            end: end\n        });\n    }\n    /**\n     * Creates a new capsule shaped [[CompositeCollider]] using 2 circles and a box\n     *\n     * Capsule colliders are useful for platformers with incline or jagged floors to have a smooth\n     * player experience.\n     * @param width\n     * @param height\n     * @param offset Optional offset\n     */\n    static Capsule(width, height, offset = Vector.Zero) {\n        const logger = Logger.getInstance();\n        if (width === height) {\n            logger.warn('A capsule collider with equal width and height is a circle, consider using a ex.Shape.Circle or ex.CircleCollider');\n        }\n        const vertical = height >= width;\n        if (vertical) {\n            // height > width, if equal maybe use a circle\n            const capsule = new CompositeCollider([\n                Shape.Circle(width / 2, vec(0, -height / 2 + width / 2).add(offset)),\n                Shape.Box(width, height - width, Vector.Half, offset),\n                Shape.Circle(width / 2, vec(0, height / 2 - width / 2).add(offset))\n            ]);\n            return capsule;\n        }\n        else {\n            // width > height, if equal maybe use a circle\n            const capsule = new CompositeCollider([\n                Shape.Circle(height / 2, vec(-width / 2 + height / 2, 0).add(offset)),\n                Shape.Box(width - height, height, Vector.Half, offset),\n                Shape.Circle(height / 2, vec(width / 2 - height / 2, 0).add(offset))\n            ]);\n            return capsule;\n        }\n    }\n}\n\n;// CONCATENATED MODULE: ./Collision/ColliderComponent.ts\n\n\n\n\n\n\n\n\n\n\nclass ColliderComponent extends Component {\n    constructor(collider) {\n        super();\n        this.events = new EventEmitter();\n        /**\n         * Observable that notifies when a collider is added to the body\n         */\n        this.$colliderAdded = new Observable();\n        /**\n         * Observable that notifies when a collider is removed from the body\n         */\n        this.$colliderRemoved = new Observable();\n        this._collidersToRemove = [];\n        this.set(collider);\n    }\n    /**\n     * Get the current collider geometry\n     */\n    get() {\n        return this._collider;\n    }\n    /**\n     * Set the collider geometry\n     * @param collider\n     * @returns the collider you set\n     */\n    set(collider) {\n        this.clear();\n        if (collider) {\n            this._collider = collider;\n            this._collider.owner = this.owner;\n            collider.events.pipe(this.events);\n            this.$colliderAdded.notifyAll(collider);\n            this.update();\n        }\n        return collider;\n    }\n    /**\n     * Remove collider geometry from collider component\n     */\n    clear() {\n        if (this._collider) {\n            this._collidersToRemove.push(this._collider);\n            this._collider = null;\n        }\n    }\n    processColliderRemoval() {\n        for (const collider of this._collidersToRemove) {\n            collider.events.unpipe(this.events);\n            this.$colliderRemoved.notifyAll(collider);\n            collider.owner = null;\n        }\n    }\n    clone() {\n        const clone = new ColliderComponent(this._collider.clone());\n        return clone;\n    }\n    /**\n     * Return world space bounds\n     */\n    get bounds() {\n        var _a, _b;\n        return (_b = (_a = this._collider) === null || _a === void 0 ? void 0 : _a.bounds) !== null && _b !== void 0 ? _b : new BoundingBox();\n    }\n    /**\n     * Return local space bounds\n     */\n    get localBounds() {\n        var _a, _b;\n        return (_b = (_a = this._collider) === null || _a === void 0 ? void 0 : _a.localBounds) !== null && _b !== void 0 ? _b : new BoundingBox();\n    }\n    /**\n     * Update the collider's transformed geometry\n     */\n    update() {\n        var _a;\n        const tx = (_a = this.owner) === null || _a === void 0 ? void 0 : _a.get(TransformComponent);\n        if (this._collider) {\n            this._collider.owner = this.owner;\n            if (tx) {\n                this._collider.update(tx.get());\n            }\n        }\n    }\n    /**\n     * Collide component with another\n     * @param other\n     */\n    collide(other) {\n        let colliderA = this._collider;\n        let colliderB = other._collider;\n        if (!colliderA || !colliderB) {\n            return [];\n        }\n        // If we have a composite left hand side :(\n        // Might bite us, but to avoid updating all the handlers make composite always left side\n        let flipped = false;\n        if (colliderB instanceof CompositeCollider) {\n            colliderA = colliderB;\n            colliderB = this._collider;\n            flipped = true;\n        }\n        if (this._collider) {\n            const contacts = colliderA.collide(colliderB);\n            if (contacts) {\n                if (flipped) {\n                    contacts.forEach((contact) => {\n                        contact.mtv = contact.mtv.negate();\n                        contact.normal = contact.normal.negate();\n                        contact.tangent = contact.normal.perpendicular();\n                        contact.colliderA = this._collider;\n                        contact.colliderB = other._collider;\n                    });\n                }\n                return contacts;\n            }\n            return [];\n        }\n        return [];\n    }\n    onAdd(entity) {\n        if (this._collider) {\n            this.update();\n        }\n        // Wire up the collider events to the owning entity\n        this.events.on('precollision', (evt) => {\n            const precollision = evt;\n            entity.events.emit('precollision', new PreCollisionEvent(precollision.target.owner, precollision.other.owner, precollision.side, precollision.intersection, precollision.contact));\n            if (entity instanceof Actor) {\n                entity.onPreCollisionResolve(precollision.target, precollision.other, precollision.side, precollision.contact);\n            }\n        });\n        this.events.on('postcollision', (evt) => {\n            const postcollision = evt;\n            entity.events.emit('postcollision', new PostCollisionEvent(postcollision.target.owner, postcollision.other.owner, postcollision.side, postcollision.intersection, postcollision.contact));\n            if (entity instanceof Actor) {\n                entity.onPostCollisionResolve(postcollision.target, postcollision.other, postcollision.side, postcollision.contact);\n            }\n        });\n        this.events.on('collisionstart', (evt) => {\n            const start = evt;\n            entity.events.emit('collisionstart', new CollisionStartEvent(start.target.owner, start.other.owner, start.side, start.contact));\n            if (entity instanceof Actor) {\n                entity.onCollisionStart(start.target, start.other, start.side, start.contact);\n            }\n        });\n        this.events.on('collisionend', (evt) => {\n            const end = evt;\n            entity.events.emit('collisionend', new CollisionEndEvent(end.target.owner, end.other.owner, end.side, end.lastContact));\n            if (entity instanceof Actor) {\n                entity.onCollisionEnd(end.target, end.other, end.side, end.lastContact);\n            }\n        });\n    }\n    onRemove() {\n        this.events.clear();\n        this.$colliderRemoved.notifyAll(this._collider);\n    }\n    /**\n     * Sets up a box geometry based on the current bounds of the associated actor of this physics body.\n     *\n     * If no width/height are specified the body will attempt to use the associated actor's width/height.\n     *\n     * By default, the box is center is at (0, 0) which means it is centered around the actors anchor.\n     */\n    useBoxCollider(width, height, anchor = Vector.Half, center = Vector.Zero) {\n        const collider = Shape.Box(width, height, anchor, center);\n        return (this.set(collider));\n    }\n    /**\n     * Sets up a [[PolygonCollider|polygon]] collision geometry based on a list of of points relative\n     *  to the anchor of the associated actor\n     * of this physics body.\n     *\n     * Only [convex polygon](https://en.wikipedia.org/wiki/Convex_polygon) definitions are supported.\n     *\n     * By default, the box is center is at (0, 0) which means it is centered around the actors anchor.\n     */\n    usePolygonCollider(points, center = Vector.Zero) {\n        const poly = Shape.Polygon(points, center);\n        return (this.set(poly));\n    }\n    /**\n     * Sets up a [[Circle|circle collision geometry]] as the only collider with a specified radius in pixels.\n     *\n     * By default, the box is center is at (0, 0) which means it is centered around the actors anchor.\n     */\n    useCircleCollider(radius, center = Vector.Zero) {\n        const collider = Shape.Circle(radius, center);\n        return (this.set(collider));\n    }\n    /**\n     * Sets up an [[Edge|edge collision geometry]] with a start point and an end point relative to the anchor of the associated actor\n     * of this physics body.\n     *\n     * By default, the box is center is at (0, 0) which means it is centered around the actors anchor.\n     */\n    useEdgeCollider(begin, end) {\n        const collider = Shape.Edge(begin, end);\n        return (this.set(collider));\n    }\n    /**\n     * Setups up a [[CompositeCollider]] which can define any arbitrary set of excalibur colliders\n     * @param colliders\n     */\n    useCompositeCollider(colliders) {\n        return (this.set(new CompositeCollider(colliders)));\n    }\n}\n\n;// CONCATENATED MODULE: ./Collision/BodyComponent.ts\n\n\n\n\n\n\n\n\n\n\n\n\nvar DegreeOfFreedom;\n(function (DegreeOfFreedom) {\n    DegreeOfFreedom[\"Rotation\"] = \"rotation\";\n    DegreeOfFreedom[\"X\"] = \"x\";\n    DegreeOfFreedom[\"Y\"] = \"y\";\n})(DegreeOfFreedom || (DegreeOfFreedom = {}));\n/**\n * Body describes all the physical properties pos, vel, acc, rotation, angular velocity for the purpose of\n * of physics simulation.\n */\nclass BodyComponent extends Component {\n    constructor(options) {\n        var _a, _b, _c;\n        super();\n        this.dependencies = [TransformComponent, MotionComponent];\n        this.id = createId('body', BodyComponent._ID++);\n        this.events = new EventEmitter();\n        this.oldTransform = new transform_Transform();\n        /**\n         * Indicates whether the old transform has been captured at least once for interpolation\n         * @internal\n         */\n        this.__oldTransformCaptured = false;\n        /**\n         * Enable or disabled the fixed update interpolation, by default interpolation is on.\n         */\n        this.enableFixedUpdateInterpolate = true;\n        /**\n         * Collision type for the rigidbody physics simulation, by default [[CollisionType.PreventCollision]]\n         */\n        this.collisionType = CollisionType.PreventCollision;\n        /**\n         * The collision group for the body's colliders, by default body colliders collide with everything\n         */\n        this.group = CollisionGroup.All;\n        this._sleeping = false;\n        /**\n         * The also known as coefficient of restitution of this actor, represents the amount of energy preserved after collision or the\n         * bounciness. If 1, it is 100% bouncy, 0 it completely absorbs.\n         */\n        this.bounciness = 0.2;\n        /**\n         * The coefficient of friction on this actor\n         */\n        this.friction = 0.99;\n        /**\n         * Should use global gravity [[Physics.gravity]] in it's physics simulation, default is true\n         */\n        this.useGravity = true;\n        /**\n         * Degrees of freedom to limit\n         *\n         * Note: this only limits responses in the realistic solver, if velocity/angularVelocity is set the actor will still respond\n         */\n        this.limitDegreeOfFreedom = [];\n        /**\n         * The velocity of the actor last frame (vx, vy) in pixels/second\n         */\n        this.oldVel = new Vector(0, 0);\n        /**\n         * Gets/sets the acceleration of the actor from the last frame. This does not include the global acc [[Physics.acc]].\n         */\n        this.oldAcc = Vector.Zero;\n        if (options) {\n            this.collisionType = (_a = options.type) !== null && _a !== void 0 ? _a : this.collisionType;\n            this.group = (_b = options.group) !== null && _b !== void 0 ? _b : this.group;\n            this.useGravity = (_c = options.useGravity) !== null && _c !== void 0 ? _c : this.useGravity;\n            this._bodyConfig = {\n                ...DefaultPhysicsConfig.bodies,\n                ...options.config\n            };\n        }\n        else {\n            this._bodyConfig = {\n                ...DefaultPhysicsConfig.bodies\n            };\n        }\n        this.updatePhysicsConfig(this._bodyConfig);\n        this._mass = BodyComponent._DEFAULT_CONFIG.defaultMass;\n    }\n    get matrix() {\n        return this.transform.get().matrix;\n    }\n    /**\n     * Called by excalibur to update physics config defaults if they change\n     * @param config\n     */\n    updatePhysicsConfig(config) {\n        this._bodyConfig = {\n            ...DefaultPhysicsConfig.bodies,\n            ...config\n        };\n        this.canSleep = this._bodyConfig.canSleepByDefault;\n        this.sleepMotion = this._bodyConfig.sleepEpsilon * 5;\n        this.wakeThreshold = this._bodyConfig.wakeThreshold;\n    }\n    /**\n     * Called by excalibur to update defaults\n     * @param config\n     */\n    static updateDefaultPhysicsConfig(config) {\n        BodyComponent._DEFAULT_CONFIG = config;\n    }\n    get mass() {\n        return this._mass;\n    }\n    set mass(newMass) {\n        this._mass = newMass;\n        this._cachedInertia = undefined;\n        this._cachedInverseInertia = undefined;\n    }\n    /**\n     * The inverse mass (1/mass) of the body. If [[CollisionType.Fixed]] this is 0, meaning \"infinite\" mass\n     */\n    get inverseMass() {\n        return this.collisionType === CollisionType.Fixed ? 0 : 1 / this.mass;\n    }\n    ;\n    /**\n     * Whether this body is sleeping or not\n     */\n    get sleeping() {\n        return this._sleeping;\n    }\n    /**\n     * Set the sleep state of the body\n     * @param sleeping\n     */\n    setSleeping(sleeping) {\n        this._sleeping = sleeping;\n        if (!sleeping) {\n            // Give it a kick to keep it from falling asleep immediately\n            this.sleepMotion = this._bodyConfig.sleepEpsilon * 5;\n        }\n        else {\n            this.vel = Vector.Zero;\n            this.acc = Vector.Zero;\n            this.angularVelocity = 0;\n            this.sleepMotion = 0;\n        }\n    }\n    /**\n     * Update body's [[BodyComponent.sleepMotion]] for the purpose of sleeping\n     */\n    updateMotion() {\n        if (this._sleeping) {\n            this.setSleeping(true);\n        }\n        const currentMotion = this.vel.size * this.vel.size + Math.abs(this.angularVelocity * this.angularVelocity);\n        const bias = this._bodyConfig.sleepBias;\n        this.sleepMotion = bias * this.sleepMotion + (1 - bias) * currentMotion;\n        this.sleepMotion = clamp(this.sleepMotion, 0, 10 * this._bodyConfig.sleepEpsilon);\n        if (this.canSleep && this.sleepMotion < this._bodyConfig.sleepEpsilon) {\n            this.setSleeping(true);\n        }\n    }\n    /**\n     * Get the moment of inertia from the [[ColliderComponent]]\n     */\n    get inertia() {\n        if (this._cachedInertia) {\n            return this._cachedInertia;\n        }\n        // Inertia is a property of the geometry, so this is a little goofy but seems to be okay?\n        const collider = this.owner.get(ColliderComponent);\n        if (collider) {\n            collider.$colliderAdded.subscribe(() => {\n                this._cachedInertia = null;\n            });\n            collider.$colliderRemoved.subscribe(() => {\n                this._cachedInertia = null;\n            });\n            const maybeCollider = collider.get();\n            if (maybeCollider) {\n                return this._cachedInertia = maybeCollider.getInertia(this.mass);\n            }\n        }\n        return 0;\n    }\n    /**\n     * Get the inverse moment of inertial from the [[ColliderComponent]]. If [[CollisionType.Fixed]] this is 0, meaning \"infinite\" mass\n     */\n    get inverseInertia() {\n        if (this._cachedInverseInertia) {\n            return this._cachedInverseInertia;\n        }\n        return this._cachedInverseInertia = this.collisionType === CollisionType.Fixed ? 0 : 1 / this.inertia;\n    }\n    /**\n     * Returns if the owner is active\n     */\n    get active() {\n        var _a;\n        return !!((_a = this.owner) === null || _a === void 0 ? void 0 : _a.active);\n    }\n    /**\n     * @deprecated Use globalP0s\n     */\n    get center() {\n        return this.globalPos;\n    }\n    get transform() {\n        var _a;\n        return (_a = this.owner) === null || _a === void 0 ? void 0 : _a.get(TransformComponent);\n    }\n    get motion() {\n        var _a;\n        return (_a = this.owner) === null || _a === void 0 ? void 0 : _a.get(MotionComponent);\n    }\n    get pos() {\n        return this.transform.pos;\n    }\n    set pos(val) {\n        this.transform.pos = val;\n    }\n    /**\n     * The (x, y) position of the actor this will be in the middle of the actor if the\n     * [[Actor.anchor]] is set to (0.5, 0.5) which is default.\n     * If you want the (x, y) position to be the top left of the actor specify an anchor of (0, 0).\n     */\n    get globalPos() {\n        return this.transform.globalPos;\n    }\n    set globalPos(val) {\n        this.transform.globalPos = val;\n    }\n    /**\n     * The position of the actor last frame (x, y) in pixels\n     */\n    get oldPos() {\n        return this.oldTransform.pos;\n    }\n    /**\n     * The current velocity vector (vx, vy) of the actor in pixels/second\n     */\n    get vel() {\n        return this.motion.vel;\n    }\n    set vel(val) {\n        this.motion.vel = val;\n    }\n    /**\n     * The current acceleration vector (ax, ay) of the actor in pixels/second/second. An acceleration pointing down such as (0, 100) may\n     * be useful to simulate a gravitational effect.\n     */\n    get acc() {\n        return this.motion.acc;\n    }\n    set acc(val) {\n        this.motion.acc = val;\n    }\n    /**\n     * The current torque applied to the actor\n     */\n    get torque() {\n        return this.motion.torque;\n    }\n    set torque(val) {\n        this.motion.torque = val;\n    }\n    /**\n     * Gets/sets the rotation of the body from the last frame.\n     */\n    get oldRotation() {\n        return this.oldTransform.rotation;\n    }\n    /**\n     * The rotation of the body in radians\n     */\n    get rotation() {\n        return this.transform.globalRotation;\n    }\n    set rotation(val) {\n        this.transform.globalRotation = val;\n    }\n    /**\n     * The scale vector of the actor\n     */\n    get scale() {\n        return this.transform.globalScale;\n    }\n    set scale(val) {\n        this.transform.globalScale = val;\n    }\n    /**\n     * The scale of the actor last frame\n     */\n    get oldScale() {\n        return this.oldTransform.scale;\n    }\n    /**\n     * The scale rate of change of the actor in scale/second\n     */\n    get scaleFactor() {\n        return this.motion.scaleFactor;\n    }\n    set scaleFactor(scaleFactor) {\n        this.motion.scaleFactor = scaleFactor;\n    }\n    /**\n     * Get the angular velocity in radians/second\n     */\n    get angularVelocity() {\n        return this.motion.angularVelocity;\n    }\n    /**\n     * Set the angular velocity in radians/second\n     */\n    set angularVelocity(value) {\n        this.motion.angularVelocity = value;\n    }\n    /**\n     * Apply a specific impulse to the body\n     * @param point\n     * @param impulse\n     */\n    applyImpulse(point, impulse) {\n        if (this.collisionType !== CollisionType.Active) {\n            return; // only active objects participate in the simulation\n        }\n        const finalImpulse = impulse.scale(this.inverseMass);\n        if (this.limitDegreeOfFreedom.includes(DegreeOfFreedom.X)) {\n            finalImpulse.x = 0;\n        }\n        if (this.limitDegreeOfFreedom.includes(DegreeOfFreedom.Y)) {\n            finalImpulse.y = 0;\n        }\n        this.vel.addEqual(finalImpulse);\n        if (!this.limitDegreeOfFreedom.includes(DegreeOfFreedom.Rotation)) {\n            const distanceFromCenter = point.sub(this.globalPos);\n            this.angularVelocity += this.inverseInertia * distanceFromCenter.cross(impulse);\n        }\n    }\n    /**\n     * Apply only linear impulse to the body\n     * @param impulse\n     */\n    applyLinearImpulse(impulse) {\n        if (this.collisionType !== CollisionType.Active) {\n            return; // only active objects participate in the simulation\n        }\n        const finalImpulse = impulse.scale(this.inverseMass);\n        if (this.limitDegreeOfFreedom.includes(DegreeOfFreedom.X)) {\n            finalImpulse.x = 0;\n        }\n        if (this.limitDegreeOfFreedom.includes(DegreeOfFreedom.Y)) {\n            finalImpulse.y = 0;\n        }\n        this.vel = this.vel.add(finalImpulse);\n    }\n    /**\n     * Apply only angular impulse to the body\n     * @param point\n     * @param impulse\n     */\n    applyAngularImpulse(point, impulse) {\n        if (this.collisionType !== CollisionType.Active) {\n            return; // only active objects participate in the simulation\n        }\n        if (!this.limitDegreeOfFreedom.includes(DegreeOfFreedom.Rotation)) {\n            const distanceFromCenter = point.sub(this.globalPos);\n            this.angularVelocity += this.inverseInertia * distanceFromCenter.cross(impulse);\n        }\n    }\n    /**\n     * Sets the old versions of pos, vel, acc, and scale.\n     */\n    captureOldTransform() {\n        // Capture old values before integration step updates them\n        this.__oldTransformCaptured = true;\n        const tx = this.transform.get();\n        tx.clone(this.oldTransform);\n        this.oldTransform.parent = tx.parent; // also grab parent\n        this.oldVel.setTo(this.vel.x, this.vel.y);\n        this.oldAcc.setTo(this.acc.x, this.acc.y);\n    }\n    clone() {\n        const component = super.clone();\n        return component;\n    }\n}\nBodyComponent._ID = 0;\nBodyComponent._DEFAULT_CONFIG = {\n    ...DefaultPhysicsConfig.bodies\n};\n\n;// CONCATENATED MODULE: ./EntityComponentSystem/Entity.ts\n\n\n\n\n\n\n/**\n * AddedComponent message\n */\nclass AddedComponent {\n    constructor(data) {\n        this.data = data;\n        this.type = 'Component Added';\n    }\n}\n/**\n * Type guard to know if message is f an Added Component\n */\nfunction isAddedComponent(x) {\n    return !!x && x.type === 'Component Added';\n}\n/**\n * RemovedComponent message\n */\nclass RemovedComponent {\n    constructor(data) {\n        this.data = data;\n        this.type = 'Component Removed';\n    }\n}\n/**\n * Type guard to know if message is for a Removed Component\n */\nfunction isRemovedComponent(x) {\n    return !!x && x.type === 'Component Removed';\n}\nconst EntityEvents = {\n    Initialize: 'initialize',\n    PreUpdate: 'preupdate',\n    PostUpdate: 'postupdate',\n    Kill: 'kill'\n};\n/**\n * An Entity is the base type of anything that can have behavior in Excalibur, they are part of the built in entity component system\n *\n * Entities can be strongly typed with the components they contain\n *\n * ```typescript\n * const entity = new Entity<ComponentA | ComponentB>();\n * entity.components.a; // Type ComponentA\n * entity.components.b; // Type ComponentB\n * ```\n */\nclass Entity {\n    constructor(componentsOrOptions, name) {\n        /**\n         * The unique identifier for the entity\n         */\n        this.id = Entity._ID++;\n        this.name = `Entity#${this.id}`;\n        /**\n         * Listen to or emit events for an entity\n         */\n        this.events = new EventEmitter();\n        this._tags = new Set();\n        this.componentAdded$ = new Observable;\n        this.componentRemoved$ = new Observable;\n        this.tagAdded$ = new Observable;\n        this.tagRemoved$ = new Observable;\n        /**\n         * Current components on the entity\n         *\n         * **Do not modify**\n         *\n         * Use addComponent/removeComponent otherwise the ECS will not be notified of changes.\n         */\n        this.components = new Map();\n        this._componentsToRemove = [];\n        this._instanceOfComponentCacheDirty = true;\n        this._instanceOfComponentCache = new Map();\n        /**\n         * The current scene that the entity is in, if any\n         */\n        this.scene = null;\n        /**\n         * Whether this entity is active, if set to false it will be reclaimed\n         */\n        this.active = true;\n        this._parent = null;\n        this.childrenAdded$ = new Observable();\n        this.childrenRemoved$ = new Observable();\n        this._children = [];\n        this._isInitialized = false;\n        let componentsToAdd;\n        let nameToAdd;\n        if (Array.isArray(componentsOrOptions)) {\n            componentsToAdd = componentsOrOptions;\n            nameToAdd = name;\n        }\n        else if (componentsOrOptions && typeof componentsOrOptions === 'object') {\n            const { components, name } = componentsOrOptions;\n            componentsToAdd = components;\n            nameToAdd = name;\n        }\n        if (nameToAdd) {\n            this.name = nameToAdd;\n        }\n        if (componentsToAdd) {\n            for (const component of componentsToAdd) {\n                this.addComponent(component);\n            }\n        }\n        // this.addComponent(this.tagsComponent);\n    }\n    /**\n     * Kill the entity, means it will no longer be updated. Kills are deferred to the end of the update.\n     * If parented it will be removed from the parent when killed.\n     */\n    kill() {\n        if (this.active) {\n            this.active = false;\n            this.unparent();\n        }\n        this.emit('kill', new KillEvent(this));\n    }\n    isKilled() {\n        return !this.active;\n    }\n    /**\n     * Specifically get the tags on the entity from [[TagsComponent]]\n     */\n    get tags() {\n        return this._tags;\n    }\n    /**\n     * Check if a tag exists on the entity\n     * @param tag name to check for\n     */\n    hasTag(tag) {\n        return this._tags.has(tag);\n    }\n    /**\n     * Adds a tag to an entity\n     * @param tag\n     */\n    addTag(tag) {\n        this._tags.add(tag);\n        this.tagAdded$.notifyAll(tag);\n    }\n    /**\n     * Removes a tag on the entity\n     *\n     * Removals are deferred until the end of update\n     * @param tag\n     */\n    removeTag(tag) {\n        this._tags.delete(tag);\n        this.tagRemoved$.notifyAll(tag);\n    }\n    /**\n     * The types of the components on the Entity\n     */\n    get types() {\n        return Array.from(this.components.keys());\n    }\n    /**\n     * Returns all component instances on entity\n     */\n    getComponents() {\n        return Array.from(this.components.values());\n    }\n    /**\n     * Verifies that an entity has all the required types\n     * @param requiredTypes\n     */\n    hasAll(requiredTypes) {\n        for (let i = 0; i < requiredTypes.length; i++) {\n            if (!this.components.has(requiredTypes[i])) {\n                return false;\n            }\n        }\n        return true;\n    }\n    /**\n     * Verifies that an entity has all the required tags\n     * @param requiredTags\n     */\n    hasAllTags(requiredTags) {\n        for (let i = 0; i < requiredTags.length; i++) {\n            if (!this.tags.has(requiredTags[i])) {\n                return false;\n            }\n        }\n        return true;\n    }\n    _getCachedInstanceOfType(type) {\n        if (this._instanceOfComponentCacheDirty) {\n            this._instanceOfComponentCacheDirty = false;\n            this._instanceOfComponentCache.clear();\n        }\n        if (this._instanceOfComponentCache.has(type)) {\n            return this._instanceOfComponentCache.get(type);\n        }\n        for (const instance of this.components.values()) {\n            if (instance instanceof type) {\n                this._instanceOfComponentCache.set(type, instance);\n                return instance;\n            }\n        }\n        return undefined;\n    }\n    get(type) {\n        const maybeComponent = this._getCachedInstanceOfType(type);\n        return maybeComponent !== null && maybeComponent !== void 0 ? maybeComponent : this.components.get(type);\n    }\n    get parent() {\n        return this._parent;\n    }\n    /**\n     * Get the direct children of this entity\n     */\n    get children() {\n        return this._children;\n    }\n    /**\n     * Unparents this entity, if there is a parent. Otherwise it does nothing.\n     */\n    unparent() {\n        if (this._parent) {\n            this._parent.removeChild(this);\n            this._parent = null;\n        }\n    }\n    /**\n     * Adds an entity to be a child of this entity\n     * @param entity\n     */\n    addChild(entity) {\n        if (entity.parent === null) {\n            if (this.getAncestors().includes(entity)) {\n                throw new Error('Cycle detected, cannot add entity');\n            }\n            this._children.push(entity);\n            entity._parent = this;\n            this.childrenAdded$.notifyAll(entity);\n        }\n        else {\n            throw new Error('Entity already has a parent, cannot add without unparenting');\n        }\n        return this;\n    }\n    /**\n     * Remove an entity from children if it exists\n     * @param entity\n     */\n    removeChild(entity) {\n        if (entity.parent === this) {\n            removeItemFromArray(entity, this._children);\n            entity._parent = null;\n            this.childrenRemoved$.notifyAll(entity);\n        }\n        return this;\n    }\n    /**\n     * Removes all children from this entity\n     */\n    removeAllChildren() {\n        // Avoid modifying the array issue by walking backwards\n        for (let i = this.children.length - 1; i >= 0; i--) {\n            this.removeChild(this.children[i]);\n        }\n        return this;\n    }\n    /**\n     * Returns a list of parent entities starting with the topmost parent. Includes the current entity.\n     */\n    getAncestors() {\n        const result = [this];\n        let current = this.parent;\n        while (current) {\n            result.push(current);\n            current = current.parent;\n        }\n        return result.reverse();\n    }\n    /**\n     * Returns a list of all the entities that descend from this entity. Includes the current entity.\n     */\n    getDescendants() {\n        let result = [this];\n        let queue = [this];\n        while (queue.length > 0) {\n            const curr = queue.pop();\n            if (curr) {\n                queue = queue.concat(curr.children);\n                result = result.concat(curr.children);\n            }\n        }\n        return result;\n    }\n    /**\n     * Creates a deep copy of the entity and a copy of all its components\n     */\n    clone() {\n        const newEntity = new Entity();\n        for (const c of this.types) {\n            const componentInstance = this.get(c);\n            if (componentInstance) {\n                newEntity.addComponent(componentInstance.clone());\n            }\n        }\n        for (const child of this.children) {\n            newEntity.addChild(child.clone());\n        }\n        return newEntity;\n    }\n    /**\n     * Adds a copy of all the components from another template entity as a \"prefab\"\n     * @param templateEntity Entity to use as a template\n     * @param force Force component replacement if it already exists on the target entity\n     */\n    addTemplate(templateEntity, force = false) {\n        for (const c of templateEntity.getComponents()) {\n            this.addComponent(c.clone(), force);\n        }\n        for (const child of templateEntity.children) {\n            this.addChild(child.clone().addTemplate(child));\n        }\n        return this;\n    }\n    /**\n     * Adds a component to the entity\n     * @param component Component or Entity to add copy of components from\n     * @param force Optionally overwrite any existing components of the same type\n     */\n    addComponent(component, force = false) {\n        this._instanceOfComponentCacheDirty = true;\n        // if component already exists, skip if not forced\n        if (this.has(component.constructor)) {\n            if (force) {\n                // Remove existing component type if exists when forced\n                this.removeComponent(component.constructor, true);\n            }\n            else {\n                // early exit component exits\n                return this;\n            }\n        }\n        // TODO circular dependencies will be a problem\n        if (component.dependencies && component.dependencies.length) {\n            for (const ctor of component.dependencies) {\n                this.addComponent(new ctor());\n            }\n        }\n        component.owner = this;\n        this.components.set(component.constructor, component);\n        if (component.onAdd) {\n            component.onAdd(this);\n        }\n        this.componentAdded$.notifyAll(component);\n        return this;\n    }\n    /**\n     * Removes a component from the entity, by default removals are deferred to the end of entity update to avoid consistency issues\n     *\n     * Components can be force removed with the `force` flag, the removal is not deferred and happens immediately\n     * @param typeOrInstance\n     * @param force\n     */\n    removeComponent(typeOrInstance, force = false) {\n        let type;\n        if (isComponentCtor(typeOrInstance)) {\n            type = typeOrInstance;\n        }\n        else {\n            type = typeOrInstance.constructor;\n        }\n        if (force) {\n            const componentToRemove = this.components.get(type);\n            if (componentToRemove) {\n                this.componentRemoved$.notifyAll(componentToRemove);\n                componentToRemove.owner = undefined;\n                if (componentToRemove.onRemove) {\n                    componentToRemove.onRemove(this);\n                }\n            }\n            this.components.delete(type); // remove after the notify to preserve typing\n            this._instanceOfComponentCacheDirty = true;\n        }\n        else {\n            this._componentsToRemove.push(type);\n        }\n        return this;\n    }\n    clearComponents() {\n        const components = this.types;\n        for (const c of components) {\n            this.removeComponent(c);\n        }\n    }\n    /**\n     * @hidden\n     * @internal\n     */\n    processComponentRemoval() {\n        for (const type of this._componentsToRemove) {\n            this.removeComponent(type, true);\n        }\n        this._componentsToRemove.length = 0;\n    }\n    /**\n     * Check if a component type exists\n     * @param type\n     */\n    has(type) {\n        return this.components.has(type);\n    }\n    /**\n     * Gets whether the actor is Initialized\n     */\n    get isInitialized() {\n        return this._isInitialized;\n    }\n    /**\n     * Initializes this entity, meant to be called by the Scene before first update not by users of Excalibur.\n     *\n     * It is not recommended that internal excalibur methods be overridden, do so at your own risk.\n     * @internal\n     */\n    _initialize(engine) {\n        if (!this.isInitialized) {\n            this.onInitialize(engine);\n            this.events.emit('initialize', new InitializeEvent(engine, this));\n            this._isInitialized = true;\n        }\n    }\n    /**\n     * It is not recommended that internal excalibur methods be overridden, do so at your own risk.\n     *\n     * Internal _preupdate handler for [[onPreUpdate]] lifecycle event\n     * @internal\n     */\n    _preupdate(engine, delta) {\n        this.events.emit('preupdate', new PreUpdateEvent(engine, delta, this));\n        this.onPreUpdate(engine, delta);\n    }\n    /**\n     * It is not recommended that internal excalibur methods be overridden, do so at your own risk.\n     *\n     * Internal _preupdate handler for [[onPostUpdate]] lifecycle event\n     * @internal\n     */\n    _postupdate(engine, delta) {\n        this.events.emit('postupdate', new PostUpdateEvent(engine, delta, this));\n        this.onPostUpdate(engine, delta);\n    }\n    /**\n     * `onInitialize` is called before the first update of the entity. This method is meant to be\n     * overridden.\n     *\n     * Synonymous with the event handler `.on('initialize', (evt) => {...})`\n     */\n    onInitialize(engine) {\n        // Override me\n    }\n    /**\n     * Safe to override onPreUpdate lifecycle event handler. Synonymous with `.on('preupdate', (evt) =>{...})`\n     *\n     * `onPreUpdate` is called directly before an entity is updated.\n     */\n    onPreUpdate(engine, delta) {\n        // Override me\n    }\n    /**\n     * Safe to override onPostUpdate lifecycle event handler. Synonymous with `.on('postupdate', (evt) =>{...})`\n     *\n     * `onPostUpdate` is called directly after an entity is updated.\n     */\n    onPostUpdate(engine, delta) {\n        // Override me\n    }\n    /**\n     *\n     * Entity update lifecycle, called internally\n     * @internal\n     * @param engine\n     * @param delta\n     */\n    update(engine, delta) {\n        this._initialize(engine);\n        this._preupdate(engine, delta);\n        for (const child of this.children) {\n            child.update(engine, delta);\n        }\n        this._postupdate(engine, delta);\n    }\n    emit(eventName, event) {\n        this.events.emit(eventName, event);\n    }\n    on(eventName, handler) {\n        return this.events.on(eventName, handler);\n    }\n    once(eventName, handler) {\n        return this.events.once(eventName, handler);\n    }\n    off(eventName, handler) {\n        if (handler) {\n            this.events.off(eventName, handler);\n        }\n        else {\n            this.events.off(eventName);\n        }\n    }\n}\nEntity._ID = 0;\n\n;// CONCATENATED MODULE: ./Graphics/GraphicsComponent.ts\n\n\n\n\n\n\n/**\n * Type guard for checking if a Graphic HasTick (used for graphics that change over time like animations)\n * @param graphic\n */\nfunction hasGraphicsTick(graphic) {\n    return !!graphic.tick;\n}\n/**\n * Component to manage drawings, using with the position component\n */\nclass GraphicsComponent extends Component {\n    /**\n     * Offset to apply to graphics by default\n     */\n    get offset() {\n        return new WatchVector(this._offset, () => {\n            this.recalculateBounds();\n        });\n    }\n    set offset(value) {\n        this._offset = value;\n        this.recalculateBounds();\n    }\n    /**\n     * Anchor to apply to graphics by default\n     */\n    get anchor() {\n        return new WatchVector(this._anchor, () => {\n            this.recalculateBounds();\n        });\n    }\n    set anchor(value) {\n        this._anchor = value;\n        this.recalculateBounds();\n    }\n    constructor(options) {\n        super();\n        this._logger = Logger.getInstance();\n        this._current = 'default';\n        this._graphics = {};\n        this._options = {};\n        this.material = null;\n        /**\n         * Sets or gets wether any drawing should be visible in this component\n         */\n        this.visible = true;\n        /**\n         * Sets or gets wither all drawings should have an opacity applied\n         */\n        this.opacity = 1;\n        this._offset = Vector.Zero;\n        this._anchor = Vector.Half;\n        /**\n         * Flip all graphics horizontally along the y-axis\n         */\n        this.flipHorizontal = false;\n        /**\n         * Flip all graphics vertically along the x-axis\n         */\n        this.flipVertical = false;\n        /**\n         * If set to true graphics added to the component will be copied. This can effect performance, but is useful if you don't want\n         * changes to a graphic to effect all the places it is used.\n         */\n        this.copyGraphics = false;\n        this._localBounds = null;\n        // Defaults\n        options = {\n            visible: this.visible,\n            graphics: {},\n            ...options\n        };\n        const { current, anchor, opacity, visible, graphics, offset, copyGraphics, onPreDraw, onPostDraw, onPreTransformDraw, onPostTransformDraw } = options;\n        for (const [key, graphicOrOptions] of Object.entries(graphics)) {\n            if (graphicOrOptions instanceof Graphic) {\n                this._graphics[key] = graphicOrOptions;\n            }\n            else {\n                this._graphics[key] = graphicOrOptions.graphic;\n                this._options[key] = graphicOrOptions.options;\n            }\n        }\n        this.offset = offset !== null && offset !== void 0 ? offset : this.offset;\n        this.opacity = opacity !== null && opacity !== void 0 ? opacity : this.opacity;\n        this.anchor = anchor !== null && anchor !== void 0 ? anchor : this.anchor;\n        this.copyGraphics = copyGraphics !== null && copyGraphics !== void 0 ? copyGraphics : this.copyGraphics;\n        this.onPreDraw = onPreDraw !== null && onPreDraw !== void 0 ? onPreDraw : this.onPreDraw;\n        this.onPostDraw = onPostDraw !== null && onPostDraw !== void 0 ? onPostDraw : this.onPostDraw;\n        this.onPreDraw = onPreTransformDraw !== null && onPreTransformDraw !== void 0 ? onPreTransformDraw : this.onPreTransformDraw;\n        this.onPostTransformDraw = onPostTransformDraw !== null && onPostTransformDraw !== void 0 ? onPostTransformDraw : this.onPostTransformDraw;\n        this.visible = !!visible;\n        this._current = current !== null && current !== void 0 ? current : this._current;\n        if (current && this._graphics[current]) {\n            this.use(current);\n        }\n    }\n    getGraphic(name) {\n        return this._graphics[name];\n    }\n    getOptions(name) {\n        return this._options[name];\n    }\n    /**\n     * Get registered graphics names\n     */\n    getNames() {\n        return Object.keys(this._graphics);\n    }\n    /**\n     * Returns the currently displayed graphic\n     */\n    get current() {\n        return this._graphics[this._current];\n    }\n    /**\n     * Returns the currently displayed graphic offsets\n     */\n    get currentOptions() {\n        return this._options[this._current];\n    }\n    /**\n     * Returns all graphics associated with this component\n     */\n    get graphics() {\n        return this._graphics;\n    }\n    /**\n     * Returns all graphics options associated with this component\n     */\n    get options() {\n        return this._options;\n    }\n    add(nameOrGraphic, graphicOrOptions, options) {\n        let name = 'default';\n        let graphicToSet = null;\n        let optionsToSet = undefined;\n        if (typeof nameOrGraphic === 'string' && graphicOrOptions instanceof Graphic) {\n            name = nameOrGraphic;\n            graphicToSet = graphicOrOptions;\n            optionsToSet = options;\n        }\n        if (nameOrGraphic instanceof Graphic && !(graphicOrOptions instanceof Graphic)) {\n            graphicToSet = nameOrGraphic;\n            optionsToSet = graphicOrOptions;\n        }\n        this._graphics[name] = this.copyGraphics ? graphicToSet.clone() : graphicToSet;\n        this._options[name] = this.copyGraphics ? { ...optionsToSet } : optionsToSet;\n        if (name === 'default') {\n            this.use('default');\n        }\n        return graphicToSet;\n    }\n    /**\n     * Removes a registered graphic, if the removed graphic is the current it will switch to the default\n     * @param name\n     */\n    remove(name) {\n        delete this._graphics[name];\n        delete this._options[name];\n        if (this._current === name) {\n            this._current = 'default';\n            this.recalculateBounds();\n        }\n    }\n    /**\n     * Shows a graphic, will be removed\n     * @param nameOrGraphic\n     * @param options\n     * @deprecated will be removed in v0.30.0, use `graphics.use(...)`\n     */\n    show(nameOrGraphic, options) {\n        return this.use(nameOrGraphic, options);\n    }\n    /**\n     * Use a graphic only, will set the default graphic. Returns the new [[Graphic]]\n     *\n     * Optionally override the stored options\n     * @param nameOrGraphic\n     * @param options\n     */\n    use(nameOrGraphic, options) {\n        var _a;\n        if (nameOrGraphic instanceof Graphic) {\n            let graphic = nameOrGraphic;\n            if (this.copyGraphics) {\n                graphic = nameOrGraphic.clone();\n            }\n            this._current = 'default';\n            this._graphics[this._current] = graphic;\n            this._options[this._current] = options;\n        }\n        else {\n            this._current = nameOrGraphic;\n            this._options[this._current] = options;\n            if (!(this._current in this._graphics)) {\n                this._logger.warn(`Graphic ${this._current} is not registered with the graphics component owned by ${(_a = this.owner) === null || _a === void 0 ? void 0 : _a.name}. Nothing will be drawn.`);\n            }\n        }\n        this.recalculateBounds();\n        return this.current;\n    }\n    /**\n     * Hide currently shown graphic\n     */\n    hide() {\n        this._current = 'ex.none';\n    }\n    set localBounds(bounds) {\n        this._localBounds = bounds;\n    }\n    recalculateBounds() {\n        let bb = new BoundingBox();\n        const graphic = this._graphics[this._current];\n        const options = this._options[this._current];\n        if (!graphic) {\n            this._localBounds = bb;\n            return;\n        }\n        let anchor = this.anchor;\n        let offset = this.offset;\n        if (options === null || options === void 0 ? void 0 : options.anchor) {\n            anchor = options.anchor;\n        }\n        if (options === null || options === void 0 ? void 0 : options.offset) {\n            offset = options.offset;\n        }\n        const bounds = graphic.localBounds;\n        const offsetX = -bounds.width * anchor.x + offset.x;\n        const offsetY = -bounds.height * anchor.y + offset.y;\n        bb = graphic === null || graphic === void 0 ? void 0 : graphic.localBounds.translate(vec(offsetX, offsetY)).combine(bb);\n        this._localBounds = bb;\n    }\n    get localBounds() {\n        if (!this._localBounds || this._localBounds.hasZeroDimensions()) {\n            this.recalculateBounds();\n        }\n        return this._localBounds;\n    }\n    /**\n     * Update underlying graphics if necessary, called internally\n     * @param elapsed\n     * @internal\n     */\n    update(elapsed, idempotencyToken = 0) {\n        const graphic = this.current;\n        if (graphic && hasGraphicsTick(graphic)) {\n            graphic.tick(elapsed, idempotencyToken);\n        }\n    }\n    clone() {\n        const graphics = new GraphicsComponent();\n        graphics._graphics = { ...this._graphics };\n        graphics._options = { ...this._options };\n        graphics.offset = this.offset.clone();\n        graphics.opacity = this.opacity;\n        graphics.anchor = this.anchor.clone();\n        graphics.copyGraphics = this.copyGraphics;\n        graphics.onPreDraw = this.onPreDraw;\n        graphics.onPostDraw = this.onPostDraw;\n        graphics.visible = this.visible;\n        return graphics;\n    }\n}\n\n;// CONCATENATED MODULE: ./Graphics/Rectangle.ts\n\n/**\n * A Rectangle [[Graphic]] for drawing rectangles to the [[ExcaliburGraphicsContext]]\n */\nclass Rectangle extends Raster {\n    constructor(options) {\n        super(options);\n        this.width = options.width;\n        this.height = options.height;\n        this.rasterize();\n    }\n    clone() {\n        return new Rectangle({\n            width: this.width,\n            height: this.height,\n            ...this.cloneGraphicOptions(),\n            ...this.cloneRasterOptions()\n        });\n    }\n    execute(ctx) {\n        if (this.color) {\n            ctx.fillRect(0, 0, this.width, this.height);\n        }\n        if (this.strokeColor) {\n            ctx.strokeRect(0, 0, this.width, this.height);\n        }\n    }\n}\n\n;// CONCATENATED MODULE: ./Graphics/Circle.ts\n\n\n/**\n * A circle [[Graphic]] for drawing circles to the [[ExcaliburGraphicsContext]]\n *\n * Circles default to [[ImageFiltering.Blended]]\n */\nclass Circle extends Raster {\n    get radius() {\n        return this._radius;\n    }\n    set radius(value) {\n        this._radius = value;\n        this.width = this._radius * 2;\n        this.height = this._radius * 2;\n        this.flagDirty();\n    }\n    constructor(options) {\n        var _a, _b, _c;\n        super(options);\n        this._radius = 0;\n        const lineWidth = (_a = options.lineWidth) !== null && _a !== void 0 ? _a : (options.strokeColor ? 1 : 0); // default lineWidth in canvas is 1px\n        this.padding = (_b = options.padding) !== null && _b !== void 0 ? _b : 2 + (lineWidth / 2); // default 2 padding for circles looks nice\n        this.radius = options.radius;\n        this.filtering = (_c = options.filtering) !== null && _c !== void 0 ? _c : ImageFiltering.Blended;\n        this.rasterize();\n    }\n    clone() {\n        return new Circle({\n            radius: this.radius,\n            ...this.cloneGraphicOptions(),\n            ...this.cloneRasterOptions()\n        });\n    }\n    execute(ctx) {\n        if (this.radius > 0) {\n            ctx.beginPath();\n            ctx.arc(this.radius, this.radius, this.radius, 0, Math.PI * 2);\n            if (this.color) {\n                ctx.fill();\n            }\n            if (this.strokeColor) {\n                ctx.stroke();\n            }\n        }\n    }\n}\n\n;// CONCATENATED MODULE: ./Input/PointerComponent.ts\n\n/**\n * Add this component to optionally configure how the pointer\n * system detects pointer events.\n *\n * By default the collider shape is used and graphics bounds is not.\n *\n * If both collider shape and graphics bounds are enabled it will fire events if either or\n * are intersecting the pointer.\n */\nclass PointerComponent extends Component {\n    constructor() {\n        super(...arguments);\n        /**\n         * Use any existing Collider component geometry for pointer events. This is useful if you want\n         * user pointer events only to trigger on the same collision geometry used in the collider component\n         * for collision resolution. Default is `true`.\n         */\n        this.useColliderShape = true;\n        /**\n         * Use any existing Graphics component bounds for pointers. This is useful if you want the axis aligned\n         * bounds around the graphic to trigger pointer events. Default is `true`.\n         */\n        this.useGraphicsBounds = true;\n    }\n}\n\n;// CONCATENATED MODULE: ./Util/EasingFunctions.ts\n\n/**\n * Standard easing functions for motion in Excalibur, defined on a domain of [0, duration] and a range from [+startValue,+endValue]\n * Given a time, the function will return a value from positive startValue to positive endValue.\n *\n * ```js\n * function Linear (t) {\n *    return t * t;\n * }\n *\n * // accelerating from zero velocity\n * function EaseInQuad (t) {\n *    return t * t;\n * }\n *\n * // decelerating to zero velocity\n * function EaseOutQuad (t) {\n *    return t * (2 - t);\n * }\n *\n * // acceleration until halfway, then deceleration\n * function EaseInOutQuad (t) {\n *    return t < .5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\n * }\n *\n * // accelerating from zero velocity\n * function EaseInCubic (t) {\n *    return t * t * t;\n * }\n *\n * // decelerating to zero velocity\n * function EaseOutCubic (t) {\n *    return (--t) * t * t + 1;\n * }\n *\n * // acceleration until halfway, then deceleration\n * function EaseInOutCubic (t) {\n *    return t < .5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;\n * }\n * ```\n */\nclass EasingFunctions {\n    static CreateReversibleEasingFunction(easing) {\n        return (time, start, end, duration) => {\n            if (end < start) {\n                return start - (easing(time, end, start, duration) - end);\n            }\n            else {\n                return easing(time, start, end, duration);\n            }\n        };\n    }\n    static CreateVectorEasingFunction(easing) {\n        return (time, start, end, duration) => {\n            return new Vector(easing(time, start.x, end.x, duration), easing(time, start.y, end.y, duration));\n        };\n    }\n}\nEasingFunctions.Linear = EasingFunctions.CreateReversibleEasingFunction((currentTime, startValue, endValue, duration) => {\n    endValue = endValue - startValue;\n    return (endValue * currentTime) / duration + startValue;\n});\nEasingFunctions.EaseInQuad = EasingFunctions.CreateReversibleEasingFunction((currentTime, startValue, endValue, duration) => {\n    endValue = endValue - startValue;\n    currentTime /= duration;\n    return endValue * currentTime * currentTime + startValue;\n});\nEasingFunctions.EaseOutQuad = EasingFunctions.CreateReversibleEasingFunction((currentTime, startValue, endValue, duration) => {\n    endValue = endValue - startValue;\n    currentTime /= duration;\n    return -endValue * currentTime * (currentTime - 2) + startValue;\n});\nEasingFunctions.EaseInOutQuad = EasingFunctions.CreateReversibleEasingFunction((currentTime, startValue, endValue, duration) => {\n    endValue = endValue - startValue;\n    currentTime /= duration / 2;\n    if (currentTime < 1) {\n        return (endValue / 2) * currentTime * currentTime + startValue;\n    }\n    currentTime--;\n    return (-endValue / 2) * (currentTime * (currentTime - 2) - 1) + startValue;\n});\nEasingFunctions.EaseInCubic = EasingFunctions.CreateReversibleEasingFunction((currentTime, startValue, endValue, duration) => {\n    endValue = endValue - startValue;\n    currentTime /= duration;\n    return endValue * currentTime * currentTime * currentTime + startValue;\n});\nEasingFunctions.EaseOutCubic = EasingFunctions.CreateReversibleEasingFunction((currentTime, startValue, endValue, duration) => {\n    endValue = endValue - startValue;\n    currentTime /= duration;\n    currentTime--;\n    return endValue * (currentTime * currentTime * currentTime + 1) + startValue;\n});\nEasingFunctions.EaseInOutCubic = EasingFunctions.CreateReversibleEasingFunction((currentTime, startValue, endValue, duration) => {\n    endValue = endValue - startValue;\n    currentTime /= duration / 2;\n    if (currentTime < 1) {\n        return (endValue / 2) * currentTime * currentTime * currentTime + startValue;\n    }\n    currentTime -= 2;\n    return (endValue / 2) * (currentTime * currentTime * currentTime + 2) + startValue;\n});\n\n;// CONCATENATED MODULE: ./Actions/ActionQueue.ts\n\n/**\n * Action Queues represent an ordered sequence of actions\n *\n * Action queues are part of the [[ActionContext|Action API]] and\n * store the list of actions to be executed for an [[Actor]].\n *\n * Actors implement [[Actor.actions]] which can be manipulated by\n * advanced users to adjust the actions currently being executed in the\n * queue.\n */\nclass ActionQueue {\n    constructor(entity) {\n        this._actions = [];\n        this._currentAction = null;\n        this._completedActions = [];\n        this._entity = entity;\n    }\n    /**\n     * Add an action to the sequence\n     * @param action\n     */\n    add(action) {\n        this._actions.push(action);\n    }\n    /**\n     * Remove an action by reference from the sequence\n     * @param action\n     */\n    remove(action) {\n        const index = this._actions.indexOf(action);\n        this._actions.splice(index, 1);\n    }\n    /**\n     * Removes all actions from this sequence\n     */\n    clearActions() {\n        this._actions.length = 0;\n        this._completedActions.length = 0;\n        if (this._currentAction) {\n            this._currentAction.stop();\n        }\n    }\n    /**\n     *\n     * @returns The total list of actions in this sequence complete or not\n     */\n    getActions() {\n        return this._actions.concat(this._completedActions);\n    }\n    /**\n     *\n     * @returns `true` if there are more actions to process in the sequence\n     */\n    hasNext() {\n        return this._actions.length > 0;\n    }\n    /**\n     * @returns `true` if the current sequence of actions is done\n     */\n    isComplete() {\n        return this._actions.length === 0;\n    }\n    /**\n     * Resets the sequence of actions, this is used to restart a sequence from the beginning\n     */\n    reset() {\n        this._actions = this.getActions();\n        const len = this._actions.length;\n        for (let i = 0; i < len; i++) {\n            this._actions[i].reset();\n        }\n        this._completedActions = [];\n    }\n    /**\n     * Update the queue which updates actions and handles completing actions\n     * @param elapsedMs\n     */\n    update(elapsedMs) {\n        if (this._actions.length > 0) {\n            if (this._currentAction !== this._actions[0]) {\n                this._currentAction = this._actions[0];\n                this._entity.emit('actionstart', new ActionStartEvent(this._currentAction, this._entity));\n            }\n            this._currentAction.update(elapsedMs);\n            if (this._currentAction.isComplete(this._entity)) {\n                this._entity.emit('actioncomplete', new ActionCompleteEvent(this._currentAction, this._entity));\n                const complete = this._actions.shift();\n                if (complete) {\n                    this._completedActions.push(complete);\n                }\n            }\n        }\n    }\n}\n\n;// CONCATENATED MODULE: ./Actions/Action/Repeat.ts\n\nclass Repeat {\n    constructor(entity, repeatBuilder, repeat) {\n        this._stopped = false;\n        this._repeatBuilder = repeatBuilder;\n        this._repeatContext = new ActionContext(entity);\n        this._actionQueue = this._repeatContext.getQueue();\n        this._repeat = repeat;\n        this._originalRepeat = repeat;\n        this._repeatBuilder(this._repeatContext);\n        this._repeat--; // current execution is the first repeat\n    }\n    update(delta) {\n        if (this._actionQueue.isComplete()) {\n            this._actionQueue.clearActions();\n            this._repeatBuilder(this._repeatContext);\n            this._repeat--;\n        }\n        this._actionQueue.update(delta);\n    }\n    isComplete() {\n        return this._stopped || (this._repeat <= 0 && this._actionQueue.isComplete());\n    }\n    stop() {\n        this._stopped = true;\n    }\n    reset() {\n        this._repeat = this._originalRepeat;\n    }\n}\n\n;// CONCATENATED MODULE: ./Actions/Action/RepeatForever.ts\n\n/**\n * RepeatForever Action implementation, it is recommended you use the fluent action\n * context API.\n *\n *\n */\nclass RepeatForever {\n    constructor(entity, repeatBuilder) {\n        this._stopped = false;\n        this._repeatBuilder = repeatBuilder;\n        this._repeatContext = new ActionContext(entity);\n        this._actionQueue = this._repeatContext.getQueue();\n        this._repeatBuilder(this._repeatContext);\n    }\n    update(delta) {\n        if (this._stopped) {\n            return;\n        }\n        if (this._actionQueue.isComplete()) {\n            this._actionQueue.clearActions();\n            this._repeatBuilder(this._repeatContext);\n        }\n        this._actionQueue.update(delta);\n    }\n    isComplete() {\n        return this._stopped;\n    }\n    stop() {\n        this._stopped = true;\n        this._actionQueue.clearActions();\n    }\n    reset() {\n        return;\n    }\n}\n\n;// CONCATENATED MODULE: ./Actions/Action/MoveBy.ts\n\n\n\n\nclass MoveBy {\n    constructor(entity, offsetX, offsetY, speed) {\n        this._started = false;\n        this._stopped = false;\n        this._entity = entity;\n        this._tx = entity.get(TransformComponent);\n        this._motion = entity.get(MotionComponent);\n        this._speed = speed;\n        this._offset = new Vector(offsetX, offsetY);\n        if (speed <= 0) {\n            Logger.getInstance().error('Attempted to moveBy with speed less than or equal to zero : ' + speed);\n            throw new Error('Speed must be greater than 0 pixels per second');\n        }\n    }\n    update(_delta) {\n        if (!this._started) {\n            this._started = true;\n            this._start = new Vector(this._tx.pos.x, this._tx.pos.y);\n            this._end = this._start.add(this._offset);\n            this._distance = this._offset.size;\n            this._dir = this._end.sub(this._start).normalize();\n        }\n        if (this.isComplete(this._entity)) {\n            this._tx.pos = vec(this._end.x, this._end.y);\n            this._motion.vel = vec(0, 0);\n        }\n        else {\n            this._motion.vel = this._dir.scale(this._speed);\n        }\n    }\n    isComplete(entity) {\n        const tx = entity.get(TransformComponent);\n        return this._stopped || tx.pos.distance(this._start) >= this._distance;\n    }\n    stop() {\n        this._motion.vel = vec(0, 0);\n        this._stopped = true;\n    }\n    reset() {\n        this._started = false;\n        this._stopped = false;\n    }\n}\n\n;// CONCATENATED MODULE: ./Actions/Action/MoveTo.ts\n\n\n\nclass MoveTo {\n    constructor(entity, destx, desty, speed) {\n        this.entity = entity;\n        this._started = false;\n        this._stopped = false;\n        this._tx = entity.get(TransformComponent);\n        this._motion = entity.get(MotionComponent);\n        this._end = new Vector(destx, desty);\n        this._speed = speed;\n    }\n    update(_delta) {\n        if (!this._started) {\n            this._started = true;\n            this._start = new Vector(this._tx.pos.x, this._tx.pos.y);\n            this._distance = this._start.distance(this._end);\n            this._dir = this._end.sub(this._start).normalize();\n        }\n        const m = this._dir.scale(this._speed);\n        this._motion.vel = vec(m.x, m.y);\n        if (this.isComplete(this.entity)) {\n            this._tx.pos = vec(this._end.x, this._end.y);\n            this._motion.vel = vec(0, 0);\n        }\n    }\n    isComplete(entity) {\n        const tx = entity.get(TransformComponent);\n        return this._stopped || new Vector(tx.pos.x, tx.pos.y).distance(this._start) >= this._distance;\n    }\n    stop() {\n        this._motion.vel = vec(0, 0);\n        this._stopped = true;\n    }\n    reset() {\n        this._started = false;\n        this._stopped = false;\n    }\n}\n\n;// CONCATENATED MODULE: ./Actions/RotationType.ts\n/**\n * An enum that describes the strategies that rotation actions can use\n */\nvar RotationType;\n(function (RotationType) {\n    /**\n     * Rotation via `ShortestPath` will use the smallest angle\n     * between the starting and ending points. This strategy is the default behavior.\n     */\n    RotationType[RotationType[\"ShortestPath\"] = 0] = \"ShortestPath\";\n    /**\n     * Rotation via `LongestPath` will use the largest angle\n     * between the starting and ending points.\n     */\n    RotationType[RotationType[\"LongestPath\"] = 1] = \"LongestPath\";\n    /**\n     * Rotation via `Clockwise` will travel in a clockwise direction,\n     * regardless of the starting and ending points.\n     */\n    RotationType[RotationType[\"Clockwise\"] = 2] = \"Clockwise\";\n    /**\n     * Rotation via `CounterClockwise` will travel in a counterclockwise direction,\n     * regardless of the starting and ending points.\n     */\n    RotationType[RotationType[\"CounterClockwise\"] = 3] = \"CounterClockwise\";\n})(RotationType || (RotationType = {}));\n\n;// CONCATENATED MODULE: ./Actions/Action/RotateTo.ts\n\n\n\n\nclass RotateTo {\n    constructor(entity, angleRadians, speed, rotationType) {\n        this._started = false;\n        this._stopped = false;\n        this._tx = entity.get(TransformComponent);\n        this._motion = entity.get(MotionComponent);\n        this._end = angleRadians;\n        this._speed = speed;\n        this._rotationType = rotationType || RotationType.ShortestPath;\n    }\n    update(_delta) {\n        if (!this._started) {\n            this._started = true;\n            this._start = this._tx.rotation;\n            this._currentNonCannonAngle = this._tx.rotation;\n            const distance1 = Math.abs(this._end - this._start);\n            const distance2 = TwoPI - distance1;\n            if (distance1 > distance2) {\n                this._shortDistance = distance2;\n                this._longDistance = distance1;\n            }\n            else {\n                this._shortDistance = distance1;\n                this._longDistance = distance2;\n            }\n            this._shortestPathIsPositive = (this._start - this._end + TwoPI) % TwoPI >= Math.PI;\n            switch (this._rotationType) {\n                case RotationType.ShortestPath:\n                    this._distance = this._shortDistance;\n                    if (this._shortestPathIsPositive) {\n                        this._direction = 1;\n                    }\n                    else {\n                        this._direction = -1;\n                    }\n                    break;\n                case RotationType.LongestPath:\n                    this._distance = this._longDistance;\n                    if (this._shortestPathIsPositive) {\n                        this._direction = -1;\n                    }\n                    else {\n                        this._direction = 1;\n                    }\n                    break;\n                case RotationType.Clockwise:\n                    this._direction = 1;\n                    if (this._shortestPathIsPositive) {\n                        this._distance = this._shortDistance;\n                    }\n                    else {\n                        this._distance = this._longDistance;\n                    }\n                    break;\n                case RotationType.CounterClockwise:\n                    this._direction = -1;\n                    if (!this._shortestPathIsPositive) {\n                        this._distance = this._shortDistance;\n                    }\n                    else {\n                        this._distance = this._longDistance;\n                    }\n                    break;\n            }\n        }\n        this._motion.angularVelocity = this._direction * this._speed;\n        this._currentNonCannonAngle += this._direction * this._speed * (_delta / 1000);\n        if (this.isComplete()) {\n            this._tx.rotation = this._end;\n            this._motion.angularVelocity = 0;\n            this._stopped = true;\n        }\n    }\n    isComplete() {\n        const distanceTraveled = Math.abs(this._currentNonCannonAngle - this._start);\n        return this._stopped || distanceTraveled >= Math.abs(this._distance);\n    }\n    stop() {\n        this._motion.angularVelocity = 0;\n        this._stopped = true;\n    }\n    reset() {\n        this._started = false;\n        this._stopped = false;\n    }\n}\n\n;// CONCATENATED MODULE: ./Actions/Action/RotateBy.ts\n\n\n\n\nclass RotateBy {\n    constructor(entity, angleRadiansOffset, speed, rotationType) {\n        this._started = false;\n        this._stopped = false;\n        this._tx = entity.get(TransformComponent);\n        this._motion = entity.get(MotionComponent);\n        this._speed = speed;\n        this._offset = angleRadiansOffset;\n        this._rotationType = rotationType || RotationType.ShortestPath;\n    }\n    update(_delta) {\n        if (!this._started) {\n            this._started = true;\n            this._start = this._tx.rotation;\n            this._currentNonCannonAngle = this._tx.rotation;\n            this._end = this._start + this._offset;\n            const distance1 = Math.abs(this._end - this._start);\n            const distance2 = TwoPI - distance1;\n            if (distance1 > distance2) {\n                this._shortDistance = distance2;\n                this._longDistance = distance1;\n            }\n            else {\n                this._shortDistance = distance1;\n                this._longDistance = distance2;\n            }\n            this._shortestPathIsPositive = (this._start - this._end + TwoPI) % TwoPI >= Math.PI;\n            switch (this._rotationType) {\n                case RotationType.ShortestPath:\n                    this._distance = this._shortDistance;\n                    if (this._shortestPathIsPositive) {\n                        this._direction = 1;\n                    }\n                    else {\n                        this._direction = -1;\n                    }\n                    break;\n                case RotationType.LongestPath:\n                    this._distance = this._longDistance;\n                    if (this._shortestPathIsPositive) {\n                        this._direction = -1;\n                    }\n                    else {\n                        this._direction = 1;\n                    }\n                    break;\n                case RotationType.Clockwise:\n                    this._direction = 1;\n                    if (this._shortDistance >= 0) {\n                        this._distance = this._shortDistance;\n                    }\n                    else {\n                        this._distance = this._longDistance;\n                    }\n                    break;\n                case RotationType.CounterClockwise:\n                    this._direction = -1;\n                    if (this._shortDistance <= 0) {\n                        this._distance = this._shortDistance;\n                    }\n                    else {\n                        this._distance = this._longDistance;\n                    }\n                    break;\n            }\n        }\n        this._motion.angularVelocity = this._direction * this._speed;\n        this._currentNonCannonAngle += this._direction * this._speed * (_delta / 1000);\n        if (this.isComplete()) {\n            this._tx.rotation = this._end;\n            this._motion.angularVelocity = 0;\n            this._stopped = true;\n        }\n    }\n    isComplete() {\n        const distanceTraveled = Math.abs(this._currentNonCannonAngle - this._start);\n        return this._stopped || distanceTraveled >= Math.abs(this._distance);\n    }\n    stop() {\n        this._motion.angularVelocity = 0;\n        this._stopped = true;\n    }\n    reset() {\n        this._started = false;\n        this._stopped = false;\n        this._start = undefined;\n        this._currentNonCannonAngle = undefined;\n        this._distance = undefined;\n    }\n}\n\n;// CONCATENATED MODULE: ./Actions/Action/ScaleTo.ts\n\n\n\nclass ScaleTo {\n    constructor(entity, scaleX, scaleY, speedX, speedY) {\n        this._started = false;\n        this._stopped = false;\n        this._tx = entity.get(TransformComponent);\n        this._motion = entity.get(MotionComponent);\n        this._endX = scaleX;\n        this._endY = scaleY;\n        this._speedX = speedX;\n        this._speedY = speedY;\n    }\n    update(_delta) {\n        if (!this._started) {\n            this._started = true;\n            this._startX = this._tx.scale.x;\n            this._startY = this._tx.scale.y;\n            this._distanceX = Math.abs(this._endX - this._startX);\n            this._distanceY = Math.abs(this._endY - this._startY);\n        }\n        if (!(Math.abs(this._tx.scale.x - this._startX) >= this._distanceX)) {\n            const directionX = this._endY < this._startY ? -1 : 1;\n            this._motion.scaleFactor.x = this._speedX * directionX;\n        }\n        else {\n            this._motion.scaleFactor.x = 0;\n        }\n        if (!(Math.abs(this._tx.scale.y - this._startY) >= this._distanceY)) {\n            const directionY = this._endY < this._startY ? -1 : 1;\n            this._motion.scaleFactor.y = this._speedY * directionY;\n        }\n        else {\n            this._motion.scaleFactor.y = 0;\n        }\n        if (this.isComplete()) {\n            this._tx.scale = vec(this._endX, this._endY);\n            this._motion.scaleFactor.x = 0;\n            this._motion.scaleFactor.y = 0;\n        }\n    }\n    isComplete() {\n        return (this._stopped ||\n            (Math.abs(this._tx.scale.x - this._startX) >= (this._distanceX - 0.01) &&\n                Math.abs(this._tx.scale.y - this._startY) >= (this._distanceY - 0.01)));\n    }\n    stop() {\n        this._motion.scaleFactor.x = 0;\n        this._motion.scaleFactor.y = 0;\n        this._stopped = true;\n    }\n    reset() {\n        this._started = false;\n        this._stopped = false;\n    }\n}\n\n;// CONCATENATED MODULE: ./Actions/Action/ScaleBy.ts\n\n\n\nclass ScaleBy {\n    constructor(entity, scaleOffsetX, scaleOffsetY, speed) {\n        this._started = false;\n        this._stopped = false;\n        this._tx = entity.get(TransformComponent);\n        this._motion = entity.get(MotionComponent);\n        this._offset = new Vector(scaleOffsetX, scaleOffsetY);\n        this._speedX = this._speedY = speed;\n    }\n    update(_delta) {\n        if (!this._started) {\n            this._started = true;\n            this._startScale = this._tx.scale.clone();\n            this._endScale = this._startScale.add(this._offset);\n            this._distanceX = Math.abs(this._endScale.x - this._startScale.x);\n            this._distanceY = Math.abs(this._endScale.y - this._startScale.y);\n            this._directionX = this._endScale.x < this._startScale.x ? -1 : 1;\n            this._directionY = this._endScale.y < this._startScale.y ? -1 : 1;\n        }\n        this._motion.scaleFactor.x = this._speedX * this._directionX;\n        this._motion.scaleFactor.y = this._speedY * this._directionY;\n        if (this.isComplete()) {\n            this._tx.scale = this._endScale;\n            this._motion.scaleFactor.x = 0;\n            this._motion.scaleFactor.y = 0;\n        }\n    }\n    isComplete() {\n        return (this._stopped ||\n            (Math.abs(this._tx.scale.x - this._startScale.x) >= (this._distanceX - 0.01) &&\n                Math.abs(this._tx.scale.y - this._startScale.y) >= (this._distanceY - 0.01)));\n    }\n    stop() {\n        this._motion.scaleFactor.x = 0;\n        this._motion.scaleFactor.y = 0;\n        this._stopped = true;\n    }\n    reset() {\n        this._started = false;\n        this._stopped = false;\n    }\n}\n\n;// CONCATENATED MODULE: ./Actions/Action/CallMethod.ts\nclass CallMethod {\n    constructor(method) {\n        this._method = null;\n        this._hasBeenCalled = false;\n        this._method = method;\n    }\n    update(_delta) {\n        this._method();\n        this._hasBeenCalled = true;\n    }\n    isComplete() {\n        return this._hasBeenCalled;\n    }\n    reset() {\n        this._hasBeenCalled = false;\n    }\n    stop() {\n        this._hasBeenCalled = true;\n    }\n}\n\n;// CONCATENATED MODULE: ./Actions/Action/EaseTo.ts\n\n\n\nclass EaseTo {\n    constructor(entity, x, y, duration, easingFcn) {\n        this.easingFcn = easingFcn;\n        this._currentLerpTime = 0;\n        this._lerpDuration = 1 * 1000; // 1 second\n        this._lerpStart = new Vector(0, 0);\n        this._lerpEnd = new Vector(0, 0);\n        this._initialized = false;\n        this._stopped = false;\n        this._tx = entity.get(TransformComponent);\n        this._motion = entity.get(MotionComponent);\n        this._lerpDuration = duration;\n        this._lerpEnd = new Vector(x, y);\n    }\n    _initialize() {\n        this._lerpStart = new Vector(this._tx.pos.x, this._tx.pos.y);\n        this._currentLerpTime = 0;\n    }\n    update(delta) {\n        if (!this._initialized) {\n            this._initialize();\n            this._initialized = true;\n        }\n        // Need to update lerp time first, otherwise the first update will always be zero\n        this._currentLerpTime += delta;\n        let newX = this._tx.pos.x;\n        let newY = this._tx.pos.y;\n        if (this._currentLerpTime < this._lerpDuration) {\n            if (this._lerpEnd.x < this._lerpStart.x) {\n                newX =\n                    this._lerpStart.x -\n                        (this.easingFcn(this._currentLerpTime, this._lerpEnd.x, this._lerpStart.x, this._lerpDuration) - this._lerpEnd.x);\n            }\n            else {\n                newX = this.easingFcn(this._currentLerpTime, this._lerpStart.x, this._lerpEnd.x, this._lerpDuration);\n            }\n            if (this._lerpEnd.y < this._lerpStart.y) {\n                newY =\n                    this._lerpStart.y -\n                        (this.easingFcn(this._currentLerpTime, this._lerpEnd.y, this._lerpStart.y, this._lerpDuration) - this._lerpEnd.y);\n            }\n            else {\n                newY = this.easingFcn(this._currentLerpTime, this._lerpStart.y, this._lerpEnd.y, this._lerpDuration);\n            }\n            // Given the lerp position figure out the velocity in pixels per second\n            this._motion.vel = vec((newX - this._tx.pos.x) / (delta / 1000), (newY - this._tx.pos.y) / (delta / 1000));\n        }\n        else {\n            this._tx.pos = vec(this._lerpEnd.x, this._lerpEnd.y);\n            this._motion.vel = Vector.Zero;\n        }\n    }\n    isComplete() {\n        return this._stopped || this._currentLerpTime >= this._lerpDuration;\n    }\n    reset() {\n        this._initialized = false;\n        this._stopped = false;\n        this._currentLerpTime = 0;\n    }\n    stop() {\n        this._motion.vel = vec(0, 0);\n        this._stopped = true;\n    }\n}\n\n;// CONCATENATED MODULE: ./Actions/Action/EaseBy.ts\n\n\n\nclass EaseBy {\n    constructor(entity, offsetX, offsetY, duration, easingFcn) {\n        this.easingFcn = easingFcn;\n        this._currentLerpTime = 0;\n        this._lerpDuration = 1 * 1000; // 1 second\n        this._lerpStart = new Vector(0, 0);\n        this._lerpEnd = new Vector(0, 0);\n        this._initialized = false;\n        this._stopped = false;\n        this._tx = entity.get(TransformComponent);\n        this._motion = entity.get(MotionComponent);\n        this._lerpDuration = duration;\n        this._offset = new Vector(offsetX, offsetY);\n    }\n    _initialize() {\n        this._lerpStart = new Vector(this._tx.pos.x, this._tx.pos.y);\n        this._currentLerpTime = 0;\n        this._lerpEnd = this._lerpStart.add(this._offset);\n    }\n    update(delta) {\n        if (!this._initialized) {\n            this._initialize();\n            this._initialized = true;\n        }\n        // Need to update lerp time first, otherwise the first update will always be zero\n        this._currentLerpTime += delta;\n        let newX = this._tx.pos.x;\n        let newY = this._tx.pos.y;\n        if (this._currentLerpTime < this._lerpDuration) {\n            if (this._lerpEnd.x < this._lerpStart.x) {\n                newX =\n                    this._lerpStart.x -\n                        (this.easingFcn(this._currentLerpTime, this._lerpEnd.x, this._lerpStart.x, this._lerpDuration) - this._lerpEnd.x);\n            }\n            else {\n                newX = this.easingFcn(this._currentLerpTime, this._lerpStart.x, this._lerpEnd.x, this._lerpDuration);\n            }\n            if (this._lerpEnd.y < this._lerpStart.y) {\n                newY =\n                    this._lerpStart.y -\n                        (this.easingFcn(this._currentLerpTime, this._lerpEnd.y, this._lerpStart.y, this._lerpDuration) - this._lerpEnd.y);\n            }\n            else {\n                newY = this.easingFcn(this._currentLerpTime, this._lerpStart.y, this._lerpEnd.y, this._lerpDuration);\n            }\n            // Given the lerp position figure out the velocity in pixels per second\n            this._motion.vel = vec((newX - this._tx.pos.x) / (delta / 1000), (newY - this._tx.pos.y) / (delta / 1000));\n        }\n        else {\n            this._tx.pos = vec(this._lerpEnd.x, this._lerpEnd.y);\n            this._motion.vel = Vector.Zero;\n        }\n    }\n    isComplete() {\n        return this._stopped || this._currentLerpTime >= this._lerpDuration;\n    }\n    reset() {\n        this._initialized = false;\n        this._stopped = false;\n        this._currentLerpTime = 0;\n    }\n    stop() {\n        this._motion.vel = vec(0, 0);\n        this._stopped = true;\n    }\n}\n\n;// CONCATENATED MODULE: ./Actions/Action/Blink.ts\n\nclass Blink {\n    constructor(entity, timeVisible, timeNotVisible, numBlinks = 1) {\n        this._timeVisible = 0;\n        this._timeNotVisible = 0;\n        this._elapsedTime = 0;\n        this._totalTime = 0;\n        this._stopped = false;\n        this._started = false;\n        this._graphics = entity.get(GraphicsComponent);\n        this._timeVisible = timeVisible;\n        this._timeNotVisible = timeNotVisible;\n        this._duration = (timeVisible + timeNotVisible) * numBlinks;\n    }\n    update(delta) {\n        if (!this._started) {\n            this._started = true;\n            this._elapsedTime = 0;\n            this._totalTime = 0;\n        }\n        if (!this._graphics) {\n            return;\n        }\n        this._elapsedTime += delta;\n        this._totalTime += delta;\n        if (this._graphics.visible && this._elapsedTime >= this._timeVisible) {\n            this._graphics.visible = false;\n            this._elapsedTime = 0;\n        }\n        if (!this._graphics.visible && this._elapsedTime >= this._timeNotVisible) {\n            this._graphics.visible = true;\n            this._elapsedTime = 0;\n        }\n        if (this.isComplete()) {\n            this._graphics.visible = true;\n        }\n    }\n    isComplete() {\n        return this._stopped || this._totalTime >= this._duration;\n    }\n    stop() {\n        if (this._graphics) {\n            this._graphics.visible = true;\n        }\n        this._stopped = true;\n    }\n    reset() {\n        this._started = false;\n        this._stopped = false;\n        this._elapsedTime = 0;\n        this._totalTime = 0;\n    }\n}\n\n;// CONCATENATED MODULE: ./Actions/Action/Fade.ts\n\n\nclass Fade {\n    constructor(entity, endOpacity, speed) {\n        this._multiplier = 1;\n        this._started = false;\n        this._stopped = false;\n        this._graphics = entity.get(GraphicsComponent);\n        this._endOpacity = endOpacity;\n        this._speed = this._ogspeed = speed;\n    }\n    update(delta) {\n        if (!this._graphics) {\n            return;\n        }\n        if (!this._started) {\n            this._started = true;\n            this._speed = this._ogspeed;\n            // determine direction when we start\n            if (this._endOpacity < this._graphics.opacity) {\n                this._multiplier = -1;\n            }\n            else {\n                this._multiplier = 1;\n            }\n        }\n        if (this._speed > 0) {\n            this._graphics.opacity += (this._multiplier *\n                (Math.abs(this._graphics.opacity - this._endOpacity) * delta)) / this._speed;\n        }\n        this._speed -= delta;\n        if (this.isComplete()) {\n            this._graphics.opacity = this._endOpacity;\n        }\n        Logger.getInstance().debug('[Action fade] Actor opacity:', this._graphics.opacity);\n    }\n    isComplete() {\n        return this._stopped || Math.abs(this._graphics.opacity - this._endOpacity) < 0.05;\n    }\n    stop() {\n        this._stopped = true;\n    }\n    reset() {\n        this._started = false;\n        this._stopped = false;\n    }\n}\n\n;// CONCATENATED MODULE: ./Actions/Action/Delay.ts\nclass Delay {\n    constructor(delay) {\n        this._elapsedTime = 0;\n        this._started = false;\n        this._stopped = false;\n        this._delay = delay;\n    }\n    update(delta) {\n        if (!this._started) {\n            this._started = true;\n        }\n        this._elapsedTime += delta;\n    }\n    isComplete() {\n        return this._stopped || this._elapsedTime >= this._delay;\n    }\n    stop() {\n        this._stopped = true;\n    }\n    reset() {\n        this._elapsedTime = 0;\n        this._started = false;\n        this._stopped = false;\n    }\n}\n\n;// CONCATENATED MODULE: ./Actions/Action/Die.ts\n\nclass Die {\n    constructor(entity) {\n        this._stopped = false;\n        this._entity = entity;\n    }\n    update(_delta) {\n        this._entity.get(ActionsComponent).clearActions();\n        this._entity.kill();\n        this._stopped = true;\n    }\n    isComplete() {\n        return this._stopped;\n    }\n    stop() {\n        return;\n    }\n    reset() {\n        return;\n    }\n}\n\n;// CONCATENATED MODULE: ./Actions/Action/Follow.ts\n\n\n\nclass Follow {\n    constructor(entity, entityToFollow, followDistance) {\n        this._started = false;\n        this._stopped = false;\n        this._tx = entity.get(TransformComponent);\n        this._motion = entity.get(MotionComponent);\n        this._followTx = entityToFollow.get(TransformComponent);\n        this._followMotion = entityToFollow.get(MotionComponent);\n        this._current = new Vector(this._tx.pos.x, this._tx.pos.y);\n        this._end = new Vector(this._followTx.pos.x, this._followTx.pos.y);\n        this._maximumDistance = followDistance !== undefined ? followDistance : this._current.distance(this._end);\n        this._speed = 0;\n    }\n    update(_delta) {\n        if (!this._started) {\n            this._started = true;\n            this._distanceBetween = this._current.distance(this._end);\n            this._dir = this._end.sub(this._current).normalize();\n        }\n        const actorToFollowSpeed = Math.sqrt(Math.pow(this._followMotion.vel.x, 2) + Math.pow(this._followMotion.vel.y, 2));\n        if (actorToFollowSpeed !== 0) {\n            this._speed = actorToFollowSpeed;\n        }\n        this._current = vec(this._tx.pos.x, this._tx.pos.y);\n        this._end = vec(this._followTx.pos.x, this._followTx.pos.y);\n        this._distanceBetween = this._current.distance(this._end);\n        this._dir = this._end.sub(this._current).normalize();\n        if (this._distanceBetween >= this._maximumDistance) {\n            const m = this._dir.scale(this._speed);\n            this._motion.vel = vec(m.x, m.y);\n        }\n        else {\n            this._motion.vel = vec(0, 0);\n        }\n        if (this.isComplete()) {\n            this._tx.pos = vec(this._end.x, this._end.y);\n            this._motion.vel = vec(0, 0);\n        }\n    }\n    stop() {\n        this._motion.vel = vec(0, 0);\n        this._stopped = true;\n    }\n    isComplete() {\n        // the actor following should never stop unless specified to do so\n        return this._stopped;\n    }\n    reset() {\n        this._started = false;\n        this._stopped = false;\n    }\n}\n\n;// CONCATENATED MODULE: ./Actions/Action/Meet.ts\n\n\n\nclass Meet {\n    constructor(actor, actorToMeet, speed) {\n        this._started = false;\n        this._stopped = false;\n        this._speedWasSpecified = false;\n        this._tx = actor.get(TransformComponent);\n        this._motion = actor.get(MotionComponent);\n        this._meetTx = actorToMeet.get(TransformComponent);\n        this._meetMotion = actorToMeet.get(MotionComponent);\n        this._current = new Vector(this._tx.pos.x, this._tx.pos.y);\n        this._end = new Vector(this._meetTx.pos.x, this._meetTx.pos.y);\n        this._speed = speed || 0;\n        if (speed !== undefined) {\n            this._speedWasSpecified = true;\n        }\n    }\n    update(_delta) {\n        if (!this._started) {\n            this._started = true;\n            this._distanceBetween = this._current.distance(this._end);\n            this._dir = this._end.sub(this._current).normalize();\n        }\n        const actorToMeetSpeed = Math.sqrt(Math.pow(this._meetMotion.vel.x, 2) + Math.pow(this._meetMotion.vel.y, 2));\n        if (actorToMeetSpeed !== 0 && !this._speedWasSpecified) {\n            this._speed = actorToMeetSpeed;\n        }\n        this._current = vec(this._tx.pos.x, this._tx.pos.y);\n        this._end = vec(this._meetTx.pos.x, this._meetTx.pos.y);\n        this._distanceBetween = this._current.distance(this._end);\n        this._dir = this._end.sub(this._current).normalize();\n        const m = this._dir.scale(this._speed);\n        this._motion.vel = vec(m.x, m.y);\n        if (this.isComplete()) {\n            this._tx.pos = vec(this._end.x, this._end.y);\n            this._motion.vel = vec(0, 0);\n        }\n    }\n    isComplete() {\n        return this._stopped || this._distanceBetween <= 1;\n    }\n    stop() {\n        this._motion.vel = vec(0, 0);\n        this._stopped = true;\n    }\n    reset() {\n        this._started = false;\n        this._stopped = false;\n        this._distanceBetween = undefined;\n    }\n}\n\n;// CONCATENATED MODULE: ./Actions/ActionContext.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * The fluent Action API allows you to perform \"actions\" on\n * [[Actor|Actors]] such as following, moving, rotating, and\n * more. You can implement your own actions by implementing\n * the [[Action]] interface.\n */\nclass ActionContext {\n    constructor(entity) {\n        this._entity = entity;\n        this._queue = new ActionQueue(entity);\n    }\n    getQueue() {\n        return this._queue;\n    }\n    update(elapsedMs) {\n        this._queue.update(elapsedMs);\n    }\n    /**\n     * Clears all queued actions from the Actor\n     */\n    clearActions() {\n        this._queue.clearActions();\n    }\n    runAction(action) {\n        action.reset();\n        this._queue.add(action);\n        return this;\n    }\n    easeTo(...args) {\n        var _a, _b;\n        let x = 0;\n        let y = 0;\n        let duration = 0;\n        let easingFcn = EasingFunctions.Linear;\n        if (args[0] instanceof Vector) {\n            x = args[0].x;\n            y = args[0].y;\n            duration = args[1];\n            easingFcn = (_a = args[2]) !== null && _a !== void 0 ? _a : easingFcn;\n        }\n        else {\n            x = args[0];\n            y = args[1];\n            duration = args[2];\n            easingFcn = (_b = args[3]) !== null && _b !== void 0 ? _b : easingFcn;\n        }\n        this._queue.add(new EaseTo(this._entity, x, y, duration, easingFcn));\n        return this;\n    }\n    easeBy(...args) {\n        var _a, _b;\n        let offsetX = 0;\n        let offsetY = 0;\n        let duration = 0;\n        let easingFcn = EasingFunctions.Linear;\n        if (args[0] instanceof Vector) {\n            offsetX = args[0].x;\n            offsetY = args[0].y;\n            duration = args[1];\n            easingFcn = (_a = args[2]) !== null && _a !== void 0 ? _a : easingFcn;\n        }\n        else {\n            offsetX = args[0];\n            offsetY = args[1];\n            duration = args[2];\n            easingFcn = (_b = args[3]) !== null && _b !== void 0 ? _b : easingFcn;\n        }\n        this._queue.add(new EaseBy(this._entity, offsetX, offsetY, duration, easingFcn));\n        return this;\n    }\n    moveTo(xOrPos, yOrSpeed, speedOrUndefined) {\n        let x = 0;\n        let y = 0;\n        let speed = 0;\n        if (xOrPos instanceof Vector) {\n            x = xOrPos.x;\n            y = xOrPos.y;\n            speed = yOrSpeed;\n        }\n        else {\n            x = xOrPos;\n            y = yOrSpeed;\n            speed = speedOrUndefined;\n        }\n        this._queue.add(new MoveTo(this._entity, x, y, speed));\n        return this;\n    }\n    moveBy(xOffsetOrVector, yOffsetOrSpeed, speedOrUndefined) {\n        let xOffset = 0;\n        let yOffset = 0;\n        let speed = 0;\n        if (xOffsetOrVector instanceof Vector) {\n            xOffset = xOffsetOrVector.x;\n            yOffset = xOffsetOrVector.y;\n            speed = yOffsetOrSpeed;\n        }\n        else {\n            xOffset = xOffsetOrVector;\n            yOffset = yOffsetOrSpeed;\n            speed = speedOrUndefined;\n        }\n        this._queue.add(new MoveBy(this._entity, xOffset, yOffset, speed));\n        return this;\n    }\n    /**\n     * This method will rotate an actor to the specified angle at the speed\n     * specified (in radians per second) and return back the actor. This\n     * method is part of the actor 'Action' fluent API allowing action chaining.\n     * @param angleRadians  The angle to rotate to in radians\n     * @param speed         The angular velocity of the rotation specified in radians per second\n     * @param rotationType  The [[RotationType]] to use for this rotation\n     */\n    rotateTo(angleRadians, speed, rotationType) {\n        this._queue.add(new RotateTo(this._entity, angleRadians, speed, rotationType));\n        return this;\n    }\n    /**\n     * This method will rotate an actor by the specified angle offset, from it's current rotation given a certain speed\n     * in radians/sec and return back the actor. This method is part\n     * of the actor 'Action' fluent API allowing action chaining.\n     * @param angleRadiansOffset  The angle to rotate to in radians relative to the current rotation\n     * @param speed          The speed in radians/sec the actor should rotate at\n     * @param rotationType  The [[RotationType]] to use for this rotation, default is shortest path\n     */\n    rotateBy(angleRadiansOffset, speed, rotationType) {\n        this._queue.add(new RotateBy(this._entity, angleRadiansOffset, speed, rotationType));\n        return this;\n    }\n    scaleTo(sizeXOrVector, sizeYOrSpeed, speedXOrUndefined, speedYOrUndefined) {\n        let sizeX = 1;\n        let sizeY = 1;\n        let speedX = 0;\n        let speedY = 0;\n        if (sizeXOrVector instanceof Vector && sizeYOrSpeed instanceof Vector) {\n            sizeX = sizeXOrVector.x;\n            sizeY = sizeXOrVector.y;\n            speedX = sizeYOrSpeed.x;\n            speedY = sizeYOrSpeed.y;\n        }\n        if (typeof sizeXOrVector === 'number' && typeof sizeYOrSpeed === 'number') {\n            sizeX = sizeXOrVector;\n            sizeY = sizeYOrSpeed;\n            speedX = speedXOrUndefined;\n            speedY = speedYOrUndefined;\n        }\n        this._queue.add(new ScaleTo(this._entity, sizeX, sizeY, speedX, speedY));\n        return this;\n    }\n    scaleBy(sizeOffsetXOrVector, sizeOffsetYOrSpeed, speed) {\n        let sizeOffsetX = 1;\n        let sizeOffsetY = 1;\n        if (sizeOffsetXOrVector instanceof Vector) {\n            sizeOffsetX = sizeOffsetXOrVector.x;\n            sizeOffsetY = sizeOffsetXOrVector.y;\n            speed = sizeOffsetYOrSpeed;\n        }\n        if (typeof sizeOffsetXOrVector === 'number' && typeof sizeOffsetYOrSpeed === 'number') {\n            sizeOffsetX = sizeOffsetXOrVector;\n            sizeOffsetY = sizeOffsetYOrSpeed;\n        }\n        this._queue.add(new ScaleBy(this._entity, sizeOffsetX, sizeOffsetY, speed));\n        return this;\n    }\n    /**\n     * This method will cause an actor to blink (become visible and not\n     * visible). Optionally, you may specify the number of blinks. Specify the amount of time\n     * the actor should be visible per blink, and the amount of time not visible.\n     * This method is part of the actor 'Action' fluent API allowing action chaining.\n     * @param timeVisible     The amount of time to stay visible per blink in milliseconds\n     * @param timeNotVisible  The amount of time to stay not visible per blink in milliseconds\n     * @param numBlinks       The number of times to blink\n     */\n    blink(timeVisible, timeNotVisible, numBlinks = 1) {\n        this._queue.add(new Blink(this._entity, timeVisible, timeNotVisible, numBlinks));\n        return this;\n    }\n    /**\n     * This method will cause an actor's opacity to change from its current value\n     * to the provided value by a specified time (in milliseconds). This method is\n     * part of the actor 'Action' fluent API allowing action chaining.\n     * @param opacity  The ending opacity\n     * @param time     The time it should take to fade the actor (in milliseconds)\n     */\n    fade(opacity, time) {\n        this._queue.add(new Fade(this._entity, opacity, time));\n        return this;\n    }\n    /**\n     * This method will delay the next action from executing for a certain\n     * amount of time (in milliseconds). This method is part of the actor\n     * 'Action' fluent API allowing action chaining.\n     * @param time  The amount of time to delay the next action in the queue from executing in milliseconds\n     */\n    delay(time) {\n        this._queue.add(new Delay(time));\n        return this;\n    }\n    /**\n     * This method will add an action to the queue that will remove the actor from the\n     * scene once it has completed its previous  Any actions on the\n     * action queue after this action will not be executed.\n     */\n    die() {\n        this._queue.add(new Die(this._entity));\n        return this;\n    }\n    /**\n     * This method allows you to call an arbitrary method as the next action in the\n     * action queue. This is useful if you want to execute code in after a specific\n     * action, i.e An actor arrives at a destination after traversing a path\n     */\n    callMethod(method) {\n        this._queue.add(new CallMethod(method));\n        return this;\n    }\n    /**\n     * This method will cause the actor to repeat all of the actions built in\n     * the `repeatBuilder` callback. If the number of repeats\n     * is not specified it will repeat forever. This method is part of\n     * the actor 'Action' fluent API allowing action chaining\n     *\n     * ```typescript\n     * // Move up in a zig-zag by repeated moveBy's\n     * actor.actions.repeat(repeatCtx => {\n     * repeatCtx.moveBy(10, 0, 10);\n     * repeatCtx.moveBy(0, 10, 10);\n     * }, 5);\n     * ```\n     * @param repeatBuilder The builder to specify the repeatable list of actions\n     * @param times  The number of times to repeat all the previous actions in the action queue. If nothing is specified the actions\n     * will repeat forever\n     */\n    repeat(repeatBuilder, times) {\n        if (!times) {\n            this.repeatForever(repeatBuilder);\n            return this;\n        }\n        this._queue.add(new Repeat(this._entity, repeatBuilder, times));\n        return this;\n    }\n    /**\n     * This method will cause the actor to repeat all of the actions built in\n     * the `repeatBuilder` callback. If the number of repeats\n     * is not specified it will repeat forever. This method is part of\n     * the actor 'Action' fluent API allowing action chaining\n     *\n     * ```typescript\n     * // Move up in a zig-zag by repeated moveBy's\n     * actor.actions.repeat(repeatCtx => {\n     * repeatCtx.moveBy(10, 0, 10);\n     * repeatCtx.moveBy(0, 10, 10);\n     * }, 5);\n     * ```\n     * @param repeatBuilder The builder to specify the repeatable list of actions\n     */\n    repeatForever(repeatBuilder) {\n        this._queue.add(new RepeatForever(this._entity, repeatBuilder));\n        return this;\n    }\n    /**\n     * This method will cause the entity to follow another at a specified distance\n     * @param entity           The entity to follow\n     * @param followDistance  The distance to maintain when following, if not specified the actor will follow at the current distance.\n     */\n    follow(entity, followDistance) {\n        if (followDistance === undefined) {\n            this._queue.add(new Follow(this._entity, entity));\n        }\n        else {\n            this._queue.add(new Follow(this._entity, entity, followDistance));\n        }\n        return this;\n    }\n    /**\n     * This method will cause the entity to move towards another until they\n     * collide \"meet\" at a specified speed.\n     * @param entity  The entity to meet\n     * @param speed  The speed in pixels per second to move, if not specified it will match the speed of the other actor\n     */\n    meet(entity, speed) {\n        if (speed === undefined) {\n            this._queue.add(new Meet(this._entity, entity));\n        }\n        else {\n            this._queue.add(new Meet(this._entity, entity, speed));\n        }\n        return this;\n    }\n    /**\n     * Returns a promise that resolves when the current action queue up to now\n     * is finished.\n     */\n    toPromise() {\n        const temp = new Promise((resolve) => {\n            this._queue.add(new CallMethod(() => {\n                resolve();\n            }));\n        });\n        return temp;\n    }\n}\n\n;// CONCATENATED MODULE: ./Actions/ActionsComponent.ts\n\n\n\n\n;\nclass ActionsComponent extends Component {\n    constructor() {\n        super(...arguments);\n        this.dependencies = [TransformComponent, MotionComponent];\n        this._ctx = null;\n    }\n    onAdd(entity) {\n        this._ctx = new ActionContext(entity);\n    }\n    onRemove() {\n        this._ctx = null;\n    }\n    _getCtx() {\n        if (!this._ctx) {\n            throw new Error('Actions component not attached to an entity, no context available');\n        }\n        return this._ctx;\n    }\n    /**\n     * Returns the internal action queue\n     * @returns action queue\n     */\n    getQueue() {\n        if (!this._ctx) {\n            throw new Error('Actions component not attached to an entity, no queue available');\n        }\n        return this._ctx.getQueue();\n    }\n    runAction(action) {\n        if (!this._ctx) {\n            throw new Error('Actions component not attached to an entity, cannot run action');\n        }\n        return this._ctx.runAction(action);\n    }\n    /**\n     * Updates the internal action context, performing action and moving through the internal queue\n     * @param elapsedMs\n     */\n    update(elapsedMs) {\n        var _a;\n        return (_a = this._ctx) === null || _a === void 0 ? void 0 : _a.update(elapsedMs);\n    }\n    /**\n     * Clears all queued actions from the Actor\n     */\n    clearActions() {\n        var _a;\n        (_a = this._ctx) === null || _a === void 0 ? void 0 : _a.clearActions();\n    }\n    easeTo(...args) {\n        return this._getCtx().easeTo.apply(this._ctx, args);\n    }\n    easeBy(...args) {\n        return this._getCtx().easeBy.apply(this._ctx, args);\n    }\n    moveTo(xOrPos, yOrSpeed, speedOrUndefined) {\n        return this._getCtx().moveTo.apply(this._ctx, [xOrPos, yOrSpeed, speedOrUndefined]);\n    }\n    moveBy(xOffsetOrVector, yOffsetOrSpeed, speedOrUndefined) {\n        return this._getCtx().moveBy.apply(this._ctx, [xOffsetOrVector, yOffsetOrSpeed, speedOrUndefined]);\n    }\n    /**\n     * This method will rotate an actor to the specified angle at the speed\n     * specified (in radians per second) and return back the actor. This\n     * method is part of the actor 'Action' fluent API allowing action chaining.\n     * @param angleRadians  The angle to rotate to in radians\n     * @param speed         The angular velocity of the rotation specified in radians per second\n     * @param rotationType  The [[RotationType]] to use for this rotation\n     */\n    rotateTo(angleRadians, speed, rotationType) {\n        return this._getCtx().rotateTo(angleRadians, speed, rotationType);\n    }\n    /**\n     * This method will rotate an actor by the specified angle offset, from it's current rotation given a certain speed\n     * in radians/sec and return back the actor. This method is part\n     * of the actor 'Action' fluent API allowing action chaining.\n     * @param angleRadiansOffset  The angle to rotate to in radians relative to the current rotation\n     * @param speed          The speed in radians/sec the actor should rotate at\n     * @param rotationType  The [[RotationType]] to use for this rotation, default is shortest path\n     */\n    rotateBy(angleRadiansOffset, speed, rotationType) {\n        return this._getCtx().rotateBy(angleRadiansOffset, speed, rotationType);\n    }\n    scaleTo(sizeXOrVector, sizeYOrSpeed, speedXOrUndefined, speedYOrUndefined) {\n        return this._getCtx().scaleTo.apply(this._ctx, [sizeXOrVector, sizeYOrSpeed, speedXOrUndefined, speedYOrUndefined]);\n    }\n    scaleBy(sizeOffsetXOrVector, sizeOffsetYOrSpeed, speed) {\n        return this._getCtx().scaleBy.apply(this._ctx, [sizeOffsetXOrVector, sizeOffsetYOrSpeed, speed]);\n    }\n    /**\n     * This method will cause an actor to blink (become visible and not\n     * visible). Optionally, you may specify the number of blinks. Specify the amount of time\n     * the actor should be visible per blink, and the amount of time not visible.\n     * This method is part of the actor 'Action' fluent API allowing action chaining.\n     * @param timeVisible     The amount of time to stay visible per blink in milliseconds\n     * @param timeNotVisible  The amount of time to stay not visible per blink in milliseconds\n     * @param numBlinks       The number of times to blink\n     */\n    blink(timeVisible, timeNotVisible, numBlinks) {\n        return this._getCtx().blink(timeVisible, timeNotVisible, numBlinks);\n    }\n    /**\n     * This method will cause an actor's opacity to change from its current value\n     * to the provided value by a specified time (in milliseconds). This method is\n     * part of the actor 'Action' fluent API allowing action chaining.\n     * @param opacity  The ending opacity\n     * @param time     The time it should take to fade the actor (in milliseconds)\n     */\n    fade(opacity, time) {\n        return this._getCtx().fade(opacity, time);\n    }\n    /**\n     * This method will delay the next action from executing for a certain\n     * amount of time (in milliseconds). This method is part of the actor\n     * 'Action' fluent API allowing action chaining.\n     * @param time  The amount of time to delay the next action in the queue from executing in milliseconds\n     */\n    delay(time) {\n        return this._getCtx().delay(time);\n    }\n    /**\n     * This method will add an action to the queue that will remove the actor from the\n     * scene once it has completed its previous  Any actions on the\n     * action queue after this action will not be executed.\n     */\n    die() {\n        return this._getCtx().die();\n    }\n    /**\n     * This method allows you to call an arbitrary method as the next action in the\n     * action queue. This is useful if you want to execute code in after a specific\n     * action, i.e An actor arrives at a destination after traversing a path\n     */\n    callMethod(method) {\n        return this._getCtx().callMethod(method);\n    }\n    /**\n     * This method will cause the actor to repeat all of the actions built in\n     * the `repeatBuilder` callback. If the number of repeats\n     * is not specified it will repeat forever. This method is part of\n     * the actor 'Action' fluent API allowing action chaining\n     *\n     * ```typescript\n     * // Move up in a zig-zag by repeated moveBy's\n     * actor.actions.repeat(repeatCtx => {\n     * repeatCtx.moveBy(10, 0, 10);\n     * repeatCtx.moveBy(0, 10, 10);\n     * }, 5);\n     * ```\n     * @param repeatBuilder The builder to specify the repeatable list of actions\n     * @param times  The number of times to repeat all the previous actions in the action queue. If nothing is specified the actions\n     * will repeat forever\n     */\n    repeat(repeatBuilder, times) {\n        return this._getCtx().repeat(repeatBuilder, times);\n    }\n    /**\n     * This method will cause the actor to repeat all of the actions built in\n     * the `repeatBuilder` callback. If the number of repeats\n     * is not specified it will repeat forever. This method is part of\n     * the actor 'Action' fluent API allowing action chaining\n     *\n     * ```typescript\n     * // Move up in a zig-zag by repeated moveBy's\n     * actor.actions.repeat(repeatCtx => {\n     * repeatCtx.moveBy(10, 0, 10);\n     * repeatCtx.moveBy(0, 10, 10);\n     * }, 5);\n     * ```\n     * @param repeatBuilder The builder to specify the repeatable list of actions\n     */\n    repeatForever(repeatBuilder) {\n        return this._getCtx().repeatForever(repeatBuilder);\n    }\n    /**\n     * This method will cause the entity to follow another at a specified distance\n     * @param entity           The entity to follow\n     * @param followDistance  The distance to maintain when following, if not specified the actor will follow at the current distance.\n     */\n    follow(entity, followDistance) {\n        return this._getCtx().follow(entity, followDistance);\n    }\n    /**\n     * This method will cause the entity to move towards another until they\n     * collide \"meet\" at a specified speed.\n     * @param entity  The entity to meet\n     * @param speed  The speed in pixels per second to move, if not specified it will match the speed of the other actor\n     */\n    meet(entity, speed) {\n        return this._getCtx().meet(entity, speed);\n    }\n    /**\n     * Returns a promise that resolves when the current action queue up to now\n     * is finished.\n     */\n    toPromise() {\n        return this._getCtx().toPromise();\n    }\n}\n\n;// CONCATENATED MODULE: ./Graphics/FontCommon.ts\n/**\n * Enum representing the different font size units\n * https://developer.mozilla.org/en-US/docs/Web/CSS/font-size\n */\nvar FontUnit;\n(function (FontUnit) {\n    /**\n     * Em is a scalable unit, 1 em is equal to the current font size of the current element, parent elements can effect em values\n     */\n    FontUnit[\"Em\"] = \"em\";\n    /**\n     * Rem is similar to the Em, it is a scalable unit. 1 rem is equal to the font size of the root element\n     */\n    FontUnit[\"Rem\"] = \"rem\";\n    /**\n     * Pixel is a unit of length in screen pixels\n     */\n    FontUnit[\"Px\"] = \"px\";\n    /**\n     * Point is a physical unit length (1/72 of an inch)\n     */\n    FontUnit[\"Pt\"] = \"pt\";\n    /**\n     * Percent is a scalable unit similar to Em, the only difference is the Em units scale faster when Text-Size stuff\n     */\n    FontUnit[\"Percent\"] = \"%\";\n})(FontUnit || (FontUnit = {}));\n/**\n * Enum representing the different horizontal text alignments\n */\nvar TextAlign;\n(function (TextAlign) {\n    /**\n     * The text is left-aligned.\n     */\n    TextAlign[\"Left\"] = \"left\";\n    /**\n     * The text is right-aligned.\n     */\n    TextAlign[\"Right\"] = \"right\";\n    /**\n     * The text is centered.\n     */\n    TextAlign[\"Center\"] = \"center\";\n    /**\n     * The text is aligned at the normal start of the line (left-aligned for left-to-right locales,\n     * right-aligned for right-to-left locales).\n     */\n    TextAlign[\"Start\"] = \"start\";\n    /**\n     * The text is aligned at the normal end of the line (right-aligned for left-to-right locales,\n     * left-aligned for right-to-left locales).\n     */\n    TextAlign[\"End\"] = \"end\";\n})(TextAlign || (TextAlign = {}));\n/**\n * Enum representing the different baseline text alignments\n */\nvar BaseAlign;\n(function (BaseAlign) {\n    /**\n     * The text baseline is the top of the em square.\n     */\n    BaseAlign[\"Top\"] = \"top\";\n    /**\n     * The text baseline is the hanging baseline.  Currently unsupported; this will act like\n     * alphabetic.\n     */\n    BaseAlign[\"Hanging\"] = \"hanging\";\n    /**\n     * The text baseline is the middle of the em square.\n     */\n    BaseAlign[\"Middle\"] = \"middle\";\n    /**\n     * The text baseline is the normal alphabetic baseline.\n     */\n    BaseAlign[\"Alphabetic\"] = \"alphabetic\";\n    /**\n     * The text baseline is the ideographic baseline; this is the bottom of\n     * the body of the characters, if the main body of characters protrudes\n     * beneath the alphabetic baseline.  Currently unsupported; this will\n     * act like alphabetic.\n     */\n    BaseAlign[\"Ideographic\"] = \"ideographic\";\n    /**\n     * The text baseline is the bottom of the bounding box.  This differs\n     * from the ideographic baseline in that the ideographic baseline\n     * doesn't consider descenders.\n     */\n    BaseAlign[\"Bottom\"] = \"bottom\";\n})(BaseAlign || (BaseAlign = {}));\n/**\n * Enum representing the different possible font styles\n */\nvar FontStyle;\n(function (FontStyle) {\n    FontStyle[\"Normal\"] = \"normal\";\n    FontStyle[\"Italic\"] = \"italic\";\n    FontStyle[\"Oblique\"] = \"oblique\";\n})(FontStyle || (FontStyle = {}));\n/**\n * Enum representing the text direction, useful for other languages, or writing text in reverse\n */\nvar Direction;\n(function (Direction) {\n    Direction[\"LeftToRight\"] = \"ltr\";\n    Direction[\"RightToLeft\"] = \"rtl\";\n})(Direction || (Direction = {}));\n\n;// CONCATENATED MODULE: ./Graphics/FontTextInstance.ts\n\n\n\n\nclass FontTextInstance {\n    constructor(font, text, color, maxWidth) {\n        this.font = font;\n        this.text = text;\n        this.color = color;\n        this.maxWidth = maxWidth;\n        this._textFragments = [];\n        this.disposed = false;\n        this._dirty = true;\n        this.canvas = document.createElement('canvas');\n        this.ctx = this.canvas.getContext('2d');\n        this.dimensions = this.measureText(text);\n        this._setDimension(this.dimensions, this.ctx);\n        this._lastHashCode = this.getHashCode();\n    }\n    measureText(text, maxWidth) {\n        if (this.disposed) {\n            throw Error('Accessing disposed text instance! ' + this.text);\n        }\n        let lines = null;\n        if (maxWidth != null) {\n            lines = this._getLinesFromText(text, maxWidth);\n        }\n        else {\n            lines = text.split('\\n');\n        }\n        const maxWidthLine = lines.reduce((a, b) => {\n            return a.length > b.length ? a : b;\n        });\n        this._applyFont(this.ctx); // font must be applied to the context to measure it\n        const metrics = this.ctx.measureText(maxWidthLine);\n        let textHeight = Math.abs(metrics.actualBoundingBoxAscent) + Math.abs(metrics.actualBoundingBoxDescent);\n        // TODO lineheight makes the text bounds wonky\n        const lineAdjustedHeight = textHeight * lines.length;\n        textHeight = lineAdjustedHeight;\n        const bottomBounds = lineAdjustedHeight - Math.abs(metrics.actualBoundingBoxAscent);\n        const x = 0;\n        const y = 0;\n        const measurement = new BoundingBox({\n            left: x - Math.abs(metrics.actualBoundingBoxLeft) - this.font.padding,\n            top: y - Math.abs(metrics.actualBoundingBoxAscent) - this.font.padding,\n            bottom: y + bottomBounds + this.font.padding,\n            right: x + Math.abs(metrics.actualBoundingBoxRight) + this.font.padding\n        });\n        return measurement;\n    }\n    _setDimension(textBounds, bitmap) {\n        let lineHeightRatio = 1;\n        if (this.font.lineHeight) {\n            lineHeightRatio = (this.font.lineHeight / this.font.size);\n        }\n        // Changing the width and height clears the context properties\n        // We double the bitmap width to account for all possible alignment\n        // We scale by \"quality\" so we render text without jaggies\n        bitmap.canvas.width = (textBounds.width + this.font.padding * 2) * 2 * this.font.quality;\n        bitmap.canvas.height = (textBounds.height + this.font.padding * 2) * 2 * this.font.quality * lineHeightRatio;\n    }\n    static getHashCode(font, text, color) {\n        var _a;\n        const hash = text +\n            '__hashcode__' +\n            font.fontString +\n            font.showDebug +\n            font.textAlign +\n            font.baseAlign +\n            font.direction +\n            font.lineHeight +\n            JSON.stringify(font.shadow) +\n            (font.padding.toString() +\n                font.smoothing.toString() +\n                font.lineWidth.toString() +\n                font.lineDash.toString() +\n                ((_a = font.strokeColor) === null || _a === void 0 ? void 0 : _a.toString()) +\n                (color ? color.toString() : font.color.toString()));\n        return hash;\n    }\n    getHashCode(includeColor = true) {\n        return FontTextInstance.getHashCode(this.font, this.text, includeColor ? this.color : undefined);\n    }\n    _applyRasterProperties(ctx) {\n        var _a, _b;\n        ctx.translate(this.font.padding, this.font.padding);\n        ctx.imageSmoothingEnabled = this.font.smoothing;\n        ctx.lineWidth = this.font.lineWidth;\n        ctx.setLineDash((_a = this.font.lineDash) !== null && _a !== void 0 ? _a : ctx.getLineDash());\n        ctx.strokeStyle = (_b = this.font.strokeColor) === null || _b === void 0 ? void 0 : _b.toString();\n        ctx.fillStyle = this.color.toString();\n    }\n    _applyFont(ctx) {\n        ctx.resetTransform();\n        ctx.translate(this.font.padding + ctx.canvas.width / 2, this.font.padding + ctx.canvas.height / 2);\n        ctx.scale(this.font.quality, this.font.quality);\n        ctx.textAlign = this.font.textAlign;\n        ctx.textBaseline = this.font.baseAlign;\n        ctx.font = this.font.fontString;\n        ctx.direction = this.font.direction;\n        if (this.font.shadow) {\n            ctx.shadowColor = this.font.shadow.color.toString();\n            ctx.shadowBlur = this.font.shadow.blur;\n            ctx.shadowOffsetX = this.font.shadow.offset.x;\n            ctx.shadowOffsetY = this.font.shadow.offset.y;\n        }\n    }\n    _drawText(ctx, lines, lineHeight) {\n        this._applyRasterProperties(ctx);\n        this._applyFont(ctx);\n        for (let i = 0; i < lines.length; i++) {\n            const line = lines[i];\n            if (this.color) {\n                ctx.fillText(line, 0, i * lineHeight);\n            }\n            if (this.font.strokeColor) {\n                ctx.strokeText(line, 0, i * lineHeight);\n            }\n        }\n        if (this.font.showDebug) {\n            // Horizontal line\n            /* istanbul ignore next */\n            line(ctx, Color.Green, -ctx.canvas.width / 2, 0, ctx.canvas.width / 2, 0, 2);\n            // Vertical line\n            /* istanbul ignore next */\n            line(ctx, Color.Red, 0, -ctx.canvas.height / 2, 0, ctx.canvas.height / 2, 2);\n        }\n    }\n    _splitTextBitmap(bitmap) {\n        const textImages = [];\n        let currentX = 0;\n        let currentY = 0;\n        // 4k is the max for mobile devices\n        const width = Math.min(4096, bitmap.canvas.width);\n        const height = Math.min(4096, bitmap.canvas.height);\n        // Splits the original bitmap into 4k max chunks\n        while (currentX < bitmap.canvas.width) {\n            while (currentY < bitmap.canvas.height) {\n                // create new bitmap\n                const canvas = document.createElement('canvas');\n                canvas.width = width;\n                canvas.height = height;\n                const ctx = canvas.getContext('2d');\n                // draw current slice to new bitmap in < 4k chunks\n                ctx.drawImage(bitmap.canvas, currentX, currentY, width, height, 0, 0, width, height);\n                textImages.push({ x: currentX, y: currentY, canvas });\n                currentY += height;\n            }\n            currentX += width;\n            currentY = 0;\n        }\n        return textImages;\n    }\n    flagDirty() {\n        this._dirty = true;\n    }\n    render(ex, x, y, maxWidth) {\n        var _a;\n        if (this.disposed) {\n            throw Error('Accessing disposed text instance! ' + this.text);\n        }\n        this._ex = ex;\n        const hashCode = this.getHashCode();\n        if (this._lastHashCode !== hashCode) {\n            this._dirty = true;\n        }\n        // Calculate image chunks\n        if (this._dirty) {\n            this.dimensions = this.measureText(this.text, maxWidth);\n            this._setDimension(this.dimensions, this.ctx);\n            const lines = this._getLinesFromText(this.text, maxWidth);\n            const lineHeight = (_a = this.font.lineHeight) !== null && _a !== void 0 ? _a : this.dimensions.height / lines.length;\n            // draws the text to the main bitmap\n            this._drawText(this.ctx, lines, lineHeight);\n            // clear any out old fragments\n            if (ex instanceof ExcaliburGraphicsContextWebGL) {\n                for (const frag of this._textFragments) {\n                    ex.textureLoader.delete(frag.canvas);\n                }\n            }\n            // splits to < 4k fragments for large text\n            this._textFragments = this._splitTextBitmap(this.ctx);\n            if (ex instanceof ExcaliburGraphicsContextWebGL) {\n                for (const frag of this._textFragments) {\n                    ex.textureLoader.load(frag.canvas, this.font.filtering, true);\n                }\n            }\n            this._lastHashCode = hashCode;\n            this._dirty = false;\n        }\n        // draws the bitmap fragments to excalibur graphics context\n        for (const frag of this._textFragments) {\n            ex.drawImage(frag.canvas, 0, 0, frag.canvas.width, frag.canvas.height, frag.x / this.font.quality + x - this.ctx.canvas.width / this.font.quality / 2, frag.y / this.font.quality + y - this.ctx.canvas.height / this.font.quality / 2, frag.canvas.width / this.font.quality, frag.canvas.height / this.font.quality);\n        }\n    }\n    dispose() {\n        this.disposed = true;\n        this.dimensions = undefined;\n        this.canvas = undefined;\n        this.ctx = undefined;\n        if (this._ex instanceof ExcaliburGraphicsContextWebGL) {\n            for (const frag of this._textFragments) {\n                this._ex.textureLoader.delete(frag.canvas);\n            }\n        }\n        this._textFragments.length = 0;\n    }\n    _getLinesFromText(text, maxWidth) {\n        if (this._cachedText === text && this._cachedRenderWidth === maxWidth) {\n            return this._cachedLines;\n        }\n        const lines = text.split('\\n');\n        if (maxWidth == null) {\n            return lines;\n        }\n        // If the current line goes past the maxWidth, append a new line without modifying the underlying text.\n        for (let i = 0; i < lines.length; i++) {\n            let line = lines[i];\n            let newLine = '';\n            if (this.measureText(line).width > maxWidth) {\n                while (this.measureText(line).width > maxWidth) {\n                    newLine = line[line.length - 1] + newLine;\n                    line = line.slice(0, -1); // Remove last character from line\n                }\n                // Update the array with our new values\n                lines[i] = line;\n                lines[i + 1] = newLine;\n            }\n        }\n        this._cachedText = text;\n        this._cachedLines = lines;\n        this._cachedRenderWidth = maxWidth;\n        return lines;\n    }\n}\n\n;// CONCATENATED MODULE: ./Graphics/FontCache.ts\n\n\nclass FontCache {\n    static measureText(text, font, maxWidth) {\n        const hash = FontTextInstance.getHashCode(font, text);\n        if (FontCache._MEASURE_CACHE.has(hash)) {\n            return FontCache._MEASURE_CACHE.get(hash);\n        }\n        FontCache._LOGGER.debug('Font text measurement cache miss');\n        const measurement = font.measureTextWithoutCache(text, maxWidth);\n        FontCache._MEASURE_CACHE.set(hash, measurement);\n        return measurement;\n    }\n    static getTextInstance(text, font, color) {\n        const hash = FontTextInstance.getHashCode(font, text, color);\n        let textInstance = FontCache._TEXT_CACHE.get(hash);\n        if (!textInstance) {\n            textInstance = new FontTextInstance(font, text, color);\n            FontCache._TEXT_CACHE.set(hash, textInstance);\n            FontCache._LOGGER.debug('Font text instance cache miss');\n        }\n        // Cache the bitmap for certain amount of time\n        FontCache._TEXT_USAGE.set(textInstance, performance.now());\n        return textInstance;\n    }\n    static checkAndClearCache() {\n        const deferred = [];\n        const currentHashCodes = new Set();\n        for (const [textInstance, time] of FontCache._TEXT_USAGE.entries()) {\n            // if bitmap hasn't been used in 100 ms clear it\n            if (time + FontCache.FONT_TIMEOUT < performance.now()) {\n                FontCache._LOGGER.debug(`Text cache entry timed out ${textInstance.text}`);\n                deferred.push(textInstance);\n                textInstance.dispose();\n            }\n            else {\n                const hash = textInstance.getHashCode(false);\n                currentHashCodes.add(hash);\n            }\n        }\n        // Deferred removal of text instances\n        deferred.forEach((t) => {\n            FontCache._TEXT_USAGE.delete(t);\n        });\n        // Regenerate text instance cache\n        this._TEXT_CACHE.clear();\n        for (const [textInstance] of this._TEXT_USAGE.entries()) {\n            this._TEXT_CACHE.set(textInstance.getHashCode(), textInstance);\n        }\n        // Regenerated measurement cache\n        const newTextMeasurementCache = new Map();\n        for (const current of currentHashCodes) {\n            if (FontCache._MEASURE_CACHE.has(current)) {\n                newTextMeasurementCache.set(current, FontCache._MEASURE_CACHE.get(current));\n            }\n        }\n        this._MEASURE_CACHE.clear();\n        this._MEASURE_CACHE = newTextMeasurementCache;\n    }\n    static get cacheSize() {\n        return FontCache._TEXT_USAGE.size;\n    }\n    /**\n     * Force clear all cached text bitmaps\n     */\n    static clearCache() {\n        for (const [textInstance] of FontCache._TEXT_USAGE.entries()) {\n            textInstance.dispose();\n        }\n        FontCache._TEXT_USAGE.clear();\n        FontCache._TEXT_CACHE.clear();\n        FontCache._MEASURE_CACHE.clear();\n    }\n}\nFontCache.FONT_TIMEOUT = 500;\nFontCache._LOGGER = Logger.getInstance();\nFontCache._TEXT_USAGE = new Map();\nFontCache._TEXT_CACHE = new Map();\nFontCache._MEASURE_CACHE = new Map();\n\n;// CONCATENATED MODULE: ./Graphics/Font.ts\n\n\n\n\n\n\n\n/**\n * Represents a system or web font in Excalibur\n *\n * If no options specified, the system sans-serif 10 pixel is used\n *\n * If loading a custom web font be sure to have the font loaded before you use it https://erikonarheim.com/posts/dont-test-fonts/\n */\nclass Font extends Graphic {\n    constructor(options = {}) {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v;\n        super(options); // <- Graphics properties\n        /**\n         * Set the font filtering mode, by default set to [[ImageFiltering.Blended]] regardless of the engine default smoothing\n         *\n         * If you have a pixel style font that may be a reason to switch this to [[ImageFiltering.Pixel]]\n         */\n        this.filtering = ImageFiltering.Blended;\n        /**\n         * Font quality determines the size of the underlying raster text, higher quality means less jagged edges.\n         * If quality is set to 1, then just enough raster bitmap is generated to render the text.\n         *\n         * You can think of quality as how zoomed in to the text you can get before seeing jagged edges.\n         *\n         * (Default 2)\n         */\n        this.quality = 2;\n        // Raster properties for fonts\n        this.padding = 2;\n        this.smoothing = false;\n        this.lineWidth = 1;\n        this.lineDash = [];\n        this.color = Color.Black;\n        this.family = 'sans-serif';\n        this.style = FontStyle.Normal;\n        this.bold = false;\n        this.unit = FontUnit.Px;\n        this.textAlign = TextAlign.Left;\n        this.baseAlign = BaseAlign.Top;\n        this.direction = Direction.LeftToRight;\n        /**\n         * Font line height in pixels, default line height if unset\n         */\n        this.lineHeight = undefined;\n        this.size = 10;\n        this.shadow = null;\n        this._textBounds = new BoundingBox();\n        this._textMeasurement = new FontTextInstance(this, '', Color.Black);\n        // Raster properties\n        this.smoothing = (_a = options === null || options === void 0 ? void 0 : options.smoothing) !== null && _a !== void 0 ? _a : this.smoothing;\n        this.padding = (_b = options === null || options === void 0 ? void 0 : options.padding) !== null && _b !== void 0 ? _b : this.padding;\n        this.color = (_c = options === null || options === void 0 ? void 0 : options.color) !== null && _c !== void 0 ? _c : this.color;\n        this.strokeColor = (_d = options === null || options === void 0 ? void 0 : options.strokeColor) !== null && _d !== void 0 ? _d : this.strokeColor;\n        this.lineDash = (_e = options === null || options === void 0 ? void 0 : options.lineDash) !== null && _e !== void 0 ? _e : this.lineDash;\n        this.lineWidth = (_f = options === null || options === void 0 ? void 0 : options.lineWidth) !== null && _f !== void 0 ? _f : this.lineWidth;\n        this.filtering = (_g = options === null || options === void 0 ? void 0 : options.filtering) !== null && _g !== void 0 ? _g : this.filtering;\n        // Font specific properties\n        this.family = (_h = options === null || options === void 0 ? void 0 : options.family) !== null && _h !== void 0 ? _h : this.family;\n        this.style = (_j = options === null || options === void 0 ? void 0 : options.style) !== null && _j !== void 0 ? _j : this.style;\n        this.bold = (_k = options === null || options === void 0 ? void 0 : options.bold) !== null && _k !== void 0 ? _k : this.bold;\n        this.size = (_l = options === null || options === void 0 ? void 0 : options.size) !== null && _l !== void 0 ? _l : this.size;\n        this.unit = (_m = options === null || options === void 0 ? void 0 : options.unit) !== null && _m !== void 0 ? _m : this.unit;\n        this.textAlign = (_o = options === null || options === void 0 ? void 0 : options.textAlign) !== null && _o !== void 0 ? _o : this.textAlign;\n        this.baseAlign = (_p = options === null || options === void 0 ? void 0 : options.baseAlign) !== null && _p !== void 0 ? _p : this.baseAlign;\n        this.direction = (_q = options === null || options === void 0 ? void 0 : options.direction) !== null && _q !== void 0 ? _q : this.direction;\n        this.lineHeight = (_r = options === null || options === void 0 ? void 0 : options.lineHeight) !== null && _r !== void 0 ? _r : this.lineHeight;\n        this.quality = (_s = options === null || options === void 0 ? void 0 : options.quality) !== null && _s !== void 0 ? _s : this.quality;\n        if (options === null || options === void 0 ? void 0 : options.shadow) {\n            this.shadow = {};\n            this.shadow.blur = (_t = options.shadow.blur) !== null && _t !== void 0 ? _t : this.shadow.blur;\n            this.shadow.offset = (_u = options.shadow.offset) !== null && _u !== void 0 ? _u : this.shadow.offset;\n            this.shadow.color = (_v = options.shadow.color) !== null && _v !== void 0 ? _v : this.shadow.color;\n        }\n    }\n    clone() {\n        return new Font({\n            ...this.cloneGraphicOptions(),\n            size: this.size,\n            unit: this.unit,\n            family: this.family,\n            style: this.style,\n            bold: this.bold,\n            textAlign: this.textAlign,\n            baseAlign: this.baseAlign,\n            direction: this.direction,\n            shadow: this.shadow\n                ? {\n                    blur: this.shadow.blur,\n                    offset: this.shadow.offset,\n                    color: this.shadow.color\n                }\n                : null\n        });\n    }\n    get fontString() {\n        return `${this.style} ${this.bold ? 'bold' : ''} ${this.size}${this.unit} ${this.family}`;\n    }\n    get localBounds() {\n        return this._textBounds;\n    }\n    _drawImage(_ex, _x, _y) {\n        // TODO weird vestigial drawimage\n    }\n    _rotate(ex) {\n        var _a;\n        // TODO this needs to change depending on the bounding box...\n        const origin = (_a = this.origin) !== null && _a !== void 0 ? _a : this._textBounds.center;\n        ex.translate(origin.x, origin.y);\n        ex.rotate(this.rotation);\n        ex.translate(-origin.x, -origin.y);\n    }\n    _flip(ex) {\n        if (this.flipHorizontal) {\n            ex.translate(this._textBounds.width / this.scale.x, 0);\n            ex.scale(-1, 1);\n        }\n        if (this.flipVertical) {\n            ex.translate(0, -this._textBounds.height / 2 / this.scale.y);\n            ex.scale(1, -1);\n        }\n    }\n    measureTextWithoutCache(text, maxWidth) {\n        return this._textMeasurement.measureText(text, maxWidth);\n    }\n    /**\n     * Returns a BoundingBox that is the total size of the text including multiple lines\n     *\n     * Does not include any padding or adjustment\n     * @param text\n     * @returns BoundingBox\n     */\n    measureText(text, maxWidth) {\n        return FontCache.measureText(text, this, maxWidth);\n    }\n    _postDraw(ex) {\n        ex.restore();\n    }\n    render(ex, text, colorOverride, x, y, maxWidth) {\n        const textInstance = FontCache.getTextInstance(text, this, colorOverride);\n        // Apply affine transformations\n        this._textBounds = textInstance.dimensions;\n        this._preDraw(ex, x, y);\n        textInstance.render(ex, x, y, maxWidth);\n        this._postDraw(ex);\n    }\n}\n\n;// CONCATENATED MODULE: ./Graphics/Text.ts\n\n\n\n/**\n * Represent Text graphics in excalibur\n *\n * Useful for in game labels, ui, or overlays\n */\nclass Text extends Graphic {\n    constructor(options) {\n        var _a, _b;\n        super(options);\n        this._text = '';\n        this._textWidth = 0;\n        this._textHeight = 0;\n        // This order is important font, color, then text\n        this.font = (_a = options.font) !== null && _a !== void 0 ? _a : new Font();\n        this.color = (_b = options.color) !== null && _b !== void 0 ? _b : this.color;\n        this.text = options.text;\n        this.maxWidth = options.maxWidth;\n    }\n    clone() {\n        var _a, _b;\n        return new Text({\n            text: this.text.slice(),\n            color: (_b = (_a = this.color) === null || _a === void 0 ? void 0 : _a.clone()) !== null && _b !== void 0 ? _b : Color.Black,\n            font: this.font.clone(),\n            maxWidth: this.maxWidth\n        });\n    }\n    get text() {\n        return this._text;\n    }\n    set text(value) {\n        this._text = value;\n        this._calculateDimension();\n    }\n    get font() {\n        return this._font;\n    }\n    set font(font) {\n        this._font = font;\n    }\n    get width() {\n        if (this._textWidth === 0) {\n            this._calculateDimension();\n        }\n        return this._textWidth * this.scale.x;\n    }\n    get height() {\n        if (this._textHeight === 0) {\n            this._calculateDimension();\n        }\n        return this._textHeight * this.scale.y;\n    }\n    _calculateDimension() {\n        const { width, height } = this.font.measureText(this._text, this.maxWidth);\n        this._textWidth = width;\n        this._textHeight = height;\n    }\n    get localBounds() {\n        return this.font.measureText(this._text, this.maxWidth).scale(this.scale);\n    }\n    _rotate(_ex) {\n        // None this is delegated to font\n        // This override erases the default behavior\n    }\n    _flip(_ex) {\n        // None this is delegated to font\n        // This override erases the default behavior\n    }\n    _preDraw(ex, x, y) {\n        if (this.isStale() || this.font.isStale()) {\n            this.font.flipHorizontal = this.flipHorizontal;\n            this.font.flipVertical = this.flipVertical;\n            this.font.rotation = this.rotation;\n            this.font.origin = this.origin;\n            this.font.opacity = this.opacity;\n        }\n        this.font.tint = this.tint;\n        super._preDraw(ex, x, y);\n    }\n    _drawImage(ex, x, y) {\n        var _a;\n        let color = Color.Black;\n        if (this.font instanceof Font) {\n            color = (_a = this.color) !== null && _a !== void 0 ? _a : this.font.color;\n        }\n        const { width, height } = this.font.measureText(this._text, this.maxWidth);\n        this._textWidth = width;\n        this._textHeight = height;\n        this.font.render(ex, this._text, color, x, y, this.maxWidth);\n        if (this.font.showDebug) {\n            ex.debug.drawRect(x - width, y - height, width * 2, height * 2);\n            if (this.maxWidth != null) {\n                ex.debug.drawRect(x, y, this.maxWidth, this.height, {\n                    color: Color.Yellow\n                });\n            }\n        }\n    }\n}\n\n;// CONCATENATED MODULE: ./Actor.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * Type guard for checking if something is an Actor\n * @param x\n */\nfunction isActor(x) {\n    return x instanceof Actor;\n}\nconst ActorEvents = {\n    CollisionStart: 'collisionstart',\n    CollisionEnd: 'collisionend',\n    PreCollision: 'precollision',\n    PostCollision: 'postcollision',\n    Kill: 'kill',\n    PreKill: 'prekill',\n    PostKill: 'postkill',\n    PreDraw: 'predraw',\n    PostDraw: 'postdraw',\n    PreTransformDraw: 'pretransformdraw',\n    PostTransformDraw: 'posttransformdraw',\n    PreDebugDraw: 'predebugdraw',\n    PostDebugDraw: 'postdebugdraw',\n    PointerUp: 'pointerup',\n    PointerDown: 'pointerdown',\n    PointerEnter: 'pointerenter',\n    PointerLeave: 'pointerleave',\n    PointerMove: 'pointermove',\n    PointerCancel: 'pointercancel',\n    Wheel: 'pointerwheel',\n    PointerDrag: 'pointerdragstart',\n    PointerDragEnd: 'pointerdragend',\n    PointerDragEnter: 'pointerdragenter',\n    PointerDragLeave: 'pointerdragleave',\n    PointerDragMove: 'pointerdragmove',\n    EnterViewPort: 'enterviewport',\n    ExitViewPort: 'exitviewport',\n    ActionStart: 'actionstart',\n    ActionComplete: 'actioncomplete'\n};\n/**\n * The most important primitive in Excalibur is an `Actor`. Anything that\n * can move on the screen, collide with another `Actor`, respond to events,\n * or interact with the current scene, must be an actor. An `Actor` **must**\n * be part of a [[Scene]] for it to be drawn to the screen.\n */\nclass Actor extends Entity {\n    /**\n     * Gets the position vector of the actor in pixels\n     */\n    get pos() {\n        return this.transform.pos;\n    }\n    /**\n     * Sets the position vector of the actor in pixels\n     */\n    set pos(thePos) {\n        this.transform.pos = thePos.clone();\n    }\n    /**\n     * Gets the position vector of the actor from the last frame\n     */\n    get oldPos() {\n        return this.body.oldPos;\n    }\n    /**\n     * Sets the position vector of the actor in the last frame\n     */\n    set oldPos(thePos) {\n        this.body.oldPos.setTo(thePos.x, thePos.y);\n    }\n    /**\n     * Gets the velocity vector of the actor in pixels/sec\n     */\n    get vel() {\n        return this.motion.vel;\n    }\n    /**\n     * Sets the velocity vector of the actor in pixels/sec\n     */\n    set vel(theVel) {\n        this.motion.vel = theVel.clone();\n    }\n    /**\n     * Gets the velocity vector of the actor from the last frame\n     */\n    get oldVel() {\n        return this.body.oldVel;\n    }\n    /**\n     * Sets the velocity vector of the actor from the last frame\n     */\n    set oldVel(theVel) {\n        this.body.oldVel.setTo(theVel.x, theVel.y);\n    }\n    /**\n     * Gets the acceleration vector of the actor in pixels/second/second. An acceleration pointing down such as (0, 100) may be\n     * useful to simulate a gravitational effect.\n     */\n    get acc() {\n        return this.motion.acc;\n    }\n    /**\n     * Sets the acceleration vector of teh actor in pixels/second/second\n     */\n    set acc(theAcc) {\n        this.motion.acc = theAcc.clone();\n    }\n    /**\n     * Sets the acceleration of the actor from the last frame. This does not include the global acc [[Physics.acc]].\n     */\n    set oldAcc(theAcc) {\n        this.body.oldAcc.setTo(theAcc.x, theAcc.y);\n    }\n    /**\n     * Gets the acceleration of the actor from the last frame. This does not include the global acc [[Physics.acc]].\n     */\n    get oldAcc() {\n        return this.body.oldAcc;\n    }\n    /**\n     * Gets the rotation of the actor in radians. 1 radian = 180/PI Degrees.\n     */\n    get rotation() {\n        return this.transform.rotation;\n    }\n    /**\n     * Sets the rotation of the actor in radians. 1 radian = 180/PI Degrees.\n     */\n    set rotation(theAngle) {\n        this.transform.rotation = theAngle;\n    }\n    /**\n     * Gets the rotational velocity of the actor in radians/second\n     */\n    get angularVelocity() {\n        return this.motion.angularVelocity;\n    }\n    /**\n     * Sets the rotational velocity of the actor in radians/sec\n     */\n    set angularVelocity(angularVelocity) {\n        this.motion.angularVelocity = angularVelocity;\n    }\n    get scale() {\n        return this.get(TransformComponent).scale;\n    }\n    set scale(scale) {\n        this.get(TransformComponent).scale = scale;\n    }\n    /**\n     * The anchor to apply all actor related transformations like rotation,\n     * translation, and scaling. By default the anchor is in the center of\n     * the actor. By default it is set to the center of the actor (.5, .5)\n     *\n     * An anchor of (.5, .5) will ensure that drawings are centered.\n     *\n     * Use `anchor.setTo` to set the anchor to a different point using\n     * values between 0 and 1. For example, anchoring to the top-left would be\n     * `Actor.anchor.setTo(0, 0)` and top-right would be `Actor.anchor.setTo(0, 1)`.\n     */\n    get anchor() {\n        return this._anchor;\n    }\n    set anchor(vec) {\n        this._anchor = watch(vec, (v) => this._handleAnchorChange(v));\n        this._handleAnchorChange(vec);\n    }\n    _handleAnchorChange(v) {\n        if (this.graphics) {\n            this.graphics.anchor = v;\n        }\n    }\n    /**\n     * The offset in pixels to apply to all actor graphics\n     *\n     * Default offset of (0, 0)\n     */\n    get offset() {\n        return this._offset;\n    }\n    set offset(vec) {\n        this._offset = watch(vec, (v) => this._handleOffsetChange(v));\n        this._handleOffsetChange(vec);\n    }\n    _handleOffsetChange(v) {\n        if (this.graphics) {\n            this.graphics.offset = v;\n        }\n    }\n    /**\n     * Indicates whether the actor is physically in the viewport\n     */\n    get isOffScreen() {\n        return this.hasTag('ex.offscreen');\n    }\n    get draggable() {\n        return this._draggable;\n    }\n    set draggable(isDraggable) {\n        if (isDraggable) {\n            if (isDraggable && !this._draggable) {\n                this.events.on('pointerdragstart', this._pointerDragStartHandler);\n                this.events.on('pointerdragend', this._pointerDragEndHandler);\n                this.events.on('pointerdragmove', this._pointerDragMoveHandler);\n                this.events.on('pointerdragleave', this._pointerDragLeaveHandler);\n            }\n            else if (!isDraggable && this._draggable) {\n                this.events.off('pointerdragstart', this._pointerDragStartHandler);\n                this.events.off('pointerdragend', this._pointerDragEndHandler);\n                this.events.off('pointerdragmove', this._pointerDragMoveHandler);\n                this.events.off('pointerdragleave', this._pointerDragLeaveHandler);\n            }\n            this._draggable = isDraggable;\n        }\n    }\n    /**\n     * Sets the color of the actor's current graphic\n     */\n    get color() {\n        return this._color;\n    }\n    set color(v) {\n        this._color = v.clone();\n        const currentGraphic = this.graphics.current;\n        if (currentGraphic instanceof Raster || currentGraphic instanceof Text) {\n            currentGraphic.color = this._color;\n        }\n    }\n    // #endregion\n    /**\n     *\n     * @param config\n     */\n    constructor(config) {\n        super();\n        this.events = new EventEmitter();\n        this._anchor = watch(Vector.Half, (v) => this._handleAnchorChange(v));\n        this._offset = watch(Vector.Zero, (v) => this._handleOffsetChange(v));\n        /**\n         * Convenience reference to the global logger\n         */\n        this.logger = Logger.getInstance();\n        /**\n         * Draggable helper\n         */\n        this._draggable = false;\n        this._dragging = false;\n        this._pointerDragStartHandler = () => {\n            this._dragging = true;\n        };\n        this._pointerDragEndHandler = () => {\n            this._dragging = false;\n        };\n        this._pointerDragMoveHandler = (pe) => {\n            if (this._dragging) {\n                this.pos = pe.worldPos;\n            }\n        };\n        this._pointerDragLeaveHandler = (pe) => {\n            if (this._dragging) {\n                this.pos = pe.worldPos;\n            }\n        };\n        const { name, x, y, pos, coordPlane, scale, width, height, radius, collider, vel, acc, rotation, angularVelocity, z, color, visible, opacity, anchor, offset, collisionType, collisionGroup } = {\n            ...config\n        };\n        this.name = name !== null && name !== void 0 ? name : this.name;\n        this.anchor = anchor !== null && anchor !== void 0 ? anchor : Actor.defaults.anchor.clone();\n        this.offset = offset !== null && offset !== void 0 ? offset : Vector.Zero;\n        this.transform = new TransformComponent();\n        this.addComponent(this.transform);\n        this.pos = pos !== null && pos !== void 0 ? pos : vec(x !== null && x !== void 0 ? x : 0, y !== null && y !== void 0 ? y : 0);\n        this.rotation = rotation !== null && rotation !== void 0 ? rotation : 0;\n        this.scale = scale !== null && scale !== void 0 ? scale : vec(1, 1);\n        this.z = z !== null && z !== void 0 ? z : 0;\n        this.transform.coordPlane = coordPlane !== null && coordPlane !== void 0 ? coordPlane : CoordPlane.World;\n        this.pointer = new PointerComponent;\n        this.addComponent(this.pointer);\n        this.graphics = new GraphicsComponent({\n            anchor: this.anchor,\n            offset: this.offset,\n            opacity: opacity\n        });\n        this.addComponent(this.graphics);\n        this.motion = new MotionComponent;\n        this.addComponent(this.motion);\n        this.vel = vel !== null && vel !== void 0 ? vel : Vector.Zero;\n        this.acc = acc !== null && acc !== void 0 ? acc : Vector.Zero;\n        this.angularVelocity = angularVelocity !== null && angularVelocity !== void 0 ? angularVelocity : 0;\n        this.actions = new ActionsComponent;\n        this.addComponent(this.actions);\n        this.body = new BodyComponent;\n        this.addComponent(this.body);\n        this.body.collisionType = collisionType !== null && collisionType !== void 0 ? collisionType : CollisionType.Passive;\n        if (collisionGroup) {\n            this.body.group = collisionGroup;\n        }\n        if (collider) {\n            this.collider = new ColliderComponent(collider);\n            this.addComponent(this.collider);\n        }\n        else if (radius) {\n            this.collider = new ColliderComponent(Shape.Circle(radius));\n            this.addComponent(this.collider);\n        }\n        else {\n            if (width > 0 && height > 0) {\n                this.collider = new ColliderComponent(Shape.Box(width, height, this.anchor));\n                this.addComponent(this.collider);\n            }\n            else {\n                this.collider = new ColliderComponent();\n                this.addComponent(this.collider); // no collider\n            }\n        }\n        this.graphics.visible = visible !== null && visible !== void 0 ? visible : true;\n        if (color) {\n            this.color = color;\n            if (width && height) {\n                this.graphics.add(new Rectangle({\n                    color: color,\n                    width,\n                    height\n                }));\n            }\n            else if (radius) {\n                this.graphics.add(new Circle({\n                    color: color,\n                    radius\n                }));\n            }\n        }\n    }\n    clone() {\n        const clone = new Actor({\n            color: this.color.clone(),\n            anchor: this.anchor.clone(),\n            offset: this.offset.clone()\n        });\n        clone.clearComponents();\n        clone.processComponentRemoval();\n        // Clone builtins, order is important, same as ctor\n        clone.addComponent(clone.transform = this.transform.clone(), true);\n        clone.addComponent(clone.pointer = this.pointer.clone(), true);\n        clone.addComponent(clone.graphics = this.graphics.clone(), true);\n        clone.addComponent(clone.motion = this.motion.clone(), true);\n        clone.addComponent(clone.actions = this.actions.clone(), true);\n        clone.addComponent(clone.body = this.body.clone(), true);\n        clone.addComponent(clone.collider = this.collider.clone(), true);\n        const builtInComponents = [\n            this.transform,\n            this.pointer,\n            this.graphics,\n            this.motion,\n            this.actions,\n            this.body,\n            this.collider\n        ];\n        // Clone non-builtin the current actors components\n        const components = this.getComponents();\n        for (const c of components) {\n            if (!builtInComponents.includes(c)) {\n                clone.addComponent(c.clone(), true);\n            }\n        }\n        return clone;\n    }\n    /**\n     * `onInitialize` is called before the first update of the actor. This method is meant to be\n     * overridden. This is where initialization of child actors should take place.\n     *\n     * Synonymous with the event handler `.on('initialize', (evt) => {...})`\n     */\n    onInitialize(engine) {\n        // Override me\n    }\n    /**\n     * Initializes this actor and all it's child actors, meant to be called by the Scene before first update not by users of Excalibur.\n     *\n     * It is not recommended that internal excalibur methods be overridden, do so at your own risk.\n     * @internal\n     */\n    _initialize(engine) {\n        super._initialize(engine);\n        for (const child of this.children) {\n            child._initialize(engine);\n        }\n    }\n    emit(eventName, event) {\n        this.events.emit(eventName, event);\n    }\n    on(eventName, handler) {\n        return this.events.on(eventName, handler);\n    }\n    once(eventName, handler) {\n        return this.events.once(eventName, handler);\n    }\n    off(eventName, handler) {\n        this.events.off(eventName, handler);\n    }\n    // #endregion\n    /**\n     * It is not recommended that internal excalibur methods be overridden, do so at your own risk.\n     *\n     * Internal _prekill handler for [[onPreKill]] lifecycle event\n     * @internal\n     */\n    _prekill(scene) {\n        this.events.emit('prekill', new PreKillEvent(this));\n        this.onPreKill(scene);\n    }\n    /**\n     * Safe to override onPreKill lifecycle event handler. Synonymous with `.on('prekill', (evt) =>{...})`\n     *\n     * `onPreKill` is called directly before an actor is killed and removed from its current [[Scene]].\n     */\n    onPreKill(scene) {\n        // Override me\n    }\n    /**\n     * It is not recommended that internal excalibur methods be overridden, do so at your own risk.\n     *\n     * Internal _prekill handler for [[onPostKill]] lifecycle event\n     * @internal\n     */\n    _postkill(scene) {\n        this.events.emit('postkill', new PostKillEvent(this));\n        this.onPostKill(scene);\n    }\n    /**\n     * Safe to override onPostKill lifecycle event handler. Synonymous with `.on('postkill', (evt) => {...})`\n     *\n     * `onPostKill` is called directly after an actor is killed and remove from its current [[Scene]].\n     */\n    onPostKill(scene) {\n        // Override me\n    }\n    /**\n     * If the current actor is a member of the scene, this will remove\n     * it from the scene graph. It will no longer be drawn or updated.\n     */\n    kill() {\n        if (this.scene) {\n            this._prekill(this.scene);\n            this.events.emit('kill', new KillEvent(this));\n            super.kill();\n            this._postkill(this.scene);\n        }\n        else {\n            this.logger.warn(`Cannot kill actor named \"${this.name}\", it was never added to the Scene`);\n        }\n    }\n    /**\n     * If the current actor is killed, it will now not be killed.\n     */\n    unkill() {\n        this.active = true;\n    }\n    /**\n     * Indicates wether the actor has been killed.\n     */\n    isKilled() {\n        return !this.active;\n    }\n    /**\n     * Gets the z-index of an actor. The z-index determines the relative order an actor is drawn in.\n     * Actors with a higher z-index are drawn on top of actors with a lower z-index\n     */\n    get z() {\n        return this.get(TransformComponent).z;\n    }\n    /**\n     * Sets the z-index of an actor and updates it in the drawing list for the scene.\n     * The z-index determines the relative order an actor is drawn in.\n     * Actors with a higher z-index are drawn on top of actors with a lower z-index\n     * @param newZ new z-index to assign\n     */\n    set z(newZ) {\n        this.get(TransformComponent).z = newZ;\n    }\n    /**\n     * Get the center point of an actor (global position)\n     */\n    get center() {\n        const globalPos = this.getGlobalPos();\n        return new Vector(globalPos.x + this.width / 2 - this.anchor.x * this.width, globalPos.y + this.height / 2 - this.anchor.y * this.height);\n    }\n    /**\n     * Get the local center point of an actor\n     */\n    get localCenter() {\n        return new Vector(this.pos.x + this.width / 2 - this.anchor.x * this.width, this.pos.y + this.height / 2 - this.anchor.y * this.height);\n    }\n    get width() {\n        return this.collider.localBounds.width * this.getGlobalScale().x;\n    }\n    get height() {\n        return this.collider.localBounds.height * this.getGlobalScale().y;\n    }\n    /**\n     * Gets this actor's rotation taking into account any parent relationships\n     * @returns Rotation angle in radians\n     */\n    getGlobalRotation() {\n        return this.get(TransformComponent).globalRotation;\n    }\n    /**\n     * Gets an actor's world position taking into account parent relationships, scaling, rotation, and translation\n     * @returns Position in world coordinates\n     */\n    getGlobalPos() {\n        return this.get(TransformComponent).globalPos;\n    }\n    /**\n     * Gets the global scale of the Actor\n     */\n    getGlobalScale() {\n        return this.get(TransformComponent).globalScale;\n    }\n    // #region Collision\n    /**\n     * Tests whether the x/y specified are contained in the actor\n     * @param x  X coordinate to test (in world coordinates)\n     * @param y  Y coordinate to test (in world coordinates)\n     * @param recurse checks whether the x/y are contained in any child actors (if they exist).\n     */\n    contains(x, y, recurse = false) {\n        const point = vec(x, y);\n        const collider = this.get(ColliderComponent);\n        collider.update();\n        const geom = collider.get();\n        if (!geom) {\n            return false;\n        }\n        const containment = geom.contains(point);\n        if (recurse) {\n            return (containment ||\n                this.children.some((child) => {\n                    return child.contains(x, y, true);\n                }));\n        }\n        return containment;\n    }\n    /**\n     * Returns true if the two actor.collider's surfaces are less than or equal to the distance specified from each other\n     * @param actor     Actor to test\n     * @param distance  Distance in pixels to test\n     */\n    within(actor, distance) {\n        const collider = this.get(ColliderComponent);\n        const otherCollider = actor.get(ColliderComponent);\n        const me = collider.get();\n        const other = otherCollider.get();\n        if (me && other) {\n            return me.getClosestLineBetween(other).getLength() <= distance;\n        }\n        return false;\n    }\n    // #endregion\n    // #region Update\n    /**\n     * Called by the Engine, updates the state of the actor\n     * @internal\n     * @param engine The reference to the current game engine\n     * @param delta  The time elapsed since the last update in milliseconds\n     */\n    update(engine, delta) {\n        this._initialize(engine);\n        this._preupdate(engine, delta);\n        this._postupdate(engine, delta);\n    }\n    /**\n     * Safe to override onPreUpdate lifecycle event handler. Synonymous with `.on('preupdate', (evt) =>{...})`\n     *\n     * `onPreUpdate` is called directly before an actor is updated.\n     */\n    onPreUpdate(engine, delta) {\n        // Override me\n    }\n    /**\n     * Safe to override onPostUpdate lifecycle event handler. Synonymous with `.on('postupdate', (evt) =>{...})`\n     *\n     * `onPostUpdate` is called directly after an actor is updated.\n     */\n    onPostUpdate(engine, delta) {\n        // Override me\n    }\n    /**\n     * Fires before every collision resolution for a confirmed contact\n     * @param self\n     * @param other\n     * @param side\n     * @param contact\n     */\n    onPreCollisionResolve(self, other, side, contact) {\n        // Override me\n    }\n    /**\n     * Fires after every resolution for a confirmed contact.\n     * @param self\n     * @param other\n     * @param side\n     * @param contact\n     */\n    onPostCollisionResolve(self, other, side, contact) {\n        // Override me\n    }\n    /**\n     * Fires once when 2 entities with a ColliderComponent first start colliding or touching, if the Colliders stay in contact this\n     * does not continue firing until they separate and re-collide.\n     * @param self\n     * @param other\n     * @param side\n     * @param contact\n     */\n    onCollisionStart(self, other, side, contact) {\n        // Override me\n    }\n    /**\n     * Fires once when 2 entities with a ColliderComponent separate after having been in contact.\n     * @param self\n     * @param other\n     * @param side\n     * @param lastContact\n     */\n    onCollisionEnd(self, other, side, lastContact) {\n        // Override me\n    }\n    /**\n     * It is not recommended that internal excalibur methods be overridden, do so at your own risk.\n     *\n     * Internal _preupdate handler for [[onPreUpdate]] lifecycle event\n     * @internal\n     */\n    _preupdate(engine, delta) {\n        this.events.emit('preupdate', new PreUpdateEvent(engine, delta, this));\n        this.onPreUpdate(engine, delta);\n    }\n    /**\n     * It is not recommended that internal excalibur methods be overridden, do so at your own risk.\n     *\n     * Internal _preupdate handler for [[onPostUpdate]] lifecycle event\n     * @internal\n     */\n    _postupdate(engine, delta) {\n        this.events.emit('postupdate', new PostUpdateEvent(engine, delta, this));\n        this.onPostUpdate(engine, delta);\n    }\n}\n// #region Properties\n/**\n * Set defaults for all Actors\n */\nActor.defaults = {\n    anchor: Vector.Half\n};\n\n;// CONCATENATED MODULE: ./ScreenElement.ts\n\n\n\n\n\n/**\n * Type guard to detect a screen element\n */\nfunction isScreenElement(actor) {\n    return actor instanceof ScreenElement;\n}\n/**\n * Helper [[Actor]] primitive for drawing UI's, optimized for UI drawing. Does\n * not participate in collisions. Drawn on top of all other actors.\n */\nclass ScreenElement extends Actor {\n    constructor(config) {\n        var _a, _b;\n        super({ ...config });\n        this.get(TransformComponent).coordPlane = CoordPlane.Screen;\n        this.anchor = (_a = config === null || config === void 0 ? void 0 : config.anchor) !== null && _a !== void 0 ? _a : vec(0, 0);\n        this.body.collisionType = (_b = config === null || config === void 0 ? void 0 : config.collisionType) !== null && _b !== void 0 ? _b : CollisionType.PreventCollision;\n        this.pointer.useGraphicsBounds = true;\n        this.pointer.useColliderShape = false;\n        if (!(config === null || config === void 0 ? void 0 : config.collider) &&\n            (config === null || config === void 0 ? void 0 : config.width) > 0 &&\n            (config === null || config === void 0 ? void 0 : config.height) > 0) {\n            this.collider.useBoxCollider(this.width, this.height, this.anchor);\n        }\n    }\n    _initialize(engine) {\n        this._engine = engine;\n        super._initialize(engine);\n    }\n    contains(x, y, useWorld = true) {\n        if (useWorld) {\n            return super.contains(x, y);\n        }\n        const coords = this._engine.worldToScreenCoordinates(new Vector(x, y));\n        return super.contains(coords.x, coords.y);\n    }\n}\n\n;// CONCATENATED MODULE: ./Timer.ts\n\n\n/**\n * The Excalibur timer hooks into the internal timer and fires callbacks,\n * after a certain interval, optionally repeating.\n */\nclass Timer {\n    get complete() {\n        return this._complete;\n    }\n    constructor(fcn, interval, repeats, numberOfRepeats, randomRange, random) {\n        this._logger = Logger.getInstance();\n        this.id = 0;\n        this._elapsedTime = 0;\n        this._totalTimeAlive = 0;\n        this._running = false;\n        this._numberOfTicks = 0;\n        this.interval = 10;\n        this.repeats = false;\n        this.maxNumberOfRepeats = -1;\n        this.randomRange = [0, 0];\n        this._baseInterval = 10;\n        this._generateRandomInterval = () => {\n            return this._baseInterval + this.random.integer(this.randomRange[0], this.randomRange[1]);\n        };\n        this._complete = false;\n        this.scene = null;\n        if (typeof fcn !== 'function') {\n            const options = fcn;\n            fcn = options.fcn;\n            interval = options.interval;\n            repeats = options.repeats;\n            numberOfRepeats = options.numberOfRepeats;\n            randomRange = options.randomRange;\n            random = options.random;\n        }\n        if (!!numberOfRepeats && numberOfRepeats >= 0) {\n            this.maxNumberOfRepeats = numberOfRepeats;\n            if (!repeats) {\n                throw new Error('repeats must be set to true if numberOfRepeats is set');\n            }\n        }\n        this.id = Timer._MAX_ID++;\n        this._callbacks = [];\n        this._baseInterval = this.interval = interval;\n        if (!!randomRange) {\n            if (randomRange[0] > randomRange[1]) {\n                throw new Error('min value must be lower than max value for range');\n            }\n            //We use the instance of ex.Random to generate the range\n            this.random = random !== null && random !== void 0 ? random : new Random();\n            this.randomRange = randomRange;\n            this.interval = this._generateRandomInterval();\n            this.on(() => {\n                this.interval = this._generateRandomInterval();\n            });\n        }\n        ;\n        this.repeats = repeats || this.repeats;\n        if (fcn) {\n            this.on(fcn);\n        }\n    }\n    /**\n     * Adds a new callback to be fired after the interval is complete\n     * @param fcn The callback to be added to the callback list, to be fired after the interval is complete.\n     */\n    on(fcn) {\n        this._callbacks.push(fcn);\n    }\n    /**\n     * Removes a callback from the callback list to be fired after the interval is complete.\n     * @param fcn The callback to be removed from the callback list, to be fired after the interval is complete.\n     */\n    off(fcn) {\n        const index = this._callbacks.indexOf(fcn);\n        this._callbacks.splice(index, 1);\n    }\n    /**\n     * Updates the timer after a certain number of milliseconds have elapsed. This is used internally by the engine.\n     * @param delta  Number of elapsed milliseconds since the last update.\n     */\n    update(delta) {\n        if (this._running) {\n            this._totalTimeAlive += delta;\n            this._elapsedTime += delta;\n            if (this.maxNumberOfRepeats > -1 && this._numberOfTicks >= this.maxNumberOfRepeats) {\n                this._complete = true;\n                this._running = false;\n                this._elapsedTime = 0;\n            }\n            if (!this.complete && this._elapsedTime >= this.interval) {\n                this._callbacks.forEach((c) => {\n                    c.call(this);\n                });\n                this._numberOfTicks++;\n                if (this.repeats) {\n                    this._elapsedTime = 0;\n                }\n                else {\n                    this._complete = true;\n                    this._running = false;\n                    this._elapsedTime = 0;\n                }\n            }\n        }\n    }\n    /**\n     * Resets the timer so that it can be reused, and optionally reconfigure the timers interval.\n     *\n     * Warning** you may need to call `timer.start()` again if the timer had completed\n     * @param newInterval If specified, sets a new non-negative interval in milliseconds to refire the callback\n     * @param newNumberOfRepeats If specified, sets a new non-negative upper limit to the number of time this timer executes\n     */\n    reset(newInterval, newNumberOfRepeats) {\n        if (!!newInterval && newInterval >= 0) {\n            this._baseInterval = this.interval = newInterval;\n        }\n        if (!!this.maxNumberOfRepeats && this.maxNumberOfRepeats >= 0) {\n            this.maxNumberOfRepeats = newNumberOfRepeats;\n            if (!this.repeats) {\n                throw new Error('repeats must be set to true if numberOfRepeats is set');\n            }\n        }\n        this._complete = false;\n        this._elapsedTime = 0;\n        this._numberOfTicks = 0;\n    }\n    get timesRepeated() {\n        return this._numberOfTicks;\n    }\n    getTimeRunning() {\n        return this._totalTimeAlive;\n    }\n    /**\n     * @returns milliseconds until the next action callback, if complete will return 0\n     */\n    get timeToNextAction() {\n        if (this.complete) {\n            return 0;\n        }\n        return this.interval - this._elapsedTime;\n    }\n    /**\n     * @returns milliseconds elapsed toward the next action\n     */\n    get timeElapsedTowardNextAction() {\n        return this._elapsedTime;\n    }\n    get isRunning() {\n        return this._running;\n    }\n    /**\n     * Pauses the timer, time will no longer increment towards the next call\n     */\n    pause() {\n        this._running = false;\n        return this;\n    }\n    /**\n     * Resumes the timer, time will now increment towards the next call.\n     */\n    resume() {\n        this._running = true;\n        return this;\n    }\n    /**\n     * Starts the timer, if the timer was complete it will restart the timer and reset the elapsed time counter\n     */\n    start() {\n        if (!this.scene) {\n            this._logger.warn('Cannot start a timer not part of a scene, timer wont start until added');\n        }\n        this._running = true;\n        if (this.complete) {\n            this._complete = false;\n            this._elapsedTime = 0;\n            this._numberOfTicks = 0;\n        }\n        return this;\n    }\n    /**\n     * Stops the timer and resets the elapsed time counter towards the next action invocation\n     */\n    stop() {\n        this._running = false;\n        this._elapsedTime = 0;\n        this._numberOfTicks = 0;\n        return this;\n    }\n    /**\n     * Cancels the timer, preventing any further executions.\n     */\n    cancel() {\n        this.pause();\n        if (this.scene) {\n            this.scene.cancelTimer(this);\n        }\n    }\n}\nTimer._MAX_ID = 0;\n\n;// CONCATENATED MODULE: ./Graphics/ParallaxComponent.ts\n\n\nclass ParallaxComponent extends Component {\n    constructor(parallaxFactor) {\n        super();\n        this.parallaxFactor = vec(1.0, 1.0);\n        this.parallaxFactor = parallaxFactor !== null && parallaxFactor !== void 0 ? parallaxFactor : this.parallaxFactor;\n    }\n}\n\n;// CONCATENATED MODULE: ./Graphics/DebugGraphicsComponent.ts\n\n/**\n * Provide arbitrary drawing for the purposes of debugging your game\n *\n * Will only show when the Engine is set to debug mode [[Engine.showDebug]] or [[Engine.toggleDebug]]\n *\n */\nclass DebugGraphicsComponent extends Component {\n    constructor(draw, useTransform = true) {\n        super();\n        this.draw = draw;\n        this.useTransform = useTransform;\n    }\n}\n\n;// CONCATENATED MODULE: ./TileMap/TileMap.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst TileMapEvents = {\n    PreUpdate: 'preupdate',\n    PostUpdate: 'postupdate',\n    PreDraw: 'predraw',\n    PostDraw: 'postdraw'\n};\n/**\n * The TileMap provides a mechanism for doing flat 2D tiles rendered in a grid.\n *\n * TileMaps are useful for top down or side scrolling grid oriented games.\n */\nclass TileMap extends Entity {\n    flagCollidersDirty() {\n        this._collidersDirty = true;\n    }\n    flagTilesDirty() {\n        for (let i = 0; i < this.tiles.length; i++) {\n            if (this.tiles[i]) {\n                this.tiles[i].flagDirty();\n            }\n        }\n    }\n    get x() {\n        var _a;\n        return (_a = this.transform.pos.x) !== null && _a !== void 0 ? _a : 0;\n    }\n    set x(val) {\n        var _a;\n        if ((_a = this.transform) === null || _a === void 0 ? void 0 : _a.pos) {\n            this.get(TransformComponent).pos = vec(val, this.y);\n        }\n    }\n    get y() {\n        var _a, _b;\n        return (_b = (_a = this.transform) === null || _a === void 0 ? void 0 : _a.pos.y) !== null && _b !== void 0 ? _b : 0;\n    }\n    set y(val) {\n        var _a;\n        if ((_a = this.transform) === null || _a === void 0 ? void 0 : _a.pos) {\n            this.transform.pos = vec(this.x, val);\n        }\n    }\n    get z() {\n        var _a;\n        return (_a = this.transform.z) !== null && _a !== void 0 ? _a : 0;\n    }\n    set z(val) {\n        if (this.transform) {\n            this.transform.z = val;\n        }\n    }\n    get rotation() {\n        var _a, _b;\n        return (_b = (_a = this.transform) === null || _a === void 0 ? void 0 : _a.rotation) !== null && _b !== void 0 ? _b : 0;\n    }\n    set rotation(val) {\n        if (this.transform) {\n            this.transform.rotation = val;\n        }\n    }\n    get scale() {\n        var _a, _b;\n        return (_b = (_a = this.transform) === null || _a === void 0 ? void 0 : _a.scale) !== null && _b !== void 0 ? _b : Vector.One;\n    }\n    set scale(val) {\n        var _a;\n        if ((_a = this.transform) === null || _a === void 0 ? void 0 : _a.scale) {\n            this.transform.scale = val;\n        }\n    }\n    get pos() {\n        return this.transform.pos;\n    }\n    set pos(val) {\n        this.transform.pos = val;\n    }\n    get vel() {\n        return this._motion.vel;\n    }\n    set vel(val) {\n        this._motion.vel = val;\n    }\n    emit(eventName, event) {\n        this.events.emit(eventName, event);\n    }\n    on(eventName, handler) {\n        return this.events.on(eventName, handler);\n    }\n    once(eventName, handler) {\n        return this.events.once(eventName, handler);\n    }\n    off(eventName, handler) {\n        this.events.off(eventName, handler);\n    }\n    /**\n     * @param options\n     */\n    constructor(options) {\n        var _a, _b, _c;\n        super([], options.name);\n        this.events = new EventEmitter();\n        this._token = 0;\n        this.logger = Logger.getInstance();\n        this.tiles = [];\n        this._rows = [];\n        this._cols = [];\n        this.renderFromTopOfGraphic = false;\n        this.meshingLookBehind = 10;\n        this._collidersDirty = true;\n        this._originalOffsets = new WeakMap();\n        this.meshingLookBehind = (_a = options.meshingLookBehind) !== null && _a !== void 0 ? _a : this.meshingLookBehind;\n        this.addComponent(new TransformComponent());\n        this.addComponent(new MotionComponent());\n        this.addComponent(new BodyComponent({\n            type: CollisionType.Fixed\n        }));\n        this.addComponent(new GraphicsComponent({\n            onPostDraw: (ctx, delta) => this.draw(ctx, delta)\n        }));\n        this.addComponent(new DebugGraphicsComponent((ctx, debugFlags) => this.debug(ctx, debugFlags), false));\n        this.addComponent(new ColliderComponent());\n        this._graphics = this.get(GraphicsComponent);\n        this.transform = this.get(TransformComponent);\n        this._motion = this.get(MotionComponent);\n        this.collider = this.get(ColliderComponent);\n        this._composite = this.collider.useCompositeCollider([]);\n        this.transform.pos = (_b = options.pos) !== null && _b !== void 0 ? _b : Vector.Zero;\n        this._oldPos = this.transform.pos.clone();\n        this._oldScale = this.transform.scale.clone();\n        this.renderFromTopOfGraphic = (_c = options.renderFromTopOfGraphic) !== null && _c !== void 0 ? _c : this.renderFromTopOfGraphic;\n        this.tileWidth = options.tileWidth;\n        this.tileHeight = options.tileHeight;\n        this.rows = options.rows;\n        this.columns = options.columns;\n        this.tiles = new Array(this.rows * this.columns);\n        this._rows = new Array(this.rows);\n        this._cols = new Array(this.columns);\n        let currentCol = [];\n        for (let i = 0; i < this.columns; i++) {\n            for (let j = 0; j < this.rows; j++) {\n                const tile = new Tile({\n                    x: i,\n                    y: j,\n                    map: this\n                });\n                tile.map = this;\n                this.tiles[i + j * this.columns] = tile;\n                currentCol.push(tile);\n                if (!this._rows[j]) {\n                    this._rows[j] = [];\n                }\n                this._rows[j].push(tile);\n            }\n            this._cols[i] = currentCol;\n            currentCol = [];\n        }\n        this._graphics.localBounds = new BoundingBox({\n            left: 0,\n            top: 0,\n            right: this.columns * this.tileWidth * this.scale.x,\n            bottom: this.rows * this.tileHeight * this.scale.y\n        });\n    }\n    _initialize(engine) {\n        super._initialize(engine);\n        this._engine = engine;\n    }\n    _getOrSetColliderOriginalOffset(collider) {\n        if (!this._originalOffsets.has(collider)) {\n            const originalOffset = collider.offset;\n            this._originalOffsets.set(collider, originalOffset);\n            return originalOffset;\n        }\n        else {\n            return this._originalOffsets.get(collider);\n        }\n    }\n    /**\n     * Tiles colliders based on the solid tiles in the tilemap.\n     */\n    _updateColliders() {\n        this.collider.$colliderRemoved.notifyAll(this._composite);\n        this._composite.clearColliders();\n        const colliders = [];\n        this._composite = this.collider.useCompositeCollider([]);\n        let current;\n        /**\n         * Returns wether or not the 2 boxes share an edge and are the same height\n         * @param prev\n         * @param next\n         * @returns true if they share and edge, false if not\n         */\n        const shareEdges = (prev, next) => {\n            if (prev && next) {\n                // same top/bottom\n                return prev.top === next.top &&\n                    prev.bottom === next.bottom &&\n                    // Shared right/left edge\n                    prev.right === next.left;\n            }\n            return false;\n        };\n        /**\n         * Potentially merges the current collider into a list of previous ones, mutating the list\n         * If checkAndCombine returns true, the collider was successfully merged and should be thrown away\n         * @param current current collider to test\n         * @param colliders List of colliders to consider merging with\n         * @param maxLookBack The amount of colliders to look back for combination\n         * @returns false when no combination found, true when successfully combined\n         */\n        const checkAndCombine = (current, colliders, maxLookBack = this.meshingLookBehind) => {\n            if (!current) {\n                return false;\n            }\n            // walk backwards through the list of colliders and combine with the first that shares an edge\n            for (let i = colliders.length - 1; i >= 0; i--) {\n                if (maxLookBack-- < 0) {\n                    // blunt the O(n^2) algorithm a bit\n                    return false;\n                }\n                const prev = colliders[i];\n                if (shareEdges(prev, current)) {\n                    colliders[i] = prev.combine(current);\n                    return true;\n                }\n            }\n            return false;\n        };\n        // ? configurable bias perhaps, horizontal strips vs. vertical ones\n        // Bad tile collider packing algorithm\n        for (let i = 0; i < this.columns; i++) {\n            // Scan column for colliders\n            for (let j = 0; j < this.rows; j++) {\n                const tile = this.tiles[i + j * this.columns];\n                // Current tile in column is solid build up current collider\n                if (tile.solid) {\n                    // Use custom collider otherwise bounding box\n                    if (tile.getColliders().length > 0) {\n                        // tile with custom collider interrupting the current run\n                        for (const collider of tile.getColliders()) {\n                            const originalOffset = this._getOrSetColliderOriginalOffset(collider);\n                            collider.offset = vec(tile.x * this.tileWidth * this.scale.x, tile.y * this.tileHeight * this.scale.y).add(originalOffset);\n                            collider.owner = this;\n                            this._composite.addCollider(collider);\n                        }\n                        //we push any current collider before nulling the current run\n                        if (current && !checkAndCombine(current, colliders)) {\n                            colliders.push(current);\n                        }\n                        current = null;\n                        // Use the bounding box\n                    }\n                    else {\n                        if (!current) {\n                            // no current run, start one\n                            current = tile.defaultGeometry;\n                        }\n                        else {\n                            // combine with current run\n                            current = current.combine(tile.defaultGeometry);\n                        }\n                    }\n                }\n                else {\n                    // Not solid skip and cut off the current collider\n                    // End of run check and combine\n                    if (current && !checkAndCombine(current, colliders)) {\n                        colliders.push(current);\n                    }\n                    current = null;\n                }\n            }\n            // After a column is complete check to see if it can be merged into the last one\n            // Eno of run check and combine\n            if (current && !checkAndCombine(current, colliders)) {\n                // else new collider if no combination\n                colliders.push(current);\n            }\n            current = null;\n        }\n        for (const c of colliders) {\n            const collider = Shape.Box(c.width, c.height, Vector.Zero, vec(c.left - this.pos.x, c.top - this.pos.y));\n            collider.owner = this;\n            this._composite.addCollider(collider);\n        }\n        this.collider.update();\n        // Notify that colliders have been updated\n        this.collider.$colliderAdded.notifyAll(this._composite);\n    }\n    /**\n     * Returns the [[Tile]] by index (row major order)\n     */\n    getTileByIndex(index) {\n        return this.tiles[index];\n    }\n    /**\n     * Returns the [[Tile]] by its x and y integer coordinates\n     *\n     * For example, if I want the tile in fifth column (x), and second row (y):\n     * `getTile(4, 1)` 0 based, so 0 is the first in row/column\n     */\n    getTile(x, y) {\n        if (x < 0 || y < 0 || x >= this.columns || y >= this.rows) {\n            return null;\n        }\n        return this.tiles[x + y * this.columns];\n    }\n    /**\n     * Returns the [[Tile]] by testing a point in world coordinates,\n     * returns `null` if no Tile was found.\n     */\n    getTileByPoint(point) {\n        const { x, y } = this._getTileCoordinates(point);\n        const tile = this.getTile(x, y);\n        if (x >= 0 && y >= 0 && x < this.columns && y < this.rows && tile) {\n            return tile;\n        }\n        return null;\n    }\n    _getTileCoordinates(point) {\n        // Convert to Tile Space point\n        point = this.transform.applyInverse(point);\n        const x = Math.floor(point.x / this.tileWidth);\n        const y = Math.floor(point.y / this.tileHeight);\n        return { x, y };\n    }\n    getRows() {\n        return this._rows;\n    }\n    getColumns() {\n        return this._cols;\n    }\n    /**\n     * Returns the on screen tiles for a tilemap, this will overshoot by a small amount because of the internal quad tree data structure.\n     *\n     * Useful if you need to perform specific logic on onscreen tiles\n     */\n    getOnScreenTiles() {\n        let worldBounds = this._engine.screen.getWorldBounds();\n        const maybeParallax = this.get(ParallaxComponent);\n        if (maybeParallax && this.isInitialized) {\n            let pos = this.pos;\n            const oneMinusFactor = Vector.One.sub(maybeParallax.parallaxFactor);\n            const parallaxOffset = this._engine.currentScene.camera.pos.scale(oneMinusFactor);\n            pos = pos.sub(parallaxOffset);\n            // adjust world bounds by parallax factor\n            worldBounds = worldBounds.translate(pos);\n        }\n        const bounds = this.transform.coordPlane === CoordPlane.Screen ?\n            this._engine.screen.getScreenBounds() :\n            worldBounds;\n        const topLeft = this._getTileCoordinates(bounds.topLeft);\n        const topRight = this._getTileCoordinates(bounds.topRight);\n        const bottomRight = this._getTileCoordinates(bounds.bottomRight);\n        const bottomLeft = this._getTileCoordinates(bounds.bottomLeft);\n        const tileStartX = Math.min(clamp(topLeft.x, 0, this.columns - 1), clamp(topRight.x, 0, this.columns - 1));\n        const tileStartY = Math.min(clamp(topLeft.y, 0, this.rows - 1), clamp(topRight.y, 0, this.rows - 1));\n        const tileEndX = Math.max(clamp(bottomRight.x, 0, this.columns - 1), clamp(bottomLeft.x, 0, this.columns - 1));\n        const tileEndY = Math.max(clamp(bottomRight.y, 0, this.rows - 1), clamp(bottomLeft.y, 0, this.rows - 1));\n        const tiles = [];\n        for (let x = tileStartX; x <= tileEndX; x++) {\n            for (let y = tileStartY; y <= tileEndY; y++) {\n                tiles.push(this.getTile(x, y));\n            }\n        }\n        return tiles;\n    }\n    update(engine, delta) {\n        this._initialize(engine);\n        this.onPreUpdate(engine, delta);\n        this.emit('preupdate', new PreUpdateEvent(engine, delta, this));\n        if (!this._oldPos.equals(this.pos) ||\n            this._oldRotation !== this.rotation ||\n            !this._oldScale.equals(this.scale)) {\n            this.flagCollidersDirty();\n            this.flagTilesDirty();\n        }\n        if (this._collidersDirty) {\n            this._collidersDirty = false;\n            this._updateColliders();\n        }\n        this._token++;\n        this.pos.clone(this._oldPos);\n        this._oldRotation = this.rotation;\n        this.scale.clone(this._oldScale);\n        this.transform.pos = this.pos;\n        this.onPostUpdate(engine, delta);\n        this.emit('postupdate', new PostUpdateEvent(engine, delta, this));\n    }\n    /**\n     * Draws the tile map to the screen. Called by the [[Scene]].\n     * @param ctx ExcaliburGraphicsContext\n     * @param delta  The number of milliseconds since the last draw\n     */\n    draw(ctx, delta) {\n        if (!this.isInitialized) {\n            return;\n        }\n        this.emit('predraw', new PreDrawEvent(ctx, delta, this)); // TODO fix event\n        let graphics, graphicsIndex, graphicsLen;\n        const tiles = this.getOnScreenTiles();\n        for (let i = 0; i < tiles.length; i++) {\n            const tile = tiles[i];\n            // get non-negative tile sprites\n            const offsets = tile.getGraphicsOffsets();\n            graphics = tile.getGraphics();\n            for (graphicsIndex = 0, graphicsLen = graphics.length; graphicsIndex < graphicsLen; graphicsIndex++) {\n                // draw sprite, warning if sprite doesn't exist\n                const graphic = graphics[graphicsIndex];\n                const offset = offsets[graphicsIndex];\n                if (graphic) {\n                    if (hasGraphicsTick(graphic)) {\n                        graphic === null || graphic === void 0 ? void 0 : graphic.tick(delta, this._token);\n                    }\n                    const offsetY = this.renderFromTopOfGraphic ? 0 : (graphic.height - this.tileHeight);\n                    graphic.draw(ctx, tile.x * this.tileWidth + offset.x, tile.y * this.tileHeight - offsetY + offset.y);\n                }\n            }\n        }\n        this.emit('postdraw', new PostDrawEvent(ctx, delta, this));\n    }\n    debug(gfx, debugFlags) {\n        const { showAll, showGrid, gridColor, gridWidth, showSolidBounds: showColliderBounds, solidBoundsColor: colliderBoundsColor, showColliderGeometry } = debugFlags.tilemap;\n        const { geometryColor, geometryLineWidth, geometryPointSize } = debugFlags.collider;\n        const width = this.tileWidth * this.columns * this.scale.x;\n        const height = this.tileHeight * this.rows * this.scale.y;\n        const pos = this.pos;\n        if (showGrid || showAll) {\n            for (let r = 0; r < this.rows + 1; r++) {\n                const yOffset = vec(0, r * this.tileHeight * this.scale.y);\n                gfx.drawLine(pos.add(yOffset), pos.add(vec(width, yOffset.y)), gridColor, gridWidth);\n            }\n            for (let c = 0; c < this.columns + 1; c++) {\n                const xOffset = vec(c * this.tileWidth * this.scale.x, 0);\n                gfx.drawLine(pos.add(xOffset), pos.add(vec(xOffset.x, height)), gridColor, gridWidth);\n            }\n        }\n        if (showAll || showColliderBounds || showColliderGeometry) {\n            const colliders = this._composite.getColliders();\n            gfx.save();\n            gfx.translate(this.pos.x, this.pos.y);\n            gfx.scale(this.scale.x, this.scale.y);\n            for (const collider of colliders) {\n                const bounds = collider.localBounds;\n                const pos = collider.worldPos.sub(this.pos);\n                if (showColliderBounds) {\n                    gfx.drawRectangle(pos, bounds.width, bounds.height, colliderBoundsColor);\n                }\n            }\n            gfx.restore();\n            if (showColliderGeometry) {\n                for (const collider of colliders) {\n                    collider.debug(gfx, geometryColor, { lineWidth: geometryLineWidth, pointSize: geometryPointSize });\n                }\n            }\n        }\n        if (showAll || showColliderBounds) {\n            gfx.save();\n            gfx.z = 999;\n            if (showColliderBounds) {\n                for (let i = 0; i < this.tiles.length; i++) {\n                    this.tiles[i].bounds.draw(gfx);\n                }\n            }\n            gfx.restore();\n        }\n    }\n}\n/**\n * TileMap Tile\n *\n * A light-weight object that occupies a space in a collision map. Generally\n * created by a [[TileMap]].\n *\n * Tiles can draw multiple sprites. Note that the order of drawing is the order\n * of the sprites in the array so the last one will be drawn on top. You can\n * use transparency to create layers this way.\n */\nclass Tile extends Entity {\n    /**\n     * Return the world position of the top left corner of the tile\n     */\n    get pos() {\n        if (this._posDirty) {\n            this._recalculate();\n            this._posDirty = false;\n        }\n        return this._pos;\n    }\n    /**\n     * Width of the tile in pixels\n     */\n    get width() {\n        return this._width;\n    }\n    /**\n     * Height of the tile in pixels\n     */\n    get height() {\n        return this._height;\n    }\n    /**\n     * Wether this tile should be treated as solid by the tilemap\n     */\n    get solid() {\n        return this._solid;\n    }\n    /**\n     * Wether this tile should be treated as solid by the tilemap\n     */\n    set solid(val) {\n        var _a;\n        (_a = this.map) === null || _a === void 0 ? void 0 : _a.flagCollidersDirty();\n        this._solid = val;\n    }\n    /**\n     * Current list of graphics for this tile\n     */\n    getGraphics() {\n        return this._graphics;\n    }\n    /**\n     * Current list of offsets for this tile's graphics\n     */\n    getGraphicsOffsets() {\n        return this._offsets;\n    }\n    /**\n     * Add another [[Graphic]] to this TileMap tile\n     * @param graphic\n     */\n    addGraphic(graphic, options) {\n        this._graphics.push(graphic);\n        if (options === null || options === void 0 ? void 0 : options.offset) {\n            this._offsets.push(options.offset);\n        }\n        else {\n            this._offsets.push(Vector.Zero);\n        }\n    }\n    /**\n     * Remove an instance of a [[Graphic]] from this tile\n     */\n    removeGraphic(graphic) {\n        const index = this._graphics.indexOf(graphic);\n        if (index > -1) {\n            this._graphics.splice(index, 1);\n            this._offsets.splice(index, 1);\n        }\n    }\n    /**\n     * Clear all graphics from this tile\n     */\n    clearGraphics() {\n        this._graphics.length = 0;\n        this._offsets.length = 0;\n    }\n    /**\n     * Returns the list of colliders\n     */\n    getColliders() {\n        return this._colliders;\n    }\n    /**\n     * Adds a custom collider to the [[Tile]] to use instead of it's bounds\n     *\n     * If no collider is set but [[Tile.solid]] is set, the tile bounds are used as a collider.\n     *\n     * **Note!** the [[Tile.solid]] must be set to true for it to act as a \"fixed\" collider\n     * @param collider\n     */\n    addCollider(collider) {\n        this._colliders.push(collider);\n        this.map.flagCollidersDirty();\n    }\n    /**\n     * Removes a collider from the [[Tile]]\n     * @param collider\n     */\n    removeCollider(collider) {\n        const index = this._colliders.indexOf(collider);\n        if (index > -1) {\n            this._colliders.splice(index, 1);\n        }\n        this.map.flagCollidersDirty();\n    }\n    /**\n     * Clears all colliders from the [[Tile]]\n     */\n    clearColliders() {\n        this._colliders.length = 0;\n        this.map.flagCollidersDirty();\n    }\n    constructor(options) {\n        var _a, _b;\n        super();\n        this._posDirty = false;\n        this._solid = false;\n        this._graphics = [];\n        this._offsets = [];\n        /**\n         * Current list of colliders for this tile\n         */\n        this._colliders = [];\n        /**\n         * Arbitrary data storage per tile, useful for any game specific data\n         */\n        this.data = new Map();\n        this.x = options.x;\n        this.y = options.y;\n        this.map = options.map;\n        this._width = options.map.tileWidth * this.map.scale.x;\n        this._height = options.map.tileHeight * this.map.scale.y;\n        this.solid = (_a = options.solid) !== null && _a !== void 0 ? _a : this.solid;\n        this._graphics = (_b = options.graphics) !== null && _b !== void 0 ? _b : [];\n        this._recalculate();\n    }\n    flagDirty() {\n        return this._posDirty = true;\n    }\n    _recalculate() {\n        const geometryPos = this.map.pos.add(vec(this.x * this.map.tileWidth, this.y * this.map.tileHeight));\n        this._geometry = new BoundingBox(geometryPos.x, geometryPos.y, geometryPos.x + this.map.tileWidth, geometryPos.y + this.map.tileHeight);\n        this._width = this.map.tileWidth * this.map.scale.x;\n        this._height = this.map.tileHeight * this.map.scale.y;\n        this._pos = this.map.pos.add(vec(this.x * this._width, this.y * this._height));\n        this._bounds = new BoundingBox(this._pos.x, this._pos.y, this._pos.x + this._width, this._pos.y + this._height);\n        if (this.map.rotation) {\n            this._bounds = this._bounds.rotate(this.map.rotation, this.map.pos);\n        }\n        this._posDirty = false;\n    }\n    /**\n     * Tile bounds in world space\n     */\n    get bounds() {\n        if (this._posDirty) {\n            this._recalculate();\n        }\n        return this._bounds;\n    }\n    get defaultGeometry() {\n        return this._geometry;\n    }\n    /**\n     * Tile position in world space\n     */\n    get center() {\n        if (this._posDirty) {\n            this._recalculate();\n        }\n        return new Vector(this._pos.x + this._width / 2, this._pos.y + this._height / 2);\n    }\n}\n\n;// CONCATENATED MODULE: ./Camera.ts\n\n\n\n\n\n\n\n\n\n\n\n/**\n * Container to house convenience strategy methods\n * @internal\n */\nclass StrategyContainer {\n    constructor(camera) {\n        this.camera = camera;\n    }\n    /**\n     * Creates and adds the [[LockCameraToActorStrategy]] on the current camera.\n     * @param actor The actor to lock the camera to\n     */\n    lockToActor(actor) {\n        this.camera.addStrategy(new LockCameraToActorStrategy(actor));\n    }\n    /**\n     * Creates and adds the [[LockCameraToActorAxisStrategy]] on the current camera\n     * @param actor The actor to lock the camera to\n     * @param axis The axis to follow the actor on\n     */\n    lockToActorAxis(actor, axis) {\n        this.camera.addStrategy(new LockCameraToActorAxisStrategy(actor, axis));\n    }\n    /**\n     * Creates and adds the [[ElasticToActorStrategy]] on the current camera\n     * If cameraElasticity < cameraFriction < 1.0, the behavior will be a dampened spring that will slowly end at the target without bouncing\n     * If cameraFriction < cameraElasticity < 1.0, the behavior will be an oscillating spring that will over\n     * correct and bounce around the target\n     * @param actor Target actor to elastically follow\n     * @param cameraElasticity [0 - 1.0] The higher the elasticity the more force that will drive the camera towards the target\n     * @param cameraFriction [0 - 1.0] The higher the friction the more that the camera will resist motion towards the target\n     */\n    elasticToActor(actor, cameraElasticity, cameraFriction) {\n        this.camera.addStrategy(new ElasticToActorStrategy(actor, cameraElasticity, cameraFriction));\n    }\n    /**\n     * Creates and adds the [[RadiusAroundActorStrategy]] on the current camera\n     * @param actor Target actor to follow when it is \"radius\" pixels away\n     * @param radius Number of pixels away before the camera will follow\n     */\n    radiusAroundActor(actor, radius) {\n        this.camera.addStrategy(new RadiusAroundActorStrategy(actor, radius));\n    }\n    /**\n     * Creates and adds the [[LimitCameraBoundsStrategy]] on the current camera\n     * @param box The bounding box to limit the camera to.\n     */\n    limitCameraBounds(box) {\n        this.camera.addStrategy(new LimitCameraBoundsStrategy(box));\n    }\n}\n/**\n * Camera axis enum\n */\nvar Axis;\n(function (Axis) {\n    Axis[Axis[\"X\"] = 0] = \"X\";\n    Axis[Axis[\"Y\"] = 1] = \"Y\";\n})(Axis || (Axis = {}));\n/**\n * Lock a camera to the exact x/y position of an actor.\n */\nclass LockCameraToActorStrategy {\n    constructor(target) {\n        this.target = target;\n        this.action = (target, camera, engine, delta) => {\n            const center = target.center;\n            return center;\n        };\n    }\n}\n/**\n * Lock a camera to a specific axis around an actor.\n */\nclass LockCameraToActorAxisStrategy {\n    constructor(target, axis) {\n        this.target = target;\n        this.axis = axis;\n        this.action = (target, cam, _eng, _delta) => {\n            const center = target.center;\n            const currentFocus = cam.getFocus();\n            if (this.axis === Axis.X) {\n                return new Vector(center.x, currentFocus.y);\n            }\n            else {\n                return new Vector(currentFocus.x, center.y);\n            }\n        };\n    }\n}\n/**\n * Using [Hook's law](https://en.wikipedia.org/wiki/Hooke's_law), elastically move the camera towards the target actor.\n */\nclass ElasticToActorStrategy {\n    /**\n     * If cameraElasticity < cameraFriction < 1.0, the behavior will be a dampened spring that will slowly end at the target without bouncing\n     * If cameraFriction < cameraElasticity < 1.0, the behavior will be an oscillating spring that will over\n     * correct and bounce around the target\n     * @param target Target actor to elastically follow\n     * @param cameraElasticity [0 - 1.0] The higher the elasticity the more force that will drive the camera towards the target\n     * @param cameraFriction [0 - 1.0] The higher the friction the more that the camera will resist motion towards the target\n     */\n    constructor(target, cameraElasticity, cameraFriction) {\n        this.target = target;\n        this.cameraElasticity = cameraElasticity;\n        this.cameraFriction = cameraFriction;\n        this.action = (target, cam, _eng, _delta) => {\n            const position = target.center;\n            let focus = cam.getFocus();\n            let cameraVel = cam.vel.clone();\n            // Calculate the stretch vector, using the spring equation\n            // F = kX\n            // https://en.wikipedia.org/wiki/Hooke's_law\n            // Apply to the current camera velocity\n            const stretch = position.sub(focus).scale(this.cameraElasticity); // stretch is X\n            cameraVel = cameraVel.add(stretch);\n            // Calculate the friction (-1 to apply a force in the opposition of motion)\n            // Apply to the current camera velocity\n            const friction = cameraVel.scale(-1).scale(this.cameraFriction);\n            cameraVel = cameraVel.add(friction);\n            // Update position by velocity deltas\n            focus = focus.add(cameraVel);\n            return focus;\n        };\n    }\n}\nclass RadiusAroundActorStrategy {\n    /**\n     *\n     * @param target Target actor to follow when it is \"radius\" pixels away\n     * @param radius Number of pixels away before the camera will follow\n     */\n    constructor(target, radius) {\n        this.target = target;\n        this.radius = radius;\n        this.action = (target, cam, _eng, _delta) => {\n            const position = target.center;\n            const focus = cam.getFocus();\n            const direction = position.sub(focus);\n            const distance = direction.size;\n            if (distance >= this.radius) {\n                const offset = distance - this.radius;\n                return focus.add(direction.normalize().scale(offset));\n            }\n            return focus;\n        };\n    }\n}\n/**\n * Prevent a camera from going beyond the given camera dimensions.\n */\nclass LimitCameraBoundsStrategy {\n    constructor(target) {\n        this.target = target;\n        /**\n         * Useful for limiting the camera to a [[TileMap]]'s dimensions, or a specific area inside the map.\n         *\n         * Note that this strategy does not perform any movement by itself.\n         * It only sets the camera position to within the given bounds when the camera has gone beyond them.\n         * Thus, it is a good idea to combine it with other camera strategies and set this strategy as the last one.\n         *\n         * Make sure that the camera bounds are at least as large as the viewport size.\n         * @param target The bounding box to limit the camera to\n         */\n        this.boundSizeChecked = false; // Check and warn only once\n        this.action = (target, cam, _eng, _delta) => {\n            const focus = cam.getFocus();\n            if (!this.boundSizeChecked) {\n                if (target.bottom - target.top < _eng.drawHeight || target.right - target.left < _eng.drawWidth) {\n                    Logger.getInstance().warn('Camera bounds should not be smaller than the engine viewport');\n                }\n                this.boundSizeChecked = true;\n            }\n            let focusX = focus.x;\n            let focusY = focus.y;\n            if (focus.x < target.left + _eng.halfDrawWidth) {\n                focusX = target.left + _eng.halfDrawWidth;\n            }\n            else if (focus.x > target.right - _eng.halfDrawWidth) {\n                focusX = target.right - _eng.halfDrawWidth;\n            }\n            if (focus.y < target.top + _eng.halfDrawHeight) {\n                focusY = target.top + _eng.halfDrawHeight;\n            }\n            else if (focus.y > target.bottom - _eng.halfDrawHeight) {\n                focusY = target.bottom - _eng.halfDrawHeight;\n            }\n            return vec(focusX, focusY);\n        };\n    }\n}\nconst CameraEvents = {\n    Initialize: 'initialize',\n    PreUpdate: 'preupdate',\n    PostUpdate: 'postupdate'\n};\n/**\n * Cameras\n *\n * [[Camera]] is the base class for all Excalibur cameras. Cameras are used\n * to move around your game and set focus. They are used to determine\n * what is \"off screen\" and can be used to scale the game.\n *\n */\nclass Camera {\n    constructor() {\n        this.events = new EventEmitter();\n        this.transform = AffineMatrix.identity();\n        this.inverse = AffineMatrix.identity();\n        this._cameraStrategies = [];\n        this.strategy = new StrategyContainer(this);\n        /**\n         * Get or set current zoom of the camera, defaults to 1\n         */\n        this._z = 1;\n        /**\n         * Get or set rate of change in zoom, defaults to 0\n         */\n        this.dz = 0;\n        /**\n         * Get or set zoom acceleration\n         */\n        this.az = 0;\n        /**\n         * Current rotation of the camera\n         */\n        this.rotation = 0;\n        this._angularVelocity = 0;\n        /**\n         * Get or set the camera's position\n         */\n        this._posChanged = false;\n        this._pos = watchAny(Vector.Zero, () => (this._posChanged = true));\n        /**\n         * Interpolated camera position if more draws are running than updates\n         *\n         * Enabled when `Engine.fixedUpdateFps` is enabled, in all other cases this will be the same as pos\n         */\n        this.drawPos = this.pos.clone();\n        this._oldPos = this.pos.clone();\n        /**\n         * Get or set the camera's velocity\n         */\n        this.vel = Vector.Zero;\n        /**\n         * Get or set the camera's acceleration\n         */\n        this.acc = Vector.Zero;\n        this._cameraMoving = false;\n        this._currentLerpTime = 0;\n        this._lerpDuration = 1000; // 1 second\n        this._lerpStart = null;\n        this._lerpEnd = null;\n        //camera effects\n        this._isShaking = false;\n        this._shakeMagnitudeX = 0;\n        this._shakeMagnitudeY = 0;\n        this._shakeDuration = 0;\n        this._elapsedShakeTime = 0;\n        this._xShake = 0;\n        this._yShake = 0;\n        this._isZooming = false;\n        this._zoomStart = 1;\n        this._zoomEnd = 1;\n        this._currentZoomTime = 0;\n        this._zoomDuration = 0;\n        this._zoomEasing = EasingFunctions.EaseInOutCubic;\n        this._easing = EasingFunctions.EaseInOutCubic;\n        this._halfWidth = 0;\n        this._halfHeight = 0;\n        this._viewport = null;\n        this._isInitialized = false;\n        this._snapPos = vec(0, 0);\n    }\n    get zoom() {\n        return this._z;\n    }\n    set zoom(val) {\n        this._z = val;\n        if (this._engine) {\n            this._halfWidth = this._engine.halfDrawWidth;\n            this._halfHeight = this._engine.halfDrawHeight;\n        }\n    }\n    /**\n     * Get or set the camera's angular velocity\n     */\n    get angularVelocity() {\n        return this._angularVelocity;\n    }\n    set angularVelocity(value) {\n        this._angularVelocity = value;\n    }\n    get pos() {\n        return this._pos;\n    }\n    set pos(vec) {\n        this._pos = watchAny(vec, () => (this._posChanged = true));\n        this._posChanged = true;\n    }\n    /**\n     * Get the camera's x position\n     */\n    get x() {\n        return this.pos.x;\n    }\n    /**\n     * Set the camera's x position (cannot be set when following an [[Actor]] or when moving)\n     */\n    set x(value) {\n        if (!this._follow && !this._cameraMoving) {\n            this.pos = vec(value, this.pos.y);\n        }\n    }\n    /**\n     * Get the camera's y position\n     */\n    get y() {\n        return this.pos.y;\n    }\n    /**\n     * Set the camera's y position (cannot be set when following an [[Actor]] or when moving)\n     */\n    set y(value) {\n        if (!this._follow && !this._cameraMoving) {\n            this.pos = vec(this.pos.x, value);\n        }\n    }\n    /**\n     * Get or set the camera's x velocity\n     */\n    get dx() {\n        return this.vel.x;\n    }\n    set dx(value) {\n        this.vel = vec(value, this.vel.y);\n    }\n    /**\n     * Get or set the camera's y velocity\n     */\n    get dy() {\n        return this.vel.y;\n    }\n    set dy(value) {\n        this.vel = vec(this.vel.x, value);\n    }\n    /**\n     * Get or set the camera's x acceleration\n     */\n    get ax() {\n        return this.acc.x;\n    }\n    set ax(value) {\n        this.acc = vec(value, this.acc.y);\n    }\n    /**\n     * Get or set the camera's y acceleration\n     */\n    get ay() {\n        return this.acc.y;\n    }\n    set ay(value) {\n        this.acc = vec(this.acc.x, value);\n    }\n    /**\n     * Returns the focal point of the camera, a new point giving the x and y position of the camera\n     */\n    getFocus() {\n        return this.pos;\n    }\n    /**\n     * This moves the camera focal point to the specified position using specified easing function. Cannot move when following an Actor.\n     * @param pos The target position to move to\n     * @param duration The duration in milliseconds the move should last\n     * @param [easingFn] An optional easing function ([[ex.EasingFunctions.EaseInOutCubic]] by default)\n     * @returns A [[Promise]] that resolves when movement is finished, including if it's interrupted.\n     *          The [[Promise]] value is the [[Vector]] of the target position. It will be rejected if a move cannot be made.\n     */\n    move(pos, duration, easingFn = EasingFunctions.EaseInOutCubic) {\n        if (typeof easingFn !== 'function') {\n            throw 'Please specify an EasingFunction';\n        }\n        // cannot move when following an actor\n        if (this._follow) {\n            return Promise.reject(pos);\n        }\n        // resolve existing promise, if any\n        if (this._lerpPromise && this._lerpResolve) {\n            this._lerpResolve(pos);\n        }\n        this._lerpPromise = new Promise((resolve) => {\n            this._lerpResolve = resolve;\n        });\n        this._lerpStart = this.getFocus().clone();\n        this._lerpDuration = duration;\n        this._lerpEnd = pos;\n        this._currentLerpTime = 0;\n        this._cameraMoving = true;\n        this._easing = easingFn;\n        return this._lerpPromise;\n    }\n    /**\n     * Sets the camera to shake at the specified magnitudes for the specified duration\n     * @param magnitudeX  The x magnitude of the shake\n     * @param magnitudeY  The y magnitude of the shake\n     * @param duration    The duration of the shake in milliseconds\n     */\n    shake(magnitudeX, magnitudeY, duration) {\n        this._isShaking = true;\n        this._shakeMagnitudeX = magnitudeX;\n        this._shakeMagnitudeY = magnitudeY;\n        this._shakeDuration = duration;\n    }\n    /**\n     * Zooms the camera in or out by the specified scale over the specified duration.\n     * If no duration is specified, it take effect immediately.\n     * @param scale    The scale of the zoom\n     * @param duration The duration of the zoom in milliseconds\n     */\n    zoomOverTime(scale, duration = 0, easingFn = EasingFunctions.EaseInOutCubic) {\n        this._zoomPromise = new Promise((resolve) => {\n            this._zoomResolve = resolve;\n        });\n        if (duration) {\n            this._isZooming = true;\n            this._zoomEasing = easingFn;\n            this._currentZoomTime = 0;\n            this._zoomDuration = duration;\n            this._zoomStart = this.zoom;\n            this._zoomEnd = scale;\n        }\n        else {\n            this._isZooming = false;\n            this.zoom = scale;\n            return Promise.resolve(true);\n        }\n        return this._zoomPromise;\n    }\n    /**\n     * Gets the bounding box of the viewport of this camera in world coordinates\n     */\n    get viewport() {\n        if (this._viewport) {\n            return this._viewport;\n        }\n        return new BoundingBox(0, 0, 0, 0);\n    }\n    /**\n     * Adds a new camera strategy to this camera\n     * @param cameraStrategy Instance of an [[CameraStrategy]]\n     */\n    addStrategy(cameraStrategy) {\n        this._cameraStrategies.push(cameraStrategy);\n    }\n    /**\n     * Removes a camera strategy by reference\n     * @param cameraStrategy Instance of an [[CameraStrategy]]\n     */\n    removeStrategy(cameraStrategy) {\n        removeItemFromArray(cameraStrategy, this._cameraStrategies);\n    }\n    /**\n     * Clears all camera strategies from the camera\n     */\n    clearAllStrategies() {\n        this._cameraStrategies.length = 0;\n    }\n    /**\n     * It is not recommended that internal excalibur methods be overridden, do so at your own risk.\n     *\n     * Internal _preupdate handler for [[onPreUpdate]] lifecycle event\n     * @internal\n     */\n    _preupdate(engine, delta) {\n        this.events.emit('preupdate', new PreUpdateEvent(engine, delta, this));\n        this.onPreUpdate(engine, delta);\n    }\n    /**\n     * Safe to override onPreUpdate lifecycle event handler. Synonymous with `.on('preupdate', (evt) =>{...})`\n     *\n     * `onPreUpdate` is called directly before a scene is updated.\n     */\n    onPreUpdate(engine, delta) {\n        // Overridable\n    }\n    /**\n     *  It is not recommended that internal excalibur methods be overridden, do so at your own risk.\n     *\n     * Internal _preupdate handler for [[onPostUpdate]] lifecycle event\n     * @internal\n     */\n    _postupdate(engine, delta) {\n        this.events.emit('postupdate', new PostUpdateEvent(engine, delta, this));\n        this.onPostUpdate(engine, delta);\n    }\n    /**\n     * Safe to override onPostUpdate lifecycle event handler. Synonymous with `.on('preupdate', (evt) =>{...})`\n     *\n     * `onPostUpdate` is called directly after a scene is updated.\n     */\n    onPostUpdate(engine, delta) {\n        // Overridable\n    }\n    get isInitialized() {\n        return this._isInitialized;\n    }\n    _initialize(engine) {\n        if (!this.isInitialized) {\n            this._engine = engine;\n            this._screen = engine.screen;\n            const currentRes = this._screen.contentArea;\n            let center = vec(currentRes.width / 2, currentRes.height / 2);\n            if (!this._engine.loadingComplete) {\n                // If there was a loading screen, we peek the configured resolution\n                const res = this._screen.peekResolution();\n                if (res) {\n                    center = vec(res.width / 2, res.height / 2);\n                }\n            }\n            this._halfWidth = center.x;\n            this._halfHeight = center.y;\n            // If the user has not set the camera pos, apply default center screen position\n            if (!this._posChanged) {\n                this.pos = center;\n            }\n            this.pos.clone(this.drawPos);\n            // First frame bootstrap\n            // Ensure camera tx is correct\n            // Run update twice to ensure properties are init'd\n            this.updateTransform(this.pos);\n            // Run strategies for first frame\n            this.runStrategies(engine, engine.clock.elapsed());\n            // Setup the first frame viewport\n            this.updateViewport();\n            // It's important to update the camera after strategies\n            // This prevents jitter\n            this.updateTransform(this.pos);\n            this.pos.clone(this._oldPos);\n            this.onInitialize(engine);\n            this.events.emit('initialize', new InitializeEvent(engine, this));\n            this._isInitialized = true;\n        }\n    }\n    /**\n     * Safe to override onPostUpdate lifecycle event handler. Synonymous with `.on('preupdate', (evt) =>{...})`\n     *\n     * `onPostUpdate` is called directly after a scene is updated.\n     */\n    onInitialize(engine) {\n        // Overridable\n    }\n    emit(eventName, event) {\n        this.events.emit(eventName, event);\n    }\n    on(eventName, handler) {\n        return this.events.on(eventName, handler);\n    }\n    once(eventName, handler) {\n        return this.events.once(eventName, handler);\n    }\n    off(eventName, handler) {\n        this.events.off(eventName, handler);\n    }\n    runStrategies(engine, delta) {\n        for (const s of this._cameraStrategies) {\n            this.pos = s.action.call(s, s.target, this, engine, delta);\n        }\n    }\n    updateViewport() {\n        // recalculate viewport\n        this._viewport = new BoundingBox(this.x - this._halfWidth, this.y - this._halfHeight, this.x + this._halfWidth, this.y + this._halfHeight);\n    }\n    update(engine, delta) {\n        this._initialize(engine);\n        this._preupdate(engine, delta);\n        this.pos.clone(this._oldPos);\n        // Update placements based on linear algebra\n        this.pos = this.pos.add(this.vel.scale(delta / 1000));\n        this.zoom += (this.dz * delta) / 1000;\n        this.vel = this.vel.add(this.acc.scale(delta / 1000));\n        this.dz += (this.az * delta) / 1000;\n        this.rotation += (this.angularVelocity * delta) / 1000;\n        if (this._isZooming) {\n            if (this._currentZoomTime < this._zoomDuration) {\n                const zoomEasing = this._zoomEasing;\n                const newZoom = zoomEasing(this._currentZoomTime, this._zoomStart, this._zoomEnd, this._zoomDuration);\n                this.zoom = newZoom;\n                this._currentZoomTime += delta;\n            }\n            else {\n                this._isZooming = false;\n                this.zoom = this._zoomEnd;\n                this._currentZoomTime = 0;\n                this._zoomResolve(true);\n            }\n        }\n        if (this._cameraMoving) {\n            if (this._currentLerpTime < this._lerpDuration) {\n                const moveEasing = EasingFunctions.CreateVectorEasingFunction(this._easing);\n                const lerpPoint = moveEasing(this._currentLerpTime, this._lerpStart, this._lerpEnd, this._lerpDuration);\n                this.pos = lerpPoint;\n                this._currentLerpTime += delta;\n            }\n            else {\n                this.pos = this._lerpEnd;\n                const end = this._lerpEnd.clone();\n                this._lerpStart = null;\n                this._lerpEnd = null;\n                this._currentLerpTime = 0;\n                this._cameraMoving = false;\n                // Order matters here, resolve should be last so any chain promises have a clean slate\n                this._lerpResolve(end);\n            }\n        }\n        if (this._isDoneShaking()) {\n            this._isShaking = false;\n            this._elapsedShakeTime = 0;\n            this._shakeMagnitudeX = 0;\n            this._shakeMagnitudeY = 0;\n            this._shakeDuration = 0;\n            this._xShake = 0;\n            this._yShake = 0;\n        }\n        else {\n            this._elapsedShakeTime += delta;\n            this._xShake = ((Math.random() * this._shakeMagnitudeX) | 0) + 1;\n            this._yShake = ((Math.random() * this._shakeMagnitudeY) | 0) + 1;\n        }\n        this.runStrategies(engine, delta);\n        this.updateViewport();\n        // It's important to update the camera after strategies\n        // This prevents jitter\n        this.updateTransform(this.pos);\n        this._postupdate(engine, delta);\n    }\n    /**\n     * Applies the relevant transformations to the game canvas to \"move\" or apply effects to the Camera\n     * @param ctx Canvas context to apply transformations\n     */\n    draw(ctx) {\n        // default to the current position\n        this.pos.clone(this.drawPos);\n        // interpolation if fixed update is on\n        // must happen on the draw, because more draws are potentially happening than updates\n        if (this._engine.fixedUpdateFps) {\n            const blend = this._engine.currentFrameLagMs / (1000 / this._engine.fixedUpdateFps);\n            const interpolatedPos = this.pos.scale(blend).add(this._oldPos.scale(1.0 - blend));\n            interpolatedPos.clone(this.drawPos);\n            this.updateTransform(interpolatedPos);\n        }\n        // Snap camera to pixel\n        if (ctx.snapToPixel) {\n            const snapPos = this.drawPos.clone(this._snapPos);\n            snapPos.x = ~~(snapPos.x + pixelSnapEpsilon * sign(snapPos.x));\n            snapPos.y = ~~(snapPos.y + pixelSnapEpsilon * sign(snapPos.y));\n            snapPos.clone(this.drawPos);\n            this.updateTransform(snapPos);\n        }\n        ctx.multiply(this.transform);\n    }\n    updateTransform(pos) {\n        // center the camera\n        const newCanvasWidth = this._screen.resolution.width / this.zoom;\n        const newCanvasHeight = this._screen.resolution.height / this.zoom;\n        const cameraPos = vec(-pos.x + newCanvasWidth / 2 + this._xShake, -pos.y + newCanvasHeight / 2 + this._yShake);\n        // Calculate camera transform\n        this.transform.reset();\n        this.transform.scale(this.zoom, this.zoom);\n        // rotate about the focus\n        this.transform.translate(newCanvasWidth / 2, newCanvasHeight / 2);\n        this.transform.rotate(this.rotation);\n        this.transform.translate(-newCanvasWidth / 2, -newCanvasHeight / 2);\n        this.transform.translate(cameraPos.x, cameraPos.y);\n        this.transform.inverse(this.inverse);\n    }\n    _isDoneShaking() {\n        return !this._isShaking || this._elapsedShakeTime >= this._shakeDuration;\n    }\n}\n\n;// CONCATENATED MODULE: ./Trigger.ts\n\n\n\n\n\nconst TriggerEvents = {\n    ExitTrigger: 'exit',\n    EnterTrigger: 'enter'\n};\nconst triggerDefaults = {\n    pos: Vector.Zero,\n    width: 10,\n    height: 10,\n    visible: false,\n    action: () => {\n        return;\n    },\n    filter: () => true,\n    repeat: -1\n};\n/**\n * Triggers are a method of firing arbitrary code on collision. These are useful\n * as 'buttons', 'switches', or to trigger effects in a game. By default triggers\n * are invisible, and can only be seen when [[Trigger.visible]] is set to `true`.\n */\nclass Trigger extends Actor {\n    /**\n     *\n     * @param opts Trigger options\n     */\n    constructor(opts) {\n        super({ x: opts.pos.x, y: opts.pos.y, width: opts.width, height: opts.height });\n        this.events = new EventEmitter();\n        /**\n         * Action to fire when triggered by collision\n         */\n        this.action = () => {\n            return;\n        };\n        /**\n         * Filter to add additional granularity to action dispatch, if a filter is specified the action will only fire when\n         * filter return true for the collided actor.\n         */\n        this.filter = () => true;\n        /**\n         * Number of times to repeat before killing the trigger,\n         */\n        this.repeat = -1;\n        opts = {\n            ...triggerDefaults,\n            ...opts\n        };\n        this.filter = opts.filter || this.filter;\n        this.repeat = opts.repeat || this.repeat;\n        this.action = opts.action || this.action;\n        if (opts.target) {\n            this.target = opts.target;\n        }\n        this.graphics.visible = opts.visible;\n        this.body.collisionType = CollisionType.Passive;\n        this.events.on('collisionstart', (evt) => {\n            if (this.filter(evt.other)) {\n                this.events.emit('enter', new EnterTriggerEvent(this, evt.other));\n                this._dispatchAction();\n                // remove trigger if its done, -1 repeat forever\n                if (this.repeat === 0) {\n                    this.kill();\n                }\n            }\n        });\n        this.events.on('collisionend', (evt) => {\n            if (this.filter(evt.other)) {\n                this.events.emit('exit', new ExitTriggerEvent(this, evt.other));\n            }\n        });\n    }\n    set target(target) {\n        this._target = target;\n        this.filter = (actor) => actor === target;\n    }\n    get target() {\n        return this._target;\n    }\n    _initialize(engine) {\n        super._initialize(engine);\n    }\n    _dispatchAction() {\n        if (this.repeat !== 0) {\n            this.action.call(this);\n            this.repeat--;\n        }\n    }\n}\n\n;// CONCATENATED MODULE: ./EntityComponentSystem/Priority.ts\n/**\n * Higher priorities run earlier than others in the system update\n */\nconst SystemPriority = {\n    Highest: -Infinity,\n    Higher: -5,\n    Average: 0,\n    Lower: 5,\n    Lowest: Infinity\n};\n\n;// CONCATENATED MODULE: ./EntityComponentSystem/System.ts\n\n/**\n * Enum that determines whether to run the system in the update or draw phase\n */\nvar SystemType;\n(function (SystemType) {\n    SystemType[\"Update\"] = \"update\";\n    SystemType[\"Draw\"] = \"draw\";\n})(SystemType || (SystemType = {}));\n/**\n * An Excalibur [[System]] that updates entities of certain types.\n * Systems are scene specific\n *\n *\n *\n * Excalibur Systems currently require at least 1 Component type to operated\n *\n * Multiple types are declared as a type union\n * For example:\n *\n * ```typescript\n * class MySystem extends System<ComponentA | ComponentB> {\n *   public readonly types = ['a', 'b'] as const;\n *   public readonly systemType = SystemType.Update;\n *   public update(entities: Entity<ComponentA | ComponentB>) {\n *      ...\n *   }\n * }\n * ```\n */\nclass System {\n    constructor() {\n        /**\n         * System can execute in priority order, by default all systems are priority 0. Lower values indicated higher priority.\n         * For a system to execute before all other a lower priority value (-1 for example) must be set.\n         * For a system to execute after all other a higher priority value (10 for example) must be set.\n         */\n        this.priority = SystemPriority.Average;\n    }\n}\n\n;// CONCATENATED MODULE: ./EntityComponentSystem/EntityManager.ts\n\n\n// Add/Remove entities and components\nclass EntityManager {\n    constructor(_world) {\n        this._world = _world;\n        this.entities = [];\n        this._entityIndex = {};\n        this._entitiesToRemove = [];\n    }\n    /**\n     * Runs the entity lifecycle\n     * @param scene\n     * @param elapsed\n     */\n    updateEntities(scene, elapsed) {\n        for (const entity of this.entities) {\n            entity.update(scene.engine, elapsed);\n            if (!entity.active) {\n                this.removeEntity(entity);\n            }\n        }\n    }\n    findEntitiesForRemoval() {\n        for (const entity of this.entities) {\n            if (!entity.active) {\n                this.removeEntity(entity);\n            }\n        }\n    }\n    /**\n     * Adds an entity to be tracked by the EntityManager\n     * @param entity\n     */\n    addEntity(entity) {\n        entity.active = true;\n        entity.scene = this._world.scene;\n        if (entity && !this._entityIndex[entity.id]) {\n            this._entityIndex[entity.id] = entity;\n            this.entities.push(entity);\n            this._world.queryManager.addEntity(entity);\n            // if entity has children\n            entity.children.forEach((c) => {\n                c.scene = entity.scene;\n                this.addEntity(c);\n            });\n            entity.childrenAdded$.register({\n                notify: (e) => {\n                    this.addEntity(e);\n                }\n            });\n            entity.childrenRemoved$.register({\n                notify: (e) => {\n                    this.removeEntity(e, false);\n                }\n            });\n        }\n    }\n    removeEntity(idOrEntity, deferred = true) {\n        var _a, _b;\n        let id = 0;\n        if (idOrEntity instanceof Entity) {\n            id = idOrEntity.id;\n        }\n        else {\n            id = idOrEntity;\n        }\n        const entity = this._entityIndex[id];\n        if (entity && entity.active) {\n            entity.active = false;\n        }\n        if (entity && deferred) {\n            this._entitiesToRemove.push(entity);\n            return;\n        }\n        delete this._entityIndex[id];\n        if (entity) {\n            entity.scene = null;\n            removeItemFromArray(entity, this.entities);\n            this._world.queryManager.removeEntity(entity);\n            // if entity has children\n            entity.children.forEach((c) => {\n                c.scene = null;\n                this.removeEntity(c, deferred);\n            });\n            entity.childrenAdded$.clear();\n            entity.childrenRemoved$.clear();\n            // stats\n            if ((_b = (_a = this._world) === null || _a === void 0 ? void 0 : _a.scene) === null || _b === void 0 ? void 0 : _b.engine) {\n                this._world.scene.engine.stats.currFrame.actors.killed++;\n            }\n        }\n    }\n    processEntityRemovals() {\n        for (const entity of this._entitiesToRemove) {\n            if (entity.active) {\n                continue;\n            }\n            this.removeEntity(entity, false);\n        }\n        this._entitiesToRemove.length = 0;\n    }\n    processComponentRemovals() {\n        for (const entity of this.entities) {\n            entity.processComponentRemoval();\n        }\n    }\n    getById(id) {\n        return this._entityIndex[id];\n    }\n    getByName(name) {\n        return this.entities.filter(e => e.name === name);\n    }\n    clear() {\n        for (let i = this.entities.length - 1; i >= 0; i--) {\n            this.removeEntity(this.entities[i]);\n        }\n    }\n}\n\n;// CONCATENATED MODULE: ./EntityComponentSystem/Query.ts\n\n/**\n * Represents query for entities that match a list of types that is cached and observable\n *\n * Queries can be strongly typed by supplying a type union in the optional type parameter\n * ```typescript\n * const queryAB = new ex.Query<ComponentTypeA | ComponentTypeB>(['A', 'B']);\n * ```\n */\nclass Query {\n    constructor(requiredComponents) {\n        this.requiredComponents = requiredComponents;\n        this.components = new Set();\n        this.entities = [];\n        /**\n         * This fires right after the component is added\n         */\n        this.entityAdded$ = new Observable();\n        /**\n         * This fires right before the component is actually removed from the entity, it will still be available for cleanup purposes\n         */\n        this.entityRemoved$ = new Observable();\n        if (requiredComponents.length === 0) {\n            throw new Error('Cannot create query without components');\n        }\n        for (const type of requiredComponents) {\n            this.components.add(type);\n        }\n        this.id = Query.createId(requiredComponents);\n    }\n    static createId(requiredComponents) {\n        // TODO what happens if a user defines the same type name as a built in type\n        // ! TODO this could be dangerous depending on the bundler's settings for names\n        // Maybe some kind of hash function is better here?\n        return requiredComponents.slice().map(c => c.name).sort().join('-');\n    }\n    /**\n     * Potentially adds an entity to a query index, returns true if added, false if not\n     * @param entity\n     */\n    checkAndAdd(entity) {\n        if (!this.entities.includes(entity) && entity.hasAll(Array.from(this.components))) {\n            this.entities.push(entity);\n            this.entityAdded$.notifyAll(entity);\n            return true;\n        }\n        return false;\n    }\n    removeEntity(entity) {\n        const index = this.entities.indexOf(entity);\n        if (index > -1) {\n            this.entities.splice(index, 1);\n            this.entityRemoved$.notifyAll(entity);\n        }\n    }\n    /**\n     * Returns a list of entities that match the query\n     * @param sort Optional sorting function to sort entities returned from the query\n     */\n    getEntities(sort) {\n        if (sort) {\n            this.entities.sort(sort);\n        }\n        return this.entities;\n    }\n}\n\n;// CONCATENATED MODULE: ./EntityComponentSystem/TagQuery.ts\n\nclass TagQuery {\n    constructor(requiredTags) {\n        this.requiredTags = requiredTags;\n        this.tags = new Set();\n        this.entities = [];\n        /**\n         * This fires right after the component is added\n         */\n        this.entityAdded$ = new Observable();\n        /**\n         * This fires right before the component is actually removed from the entity, it will still be available for cleanup purposes\n         */\n        this.entityRemoved$ = new Observable();\n        if (requiredTags.length === 0) {\n            throw new Error('Cannot create tag query without tags');\n        }\n        for (const tag of requiredTags) {\n            this.tags.add(tag);\n        }\n        this.id = TagQuery.createId(requiredTags);\n    }\n    static createId(requiredComponents) {\n        return requiredComponents.slice().sort().join('-');\n    }\n    checkAndAdd(entity) {\n        if (!this.entities.includes(entity) && entity.hasAllTags(Array.from(this.tags))) {\n            this.entities.push(entity);\n            this.entityAdded$.notifyAll(entity);\n            return true;\n        }\n        return false;\n    }\n    removeEntity(entity) {\n        const index = this.entities.indexOf(entity);\n        if (index > -1) {\n            this.entities.splice(index, 1);\n            this.entityRemoved$.notifyAll(entity);\n        }\n    }\n    /**\n     * Returns a list of entities that match the query\n     * @param sort Optional sorting function to sort entities returned from the query\n     */\n    getEntities(sort) {\n        if (sort) {\n            this.entities.sort(sort);\n        }\n        return this.entities;\n    }\n}\n\n;// CONCATENATED MODULE: ./EntityComponentSystem/QueryManager.ts\n\n\n/**\n * The query manager is responsible for updating all queries when entities/components change\n */\nclass QueryManager {\n    constructor(_world) {\n        this._world = _world;\n        this._queries = new Map();\n        this._addComponentHandlers = new Map();\n        this._removeComponentHandlers = new Map();\n        this._componentToQueriesIndex = new Map();\n        this._tagQueries = new Map();\n        this._addTagHandlers = new Map();\n        this._removeTagHandlers = new Map();\n        this._tagToQueriesIndex = new Map();\n        this._createAddComponentHandler = (entity) => (c) => {\n            this.addComponent(entity, c);\n        };\n        this._createRemoveComponentHandler = (entity) => (c) => {\n            this.removeComponent(entity, c);\n        };\n        this._createAddTagHandler = (entity) => (tag) => {\n            this.addTag(entity, tag);\n        };\n        this._createRemoveTagHandler = (entity) => (tag) => {\n            this.removeTag(entity, tag);\n        };\n    }\n    createQuery(requiredComponents) {\n        const id = Query.createId(requiredComponents);\n        if (this._queries.has(id)) {\n            // short circuit if query is already created\n            return this._queries.get(id);\n        }\n        const query = new Query(requiredComponents);\n        this._queries.set(query.id, query);\n        // index maintenance\n        for (const component of requiredComponents) {\n            const queries = this._componentToQueriesIndex.get(component);\n            if (!queries) {\n                this._componentToQueriesIndex.set(component, [query]);\n            }\n            else {\n                queries.push(query);\n            }\n        }\n        for (const entity of this._world.entities) {\n            this.addEntity(entity);\n        }\n        return query;\n    }\n    createTagQuery(requiredTags) {\n        const id = TagQuery.createId(requiredTags);\n        if (this._tagQueries.has(id)) {\n            // short circuit if query is already created\n            return this._tagQueries.get(id);\n        }\n        const query = new TagQuery(requiredTags);\n        this._tagQueries.set(query.id, query);\n        // index maintenance\n        for (const tag of requiredTags) {\n            const queries = this._tagToQueriesIndex.get(tag);\n            if (!queries) {\n                this._tagToQueriesIndex.set(tag, [query]);\n            }\n            else {\n                queries.push(query);\n            }\n        }\n        for (const entity of this._world.entities) {\n            this.addEntity(entity);\n        }\n        return query;\n    }\n    /**\n     * Scans queries and locates any that need this entity added\n     * @param entity\n     */\n    addEntity(entity) {\n        const maybeAddComponent = this._addComponentHandlers.get(entity);\n        const maybeRemoveComponent = this._removeComponentHandlers.get(entity);\n        const addComponent = maybeAddComponent !== null && maybeAddComponent !== void 0 ? maybeAddComponent : this._createAddComponentHandler(entity);\n        const removeComponent = maybeRemoveComponent !== null && maybeRemoveComponent !== void 0 ? maybeRemoveComponent : this._createRemoveComponentHandler(entity);\n        this._addComponentHandlers.set(entity, addComponent);\n        this._removeComponentHandlers.set(entity, removeComponent);\n        const maybeAddTag = this._addTagHandlers.get(entity);\n        const maybeRemoveTag = this._removeTagHandlers.get(entity);\n        const addTag = maybeAddTag !== null && maybeAddTag !== void 0 ? maybeAddTag : this._createAddTagHandler(entity);\n        const removeTag = maybeRemoveTag !== null && maybeRemoveTag !== void 0 ? maybeRemoveTag : this._createRemoveTagHandler(entity);\n        this._addTagHandlers.set(entity, addTag);\n        this._removeTagHandlers.set(entity, removeTag);\n        for (const query of this._queries.values()) {\n            query.checkAndAdd(entity);\n        }\n        for (const tagQuery of this._tagQueries.values()) {\n            tagQuery.checkAndAdd(entity);\n        }\n        entity.componentAdded$.subscribe(addComponent);\n        entity.componentRemoved$.subscribe(removeComponent);\n        entity.tagAdded$.subscribe(addTag);\n        entity.tagRemoved$.subscribe(removeTag);\n    }\n    /**\n     * Scans queries and locates any that need this entity removed\n     * @param entity\n     */\n    removeEntity(entity) {\n        // Handle components\n        const addComponent = this._addComponentHandlers.get(entity);\n        const removeComponent = this._removeComponentHandlers.get(entity);\n        for (const query of this._queries.values()) {\n            query.removeEntity(entity);\n        }\n        if (addComponent) {\n            entity.componentAdded$.unsubscribe(addComponent);\n        }\n        if (removeComponent) {\n            entity.componentRemoved$.unsubscribe(removeComponent);\n        }\n        // Handle tags\n        const addTag = this._addTagHandlers.get(entity);\n        const removeTag = this._removeTagHandlers.get(entity);\n        for (const tagQuery of this._tagQueries.values()) {\n            tagQuery.removeEntity(entity);\n        }\n        if (addTag) {\n            entity.tagAdded$.unsubscribe(addTag);\n        }\n        if (removeTag) {\n            entity.tagRemoved$.unsubscribe(removeTag);\n        }\n    }\n    /**\n     * Updates any queries when a component is added to an entity\n     * @param entity\n     * @param component\n     */\n    addComponent(entity, component) {\n        var _a;\n        const queries = (_a = this._componentToQueriesIndex.get(component.constructor)) !== null && _a !== void 0 ? _a : [];\n        for (const query of queries) {\n            query.checkAndAdd(entity);\n        }\n    }\n    /**\n     * Updates any queries when a component is removed from an entity\n     * @param entity\n     * @param component\n     */\n    removeComponent(entity, component) {\n        var _a;\n        const queries = (_a = this._componentToQueriesIndex.get(component.constructor)) !== null && _a !== void 0 ? _a : [];\n        for (const query of queries) {\n            query.removeEntity(entity);\n        }\n    }\n    /**\n     * Updates any queries when a tag is added to an entity\n     * @param entity\n     * @param tag\n     */\n    addTag(entity, tag) {\n        var _a;\n        const queries = (_a = this._tagToQueriesIndex.get(tag)) !== null && _a !== void 0 ? _a : [];\n        for (const query of queries) {\n            query.checkAndAdd(entity);\n        }\n    }\n    /**\n     * Updates any queries when a component is removed from an entity\n     * @param entity\n     * @param tag\n     */\n    removeTag(entity, tag) {\n        var _a;\n        const queries = (_a = this._tagToQueriesIndex.get(tag)) !== null && _a !== void 0 ? _a : [];\n        for (const query of queries) {\n            query.removeEntity(entity);\n        }\n    }\n}\n\n;// CONCATENATED MODULE: ./EntityComponentSystem/SystemManager.ts\n\n\n/**\n *\n */\nfunction isSystemConstructor(x) {\n    var _a, _b;\n    return !!(x === null || x === void 0 ? void 0 : x.prototype) && !!((_b = (_a = x === null || x === void 0 ? void 0 : x.prototype) === null || _a === void 0 ? void 0 : _a.constructor) === null || _b === void 0 ? void 0 : _b.name);\n}\n/**\n * The SystemManager is responsible for keeping track of all systems in a scene.\n * Systems are scene specific\n */\nclass SystemManager {\n    constructor(_world) {\n        this._world = _world;\n        /**\n         * List of systems, to add a new system call [[SystemManager.addSystem]]\n         */\n        this.systems = [];\n        this.initialized = false;\n    }\n    /**\n     * Get a system registered in the manager by type\n     * @param systemType\n     */\n    get(systemType) {\n        return this.systems.find((s) => s instanceof systemType);\n    }\n    /**\n     * Adds a system to the manager, it will now be updated every frame\n     * @param systemOrCtor\n     */\n    addSystem(systemOrCtor) {\n        let system;\n        if (systemOrCtor instanceof System) {\n            system = systemOrCtor;\n        }\n        else {\n            system = new systemOrCtor(this._world);\n        }\n        this.systems.push(system);\n        this.systems.sort((a, b) => a.priority - b.priority);\n        // If systems are added and the manager has already been init'd\n        // then immediately init the system\n        if (this.initialized && system.initialize) {\n            system.initialize(this._world, this._world.scene);\n        }\n    }\n    /**\n     * Removes a system from the manager, it will no longer be updated\n     * @param system\n     */\n    removeSystem(system) {\n        removeItemFromArray(system, this.systems);\n    }\n    /**\n     * Initialize all systems in the manager\n     *\n     * Systems added after initialize() will be initialized on add\n     */\n    initialize() {\n        if (!this.initialized) {\n            this.initialized = true;\n            for (const s of this.systems) {\n                if (s.initialize) {\n                    s.initialize(this._world, this._world.scene);\n                }\n            }\n        }\n    }\n    /**\n     * Updates all systems\n     * @param type whether this is an update or draw system\n     * @param scene context reference\n     * @param delta time in milliseconds\n     */\n    updateSystems(type, scene, delta) {\n        const systems = this.systems.filter((s) => s.systemType === type);\n        for (const s of systems) {\n            if (s.preupdate) {\n                s.preupdate(scene, delta);\n            }\n        }\n        for (const s of systems) {\n            s.update(delta);\n        }\n        for (const s of systems) {\n            if (s.postupdate) {\n                s.postupdate(scene, delta);\n            }\n        }\n    }\n    clear() {\n        for (let i = this.systems.length - 1; i >= 0; i--) {\n            this.removeSystem(this.systems[i]);\n        }\n    }\n}\n\n;// CONCATENATED MODULE: ./EntityComponentSystem/World.ts\n\n\n\n\n\n/**\n * The World is a self-contained entity component system for a particular context.\n */\nclass World {\n    /**\n     * The context type is passed to the system updates\n     * @param scene\n     */\n    constructor(scene) {\n        this.scene = scene;\n        this.queryManager = new QueryManager(this);\n        this.entityManager = new EntityManager(this);\n        this.systemManager = new SystemManager(this);\n    }\n    /**\n     * Query the ECS world for entities that match your components\n     * @param requiredTypes\n     */\n    query(requiredTypes) {\n        return this.queryManager.createQuery(requiredTypes);\n    }\n    queryTags(requiredTags) {\n        return this.queryManager.createTagQuery(requiredTags);\n    }\n    /**\n     * Update systems by type and time elapsed in milliseconds\n     */\n    update(type, delta) {\n        if (type === SystemType.Update) {\n            this.entityManager.updateEntities(this.scene, delta);\n        }\n        this.systemManager.updateSystems(type, this.scene, delta);\n        this.entityManager.findEntitiesForRemoval();\n        this.entityManager.processComponentRemovals();\n        this.entityManager.processEntityRemovals();\n    }\n    add(entityOrSystem) {\n        if (entityOrSystem instanceof Entity) {\n            this.entityManager.addEntity(entityOrSystem);\n        }\n        if (entityOrSystem instanceof System || isSystemConstructor(entityOrSystem)) {\n            this.systemManager.addSystem(entityOrSystem);\n        }\n    }\n    /**\n     * Get a system out of the ECS world\n     */\n    get(system) {\n        return this.systemManager.get(system);\n    }\n    remove(entityOrSystem, deferred = true) {\n        if (entityOrSystem instanceof Entity) {\n            this.entityManager.removeEntity(entityOrSystem, deferred);\n        }\n        if (entityOrSystem instanceof System) {\n            this.systemManager.removeSystem(entityOrSystem);\n        }\n    }\n    get entities() {\n        return this.entityManager.entities;\n    }\n    clearEntities() {\n        this.entityManager.clear();\n    }\n    clearSystems() {\n        this.systemManager.clear();\n    }\n}\n\n;// CONCATENATED MODULE: ./Collision/Integrator.ts\n\nclass EulerIntegrator {\n    static integrate(transform, motion, totalAcc, elapsedMs) {\n        const seconds = elapsedMs / 1000;\n        // This code looks a little wild, but it's to avoid creating any new Vector instances\n        // integration is done in a tight loop so this is key to avoid GC'ing\n        motion.vel.addEqual(totalAcc.scale(seconds, EulerIntegrator._ACC));\n        transform.pos\n            .add(motion.vel.scale(seconds, EulerIntegrator._VEL), EulerIntegrator._POS)\n            .addEqual(totalAcc.scale(0.5 * seconds * seconds, EulerIntegrator._VEL_ACC));\n        motion.angularVelocity += motion.torque * (1.0 / motion.inertia) * seconds;\n        const rotation = transform.rotation + motion.angularVelocity * seconds;\n        transform.scale.add(motion.scaleFactor.scale(seconds, this._SCALE_FACTOR), EulerIntegrator._SCALE);\n        const tx = transform.get();\n        tx.setTransform(EulerIntegrator._POS, rotation, EulerIntegrator._SCALE);\n    }\n}\n// Scratch vectors to avoid allocation\nEulerIntegrator._POS = new Vector(0, 0);\nEulerIntegrator._SCALE = new Vector(1, 1);\nEulerIntegrator._ACC = new Vector(0, 0);\nEulerIntegrator._VEL = new Vector(0, 0);\nEulerIntegrator._VEL_ACC = new Vector(0, 0);\nEulerIntegrator._SCALE_FACTOR = new Vector(0, 0);\n\n;// CONCATENATED MODULE: ./Collision/MotionSystem.ts\n\n\n\n\n\n\n\nclass MotionSystem extends System {\n    constructor(world, physics) {\n        super();\n        this.world = world;\n        this.physics = physics;\n        this.systemType = SystemType.Update;\n        this.priority = SystemPriority.Higher;\n        this._physicsConfigDirty = false;\n        physics.$configUpdate.subscribe(() => this._physicsConfigDirty = true);\n        this.query = this.world.query([TransformComponent, MotionComponent]);\n    }\n    update(elapsedMs) {\n        let transform;\n        let motion;\n        const entities = this.query.entities;\n        for (let i = 0; i < entities.length; i++) {\n            transform = entities[i].get(TransformComponent);\n            motion = entities[i].get(MotionComponent);\n            const optionalBody = entities[i].get(BodyComponent);\n            if (this._physicsConfigDirty && optionalBody) {\n                optionalBody.updatePhysicsConfig(this.physics.config.bodies);\n            }\n            if (optionalBody === null || optionalBody === void 0 ? void 0 : optionalBody.sleeping) {\n                continue;\n            }\n            const totalAcc = motion.acc.clone();\n            if ((optionalBody === null || optionalBody === void 0 ? void 0 : optionalBody.collisionType) === CollisionType.Active && (optionalBody === null || optionalBody === void 0 ? void 0 : optionalBody.useGravity)) {\n                totalAcc.addEqual(this.physics.config.gravity);\n            }\n            optionalBody === null || optionalBody === void 0 ? void 0 : optionalBody.captureOldTransform();\n            // Update transform and motion based on Euler linear algebra\n            EulerIntegrator.integrate(transform, motion, totalAcc, elapsedMs);\n        }\n    }\n}\n\n;// CONCATENATED MODULE: ./Collision/Solver/ArcadeSolver.ts\n\n\n\n\n\n/**\n * ArcadeSolver is the default in Excalibur. It solves collisions so that there is no overlap between contacts,\n * and negates velocity along the collision normal.\n *\n * This is usually the type of collisions used for 2D games that don't need a more realistic collision simulation.\n *\n */\nclass ArcadeSolver {\n    constructor(config) {\n        this.config = config;\n        this.directionMap = new Map();\n        this.distanceMap = new Map();\n    }\n    solve(contacts) {\n        // Events and init\n        this.preSolve(contacts);\n        // Remove any canceled contacts\n        contacts = contacts.filter(c => !c.isCanceled());\n        // Locate collision bias order\n        let bias;\n        switch (this.config.contactSolveBias) {\n            case ContactSolveBias.HorizontalFirst: {\n                bias = HorizontalFirst;\n                break;\n            }\n            case ContactSolveBias.VerticalFirst: {\n                bias = VerticalFirst;\n                break;\n            }\n            default: {\n                bias = None;\n            }\n        }\n        // Sort by bias (None, VerticalFirst, HorizontalFirst) to avoid artifacts with seams\n        // Sort contacts by distance to avoid artifacts with seams\n        // It's important to solve in a specific order\n        contacts.sort((a, b) => {\n            const aDir = this.directionMap.get(a.id);\n            const bDir = this.directionMap.get(b.id);\n            const aDist = this.distanceMap.get(a.id);\n            const bDist = this.distanceMap.get(b.id);\n            return (bias[aDir] - bias[bDir]) || (aDist - bDist);\n        });\n        for (const contact of contacts) {\n            // Solve position first in arcade\n            this.solvePosition(contact);\n            // Solve velocity second in arcade\n            this.solveVelocity(contact);\n        }\n        // Events and any contact house-keeping the solver needs\n        this.postSolve(contacts);\n        return contacts;\n    }\n    preSolve(contacts) {\n        const epsilon = .0001;\n        for (const contact of contacts) {\n            if (Math.abs(contact.mtv.x) < epsilon && Math.abs(contact.mtv.y) < epsilon) {\n                // Cancel near 0 mtv collisions\n                contact.cancel();\n                continue;\n            }\n            const side = Side.fromDirection(contact.mtv);\n            const mtv = contact.mtv.negate();\n            const distance = contact.colliderA.worldPos.squareDistance(contact.colliderB.worldPos);\n            this.distanceMap.set(contact.id, distance);\n            this.directionMap.set(contact.id, side === Side.Left || side === Side.Right ? 'horizontal' : 'vertical');\n            // Publish collision events on both participants\n            contact.colliderA.events.emit('precollision', new PreCollisionEvent(contact.colliderA, contact.colliderB, side, mtv, contact));\n            contact.colliderB.events.emit('precollision', new PreCollisionEvent(contact.colliderB, contact.colliderA, Side.getOpposite(side), mtv.negate(), contact));\n        }\n    }\n    postSolve(contacts) {\n        var _a, _b;\n        for (const contact of contacts) {\n            if (contact.isCanceled()) {\n                continue;\n            }\n            const colliderA = contact.colliderA;\n            const colliderB = contact.colliderB;\n            const bodyA = (_a = colliderA.owner) === null || _a === void 0 ? void 0 : _a.get(BodyComponent);\n            const bodyB = (_b = colliderB.owner) === null || _b === void 0 ? void 0 : _b.get(BodyComponent);\n            if (bodyA && bodyB) {\n                if (bodyA.collisionType === CollisionType.Passive || bodyB.collisionType === CollisionType.Passive) {\n                    continue;\n                }\n            }\n            const side = Side.fromDirection(contact.mtv);\n            const mtv = contact.mtv.negate();\n            // Publish collision events on both participants\n            contact.colliderA.events.emit('postcollision', new PostCollisionEvent(contact.colliderA, contact.colliderB, side, mtv, contact));\n            contact.colliderB.events.emit('postcollision', new PostCollisionEvent(contact.colliderB, contact.colliderA, Side.getOpposite(side), mtv.negate(), contact));\n        }\n    }\n    solvePosition(contact) {\n        var _a, _b;\n        const epsilon = .0001;\n        // if bounds no longer intersect skip to the next\n        // this removes jitter from overlapping/stacked solid tiles or a wall of solid tiles\n        if (!contact.colliderA.bounds.overlaps(contact.colliderB.bounds, epsilon)) {\n            // Cancel the contact to prevent and solving\n            contact.cancel();\n            return;\n        }\n        if (Math.abs(contact.mtv.x) < epsilon && Math.abs(contact.mtv.y) < epsilon) {\n            // Cancel near 0 mtv collisions\n            contact.cancel();\n            return;\n        }\n        let mtv = contact.mtv;\n        const colliderA = contact.colliderA;\n        const colliderB = contact.colliderB;\n        const bodyA = (_a = colliderA.owner) === null || _a === void 0 ? void 0 : _a.get(BodyComponent);\n        const bodyB = (_b = colliderB.owner) === null || _b === void 0 ? void 0 : _b.get(BodyComponent);\n        if (bodyA && bodyB) {\n            if (bodyA.collisionType === CollisionType.Passive || bodyB.collisionType === CollisionType.Passive) {\n                return;\n            }\n            if (bodyA.collisionType === CollisionType.Active && bodyB.collisionType === CollisionType.Active) {\n                // split overlaps if both are Active\n                mtv = mtv.scale(0.5);\n            }\n            // Resolve overlaps\n            if (bodyA.collisionType === CollisionType.Active) {\n                bodyA.globalPos.x -= mtv.x;\n                bodyA.globalPos.y -= mtv.y;\n                colliderA.update(bodyA.transform.get());\n            }\n            if (bodyB.collisionType === CollisionType.Active) {\n                bodyB.globalPos.x += mtv.x;\n                bodyB.globalPos.y += mtv.y;\n                colliderB.update(bodyB.transform.get());\n            }\n        }\n    }\n    solveVelocity(contact) {\n        var _a, _b;\n        if (contact.isCanceled()) {\n            return;\n        }\n        const colliderA = contact.colliderA;\n        const colliderB = contact.colliderB;\n        const bodyA = (_a = colliderA.owner) === null || _a === void 0 ? void 0 : _a.get(BodyComponent);\n        const bodyB = (_b = colliderB.owner) === null || _b === void 0 ? void 0 : _b.get(BodyComponent);\n        if (bodyA && bodyB) {\n            if (bodyA.collisionType === CollisionType.Passive || bodyB.collisionType === CollisionType.Passive) {\n                return;\n            }\n            const normal = contact.normal;\n            const opposite = normal.negate();\n            if (bodyA.collisionType === CollisionType.Active) {\n                // only adjust velocity if the contact normal is opposite to the current velocity\n                // this avoids catching edges on a platform when sliding off\n                if (bodyA.vel.normalize().dot(opposite) < 0) {\n                    // Cancel out velocity opposite direction of collision normal\n                    const velAdj = normal.scale(normal.dot(bodyA.vel.negate()));\n                    bodyA.vel = bodyA.vel.add(velAdj);\n                }\n            }\n            if (bodyB.collisionType === CollisionType.Active) {\n                // only adjust velocity if the contact normal is opposite to the current velocity\n                // this avoids catching edges on a platform\n                if (bodyB.vel.normalize().dot(normal) < 0) {\n                    const velAdj = opposite.scale(opposite.dot(bodyB.vel.negate()));\n                    bodyB.vel = bodyB.vel.add(velAdj);\n                }\n            }\n        }\n    }\n}\n\n;// CONCATENATED MODULE: ./Collision/Solver/ContactConstraintPoint.ts\n\n\n/**\n * Holds information about contact points, meant to be reused over multiple frames of contact\n */\nclass ContactConstraintPoint {\n    constructor(point, local, contact) {\n        this.point = point;\n        this.local = local;\n        this.contact = contact;\n        /**\n         * Impulse accumulated over time in normal direction\n         */\n        this.normalImpulse = 0;\n        /**\n         * Impulse accumulated over time in the tangent direction\n         */\n        this.tangentImpulse = 0;\n        /**\n         * Effective mass seen in the normal direction\n         */\n        this.normalMass = 0;\n        /**\n         * Effective mass seen in the tangent direction\n         */\n        this.tangentMass = 0;\n        /**\n         * Direction from center of mass of bodyA to contact point\n         */\n        this.aToContact = new Vector(0, 0);\n        /**\n         * Direction from center of mass of bodyB to contact point\n         */\n        this.bToContact = new Vector(0, 0);\n        /**\n         * Original contact velocity combined with bounciness\n         */\n        this.originalVelocityAndRestitution = 0;\n        this.update();\n    }\n    /**\n     * Updates the contact information\n     */\n    update() {\n        var _a, _b;\n        const bodyA = (_a = this.contact.colliderA.owner) === null || _a === void 0 ? void 0 : _a.get(BodyComponent);\n        const bodyB = (_b = this.contact.colliderB.owner) === null || _b === void 0 ? void 0 : _b.get(BodyComponent);\n        if (bodyA && bodyB) {\n            const normal = this.contact.normal;\n            const tangent = this.contact.tangent;\n            this.aToContact = this.point.sub(bodyA.globalPos);\n            this.bToContact = this.point.sub(bodyB.globalPos);\n            const aToContactNormal = this.aToContact.cross(normal);\n            const bToContactNormal = this.bToContact.cross(normal);\n            this.normalMass =\n                bodyA.inverseMass +\n                    bodyB.inverseMass +\n                    bodyA.inverseInertia * aToContactNormal * aToContactNormal +\n                    bodyB.inverseInertia * bToContactNormal * bToContactNormal;\n            const aToContactTangent = this.aToContact.cross(tangent);\n            const bToContactTangent = this.bToContact.cross(tangent);\n            this.tangentMass =\n                bodyA.inverseMass +\n                    bodyB.inverseMass +\n                    bodyA.inverseInertia * aToContactTangent * aToContactTangent +\n                    bodyB.inverseInertia * bToContactTangent * bToContactTangent;\n        }\n        return this;\n    }\n    /**\n     * Returns the relative velocity between bodyA and bodyB\n     */\n    getRelativeVelocity() {\n        var _a, _b;\n        const bodyA = (_a = this.contact.colliderA.owner) === null || _a === void 0 ? void 0 : _a.get(BodyComponent);\n        const bodyB = (_b = this.contact.colliderB.owner) === null || _b === void 0 ? void 0 : _b.get(BodyComponent);\n        if (bodyA && bodyB) {\n            // Relative velocity in linear terms\n            // Angular to linear velocity formula -> omega = velocity/radius so omega x radius = velocity\n            const velA = bodyA.vel.add(Vector.cross(bodyA.angularVelocity, this.aToContact));\n            const velB = bodyB.vel.add(Vector.cross(bodyB.angularVelocity, this.bToContact));\n            return velB.sub(velA);\n        }\n        return Vector.Zero;\n    }\n}\n\n;// CONCATENATED MODULE: ./Collision/Solver/RealisticSolver.ts\n\n\n\n\n\n\n\nclass RealisticSolver {\n    constructor(config) {\n        this.config = config;\n        this.lastFrameContacts = new Map();\n        // map contact id to contact points\n        this.idToContactConstraint = new Map();\n    }\n    getContactConstraints(id) {\n        var _a;\n        return (_a = this.idToContactConstraint.get(id)) !== null && _a !== void 0 ? _a : [];\n    }\n    solve(contacts) {\n        // Events and init\n        this.preSolve(contacts);\n        // Remove any canceled contacts\n        contacts = contacts.filter(c => !c.isCanceled());\n        // Solve velocity first\n        this.solveVelocity(contacts);\n        // Solve position last because non-overlap is the most important\n        this.solvePosition(contacts);\n        // Events and any contact house-keeping the solver needs\n        this.postSolve(contacts);\n        return contacts;\n    }\n    preSolve(contacts) {\n        var _a, _b, _c;\n        const epsilon = .0001;\n        for (const contact of contacts) {\n            if (Math.abs(contact.mtv.x) < epsilon && Math.abs(contact.mtv.y) < epsilon) {\n                // Cancel near 0 mtv collisions\n                contact.cancel();\n                continue;\n            }\n            // Publish collision events on both participants\n            const side = Side.fromDirection(contact.mtv);\n            contact.colliderA.events.emit('precollision', new PreCollisionEvent(contact.colliderA, contact.colliderB, side, contact.mtv, contact));\n            contact.colliderA.events.emit('beforecollisionresolve', new CollisionPreSolveEvent(contact.colliderA, contact.colliderB, side, contact.mtv, contact));\n            contact.colliderB.events.emit('precollision', new PreCollisionEvent(contact.colliderB, contact.colliderA, Side.getOpposite(side), contact.mtv.negate(), contact));\n            contact.colliderB.events.emit('beforecollisionresolve', new CollisionPreSolveEvent(contact.colliderB, contact.colliderA, Side.getOpposite(side), contact.mtv.negate(), contact));\n            // Match awake state for sleeping\n            contact.matchAwake();\n        }\n        // Keep track of contacts that done\n        const finishedContactIds = Array.from(this.idToContactConstraint.keys());\n        for (const contact of contacts) {\n            // Remove all current contacts that are not done\n            const index = finishedContactIds.indexOf(contact.id);\n            if (index > -1) {\n                finishedContactIds.splice(index, 1);\n            }\n            const contactPoints = (_a = this.idToContactConstraint.get(contact.id)) !== null && _a !== void 0 ? _a : [];\n            let pointIndex = 0;\n            const bodyA = contact.colliderA.owner.get(BodyComponent);\n            const bodyB = contact.colliderB.owner.get(BodyComponent);\n            if (bodyA && bodyB) {\n                for (const point of contact.points) {\n                    const normal = contact.normal;\n                    const tangent = contact.tangent;\n                    const aToContact = point.sub(bodyA.globalPos);\n                    const bToContact = point.sub(bodyB.globalPos);\n                    const aToContactNormal = aToContact.cross(normal);\n                    const bToContactNormal = bToContact.cross(normal);\n                    const normalMass = bodyA.inverseMass +\n                        bodyB.inverseMass +\n                        bodyA.inverseInertia * aToContactNormal * aToContactNormal +\n                        bodyB.inverseInertia * bToContactNormal * bToContactNormal;\n                    const aToContactTangent = aToContact.cross(tangent);\n                    const bToContactTangent = bToContact.cross(tangent);\n                    const tangentMass = bodyA.inverseMass +\n                        bodyB.inverseMass +\n                        bodyA.inverseInertia * aToContactTangent * aToContactTangent +\n                        bodyB.inverseInertia * bToContactTangent * bToContactTangent;\n                    // Preserve normal/tangent impulse by re-using the contact point if it's close\n                    if (contactPoints[pointIndex] && ((_c = (_b = contactPoints[pointIndex]) === null || _b === void 0 ? void 0 : _b.point) === null || _c === void 0 ? void 0 : _c.squareDistance(point)) < 4) {\n                        contactPoints[pointIndex].point = point;\n                        contactPoints[pointIndex].local = contact.localPoints[pointIndex];\n                    }\n                    else {\n                        // new contact if it's not close or doesn't exist\n                        contactPoints[pointIndex] = new ContactConstraintPoint(point, contact.localPoints[pointIndex], contact);\n                    }\n                    // Update contact point calculations\n                    contactPoints[pointIndex].aToContact = aToContact;\n                    contactPoints[pointIndex].bToContact = bToContact;\n                    contactPoints[pointIndex].normalMass = 1.0 / normalMass;\n                    contactPoints[pointIndex].tangentMass = 1.0 / tangentMass;\n                    // Calculate relative velocity before solving to accurately do restitution\n                    const restitution = bodyA.bounciness > bodyB.bounciness ? bodyA.bounciness : bodyB.bounciness;\n                    const relativeVelocity = contact.normal.dot(contactPoints[pointIndex].getRelativeVelocity());\n                    contactPoints[pointIndex].originalVelocityAndRestitution = 0;\n                    if (relativeVelocity < -0.1) { // TODO what's a good threshold here?\n                        contactPoints[pointIndex].originalVelocityAndRestitution = -restitution * relativeVelocity;\n                    }\n                    pointIndex++;\n                }\n            }\n            this.idToContactConstraint.set(contact.id, contactPoints);\n        }\n        // Clean up any contacts that did not occur last frame\n        for (const id of finishedContactIds) {\n            this.idToContactConstraint.delete(id);\n        }\n        // Warm contacts with accumulated impulse\n        // Useful for tall stacks\n        if (this.config.warmStart) {\n            this.warmStart(contacts);\n        }\n        else {\n            for (const contact of contacts) {\n                const contactPoints = this.getContactConstraints(contact.id);\n                for (const point of contactPoints) {\n                    point.normalImpulse = 0;\n                    point.tangentImpulse = 0;\n                }\n            }\n        }\n    }\n    postSolve(contacts) {\n        for (const contact of contacts) {\n            const bodyA = contact.colliderA.owner.get(BodyComponent);\n            const bodyB = contact.colliderB.owner.get(BodyComponent);\n            if (bodyA && bodyB) {\n                // Skip post solve for active+passive collisions\n                if (bodyA.collisionType === CollisionType.Passive || bodyB.collisionType === CollisionType.Passive) {\n                    continue;\n                }\n                // Update motion values for sleeping\n                bodyA.updateMotion();\n                bodyB.updateMotion();\n            }\n            // Publish collision events on both participants\n            const side = Side.fromDirection(contact.mtv);\n            contact.colliderA.events.emit('postcollision', new PostCollisionEvent(contact.colliderA, contact.colliderB, side, contact.mtv, contact));\n            contact.colliderA.events.emit('aftercollisionresolve', new CollisionPostSolveEvent(contact.colliderA, contact.colliderB, side, contact.mtv, contact));\n            contact.colliderB.events.emit('postcollision', new PostCollisionEvent(contact.colliderB, contact.colliderA, Side.getOpposite(side), contact.mtv.negate(), contact));\n            contact.colliderB.events.emit('aftercollisionresolve', new CollisionPostSolveEvent(contact.colliderB, contact.colliderA, Side.getOpposite(side), contact.mtv.negate(), contact));\n        }\n        // Store contacts\n        this.lastFrameContacts.clear();\n        for (const c of contacts) {\n            this.lastFrameContacts.set(c.id, c);\n        }\n    }\n    /**\n     * Warm up body's based on previous frame contact points\n     * @param contacts\n     */\n    warmStart(contacts) {\n        var _a, _b, _c;\n        for (const contact of contacts) {\n            const bodyA = (_a = contact.colliderA.owner) === null || _a === void 0 ? void 0 : _a.get(BodyComponent);\n            const bodyB = (_b = contact.colliderB.owner) === null || _b === void 0 ? void 0 : _b.get(BodyComponent);\n            if (bodyA && bodyB) {\n                const contactPoints = (_c = this.idToContactConstraint.get(contact.id)) !== null && _c !== void 0 ? _c : [];\n                for (const point of contactPoints) {\n                    if (this.config.warmStart) {\n                        const normalImpulse = contact.normal.scale(point.normalImpulse);\n                        const tangentImpulse = contact.tangent.scale(point.tangentImpulse);\n                        const impulse = normalImpulse.add(tangentImpulse);\n                        bodyA.applyImpulse(point.point, impulse.negate());\n                        bodyB.applyImpulse(point.point, impulse);\n                    }\n                    else {\n                        point.normalImpulse = 0;\n                        point.tangentImpulse = 0;\n                    }\n                }\n            }\n        }\n    }\n    /**\n     * Iteratively solve the position overlap constraint\n     * @param contacts\n     */\n    solvePosition(contacts) {\n        var _a, _b, _c;\n        for (let i = 0; i < this.config.positionIterations; i++) {\n            for (const contact of contacts) {\n                const bodyA = (_a = contact.colliderA.owner) === null || _a === void 0 ? void 0 : _a.get(BodyComponent);\n                const bodyB = (_b = contact.colliderB.owner) === null || _b === void 0 ? void 0 : _b.get(BodyComponent);\n                if (bodyA && bodyB) {\n                    // Skip solving active+passive\n                    if (bodyA.collisionType === CollisionType.Passive || bodyB.collisionType === CollisionType.Passive) {\n                        continue;\n                    }\n                    const constraints = (_c = this.idToContactConstraint.get(contact.id)) !== null && _c !== void 0 ? _c : [];\n                    for (const point of constraints) {\n                        const normal = contact.normal;\n                        const separation = CollisionJumpTable.FindContactSeparation(contact, point.local);\n                        const steeringConstant = this.config.steeringFactor; //0.2;\n                        const maxCorrection = -5;\n                        const slop = this.config.slop; //1;\n                        // Clamp to avoid over-correction\n                        // Remember that we are shooting for 0 overlap in the end\n                        const steeringForce = clamp(steeringConstant * (separation + slop), maxCorrection, 0);\n                        const impulse = normal.scale(-steeringForce * point.normalMass);\n                        // This is a pseudo impulse, meaning we aren't doing a real impulse calculation\n                        // We adjust position and rotation instead of doing the velocity\n                        if (bodyA.collisionType === CollisionType.Active) {\n                            // TODO make applyPseudoImpulse function?\n                            const impulseForce = impulse.negate().scale(bodyA.inverseMass);\n                            if (bodyA.limitDegreeOfFreedom.includes(DegreeOfFreedom.X)) {\n                                impulseForce.x = 0;\n                            }\n                            if (bodyA.limitDegreeOfFreedom.includes(DegreeOfFreedom.Y)) {\n                                impulseForce.y = 0;\n                            }\n                            bodyA.globalPos = bodyA.globalPos.add(impulseForce);\n                            if (!bodyA.limitDegreeOfFreedom.includes(DegreeOfFreedom.Rotation)) {\n                                bodyA.rotation -= point.aToContact.cross(impulse) * bodyA.inverseInertia;\n                            }\n                        }\n                        if (bodyB.collisionType === CollisionType.Active) {\n                            const impulseForce = impulse.scale(bodyB.inverseMass);\n                            if (bodyB.limitDegreeOfFreedom.includes(DegreeOfFreedom.X)) {\n                                impulseForce.x = 0;\n                            }\n                            if (bodyB.limitDegreeOfFreedom.includes(DegreeOfFreedom.Y)) {\n                                impulseForce.y = 0;\n                            }\n                            bodyB.globalPos = bodyB.globalPos.add(impulseForce);\n                            if (!bodyB.limitDegreeOfFreedom.includes(DegreeOfFreedom.Rotation)) {\n                                bodyB.rotation += point.bToContact.cross(impulse) * bodyB.inverseInertia;\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n    solveVelocity(contacts) {\n        var _a, _b, _c;\n        for (let i = 0; i < this.config.velocityIterations; i++) {\n            for (const contact of contacts) {\n                const bodyA = (_a = contact.colliderA.owner) === null || _a === void 0 ? void 0 : _a.get(BodyComponent);\n                const bodyB = (_b = contact.colliderB.owner) === null || _b === void 0 ? void 0 : _b.get(BodyComponent);\n                if (bodyA && bodyB) {\n                    // Skip solving active+passive\n                    if (bodyA.collisionType === CollisionType.Passive || bodyB.collisionType === CollisionType.Passive) {\n                        continue;\n                    }\n                    const friction = Math.min(bodyA.friction, bodyB.friction);\n                    const constraints = (_c = this.idToContactConstraint.get(contact.id)) !== null && _c !== void 0 ? _c : [];\n                    // Friction constraint\n                    for (const point of constraints) {\n                        const relativeVelocity = point.getRelativeVelocity();\n                        // Negate velocity in tangent direction to simulate friction\n                        const tangentVelocity = -relativeVelocity.dot(contact.tangent);\n                        let impulseDelta = tangentVelocity * point.tangentMass;\n                        // Clamping based in Erin Catto's GDC 2006 talk\n                        // Correct clamping https://github.com/erincatto/box2d-lite/blob/master/docs/GDC2006_Catto_Erin_PhysicsTutorial.pdf\n                        // Accumulated fiction impulse is always between -uMaxFriction < dT < uMaxFriction\n                        // But deltas can vary\n                        const maxFriction = friction * point.normalImpulse;\n                        const newImpulse = clamp(point.tangentImpulse + impulseDelta, -maxFriction, maxFriction);\n                        impulseDelta = newImpulse - point.tangentImpulse;\n                        point.tangentImpulse = newImpulse;\n                        const impulse = contact.tangent.scale(impulseDelta);\n                        bodyA.applyImpulse(point.point, impulse.negate());\n                        bodyB.applyImpulse(point.point, impulse);\n                    }\n                    // Bounce constraint\n                    for (const point of constraints) {\n                        // Need to recalc relative velocity because the previous step could have changed vel\n                        const relativeVelocity = point.getRelativeVelocity();\n                        // Compute impulse in normal direction\n                        const normalVelocity = relativeVelocity.dot(contact.normal);\n                        // Per Erin it is a mistake to apply the restitution inside the iteration\n                        // From Erin Catto's Box2D we keep original contact velocity and adjust by small impulses\n                        let impulseDelta = -point.normalMass * (normalVelocity - point.originalVelocityAndRestitution);\n                        // Clamping based in Erin Catto's GDC 2014 talk\n                        // Accumulated impulse stored in the contact is always positive (dV > 0)\n                        // But deltas can be negative\n                        const newImpulse = Math.max(point.normalImpulse + impulseDelta, 0);\n                        impulseDelta = newImpulse - point.normalImpulse;\n                        point.normalImpulse = newImpulse;\n                        const impulse = contact.normal.scale(impulseDelta);\n                        bodyA.applyImpulse(point.point, impulse.negate());\n                        bodyB.applyImpulse(point.point, impulse);\n                    }\n                }\n            }\n        }\n    }\n}\n\n;// CONCATENATED MODULE: ./Collision/CollisionSystem.ts\n\n\n\n\n\n\n\n\n\n\n\nclass CollisionSystem extends System {\n    get _processor() {\n        return this._physics.collisionProcessor;\n    }\n    ;\n    constructor(world, _physics) {\n        super();\n        this._physics = _physics;\n        this.systemType = SystemType.Update;\n        this.priority = SystemPriority.Higher;\n        this._configDirty = false;\n        this._lastFrameContacts = new Map();\n        this._currentFrameContacts = new Map();\n        this._arcadeSolver = new ArcadeSolver(_physics.config.arcade);\n        this._realisticSolver = new RealisticSolver(_physics.config.realistic);\n        this._physics.$configUpdate.subscribe(() => this._configDirty = true);\n        this._trackCollider = (c) => this._processor.track(c);\n        this._untrackCollider = (c) => this._processor.untrack(c);\n        this.query = world.query([TransformComponent, MotionComponent, ColliderComponent]);\n        this.query.entityAdded$.subscribe(e => {\n            const colliderComponent = e.get(ColliderComponent);\n            colliderComponent.$colliderAdded.subscribe(this._trackCollider);\n            colliderComponent.$colliderRemoved.subscribe(this._untrackCollider);\n            const collider = colliderComponent.get();\n            if (collider) {\n                this._processor.track(collider);\n            }\n        });\n        this.query.entityRemoved$.subscribe(e => {\n            const colliderComponent = e.get(ColliderComponent);\n            const collider = colliderComponent.get();\n            if (colliderComponent && collider) {\n                this._processor.untrack(collider);\n            }\n        });\n    }\n    initialize(world, scene) {\n        this._engine = scene.engine;\n    }\n    update(elapsedMs) {\n        var _a, _b, _c, _d;\n        if (!this._physics.config.enabled) {\n            return;\n        }\n        // Collect up all the colliders and update them\n        let colliders = [];\n        for (const entity of this.query.entities) {\n            const colliderComp = entity.get(ColliderComponent);\n            const collider = colliderComp === null || colliderComp === void 0 ? void 0 : colliderComp.get();\n            if (colliderComp && ((_a = colliderComp.owner) === null || _a === void 0 ? void 0 : _a.active) && collider) {\n                colliderComp.update();\n                if (collider instanceof CompositeCollider) {\n                    const compositeColliders = collider.getColliders();\n                    if (!collider.compositeStrategy) {\n                        collider.compositeStrategy = this._physics.config.colliders.compositeStrategy;\n                    }\n                    colliders = colliders.concat(compositeColliders);\n                }\n                else {\n                    colliders.push(collider);\n                }\n            }\n        }\n        // Update the spatial partitioning data structures\n        // TODO if collider invalid it will break the processor\n        // TODO rename \"update\" to something more specific\n        this._processor.update(colliders);\n        // Run broadphase on all colliders and locates potential collisions\n        const pairs = this._processor.broadphase(colliders, elapsedMs);\n        this._currentFrameContacts.clear();\n        // Given possible pairs find actual contacts\n        let contacts = this._processor.narrowphase(pairs, (_d = (_c = (_b = this._engine) === null || _b === void 0 ? void 0 : _b.debug) === null || _c === void 0 ? void 0 : _c.stats) === null || _d === void 0 ? void 0 : _d.currFrame);\n        const solver = this.getSolver();\n        // Solve, this resolves the position/velocity so entities aren't overlapping\n        contacts = solver.solve(contacts);\n        // Record contacts for start/end\n        for (const contact of contacts) {\n            if (contact.isCanceled()) {\n                continue;\n            }\n            // Process composite ids, things with the same composite id are treated as the same collider for start/end\n            const index = contact.id.indexOf('|');\n            if (index > 0) {\n                const compositeId = contact.id.substring(index + 1);\n                this._currentFrameContacts.set(compositeId, contact);\n            }\n            else {\n                this._currentFrameContacts.set(contact.id, contact);\n            }\n        }\n        // Emit contact start/end events\n        this.runContactStartEnd();\n        // reset the last frame cache\n        this._lastFrameContacts.clear();\n        // Keep track of collisions contacts that have started or ended\n        this._lastFrameContacts = new Map(this._currentFrameContacts);\n        // Process deferred collider removals\n        for (const entity of this.query.entities) {\n            const collider = entity.get(ColliderComponent);\n            if (collider) {\n                collider.processColliderRemoval();\n            }\n        }\n    }\n    getSolver() {\n        if (this._configDirty) {\n            this._configDirty = false;\n            this._arcadeSolver = new ArcadeSolver(this._physics.config.arcade);\n            this._realisticSolver = new RealisticSolver(this._physics.config.realistic);\n        }\n        return this._physics.config.solver === SolverStrategy.Realistic ? this._realisticSolver : this._arcadeSolver;\n    }\n    debug(ex) {\n        this._processor.debug(ex);\n    }\n    runContactStartEnd() {\n        // If composite colliders are 'together' collisions may have a duplicate id because we want to treat those as a singular start/end\n        for (const [id, c] of this._currentFrameContacts) {\n            // find all new contacts\n            if (!this._lastFrameContacts.has(id)) {\n                const colliderA = c.colliderA;\n                const colliderB = c.colliderB;\n                const side = Side.fromDirection(c.mtv);\n                const opposite = Side.getOpposite(side);\n                colliderA.events.emit('collisionstart', new CollisionStartEvent(colliderA, colliderB, side, c));\n                colliderA.events.emit('contactstart', new ContactStartEvent(colliderA, colliderB, side, c));\n                colliderB.events.emit('collisionstart', new CollisionStartEvent(colliderB, colliderA, opposite, c));\n                colliderB.events.emit('contactstart', new ContactStartEvent(colliderB, colliderA, opposite, c));\n            }\n        }\n        // find all contacts that have ceased\n        for (const [id, c] of this._lastFrameContacts) {\n            if (!this._currentFrameContacts.has(id)) {\n                const colliderA = c.colliderA;\n                const colliderB = c.colliderB;\n                const side = Side.fromDirection(c.mtv);\n                const opposite = Side.getOpposite(side);\n                colliderA.events.emit('collisionend', new CollisionEndEvent(colliderA, colliderB, side, c));\n                colliderA.events.emit('contactend', new ContactEndEvent(colliderA, colliderB, side, c));\n                colliderB.events.emit('collisionend', new CollisionEndEvent(colliderB, colliderA, opposite, c));\n                colliderB.events.emit('contactend', new ContactEndEvent(colliderB, colliderA, opposite, c));\n            }\n        }\n    }\n}\n\n;// CONCATENATED MODULE: ./Graphics/Animation.ts\n\n\n\n\nvar AnimationDirection;\n(function (AnimationDirection) {\n    /**\n     * Animation is playing forwards\n     */\n    AnimationDirection[\"Forward\"] = \"forward\";\n    /**\n     * Animation is playing backwards\n     */\n    AnimationDirection[\"Backward\"] = \"backward\";\n})(AnimationDirection || (AnimationDirection = {}));\nvar AnimationStrategy;\n(function (AnimationStrategy) {\n    /**\n     * Animation ends without displaying anything\n     */\n    AnimationStrategy[\"End\"] = \"end\";\n    /**\n     * Animation loops to the first frame after the last frame\n     */\n    AnimationStrategy[\"Loop\"] = \"loop\";\n    /**\n     * Animation plays to the last frame, then backwards to the first frame, then repeats\n     */\n    AnimationStrategy[\"PingPong\"] = \"pingpong\";\n    /**\n     * Animation ends stopping on the last frame\n     */\n    AnimationStrategy[\"Freeze\"] = \"freeze\";\n})(AnimationStrategy || (AnimationStrategy = {}));\nconst AnimationEvents = {\n    Frame: 'frame',\n    Loop: 'loop',\n    End: 'end'\n};\n/**\n * Create an Animation given a list of [[Frame|frames]] in [[AnimationOptions]]\n *\n * To create an Animation from a [[SpriteSheet]], use [[Animation.fromSpriteSheet]]\n */\nclass Animation extends Graphic {\n    constructor(options) {\n        var _a, _b, _c;\n        super(options);\n        this.events = new EventEmitter();\n        this.frames = [];\n        this.strategy = AnimationStrategy.Loop;\n        this.frameDuration = 100;\n        this._idempotencyToken = -1;\n        this._firstTick = true;\n        this._currentFrame = 0;\n        this._timeLeftInFrame = 0;\n        this._pingPongDirection = 1;\n        this._done = false;\n        this._playing = true;\n        this._speed = 1;\n        this._reversed = false;\n        this.frames = options.frames;\n        this.speed = (_a = options.speed) !== null && _a !== void 0 ? _a : this.speed;\n        this.strategy = (_b = options.strategy) !== null && _b !== void 0 ? _b : this.strategy;\n        this.frameDuration = options.totalDuration ? options.totalDuration / this.frames.length : (_c = options.frameDuration) !== null && _c !== void 0 ? _c : this.frameDuration;\n        if (options.reverse) {\n            this.reverse();\n        }\n        this.goToFrame(0);\n    }\n    clone() {\n        return new Animation({\n            frames: this.frames.map((f) => ({ ...f })),\n            frameDuration: this.frameDuration,\n            speed: this.speed,\n            reverse: this._reversed,\n            strategy: this.strategy,\n            ...this.cloneGraphicOptions()\n        });\n    }\n    get width() {\n        const maybeFrame = this.currentFrame;\n        if (maybeFrame) {\n            return Math.abs(maybeFrame.graphic.width * this.scale.x);\n        }\n        return 0;\n    }\n    get height() {\n        const maybeFrame = this.currentFrame;\n        if (maybeFrame) {\n            return Math.abs(maybeFrame.graphic.height * this.scale.y);\n        }\n        return 0;\n    }\n    /**\n     * Create an Animation from a [[SpriteSheet]], a list of indices into the sprite sheet, a duration per frame\n     * and optional [[AnimationStrategy]]\n     *\n     * Example:\n     * ```typescript\n     * const spriteSheet = SpriteSheet.fromImageSource({...});\n     *\n     * const anim = Animation.fromSpriteSheet(spriteSheet, range(0, 5), 200, AnimationStrategy.Loop);\n     * ```\n     * @param spriteSheet\n     * @param frameIndices\n     * @param durationPerFrameMs\n     * @param strategy\n     */\n    static fromSpriteSheet(spriteSheet, frameIndices, durationPerFrameMs, strategy = AnimationStrategy.Loop) {\n        const maxIndex = spriteSheet.sprites.length - 1;\n        const invalidIndices = frameIndices.filter((index) => index < 0 || index > maxIndex);\n        if (invalidIndices.length) {\n            Animation._LOGGER.warn(`Indices into SpriteSheet were provided that don\\'t exist: ${invalidIndices.join(',')} no frame will be shown`);\n        }\n        return new Animation({\n            frames: spriteSheet.sprites\n                .filter((_, index) => frameIndices.indexOf(index) > -1)\n                .map((f) => ({\n                graphic: f,\n                duration: durationPerFrameMs\n            })),\n            strategy: strategy\n        });\n    }\n    /**\n     * Create an [[Animation]] from a [[SpriteSheet]] given a list of coordinates\n     *\n     * Example:\n     * ```typescript\n     * const spriteSheet = SpriteSheet.fromImageSource({...});\n     *\n     * const anim = Animation.fromSpriteSheetCoordinates({\n     *  spriteSheet,\n     *  frameCoordinates: [\n     *    {x: 0, y: 5, duration: 100, options { flipHorizontal: true }},\n     *    {x: 1, y: 5, duration: 200},\n     *    {x: 2, y: 5, duration: 100},\n     *    {x: 3, y: 5, duration: 500}\n     *  ],\n     *  strategy: AnimationStrategy.PingPong\n     * });\n     * ```\n     * @param options\n     * @returns Animation\n     */\n    static fromSpriteSheetCoordinates(options) {\n        const { spriteSheet, frameCoordinates, durationPerFrameMs, speed, strategy, reverse } = options;\n        const defaultDuration = durationPerFrameMs !== null && durationPerFrameMs !== void 0 ? durationPerFrameMs : 100;\n        const frames = [];\n        for (const coord of frameCoordinates) {\n            const { x, y, duration, options } = coord;\n            const sprite = spriteSheet.getSprite(x, y, options);\n            if (sprite) {\n                frames.push({\n                    graphic: sprite,\n                    duration: duration !== null && duration !== void 0 ? duration : defaultDuration\n                });\n            }\n            else {\n                Animation._LOGGER.warn(`Skipping frame! SpriteSheet does not have coordinate (${x}, ${y}), please check your SpriteSheet to confirm that sprite exists`);\n            }\n        }\n        return new Animation({\n            frames,\n            strategy,\n            speed,\n            reverse\n        });\n    }\n    /**\n     * Current animation speed\n     *\n     * 1 meaning normal 1x speed.\n     * 2 meaning 2x speed and so on.\n     */\n    get speed() {\n        return this._speed;\n    }\n    /**\n     * Current animation speed\n     *\n     * 1 meaning normal 1x speed.\n     * 2 meaning 2x speed and so on.\n     */\n    set speed(val) {\n        this._speed = clamp(Math.abs(val), 0, Infinity);\n    }\n    /**\n     * Returns the current Frame of the animation\n     *\n     * Use [[Animation.currentFrameIndex]] to get the frame number and\n     * [[Animation.goToFrame]] to set the current frame index\n     */\n    get currentFrame() {\n        if (this._currentFrame >= 0 && this._currentFrame < this.frames.length) {\n            return this.frames[this._currentFrame];\n        }\n        return null;\n    }\n    /**\n     * Returns the current frame index of the animation\n     *\n     * Use [[Animation.currentFrame]] to grab the current [[Frame]] object\n     */\n    get currentFrameIndex() {\n        return this._currentFrame;\n    }\n    /**\n     * Returns the amount of time in milliseconds left in the current frame\n     */\n    get currentFrameTimeLeft() {\n        return this._timeLeftInFrame;\n    }\n    /**\n     * Returns `true` if the animation is playing\n     */\n    get isPlaying() {\n        return this._playing;\n    }\n    /**\n     * Reverses the play direction of the Animation, this preserves the current frame\n     */\n    reverse() {\n        // Don't mutate with the original frame list, create a copy\n        this.frames = this.frames.slice().reverse();\n        this._reversed = !this._reversed;\n    }\n    /**\n     * Returns the current play direction of the animation\n     */\n    get direction() {\n        // Keep logically consistent with ping-pong direction\n        // If ping-pong is forward = 1 and reversed is true then we are logically reversed\n        const reversed = (this._reversed && this._pingPongDirection === 1) ? true : false;\n        return reversed ? AnimationDirection.Backward : AnimationDirection.Forward;\n    }\n    /**\n     * Plays or resumes the animation from the current frame\n     */\n    play() {\n        this._playing = true;\n    }\n    /**\n     * Pauses the animation on the current frame\n     */\n    pause() {\n        this._playing = false;\n        this._firstTick = true; // firstTick must be set to emit the proper frame event\n    }\n    /**\n     * Reset the animation back to the beginning, including if the animation were done\n     */\n    reset() {\n        this._done = false;\n        this._firstTick = true;\n        this._currentFrame = 0;\n        this._timeLeftInFrame = this.frameDuration;\n        const maybeFrame = this.frames[this._currentFrame];\n        if (maybeFrame) {\n            this._timeLeftInFrame = ((maybeFrame === null || maybeFrame === void 0 ? void 0 : maybeFrame.duration) || this.frameDuration);\n        }\n    }\n    /**\n     * Returns `true` if the animation can end\n     */\n    get canFinish() {\n        switch (this.strategy) {\n            case AnimationStrategy.End:\n            case AnimationStrategy.Freeze: {\n                return true;\n            }\n            default: {\n                return false;\n            }\n        }\n    }\n    /**\n     * Returns `true` if the animation is done, for looping type animations\n     * `ex.AnimationStrategy.PingPong` and `ex.AnimationStrategy.Loop` this will always return `false`\n     *\n     * See the `ex.Animation.canFinish()` method to know if an animation type can end\n     */\n    get done() {\n        return this._done;\n    }\n    /**\n     * Jump the animation immediately to a specific frame if it exists\n     *\n     * Optionally specify an override for the duration of the frame, useful for\n     * keeping multiple animations in sync with one another.\n     * @param frameNumber\n     * @param duration\n     */\n    goToFrame(frameNumber, duration) {\n        this._currentFrame = frameNumber;\n        this._timeLeftInFrame = duration !== null && duration !== void 0 ? duration : this.frameDuration;\n        const maybeFrame = this.frames[this._currentFrame];\n        if (maybeFrame && !this._done) {\n            this._timeLeftInFrame = duration !== null && duration !== void 0 ? duration : ((maybeFrame === null || maybeFrame === void 0 ? void 0 : maybeFrame.duration) || this.frameDuration);\n            this.events.emit('frame', { ...maybeFrame, frameIndex: this.currentFrameIndex });\n        }\n    }\n    _nextFrame() {\n        const currentFrame = this._currentFrame;\n        if (this._done) {\n            return currentFrame;\n        }\n        let next = -1;\n        switch (this.strategy) {\n            case AnimationStrategy.Loop: {\n                next = (currentFrame + 1) % this.frames.length;\n                if (next === 0) {\n                    this.events.emit('loop', this);\n                }\n                break;\n            }\n            case AnimationStrategy.End: {\n                next = currentFrame + 1;\n                if (next >= this.frames.length) {\n                    this._done = true;\n                    this._currentFrame = this.frames.length;\n                    this.events.emit('end', this);\n                }\n                break;\n            }\n            case AnimationStrategy.Freeze: {\n                next = clamp(currentFrame + 1, 0, this.frames.length - 1);\n                if (next >= this.frames.length - 1) {\n                    this._done = true;\n                    this.events.emit('end', this);\n                }\n                break;\n            }\n            case AnimationStrategy.PingPong: {\n                if (currentFrame + this._pingPongDirection >= this.frames.length) {\n                    this._pingPongDirection = -1;\n                    this.events.emit('loop', this);\n                }\n                if (currentFrame + this._pingPongDirection < 0) {\n                    this._pingPongDirection = 1;\n                    this.events.emit('loop', this);\n                }\n                next = currentFrame + (this._pingPongDirection % this.frames.length);\n                break;\n            }\n        }\n        return next;\n    }\n    /**\n     * Called internally by Excalibur to update the state of the animation potential update the current frame\n     * @param elapsedMilliseconds Milliseconds elapsed\n     * @param idempotencyToken Prevents double ticking in a frame by passing a unique token to the frame\n     */\n    tick(elapsedMilliseconds, idempotencyToken = 0) {\n        if (this._idempotencyToken === idempotencyToken) {\n            return;\n        }\n        this._idempotencyToken = idempotencyToken;\n        if (!this._playing) {\n            return;\n        }\n        // if it's the first frame emit frame event\n        if (this._firstTick) {\n            this._firstTick = false;\n            this.events.emit('frame', { ...this.currentFrame, frameIndex: this.currentFrameIndex });\n        }\n        this._timeLeftInFrame -= elapsedMilliseconds * this._speed;\n        if (this._timeLeftInFrame <= 0) {\n            this.goToFrame(this._nextFrame());\n        }\n    }\n    _drawImage(ctx, x, y) {\n        if (this.currentFrame) {\n            this.currentFrame.graphic.draw(ctx, x, y);\n        }\n    }\n}\nAnimation._LOGGER = Logger.getInstance();\n\n;// CONCATENATED MODULE: ./Graphics/GraphicsGroup.ts\n\n\n\n\n\nclass GraphicsGroup extends Graphic {\n    constructor(options) {\n        super(options);\n        this._logger = Logger.getInstance();\n        this.members = [];\n        this.members = options.members;\n        this._updateDimensions();\n    }\n    clone() {\n        return new GraphicsGroup({\n            members: [...this.members],\n            ...this.cloneGraphicOptions()\n        });\n    }\n    _updateDimensions() {\n        const bb = this.localBounds;\n        this.width = bb.width;\n        this.height = bb.height;\n        return bb;\n    }\n    get localBounds() {\n        let bb = new BoundingBox();\n        for (const member of this.members) {\n            if (member instanceof Graphic) {\n                bb = member.localBounds.combine(bb);\n            }\n            else {\n                const { graphic, offset: pos, useBounds } = member;\n                const shouldUseBounds = useBounds === undefined ? true : useBounds;\n                if (graphic) {\n                    if (shouldUseBounds) {\n                        bb = graphic.localBounds.translate(pos).combine(bb);\n                    }\n                }\n                else {\n                    this._logger.warnOnce(`Graphics group member has an null or undefined graphic, member definition: ${JSON.stringify(member)}.`);\n                }\n            }\n        }\n        return bb;\n    }\n    _isAnimationOrGroup(graphic) {\n        return graphic instanceof Animation || graphic instanceof GraphicsGroup;\n    }\n    tick(elapsedMilliseconds, idempotencyToken) {\n        for (const member of this.members) {\n            let graphic;\n            if (member instanceof Graphic) {\n                graphic = member;\n            }\n            else {\n                graphic = member.graphic;\n            }\n            if (this._isAnimationOrGroup(graphic)) {\n                graphic.tick(elapsedMilliseconds, idempotencyToken);\n            }\n        }\n    }\n    reset() {\n        for (const member of this.members) {\n            let graphic;\n            if (member instanceof Graphic) {\n                graphic = member;\n            }\n            else {\n                graphic = member.graphic;\n            }\n            if (this._isAnimationOrGroup(graphic)) {\n                graphic.reset();\n            }\n        }\n    }\n    _preDraw(ex, x, y) {\n        this._updateDimensions();\n        super._preDraw(ex, x, y);\n    }\n    _drawImage(ex, x, y) {\n        const pos = Vector.Zero;\n        for (const member of this.members) {\n            let graphic;\n            if (member instanceof Graphic) {\n                graphic = member;\n            }\n            else {\n                graphic = member.graphic;\n                member.offset.clone(pos);\n            }\n            if (!graphic) {\n                continue;\n            }\n            ex.save();\n            ex.translate(x, y);\n            graphic.draw(ex, pos.x, pos.y);\n            if (this.showDebug) {\n                /* istanbul ignore next */\n                ex.debug.drawRect(0, 0, this.width, this.height);\n            }\n            ex.restore();\n        }\n    }\n}\n\n;// CONCATENATED MODULE: ./Configurable.ts\n/**\n * Configurable helper extends base type and makes all properties available as option bag arguments\n * @internal\n * @param base\n */\nfunction Configurable(base) {\n    return class extends base {\n        assign(props) {\n            //set the value of every property that was passed in,\n            //if the constructor previously set this value, it will be overridden here\n            for (const k in props) {\n                // eslint-disable-next-line\n                if (typeof this[k] !== 'function') {\n                    // eslint-disable-next-line\n                    this[k] = props[k];\n                }\n            }\n        }\n        constructor(...args) {\n            super(...args);\n            //get the number of arguments that aren't undefined. TS passes a value to all parameters\n            //of whatever ctor is the implementation, so args.length doesn't work here.\n            const size = args.filter(function (value) {\n                return value !== undefined;\n            }).length;\n            if (size === 1 && args[0] && typeof args[0] === 'object' && !(args[0] instanceof Array)) {\n                this.assign(args[0]);\n            }\n        }\n    };\n}\n\n;// CONCATENATED MODULE: ./Particles.ts\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * An enum that represents the types of emitter nozzles\n */\nvar EmitterType;\n(function (EmitterType) {\n    /**\n     * Constant for the circular emitter type\n     */\n    EmitterType[EmitterType[\"Circle\"] = 0] = \"Circle\";\n    /**\n     * Constant for the rectangular emitter type\n     */\n    EmitterType[EmitterType[\"Rectangle\"] = 1] = \"Rectangle\";\n})(EmitterType || (EmitterType = {}));\n/**\n * @hidden\n */\nclass ParticleImpl extends Entity {\n    constructor(emitterOrConfig, life, opacity, beginColor, endColor, position, velocity, acceleration, startSize, endSize, particleSprite) {\n        super();\n        this.position = new Vector(0, 0);\n        this.velocity = new Vector(0, 0);\n        this.acceleration = new Vector(0, 0);\n        this.particleRotationalVelocity = 0;\n        this.currentRotation = 0;\n        this.focus = null;\n        this.focusAccel = 0;\n        this.opacity = 1;\n        this.beginColor = Color.White;\n        this.endColor = Color.White;\n        // Life is counted in ms\n        this.life = 300;\n        this.fadeFlag = false;\n        // Color transitions\n        this._rRate = 1;\n        this._gRate = 1;\n        this._bRate = 1;\n        this._aRate = 0;\n        this._currentColor = Color.White;\n        this.emitter = null;\n        this.particleSize = 5;\n        this.particleSprite = null;\n        this.sizeRate = 0;\n        this.elapsedMultiplier = 0;\n        this.visible = true;\n        this.isOffscreen = false;\n        let emitter = emitterOrConfig;\n        if (emitter && !(emitterOrConfig instanceof ParticleEmitter)) {\n            const config = emitterOrConfig;\n            emitter = config.emitter;\n            life = config.life;\n            opacity = config.opacity;\n            endColor = config.endColor;\n            beginColor = config.beginColor;\n            position = config.position;\n            velocity = config.velocity;\n            acceleration = config.acceleration;\n            startSize = config.startSize;\n            endSize = config.endSize;\n            particleSprite = config.particleSprite;\n        }\n        this.emitter = emitter;\n        this.life = life || this.life;\n        this.opacity = opacity || this.opacity;\n        this.endColor = endColor || this.endColor.clone();\n        this.beginColor = beginColor || this.beginColor.clone();\n        this._currentColor = this.beginColor.clone();\n        this.particleSprite = particleSprite;\n        if (this.emitter.particleTransform === ParticleTransform.Global) {\n            const globalPos = this.emitter.transform.globalPos;\n            this.position = (position || this.position).add(globalPos);\n            this.velocity = (velocity || this.velocity).rotate(this.emitter.transform.globalRotation);\n        }\n        else {\n            this.velocity = velocity || this.velocity;\n            this.position = (position || this.position);\n        }\n        this.acceleration = acceleration || this.acceleration;\n        this._rRate = (this.endColor.r - this.beginColor.r) / this.life;\n        this._gRate = (this.endColor.g - this.beginColor.g) / this.life;\n        this._bRate = (this.endColor.b - this.beginColor.b) / this.life;\n        this._aRate = this.opacity / this.life;\n        this.startSize = startSize || 0;\n        this.endSize = endSize || 0;\n        if (this.endSize > 0 && this.startSize > 0) {\n            this.sizeRate = (this.endSize - this.startSize) / this.life;\n            this.particleSize = this.startSize;\n        }\n        this.addComponent((this.transform = new TransformComponent()));\n        this.addComponent((this.graphics = new GraphicsComponent()));\n        this.transform.pos = this.position;\n        this.transform.rotation = this.currentRotation;\n        this.transform.scale = vec(1, 1); // TODO wut\n        if (this.particleSprite) {\n            this.graphics.opacity = this.opacity;\n            this.graphics.use(this.particleSprite);\n        }\n        else {\n            this.graphics.localBounds = BoundingBox.fromDimension(this.particleSize, this.particleSize, Vector.Half);\n            this.graphics.onPostDraw = (ctx) => {\n                ctx.save();\n                this.graphics.opacity = this.opacity;\n                const tmpColor = this._currentColor.clone();\n                tmpColor.a = 1;\n                ctx.debug.drawPoint(vec(0, 0), { color: tmpColor, size: this.particleSize });\n                ctx.restore();\n            };\n        }\n    }\n    kill() {\n        this.emitter.removeParticle(this);\n    }\n    update(engine, delta) {\n        this.life = this.life - delta;\n        this.elapsedMultiplier = this.elapsedMultiplier + delta;\n        if (this.life < 0) {\n            this.kill();\n        }\n        if (this.fadeFlag) {\n            this.opacity = clamp(this._aRate * this.life, 0.0001, 1);\n        }\n        if (this.startSize > 0 && this.endSize > 0) {\n            this.particleSize = clamp(this.sizeRate * delta + this.particleSize, Math.min(this.startSize, this.endSize), Math.max(this.startSize, this.endSize));\n        }\n        this._currentColor.r = clamp(this._currentColor.r + this._rRate * delta, 0, 255);\n        this._currentColor.g = clamp(this._currentColor.g + this._gRate * delta, 0, 255);\n        this._currentColor.b = clamp(this._currentColor.b + this._bRate * delta, 0, 255);\n        this._currentColor.a = clamp(this.opacity, 0.0001, 1);\n        if (this.focus) {\n            const accel = this.focus\n                .sub(this.position)\n                .normalize()\n                .scale(this.focusAccel)\n                .scale(delta / 1000);\n            this.velocity = this.velocity.add(accel);\n        }\n        else {\n            this.velocity = this.velocity.add(this.acceleration.scale(delta / 1000));\n        }\n        this.position = this.position.add(this.velocity.scale(delta / 1000));\n        if (this.particleRotationalVelocity) {\n            this.currentRotation = (this.currentRotation + (this.particleRotationalVelocity * delta) / 1000) % (2 * Math.PI);\n        }\n        this.transform.pos = this.position;\n        this.transform.rotation = this.currentRotation;\n        this.transform.scale = vec(1, 1); // todo wut\n        this.graphics.opacity = this.opacity;\n    }\n}\n/**\n * Particle is used in a [[ParticleEmitter]]\n */\nclass Particle extends Configurable(ParticleImpl) {\n    constructor(emitterOrConfig, life, opacity, beginColor, endColor, position, velocity, acceleration, startSize, endSize, particleSprite) {\n        super(emitterOrConfig, life, opacity, beginColor, endColor, position, velocity, acceleration, startSize, endSize, particleSprite);\n    }\n}\nvar ParticleTransform;\n(function (ParticleTransform) {\n    /**\n     * [[ParticleTransform.Global]] is the default and emits particles as if\n     * they were world space objects, useful for most effects.\n     */\n    ParticleTransform[\"Global\"] = \"global\";\n    /**\n     * [[ParticleTransform.Local]] particles are children of the emitter and move relative to the emitter\n     * as they would in a parent/child actor relationship.\n     */\n    ParticleTransform[\"Local\"] = \"local\";\n})(ParticleTransform || (ParticleTransform = {}));\n/**\n * Using a particle emitter is a great way to create interesting effects\n * in your game, like smoke, fire, water, explosions, etc. `ParticleEmitter`\n * extend [[Actor]] allowing you to use all of the features that come with.\n */\nclass ParticleEmitter extends Actor {\n    /**\n     * Gets the opacity of each particle from 0 to 1.0\n     */\n    get opacity() {\n        return this.graphics.opacity;\n    }\n    /**\n     * Gets the opacity of each particle from 0 to 1.0\n     */\n    set opacity(opacity) {\n        this.graphics.opacity = opacity;\n    }\n    /**\n     * Gets or sets the sprite that a particle should use\n     */\n    get particleSprite() {\n        return this._sprite;\n    }\n    set particleSprite(val) {\n        if (val) {\n            this._sprite = val;\n        }\n    }\n    /**\n     * @param config particle emitter options bag\n     */\n    constructor(config) {\n        var _a, _b;\n        super({ width: (_a = config.width) !== null && _a !== void 0 ? _a : 0, height: (_b = config.height) !== null && _b !== void 0 ? _b : 0 });\n        this._particlesToEmit = 0;\n        this.numParticles = 0;\n        /**\n         * Gets or sets the isEmitting flag\n         */\n        this.isEmitting = true;\n        /**\n         * Gets or sets the backing particle collection\n         */\n        this.particles = [];\n        /**\n         * Gets or sets the backing deadParticle collection\n         */\n        this.deadParticles = [];\n        /**\n         * Gets or sets the minimum particle velocity\n         */\n        this.minVel = 0;\n        /**\n         * Gets or sets the maximum particle velocity\n         */\n        this.maxVel = 0;\n        /**\n         * Gets or sets the acceleration vector for all particles\n         */\n        this.acceleration = new Vector(0, 0);\n        /**\n         * Gets or sets the minimum angle in radians\n         */\n        this.minAngle = 0;\n        /**\n         * Gets or sets the maximum angle in radians\n         */\n        this.maxAngle = 0;\n        /**\n         * Gets or sets the emission rate for particles (particles/sec)\n         */\n        this.emitRate = 1; //particles/sec\n        /**\n         * Gets or sets the life of each particle in milliseconds\n         */\n        this.particleLife = 2000;\n        /**\n         * Gets or sets the fade flag which causes particles to gradually fade out over the course of their life.\n         */\n        this.fadeFlag = false;\n        /**\n         * Gets or sets the optional focus where all particles should accelerate towards\n         */\n        this.focus = null;\n        /**\n         * Gets or sets the acceleration for focusing particles if a focus has been specified\n         */\n        this.focusAccel = null;\n        /**\n         * Gets or sets the optional starting size for the particles\n         */\n        this.startSize = null;\n        /**\n         * Gets or sets the optional ending size for the particles\n         */\n        this.endSize = null;\n        /**\n         * Gets or sets the minimum size of all particles\n         */\n        this.minSize = 5;\n        /**\n         * Gets or sets the maximum size of all particles\n         */\n        this.maxSize = 5;\n        /**\n         * Gets or sets the beginning color of all particles\n         */\n        this.beginColor = Color.White;\n        /**\n         * Gets or sets the ending color of all particles\n         */\n        this.endColor = Color.White;\n        this._sprite = null;\n        /**\n         * Gets or sets the emitter type for the particle emitter\n         */\n        this.emitterType = EmitterType.Rectangle;\n        /**\n         * Gets or sets the emitter radius, only takes effect when the [[emitterType]] is [[EmitterType.Circle]]\n         */\n        this.radius = 0;\n        /**\n         * Gets or sets the particle rotational speed velocity\n         */\n        this.particleRotationalVelocity = 0;\n        /**\n         * Indicates whether particles should start with a random rotation\n         */\n        this.randomRotation = false;\n        /**\n         * Gets or sets the emitted particle transform style, [[ParticleTransform.Global]] is the default and emits particles as if\n         * they were world space objects, useful for most effects.\n         *\n         * If set to [[ParticleTransform.Local]] particles are children of the emitter and move relative to the emitter\n         * as they would in a parent/child actor relationship.\n         */\n        this.particleTransform = ParticleTransform.Global;\n        const { x, y, pos, isEmitting, minVel, maxVel, acceleration, minAngle, maxAngle, emitRate, particleLife, opacity, fadeFlag, focus, focusAccel, startSize, endSize, minSize, maxSize, beginColor, endColor, particleSprite, emitterType, radius, particleRotationalVelocity, particleTransform, randomRotation, random } = { ...config };\n        this.pos = pos !== null && pos !== void 0 ? pos : vec(x !== null && x !== void 0 ? x : 0, y !== null && y !== void 0 ? y : 0);\n        this.isEmitting = isEmitting !== null && isEmitting !== void 0 ? isEmitting : this.isEmitting;\n        this.minVel = minVel !== null && minVel !== void 0 ? minVel : this.minVel;\n        this.maxVel = maxVel !== null && maxVel !== void 0 ? maxVel : this.maxVel;\n        this.acceleration = acceleration !== null && acceleration !== void 0 ? acceleration : this.acceleration;\n        this.minAngle = minAngle !== null && minAngle !== void 0 ? minAngle : this.minAngle;\n        this.maxAngle = maxAngle !== null && maxAngle !== void 0 ? maxAngle : this.maxAngle;\n        this.emitRate = emitRate !== null && emitRate !== void 0 ? emitRate : this.emitRate;\n        this.particleLife = particleLife !== null && particleLife !== void 0 ? particleLife : this.particleLife;\n        this.opacity = opacity !== null && opacity !== void 0 ? opacity : this.opacity;\n        this.fadeFlag = fadeFlag !== null && fadeFlag !== void 0 ? fadeFlag : this.fadeFlag;\n        this.focus = focus !== null && focus !== void 0 ? focus : this.focus;\n        this.focusAccel = focusAccel !== null && focusAccel !== void 0 ? focusAccel : this.focusAccel;\n        this.startSize = startSize !== null && startSize !== void 0 ? startSize : this.startSize;\n        this.endSize = endSize !== null && endSize !== void 0 ? endSize : this.endSize;\n        this.minSize = minSize !== null && minSize !== void 0 ? minSize : this.minSize;\n        this.maxSize = maxSize !== null && maxSize !== void 0 ? maxSize : this.maxSize;\n        this.beginColor = beginColor !== null && beginColor !== void 0 ? beginColor : this.beginColor;\n        this.endColor = endColor !== null && endColor !== void 0 ? endColor : this.endColor;\n        this.particleSprite = particleSprite !== null && particleSprite !== void 0 ? particleSprite : this.particleSprite;\n        this.emitterType = emitterType !== null && emitterType !== void 0 ? emitterType : this.emitterType;\n        this.radius = radius !== null && radius !== void 0 ? radius : this.radius;\n        this.particleRotationalVelocity = particleRotationalVelocity !== null && particleRotationalVelocity !== void 0 ? particleRotationalVelocity : this.particleRotationalVelocity;\n        this.randomRotation = randomRotation !== null && randomRotation !== void 0 ? randomRotation : this.randomRotation;\n        this.particleTransform = particleTransform !== null && particleTransform !== void 0 ? particleTransform : this.particleTransform;\n        this.body.collisionType = CollisionType.PreventCollision;\n        this.random = random !== null && random !== void 0 ? random : new Random();\n    }\n    removeParticle(particle) {\n        this.deadParticles.push(particle);\n    }\n    /**\n     * Causes the emitter to emit particles\n     * @param particleCount  Number of particles to emit right now\n     */\n    emitParticles(particleCount) {\n        var _a;\n        for (let i = 0; i < particleCount; i++) {\n            const p = this._createParticle();\n            this.particles.push(p);\n            if ((_a = this === null || this === void 0 ? void 0 : this.scene) === null || _a === void 0 ? void 0 : _a.world) {\n                if (this.particleTransform === ParticleTransform.Global) {\n                    this.scene.world.add(p);\n                }\n                else {\n                    this.addChild(p);\n                }\n            }\n        }\n    }\n    clearParticles() {\n        this.particles.length = 0;\n    }\n    // Creates a new particle given the constraints of the emitter\n    _createParticle() {\n        // todo implement emitter constraints;\n        let ranX = 0;\n        let ranY = 0;\n        const angle = randomInRange(this.minAngle, this.maxAngle, this.random);\n        const vel = randomInRange(this.minVel, this.maxVel, this.random);\n        const size = this.startSize || randomInRange(this.minSize, this.maxSize, this.random);\n        const dx = vel * Math.cos(angle);\n        const dy = vel * Math.sin(angle);\n        if (this.emitterType === EmitterType.Rectangle) {\n            ranX = randomInRange(0, this.width, this.random);\n            ranY = randomInRange(0, this.height, this.random);\n        }\n        else if (this.emitterType === EmitterType.Circle) {\n            const radius = randomInRange(0, this.radius, this.random);\n            ranX = radius * Math.cos(angle);\n            ranY = radius * Math.sin(angle);\n        }\n        const p = new Particle(this, this.particleLife, this.opacity, this.beginColor, this.endColor, new Vector(ranX, ranY), new Vector(dx, dy), this.acceleration, this.startSize, this.endSize, this.particleSprite);\n        p.fadeFlag = this.fadeFlag;\n        p.particleSize = size;\n        p.particleRotationalVelocity = this.particleRotationalVelocity;\n        if (this.randomRotation) {\n            p.currentRotation = randomInRange(0, Math.PI * 2, this.random);\n        }\n        if (this.focus) {\n            p.focus = this.focus.add(new Vector(this.pos.x, this.pos.y));\n            p.focusAccel = this.focusAccel;\n        }\n        return p;\n    }\n    update(engine, delta) {\n        var _a;\n        super.update(engine, delta);\n        if (this.isEmitting) {\n            this._particlesToEmit += this.emitRate * (delta / 1000);\n            if (this._particlesToEmit > 1.0) {\n                this.emitParticles(Math.floor(this._particlesToEmit));\n                this._particlesToEmit = this._particlesToEmit - Math.floor(this._particlesToEmit);\n            }\n        }\n        // deferred removal\n        for (let i = 0; i < this.deadParticles.length; i++) {\n            removeItemFromArray(this.deadParticles[i], this.particles);\n            if ((_a = this === null || this === void 0 ? void 0 : this.scene) === null || _a === void 0 ? void 0 : _a.world) {\n                this.scene.world.remove(this.deadParticles[i], false);\n            }\n        }\n        this.deadParticles.length = 0;\n    }\n}\n\n;// CONCATENATED MODULE: ./Graphics/TransformInterpolation.ts\n\n/**\n * Blend 2 transforms for interpolation, will interpolate from the context of newTx's parent if it exists\n */\nfunction blendTransform(oldTx, newTx, blend, target) {\n    if (oldTx.parent !== newTx.parent) {\n        // Caller expects a local transform\n        // Adjust old tx to be local to the new parent whatever that is\n        const oldTxWithNewParent = oldTx.clone();\n        const oldGlobalPos = oldTx.globalPos.clone();\n        const oldGlobalScale = oldTx.globalScale.clone();\n        const oldGlobalRotation = oldTx.globalRotation;\n        oldTxWithNewParent.parent = newTx.parent;\n        oldTxWithNewParent.globalPos = oldGlobalPos;\n        oldTxWithNewParent.globalScale = oldGlobalScale;\n        oldTxWithNewParent.globalRotation = oldGlobalRotation;\n        oldTx = oldTxWithNewParent;\n    }\n    let interpolatedPos = newTx.pos;\n    let interpolatedScale = newTx.scale;\n    let interpolatedRotation = newTx.rotation;\n    interpolatedPos = newTx.pos.scale(blend).add(oldTx.pos.scale(1.0 - blend));\n    interpolatedScale = newTx.scale.scale(blend).add(oldTx.scale.scale(1.0 - blend));\n    // Rotational lerp https://stackoverflow.com/a/30129248\n    const cosine = (1.0 - blend) * Math.cos(oldTx.rotation) + blend * Math.cos(newTx.rotation);\n    const sine = (1.0 - blend) * Math.sin(oldTx.rotation) + blend * Math.sin(newTx.rotation);\n    interpolatedRotation = Math.atan2(sine, cosine);\n    const tx = target !== null && target !== void 0 ? target : new transform_Transform();\n    tx.setTransform(interpolatedPos, interpolatedRotation, interpolatedScale);\n    return tx;\n}\n/**\n *\n */\nfunction blendGlobalTransform(oldTx, newTx, blend, target) {\n    let interpolatedPos = newTx.globalPos;\n    let interpolatedScale = newTx.globalScale;\n    let interpolatedRotation = newTx.globalRotation;\n    interpolatedPos = newTx.globalPos.scale(blend).add(oldTx.globalPos.scale(1.0 - blend));\n    interpolatedScale = newTx.globalScale.scale(blend).add(oldTx.globalScale.scale(1.0 - blend));\n    // Rotational lerp https://stackoverflow.com/a/30129248\n    const cosine = (1.0 - blend) * Math.cos(oldTx.globalRotation) + blend * Math.cos(newTx.globalRotation);\n    const sine = (1.0 - blend) * Math.sin(oldTx.globalRotation) + blend * Math.sin(newTx.globalRotation);\n    interpolatedRotation = Math.atan2(sine, cosine);\n    const tx = target !== null && target !== void 0 ? target : new Transform();\n    tx.setTransform(interpolatedPos, interpolatedRotation, interpolatedScale);\n    return tx;\n}\n\n;// CONCATENATED MODULE: ./Graphics/GraphicsSystem.ts\n\n\n\n\n\n // this import seems to bomb wallaby\n\n\n\n\n\n\n\n\nclass GraphicsSystem extends System {\n    get sortedTransforms() {\n        return this._sortedTransforms;\n    }\n    constructor(world) {\n        super();\n        this.world = world;\n        this.systemType = SystemType.Draw;\n        this.priority = SystemPriority.Average;\n        this._token = 0;\n        this._sortedTransforms = [];\n        this._zHasChanged = false;\n        this._zIndexUpdate = () => {\n            this._zHasChanged = true;\n        };\n        this._targetInterpolationTransform = new transform_Transform();\n        this.query = this.world.query([TransformComponent, GraphicsComponent]);\n        this.query.entityAdded$.subscribe(e => {\n            const tx = e.get(TransformComponent);\n            this._sortedTransforms.push(tx);\n            tx.zIndexChanged$.subscribe(this._zIndexUpdate);\n            this._zHasChanged = true;\n        });\n        this.query.entityRemoved$.subscribe(e => {\n            const tx = e.get(TransformComponent);\n            tx.zIndexChanged$.unsubscribe(this._zIndexUpdate);\n            const index = this._sortedTransforms.indexOf(tx);\n            if (index > -1) {\n                this._sortedTransforms.splice(index, 1);\n            }\n        });\n    }\n    initialize(world, scene) {\n        this._camera = scene.camera;\n        this._engine = scene.engine;\n    }\n    preupdate() {\n        // Graphics context could be switched to fallback in a new frame\n        this._graphicsContext = this._engine.graphicsContext;\n        if (this._zHasChanged) {\n            this._sortedTransforms.sort((a, b) => {\n                return a.z - b.z;\n            });\n            this._zHasChanged = false;\n        }\n    }\n    update(delta) {\n        this._token++;\n        let graphics;\n        FontCache.checkAndClearCache();\n        // This is a performance enhancement, most things are in world space\n        // so if we can only do this once saves a ton of transform updates\n        this._graphicsContext.save();\n        if (this._camera) {\n            this._camera.draw(this._graphicsContext);\n        }\n        for (const transform of this._sortedTransforms) {\n            const entity = transform.owner;\n            // If the entity is offscreen skip\n            if (entity.hasTag('ex.offscreen')) {\n                continue;\n            }\n            graphics = entity.get(GraphicsComponent);\n            // Exit if graphics set to not visible\n            if (!graphics.visible) {\n                continue;\n            }\n            // Optionally run the onPreTransformDraw graphics lifecycle draw\n            if (graphics.onPreTransformDraw) {\n                graphics.onPreTransformDraw(this._graphicsContext, delta);\n            }\n            entity.events.emit('pretransformdraw', new PreTransformDrawEvent(this._graphicsContext, delta, entity));\n            // This optionally sets our camera based on the entity coord plan (world vs. screen)\n            if (transform.coordPlane === CoordPlane.Screen) {\n                this._graphicsContext.restore();\n            }\n            this._graphicsContext.save();\n            if (transform.coordPlane === CoordPlane.Screen) {\n                this._graphicsContext.translate(this._engine.screen.contentArea.left, this._engine.screen.contentArea.top);\n            }\n            // Tick any graphics state (but only once) for animations and graphics groups\n            graphics.update(delta, this._token);\n            // Apply parallax\n            const parallax = entity.get(ParallaxComponent);\n            if (parallax) {\n                // We use the Tiled formula\n                // https://doc.mapeditor.org/en/latest/manual/layers/#parallax-scrolling-factor\n                // cameraPos * (1 - parallaxFactor)\n                const oneMinusFactor = Vector.One.sub(parallax.parallaxFactor);\n                const parallaxOffset = this._camera.drawPos.scale(oneMinusFactor);\n                this._graphicsContext.translate(parallaxOffset.x, parallaxOffset.y);\n            }\n            // Position the entity + estimate lag\n            this._applyTransform(entity);\n            // If there is a material enable it on the context\n            if (graphics.material) {\n                this._graphicsContext.material = graphics.material;\n            }\n            // Optionally run the onPreDraw graphics lifecycle draw\n            if (graphics.onPreDraw) {\n                graphics.onPreDraw(this._graphicsContext, delta);\n            }\n            entity.events.emit('predraw', new PreDrawEvent(this._graphicsContext, delta, entity));\n            // TODO remove this hack on the particle redo\n            // Remove this line after removing the wallaby import\n            const particleOpacity = (entity instanceof Particle) ? entity.opacity : 1;\n            this._graphicsContext.opacity *= graphics.opacity * particleOpacity;\n            // Draw the graphics component\n            this._drawGraphicsComponent(graphics, transform);\n            // Optionally run the onPostDraw graphics lifecycle draw\n            if (graphics.onPostDraw) {\n                graphics.onPostDraw(this._graphicsContext, delta);\n            }\n            entity.events.emit('postdraw', new PostDrawEvent(this._graphicsContext, delta, entity));\n            this._graphicsContext.restore();\n            // Reset the transform back to the original world space\n            if (transform.coordPlane === CoordPlane.Screen) {\n                this._graphicsContext.save();\n                if (this._camera) {\n                    this._camera.draw(this._graphicsContext);\n                }\n            }\n            // Optionally run the onPreTransformDraw graphics lifecycle draw\n            if (graphics.onPostTransformDraw) {\n                graphics.onPostTransformDraw(this._graphicsContext, delta);\n            }\n            entity.events.emit('posttransformdraw', new PostTransformDrawEvent(this._graphicsContext, delta, entity));\n        }\n        this._graphicsContext.restore();\n    }\n    _drawGraphicsComponent(graphicsComponent, transformComponent) {\n        var _a, _b;\n        if (graphicsComponent.visible) {\n            const flipHorizontal = graphicsComponent.flipHorizontal;\n            const flipVertical = graphicsComponent.flipVertical;\n            const graphic = graphicsComponent.current;\n            const options = (_a = graphicsComponent.currentOptions) !== null && _a !== void 0 ? _a : {};\n            if (graphic) {\n                let anchor = graphicsComponent.anchor;\n                let offset = graphicsComponent.offset;\n                let scaleX = 1;\n                let scaleY = 1;\n                // handle specific overrides\n                if (options === null || options === void 0 ? void 0 : options.anchor) {\n                    anchor = options.anchor;\n                }\n                if (options === null || options === void 0 ? void 0 : options.offset) {\n                    offset = options.offset;\n                }\n                const globalScale = transformComponent.globalScale;\n                scaleX *= graphic.scale.x * globalScale.x;\n                scaleY *= graphic.scale.y * globalScale.y;\n                // See https://github.com/excaliburjs/Excalibur/pull/619 for discussion on this formula\n                const offsetX = -graphic.width * anchor.x + offset.x * scaleX;\n                const offsetY = -graphic.height * anchor.y + offset.y * scaleY;\n                const oldFlipHorizontal = graphic.flipHorizontal;\n                const oldFlipVertical = graphic.flipVertical;\n                if (flipHorizontal || flipVertical) {\n                    // flip any currently flipped graphics\n                    graphic.flipHorizontal = flipHorizontal ? !oldFlipHorizontal : oldFlipHorizontal;\n                    graphic.flipVertical = flipVertical ? !oldFlipVertical : oldFlipVertical;\n                }\n                graphic === null || graphic === void 0 ? void 0 : graphic.draw(this._graphicsContext, offsetX, offsetY);\n                if (flipHorizontal || flipVertical) {\n                    graphic.flipHorizontal = oldFlipHorizontal;\n                    graphic.flipVertical = oldFlipVertical;\n                }\n                // TODO move debug code out?\n                if (((_b = this._engine) === null || _b === void 0 ? void 0 : _b.isDebug) && this._engine.debug.graphics.showBounds) {\n                    const offset = vec(offsetX, offsetY);\n                    if (graphic instanceof GraphicsGroup) {\n                        for (const member of graphic.members) {\n                            let g;\n                            let pos = Vector.Zero;\n                            if (member instanceof Graphic) {\n                                g = member;\n                            }\n                            else {\n                                g = member.graphic;\n                                pos = member.offset;\n                            }\n                            g === null || g === void 0 ? void 0 : g.localBounds.translate(offset.add(pos)).draw(this._graphicsContext, this._engine.debug.graphics.boundsColor);\n                        }\n                    }\n                    else {\n                        /* istanbul ignore next */\n                        graphic === null || graphic === void 0 ? void 0 : graphic.localBounds.translate(offset).draw(this._graphicsContext, this._engine.debug.graphics.boundsColor);\n                    }\n                }\n            }\n        }\n    }\n    /**\n     * This applies the current entity transform to the graphics context\n     * @param entity\n     */\n    _applyTransform(entity) {\n        const ancestors = entity.getAncestors();\n        for (const ancestor of ancestors) {\n            const transform = ancestor === null || ancestor === void 0 ? void 0 : ancestor.get(TransformComponent);\n            const optionalBody = ancestor === null || ancestor === void 0 ? void 0 : ancestor.get(BodyComponent);\n            let tx = transform.get();\n            if (optionalBody) {\n                if (this._engine.fixedUpdateFps &&\n                    optionalBody.__oldTransformCaptured &&\n                    optionalBody.enableFixedUpdateInterpolate) {\n                    // Interpolate graphics if needed\n                    const blend = this._engine.currentFrameLagMs / (1000 / this._engine.fixedUpdateFps);\n                    tx = blendTransform(optionalBody.oldTransform, transform.get(), blend, this._targetInterpolationTransform);\n                }\n            }\n            if (transform) {\n                this._graphicsContext.z = transform.z;\n                this._graphicsContext.translate(tx.pos.x, tx.pos.y);\n                this._graphicsContext.scale(tx.scale.x, tx.scale.y);\n                this._graphicsContext.rotate(tx.rotation);\n            }\n        }\n    }\n}\n\n;// CONCATENATED MODULE: ./Debug/DebugSystem.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass DebugSystem extends System {\n    constructor(world) {\n        super();\n        this.world = world;\n        this.systemType = SystemType.Draw;\n        this.priority = SystemPriority.Lowest;\n        this.query = this.world.query([TransformComponent]);\n    }\n    initialize(world, scene) {\n        this._graphicsContext = scene.engine.graphicsContext;\n        this._camera = scene.camera;\n        this._engine = scene.engine;\n        this._collisionSystem = world.systemManager.get(CollisionSystem);\n    }\n    update() {\n        var _a;\n        if (!this._engine.isDebug) {\n            return;\n        }\n        const filterSettings = this._engine.debug.filter;\n        let id;\n        let name;\n        const entitySettings = this._engine.debug.entity;\n        let tx;\n        const txSettings = this._engine.debug.transform;\n        let motion;\n        const motionSettings = this._engine.debug.motion;\n        let colliderComp;\n        const colliderSettings = this._engine.debug.collider;\n        const physicsSettings = this._engine.debug.physics;\n        let graphics;\n        const graphicsSettings = this._engine.debug.graphics;\n        let debugDraw;\n        let body;\n        const bodySettings = this._engine.debug.body;\n        const cameraSettings = this._engine.debug.camera;\n        for (const entity of this.query.entities) {\n            if (entity.hasTag('offscreen')) {\n                // skip offscreen entities\n                continue;\n            }\n            if (entity instanceof Particle) {\n                // Particles crush the renderer :(\n                continue;\n            }\n            if (filterSettings.useFilter) {\n                const allIds = filterSettings.ids.length === 0;\n                const idMatch = allIds || filterSettings.ids.includes(entity.id);\n                if (!idMatch) {\n                    continue;\n                }\n                const allNames = filterSettings.nameQuery === '';\n                const nameMatch = allNames || entity.name.includes(filterSettings.nameQuery);\n                if (!nameMatch) {\n                    continue;\n                }\n            }\n            let cursor = Vector.Zero;\n            const lineHeight = vec(0, 16);\n            id = entity.id;\n            name = entity.name;\n            tx = entity.get(TransformComponent);\n            // This optionally sets our camera based on the entity coord plan (world vs. screen)\n            this._pushCameraTransform(tx);\n            this._graphicsContext.save();\n            if (tx.coordPlane === CoordPlane.Screen) {\n                this._graphicsContext.translate(this._engine.screen.contentArea.left, this._engine.screen.contentArea.top);\n            }\n            this._graphicsContext.z = txSettings.debugZIndex;\n            this._applyTransform(entity);\n            if (tx) {\n                if (txSettings.showAll || txSettings.showPosition) {\n                    this._graphicsContext.debug.drawPoint(Vector.Zero, { size: 4, color: txSettings.positionColor });\n                }\n                if (txSettings.showAll || txSettings.showPositionLabel) {\n                    this._graphicsContext.debug.drawText(`pos${tx.pos.toString(2)}`, cursor);\n                    cursor = cursor.add(lineHeight);\n                }\n                if (txSettings.showAll || txSettings.showZIndex) {\n                    this._graphicsContext.debug.drawText(`z(${tx.z.toFixed(1)})`, cursor);\n                    cursor = cursor.add(lineHeight);\n                }\n                if (entitySettings.showAll || entitySettings.showId) {\n                    this._graphicsContext.debug.drawText(`id(${id}) ${entity.parent ? 'child of id(' + ((_a = entity.parent) === null || _a === void 0 ? void 0 : _a.id) + ')' : ''}`, cursor);\n                    cursor = cursor.add(lineHeight);\n                }\n                if (entitySettings.showAll || entitySettings.showName) {\n                    this._graphicsContext.debug.drawText(`name(${name})`, cursor);\n                    cursor = cursor.add(lineHeight);\n                }\n                if (txSettings.showAll || txSettings.showRotation) {\n                    this._graphicsContext.drawLine(Vector.Zero, Vector.fromAngle(tx.rotation).scale(50).add(Vector.Zero), txSettings.rotationColor, 2);\n                    this._graphicsContext.debug.drawText(`rot deg(${toDegrees(tx.rotation).toFixed(2)})`, cursor);\n                    cursor = cursor.add(lineHeight);\n                }\n                if (txSettings.showAll || txSettings.showScale) {\n                    this._graphicsContext.drawLine(Vector.Zero, tx.scale.add(Vector.Zero), txSettings.scaleColor, 2);\n                }\n            }\n            graphics = entity.get(GraphicsComponent);\n            if (graphics) {\n                if (graphicsSettings.showAll || graphicsSettings.showBounds) {\n                    const bounds = graphics.localBounds;\n                    bounds.draw(this._graphicsContext, graphicsSettings.boundsColor);\n                }\n            }\n            debugDraw = entity.get(DebugGraphicsComponent);\n            if (debugDraw) {\n                if (!debugDraw.useTransform) {\n                    this._graphicsContext.restore();\n                }\n                debugDraw.draw(this._graphicsContext, this._engine.debug);\n                if (!debugDraw.useTransform) {\n                    this._graphicsContext.save();\n                    this._applyTransform(entity);\n                }\n            }\n            body = entity.get(BodyComponent);\n            if (body) {\n                if (bodySettings.showAll || bodySettings.showCollisionGroup) {\n                    this._graphicsContext.debug.drawText(`collision group(${body.group.name})`, cursor);\n                    cursor = cursor.add(lineHeight);\n                }\n                if (bodySettings.showAll || bodySettings.showCollisionType) {\n                    this._graphicsContext.debug.drawText(`collision type(${body.collisionType})`, cursor);\n                    cursor = cursor.add(lineHeight);\n                }\n                if (bodySettings.showAll || bodySettings.showMass) {\n                    this._graphicsContext.debug.drawText(`mass(${body.mass})`, cursor);\n                    cursor = cursor.add(lineHeight);\n                }\n                if (bodySettings.showAll || bodySettings.showMotion) {\n                    this._graphicsContext.debug.drawText(`motion(${body.sleepMotion})`, cursor);\n                    cursor = cursor.add(lineHeight);\n                }\n                if (bodySettings.showAll || bodySettings.showSleeping) {\n                    this._graphicsContext.debug.drawText(`sleeping(${body.canSleep ? body.sleeping : 'cant sleep'})`, cursor);\n                    cursor = cursor.add(lineHeight);\n                }\n            }\n            this._graphicsContext.restore();\n            // World space\n            this._graphicsContext.save();\n            if (tx.coordPlane === CoordPlane.Screen) {\n                this._graphicsContext.translate(this._engine.screen.contentArea.left, this._engine.screen.contentArea.top);\n            }\n            this._graphicsContext.z = txSettings.debugZIndex;\n            motion = entity.get(MotionComponent);\n            if (motion) {\n                if (motionSettings.showAll || motionSettings.showVelocity) {\n                    this._graphicsContext.debug.drawText(`vel${motion.vel.toString(2)}`, cursor.add(tx.globalPos));\n                    this._graphicsContext.drawLine(tx.globalPos, tx.globalPos.add(motion.vel), motionSettings.velocityColor, 2);\n                    cursor = cursor.add(lineHeight);\n                }\n                if (motionSettings.showAll || motionSettings.showAcceleration) {\n                    this._graphicsContext.drawLine(tx.globalPos, tx.globalPos.add(motion.acc), motionSettings.accelerationColor, 2);\n                }\n            }\n            // Colliders live in world space already so after the restore()\n            colliderComp = entity.get(ColliderComponent);\n            if (colliderComp) {\n                const collider = colliderComp.get();\n                if ((colliderSettings.showAll || colliderSettings.showGeometry) && collider) {\n                    collider.debug(this._graphicsContext, colliderSettings.geometryColor, {\n                        lineWidth: colliderSettings.geometryLineWidth,\n                        pointSize: colliderSettings.geometryPointSize\n                    });\n                }\n                if (colliderSettings.showAll || colliderSettings.showBounds) {\n                    if (collider instanceof CompositeCollider) {\n                        const colliders = collider.getColliders();\n                        for (const collider of colliders) {\n                            const bounds = collider.bounds;\n                            const pos = vec(bounds.left, bounds.top);\n                            this._graphicsContext.debug.drawRect(pos.x, pos.y, bounds.width, bounds.height, { color: colliderSettings.boundsColor });\n                            if (colliderSettings.showAll || colliderSettings.showOwner) {\n                                this._graphicsContext.debug.drawText(`owner id(${collider.owner.id})`, pos);\n                            }\n                        }\n                        colliderComp.bounds.draw(this._graphicsContext, colliderSettings.boundsColor);\n                    }\n                    else if (collider) {\n                        const bounds = colliderComp.bounds;\n                        const pos = vec(bounds.left, bounds.top);\n                        this._graphicsContext.debug.drawRect(pos.x, pos.y, bounds.width, bounds.height, { color: colliderSettings.boundsColor });\n                        if (colliderSettings.showAll || colliderSettings.showOwner) {\n                            this._graphicsContext.debug.drawText(`owner id(${colliderComp.owner.id})`, pos);\n                        }\n                    }\n                }\n            }\n            this._graphicsContext.restore();\n            this._popCameraTransform(tx);\n        }\n        this._graphicsContext.save();\n        this._camera.draw(this._graphicsContext);\n        if (physicsSettings.showAll || physicsSettings.showBroadphaseSpacePartitionDebug) {\n            this._collisionSystem.debug(this._graphicsContext);\n        }\n        if (physicsSettings.showAll || physicsSettings.showCollisionContacts || physicsSettings.showCollisionNormals) {\n            for (const [_, contact] of this._engine.debug.stats.currFrame.physics.contacts) {\n                if (physicsSettings.showAll || physicsSettings.showCollisionContacts) {\n                    for (const point of contact.points) {\n                        this._graphicsContext.debug.drawPoint(point, {\n                            size: physicsSettings.contactSize,\n                            color: physicsSettings.collisionContactColor\n                        });\n                    }\n                }\n                if (physicsSettings.showAll || physicsSettings.showCollisionNormals) {\n                    for (const point of contact.points) {\n                        this._graphicsContext.debug.drawLine(point, contact.normal.scale(30).add(point), {\n                            color: physicsSettings.collisionNormalColor\n                        });\n                    }\n                }\n            }\n        }\n        this._graphicsContext.restore();\n        if (cameraSettings) {\n            this._graphicsContext.save();\n            this._camera.draw(this._graphicsContext);\n            if (cameraSettings.showAll || cameraSettings.showFocus) {\n                this._graphicsContext.drawCircle(this._camera.pos, 4, cameraSettings.focusColor);\n            }\n            if (cameraSettings.showAll || cameraSettings.showZoom) {\n                this._graphicsContext.debug.drawText(`zoom(${this._camera.zoom})`, this._camera.pos);\n            }\n            this._graphicsContext.restore();\n        }\n        this._graphicsContext.flush();\n    }\n    postupdate(engine, elapsedMs) {\n        if (this._engine.isDebug) {\n            this._graphicsContext.save();\n            if (this._camera) {\n                this._camera.draw(this._graphicsContext);\n            }\n            Debug.flush(this._graphicsContext);\n            this._graphicsContext.restore();\n        }\n    }\n    /**\n     * This applies the current entity transform to the graphics context\n     * @param entity\n     */\n    _applyTransform(entity) {\n        const ancestors = entity.getAncestors();\n        for (const ancestor of ancestors) {\n            const transform = ancestor === null || ancestor === void 0 ? void 0 : ancestor.get(TransformComponent);\n            if (transform) {\n                this._graphicsContext.translate(transform.pos.x, transform.pos.y);\n                this._graphicsContext.scale(transform.scale.x, transform.scale.y);\n                this._graphicsContext.rotate(transform.rotation);\n            }\n        }\n    }\n    /**\n     * Applies the current camera transform if in world coordinates\n     * @param transform\n     */\n    _pushCameraTransform(transform) {\n        // Establish camera offset per entity\n        if (transform.coordPlane === CoordPlane.World) {\n            this._graphicsContext.save();\n            if (this._camera) {\n                this._camera.draw(this._graphicsContext);\n            }\n        }\n    }\n    /**\n     * Resets the current camera transform if in world coordinates\n     * @param transform\n     */\n    _popCameraTransform(transform) {\n        if (transform.coordPlane === CoordPlane.World) {\n            // Apply camera world offset\n            this._graphicsContext.restore();\n        }\n    }\n}\n\n;// CONCATENATED MODULE: ./Input/PointerSystem.ts\n\n\n\n\n\n/**\n * The PointerSystem is responsible for dispatching pointer events to entities\n * that need them.\n *\n * The PointerSystem can be optionally configured by the [[PointerComponent]], by default Entities use\n * the [[Collider]]'s shape for pointer events.\n */\nclass PointerSystem extends System {\n    constructor(world) {\n        super();\n        this.world = world;\n        this.systemType = SystemType.Update;\n        this.priority = SystemPriority.Higher;\n        /**\n         * Optionally override component configuration for all entities\n         */\n        this.overrideUseColliderShape = false;\n        /**\n         * Optionally override component configuration for all entities\n         */\n        this.overrideUseGraphicsBounds = false;\n        this.lastFrameEntityToPointers = new Map();\n        this.currentFrameEntityToPointers = new Map();\n        this._sortedTransforms = [];\n        this._sortedEntities = [];\n        this._zHasChanged = false;\n        this._zIndexUpdate = () => {\n            this._zHasChanged = true;\n        };\n        this.query = this.world.query([TransformComponent, PointerComponent]);\n        this.query.entityAdded$.subscribe(e => {\n            const tx = e.get(TransformComponent);\n            this._sortedTransforms.push(tx);\n            this._sortedEntities.push(tx.owner);\n            tx.zIndexChanged$.subscribe(this._zIndexUpdate);\n            this._zHasChanged = true;\n        });\n        this.query.entityRemoved$.subscribe(e => {\n            const tx = e.get(TransformComponent);\n            tx.zIndexChanged$.unsubscribe(this._zIndexUpdate);\n            const index = this._sortedTransforms.indexOf(tx);\n            if (index > -1) {\n                this._sortedTransforms.splice(index, 1);\n                this._sortedEntities.splice(index, 1);\n            }\n        });\n    }\n    initialize(world, scene) {\n        this._engine = scene.engine;\n        this._scene = scene;\n    }\n    preupdate() {\n        // event receiver might change per frame\n        this._receivers = [this._engine.input.pointers, this._scene.input.pointers];\n        this._engineReceiver = this._engine.input.pointers;\n        if (this._zHasChanged) {\n            this._sortedTransforms.sort((a, b) => {\n                return b.z - a.z;\n            });\n            this._sortedEntities = this._sortedTransforms.map(t => t.owner);\n            this._zHasChanged = false;\n        }\n    }\n    entityCurrentlyUnderPointer(entity, pointerId) {\n        return this.currentFrameEntityToPointers.has(entity.id) &&\n            this.currentFrameEntityToPointers.get(entity.id).includes(pointerId);\n    }\n    entityWasUnderPointer(entity, pointerId) {\n        return this.lastFrameEntityToPointers.has(entity.id) &&\n            this.lastFrameEntityToPointers.get(entity.id).includes(pointerId);\n    }\n    entered(entity, pointerId) {\n        return this.entityCurrentlyUnderPointer(entity, pointerId) &&\n            !this.lastFrameEntityToPointers.has(entity.id);\n    }\n    left(entity, pointerId) {\n        return !this.currentFrameEntityToPointers.has(entity.id) &&\n            this.entityWasUnderPointer(entity, pointerId);\n    }\n    addPointerToEntity(entity, pointerId) {\n        if (!this.currentFrameEntityToPointers.has(entity.id)) {\n            this.currentFrameEntityToPointers.set(entity.id, [pointerId]);\n            return;\n        }\n        const pointers = this.currentFrameEntityToPointers.get(entity.id);\n        this.currentFrameEntityToPointers.set(entity.id, pointers.concat(pointerId));\n    }\n    update() {\n        // Locate all the pointer/entity mappings\n        this._processPointerToEntity(this._sortedEntities);\n        // Dispatch pointer events on entities\n        this._dispatchEvents(this._sortedEntities);\n        // Clear last frame's events\n        this._receivers.forEach(r => r.update());\n        this.lastFrameEntityToPointers.clear();\n        this.lastFrameEntityToPointers = new Map(this.currentFrameEntityToPointers);\n        this.currentFrameEntityToPointers.clear();\n        this._receivers.forEach(r => r.clear());\n    }\n    _processPointerToEntity(entities) {\n        var _a;\n        let transform;\n        let collider;\n        let graphics;\n        let pointer;\n        const receiver = this._engineReceiver;\n        // TODO probably a spatial partition optimization here to quickly query bounds for pointer\n        // doesn't seem to cause issues tho for perf\n        // Pre-process find entities under pointers\n        for (const entity of entities) {\n            transform = entity.get(TransformComponent);\n            pointer = (_a = entity.get(PointerComponent)) !== null && _a !== void 0 ? _a : new PointerComponent;\n            // Check collider contains pointer\n            collider = entity.get(ColliderComponent);\n            if (collider && (pointer.useColliderShape || this.overrideUseColliderShape)) {\n                collider.update();\n                const geom = collider.get();\n                if (geom) {\n                    for (const [pointerId, pos] of receiver.currentFramePointerCoords.entries()) {\n                        if (geom.contains(transform.coordPlane === CoordPlane.World ? pos.worldPos : pos.screenPos)) {\n                            this.addPointerToEntity(entity, pointerId);\n                        }\n                    }\n                }\n            }\n            // Check graphics contains pointer\n            graphics = entity.get(GraphicsComponent);\n            if (graphics && (pointer.useGraphicsBounds || this.overrideUseGraphicsBounds)) {\n                const graphicBounds = graphics.localBounds.transform(transform.get().matrix);\n                for (const [pointerId, pos] of receiver.currentFramePointerCoords.entries()) {\n                    if (graphicBounds.contains(transform.coordPlane === CoordPlane.World ? pos.worldPos : pos.screenPos)) {\n                        this.addPointerToEntity(entity, pointerId);\n                    }\n                }\n            }\n        }\n    }\n    _processDownAndEmit(entity) {\n        const receiver = this._engineReceiver;\n        const lastDownPerPointer = new Map(); // TODO will this get confused between receivers?\n        // Loop through down and dispatch to entities\n        for (const event of receiver.currentFrameDown) {\n            if (event.active && entity.active && this.entityCurrentlyUnderPointer(entity, event.pointerId)) {\n                entity.events.emit('pointerdown', event);\n                if (receiver.isDragStart(event.pointerId)) {\n                    entity.events.emit('pointerdragstart', event);\n                }\n            }\n            lastDownPerPointer.set(event.pointerId, event);\n        }\n        return lastDownPerPointer;\n    }\n    _processUpAndEmit(entity) {\n        const receiver = this._engineReceiver;\n        const lastUpPerPointer = new Map();\n        // Loop through up and dispatch to entities\n        for (const event of receiver.currentFrameUp) {\n            if (event.active && entity.active && this.entityCurrentlyUnderPointer(entity, event.pointerId)) {\n                entity.events.emit('pointerup', event);\n                if (receiver.isDragEnd(event.pointerId)) {\n                    entity.events.emit('pointerdragend', event);\n                }\n            }\n            lastUpPerPointer.set(event.pointerId, event);\n        }\n        return lastUpPerPointer;\n    }\n    _processMoveAndEmit(entity) {\n        const receiver = this._engineReceiver;\n        const lastMovePerPointer = new Map();\n        // Loop through move and dispatch to entities\n        for (const event of receiver.currentFrameMove) {\n            if (event.active && entity.active && this.entityCurrentlyUnderPointer(entity, event.pointerId)) {\n                // move\n                entity.events.emit('pointermove', event);\n                if (receiver.isDragging(event.pointerId)) {\n                    entity.events.emit('pointerdragmove', event);\n                }\n            }\n            lastMovePerPointer.set(event.pointerId, event);\n        }\n        return lastMovePerPointer;\n    }\n    _processEnterLeaveAndEmit(entity, lastUpDownMoveEvents) {\n        const receiver = this._engineReceiver;\n        // up, down, and move are considered for enter and leave\n        for (const event of lastUpDownMoveEvents) {\n            // enter\n            if (event.active && entity.active && this.entered(entity, event.pointerId)) {\n                entity.events.emit('pointerenter', event);\n                if (receiver.isDragging(event.pointerId)) {\n                    entity.events.emit('pointerdragenter', event);\n                }\n                break;\n            }\n            if (event.active && entity.active &&\n                // leave can happen on move\n                (this.left(entity, event.pointerId) ||\n                    // or leave can happen on pointer up\n                    (this.entityCurrentlyUnderPointer(entity, event.pointerId) && event.type === 'up'))) {\n                entity.events.emit('pointerleave', event);\n                if (receiver.isDragging(event.pointerId)) {\n                    entity.events.emit('pointerdragleave', event);\n                }\n                break;\n            }\n        }\n    }\n    _processCancelAndEmit(entity) {\n        const receiver = this._engineReceiver;\n        // cancel\n        for (const event of receiver.currentFrameCancel) {\n            if (event.active && entity.active && this.entityCurrentlyUnderPointer(entity, event.pointerId)) {\n                entity.events.emit('pointercancel', event);\n            }\n        }\n    }\n    _processWheelAndEmit(entity) {\n        const receiver = this._engineReceiver;\n        // wheel\n        for (const event of receiver.currentFrameWheel) {\n            // Currently the wheel only fires under the primary pointer '0'\n            if (event.active && entity.active && this.entityCurrentlyUnderPointer(entity, 0)) {\n                entity.events.emit('pointerwheel', event);\n            }\n        }\n    }\n    _dispatchEvents(entities) {\n        const lastFrameEntities = new Set(this.lastFrameEntityToPointers.keys());\n        const currentFrameEntities = new Set(this.currentFrameEntityToPointers.keys());\n        // Filter preserves z order\n        const entitiesWithEvents = entities.filter(e => lastFrameEntities.has(e.id) || currentFrameEntities.has(e.id));\n        let lastMovePerPointer;\n        let lastUpPerPointer;\n        let lastDownPerPointer;\n        // Dispatch events in entity z order\n        for (const entity of entitiesWithEvents) {\n            lastDownPerPointer = this._processDownAndEmit(entity);\n            lastUpPerPointer = this._processUpAndEmit(entity);\n            lastMovePerPointer = this._processMoveAndEmit(entity);\n            const lastUpDownMoveEvents = [\n                ...lastMovePerPointer.values(),\n                ...lastDownPerPointer.values(),\n                ...lastUpPerPointer.values()\n            ];\n            this._processEnterLeaveAndEmit(entity, lastUpDownMoveEvents);\n            this._processCancelAndEmit(entity);\n            this._processWheelAndEmit(entity);\n        }\n    }\n}\n\n;// CONCATENATED MODULE: ./Actions/ActionsSystem.ts\n\n\n\nclass ActionsSystem extends System {\n    constructor(world) {\n        super();\n        this.world = world;\n        this.systemType = SystemType.Update;\n        this.priority = SystemPriority.Higher;\n        this._actions = [];\n        this.query = this.world.query([ActionsComponent]);\n        this.query.entityAdded$.subscribe(e => this._actions.push(e.get(ActionsComponent)));\n        this.query.entityRemoved$.subscribe(e => {\n            const action = e.get(ActionsComponent);\n            const index = this._actions.indexOf(action);\n            if (index > -1) {\n                this._actions.splice(index, 1);\n            }\n        });\n    }\n    update(delta) {\n        for (const actions of this._actions) {\n            actions.update(delta);\n        }\n    }\n}\n\n;// CONCATENATED MODULE: ./TileMap/IsometricEntityComponent.ts\n\nclass IsometricEntityComponent extends Component {\n    /**\n     * Specify the isometric map to use to position this entity's z-index\n     * @param mapOrOptions\n     */\n    constructor(mapOrOptions) {\n        super();\n        /**\n         * Vertical \"height\" in the isometric world\n         */\n        this.elevation = 0;\n        this.columns = mapOrOptions.columns;\n        this.rows = mapOrOptions.rows;\n        this.tileWidth = mapOrOptions.tileWidth;\n        this.tileHeight = mapOrOptions.tileHeight;\n    }\n}\n\n;// CONCATENATED MODULE: ./TileMap/IsometricEntitySystem.ts\n\n\n\n\nclass IsometricEntitySystem extends System {\n    constructor(world) {\n        super();\n        this.world = world;\n        this.systemType = SystemType.Update;\n        this.priority = SystemPriority.Lower;\n        this.query = this.world.query([TransformComponent, IsometricEntityComponent]);\n    }\n    update() {\n        let transform;\n        let iso;\n        for (const entity of this.query.entities) {\n            transform = entity.get(TransformComponent);\n            iso = entity.get(IsometricEntityComponent);\n            const maxZindexPerElevation = Math.max(iso.columns * iso.tileWidth, iso.rows * iso.tileHeight);\n            const newZ = maxZindexPerElevation * iso.elevation + transform.pos.y;\n            transform.z = newZ;\n        }\n    }\n}\n\n;// CONCATENATED MODULE: ./Graphics/OffscreenSystem.ts\n\n\n\n\n\n\n\n\nclass OffscreenSystem extends System {\n    constructor(world) {\n        super();\n        this.world = world;\n        this.systemType = SystemType.Draw;\n        this.priority = SystemPriority.Higher;\n        this.query = this.world.query([TransformComponent, GraphicsComponent]);\n    }\n    initialize(world, scene) {\n        this._camera = scene.camera;\n        this._screen = scene.engine.screen;\n    }\n    update() {\n        this._worldBounds = this._screen.getWorldBounds();\n        let transform;\n        let graphics;\n        let maybeParallax;\n        for (const entity of this.query.entities) {\n            graphics = entity.get(GraphicsComponent);\n            transform = entity.get(TransformComponent);\n            maybeParallax = entity.get(ParallaxComponent);\n            let parallaxOffset;\n            if (maybeParallax) {\n                // We use the Tiled formula\n                // https://doc.mapeditor.org/en/latest/manual/layers/#parallax-scrolling-factor\n                // cameraPos * (1 - parallaxFactor)\n                const oneMinusFactor = Vector.One.sub(maybeParallax.parallaxFactor);\n                parallaxOffset = this._camera.pos.scale(oneMinusFactor);\n            }\n            // Figure out if entities are offscreen\n            const entityOffscreen = this._isOffscreen(transform, graphics, parallaxOffset);\n            if (entityOffscreen && !entity.hasTag('ex.offscreen')) {\n                entity.events.emit('exitviewport', new ExitViewPortEvent(entity));\n                entity.addTag('ex.offscreen');\n            }\n            if (!entityOffscreen && entity.hasTag('ex.offscreen')) {\n                entity.events.emit('enterviewport', new EnterViewPortEvent(entity));\n                entity.removeTag('ex.offscreen');\n            }\n        }\n    }\n    _isOffscreen(transform, graphics, parallaxOffset) {\n        if (transform.coordPlane === CoordPlane.World) {\n            let bounds = graphics.localBounds;\n            if (parallaxOffset) {\n                bounds = bounds.translate(parallaxOffset);\n            }\n            const transformedBounds = bounds.transform(transform.get().matrix);\n            const graphicsOffscreen = !this._worldBounds.overlaps(transformedBounds);\n            return graphicsOffscreen;\n        }\n        else {\n            // TODO screen coordinates\n            return false;\n        }\n    }\n}\n\n;// CONCATENATED MODULE: ./Collision/PhysicsWorld.ts\n\n\n\n\nclass PhysicsWorld {\n    get config() {\n        return watchDeep(this._config, change => {\n            this.$configUpdate.notifyAll(change);\n        });\n    }\n    set config(newConfig) {\n        this._config = newConfig;\n        this.$configUpdate.notifyAll(newConfig);\n    }\n    /**\n     * Spatial data structure for locating potential collision pairs and ray casts\n     */\n    get collisionProcessor() {\n        if (this._configDirty) {\n            this._configDirty = false;\n            // preserve tracked colliders if config updates\n            const colliders = this._collisionProcessor.getColliders();\n            this._collisionProcessor = new DynamicTreeCollisionProcessor(this._config);\n            for (const collider of colliders) {\n                this._collisionProcessor.track(collider);\n            }\n        }\n        return this._collisionProcessor;\n    }\n    constructor(config) {\n        this.$configUpdate = new Observable;\n        this._configDirty = false;\n        this.config = config;\n        this.$configUpdate.subscribe((config) => {\n            this._configDirty = true;\n            BodyComponent.updateDefaultPhysicsConfig(config.bodies);\n        });\n        this._collisionProcessor = new DynamicTreeCollisionProcessor(this.config);\n    }\n    /**\n     * Raycast into the scene's physics world\n     * @param ray\n     * @param options\n     */\n    rayCast(ray, options) {\n        return this.collisionProcessor.rayCast(ray, options);\n    }\n}\n\n;// CONCATENATED MODULE: ./Input/Gamepad.ts\n\n\nconst GamepadEvents = {\n    GamepadConnect: 'connect',\n    GamepadDisconnect: 'disconnect',\n    GamepadButton: 'button',\n    GamepadAxis: 'axis'\n};\n/**\n * Excalibur leverages the HTML5 Gamepad API [where it is supported](http://caniuse.com/#feat=gamepad)\n * to provide controller support for your games.\n */\nclass Gamepads {\n    constructor() {\n        this.events = new EventEmitter();\n        /**\n         * Whether or not to poll for Gamepad input (default: `false`)\n         */\n        this.enabled = false;\n        /**\n         * Whether or not Gamepad API is supported\n         */\n        this.supported = !!navigator.getGamepads;\n        this._gamePadTimeStamps = [0, 0, 0, 0];\n        this._oldPads = [];\n        this._pads = [];\n        this._initSuccess = false;\n        this._navigator = navigator;\n        this._minimumConfiguration = null;\n        this._enabled = true;\n    }\n    init() {\n        if (!this.supported) {\n            return;\n        }\n        if (this._initSuccess) {\n            return;\n        }\n        // In Chrome, this will return 4 undefined items until a button is pressed\n        // In FF, this will not return any items until a button is pressed\n        this._oldPads = this._clonePads(this._navigator.getGamepads());\n        if (this._oldPads.length && this._oldPads[0]) {\n            this._initSuccess = true;\n        }\n    }\n    toggleEnabled(enabled) {\n        this._enabled = enabled;\n    }\n    /**\n     * Sets the minimum gamepad configuration, for example {axis: 4, buttons: 4} means\n     * this game requires at minimum 4 axis inputs and 4 buttons, this is not restrictive\n     * all other controllers with more axis or buttons are valid as well. If no minimum\n     * configuration is set all pads are valid.\n     */\n    setMinimumGamepadConfiguration(config) {\n        this._enableAndUpdate(); // if config is used, implicitly enable\n        this._minimumConfiguration = config;\n    }\n    /**\n     * When implicitly enabled, set the enabled flag and run an update so information is updated\n     */\n    _enableAndUpdate() {\n        if (!this.enabled) {\n            this.enabled = true;\n            this.update();\n        }\n    }\n    /**\n     * Checks a navigator gamepad against the minimum configuration if present.\n     */\n    _isGamepadValid(pad) {\n        if (!this._minimumConfiguration) {\n            return true;\n        }\n        if (!pad) {\n            return false;\n        }\n        const axesLength = pad.axes.filter((value) => {\n            return typeof value !== undefined;\n        }).length;\n        const buttonLength = pad.buttons.filter((value) => {\n            return typeof value !== undefined;\n        }).length;\n        return axesLength >= this._minimumConfiguration.axis && buttonLength >= this._minimumConfiguration.buttons && pad.connected;\n    }\n    emit(eventName, event) {\n        this.events.emit(eventName, event);\n    }\n    on(eventName, handler) {\n        this._enableAndUpdate(); // implicitly enable\n        return this.events.on(eventName, handler);\n    }\n    once(eventName, handler) {\n        return this.events.once(eventName, handler);\n    }\n    off(eventName, handler) {\n        this._enableAndUpdate(); // implicitly enable\n        this.events.off(eventName, handler);\n    }\n    /**\n     * Updates Gamepad state and publishes Gamepad events\n     */\n    update() {\n        if (!this.enabled || !this.supported) {\n            return;\n        }\n        if (!this._enabled) {\n            return;\n        }\n        this.init();\n        const gamepads = this._navigator.getGamepads();\n        for (let i = 0; i < gamepads.length; i++) {\n            if (!gamepads[i]) {\n                const gamepad = this.at(i);\n                // If was connected, but now isn't emit the disconnect event\n                if (gamepad.connected) {\n                    this.events.emit('disconnect', new GamepadDisconnectEvent(i, gamepad));\n                }\n                // Reset connection status\n                gamepad.connected = false;\n                continue;\n            }\n            else {\n                if (!this.at(i).connected && this._isGamepadValid(gamepads[i])) {\n                    this.events.emit('connect', new GamepadConnectEvent(i, this.at(i)));\n                }\n                // Set connection status\n                this.at(i).connected = true;\n            }\n            this.at(i).update();\n            // Only supported in Chrome\n            if (gamepads[i].timestamp && gamepads[i].timestamp === this._gamePadTimeStamps[i]) {\n                continue;\n            }\n            this._gamePadTimeStamps[i] = gamepads[i].timestamp;\n            // Add reference to navigator gamepad\n            this.at(i).navigatorGamepad = gamepads[i];\n            // Buttons\n            let b, bi, a, ai, value;\n            for (b in Buttons) {\n                bi = Buttons[b];\n                if (typeof bi === 'number') {\n                    if (gamepads[i].buttons[bi]) {\n                        value = gamepads[i].buttons[bi].value;\n                        if (value !== this._oldPads[i].getButton(bi)) {\n                            if (gamepads[i].buttons[bi].pressed) {\n                                this.at(i).updateButton(bi, value);\n                                this.at(i).events.emit('button', new GamepadButtonEvent(bi, value, this.at(i)));\n                            }\n                            else {\n                                this.at(i).updateButton(bi, 0);\n                            }\n                        }\n                    }\n                }\n            }\n            // Axes\n            for (a in Axes) {\n                ai = Axes[a];\n                if (typeof ai === 'number') {\n                    value = gamepads[i].axes[ai];\n                    if (value !== this._oldPads[i].getAxes(ai)) {\n                        this.at(i).updateAxes(ai, value);\n                        this.at(i).events.emit('axis', new GamepadAxisEvent(ai, value, this.at(i)));\n                    }\n                }\n            }\n            this._oldPads[i] = this._clonePad(gamepads[i]);\n        }\n    }\n    /**\n     * Safely retrieves a Gamepad at a specific index and creates one if it doesn't yet exist\n     */\n    at(index) {\n        this._enableAndUpdate(); // implicitly enable gamepads when at() is called\n        if (index >= this._pads.length) {\n            // Ensure there is a pad to retrieve\n            for (let i = this._pads.length - 1, max = index; i < max; i++) {\n                this._pads.push(new Gamepad());\n                this._oldPads.push(new Gamepad());\n            }\n        }\n        return this._pads[index];\n    }\n    /**\n     * Returns a list of all valid gamepads that meet the minimum configuration requirement.\n     */\n    getValidGamepads() {\n        this._enableAndUpdate();\n        const result = [];\n        for (let i = 0; i < this._pads.length; i++) {\n            if (this._isGamepadValid(this.at(i).navigatorGamepad) && this.at(i).connected) {\n                result.push(this.at(i));\n            }\n        }\n        return result;\n    }\n    /**\n     * Gets the number of connected gamepads\n     */\n    count() {\n        return this._pads.filter((p) => p.connected).length;\n    }\n    _clonePads(pads) {\n        const arr = [];\n        for (let i = 0, len = pads.length; i < len; i++) {\n            arr.push(this._clonePad(pads[i]));\n        }\n        return arr;\n    }\n    /**\n     * Fastest way to clone a known object is to do it yourself\n     */\n    _clonePad(pad) {\n        let i, len;\n        const clonedPad = new Gamepad();\n        if (!pad) {\n            return clonedPad;\n        }\n        for (i = 0, len = pad.buttons.length; i < len; i++) {\n            if (pad.buttons[i]) {\n                clonedPad.updateButton(i, pad.buttons[i].value);\n            }\n        }\n        for (i = 0, len = pad.axes.length; i < len; i++) {\n            clonedPad.updateAxes(i, pad.axes[i]);\n        }\n        return clonedPad;\n    }\n}\n/**\n * The minimum value an axis has to move before considering it a change\n */\nGamepads.MinAxisMoveThreshold = 0.05;\n/**\n * Gamepad holds state information for a connected controller. See [[Gamepads]]\n * for more information on handling controller input.\n */\nclass Gamepad {\n    constructor() {\n        this.events = new EventEmitter();\n        this.connected = false;\n        this._axes = new Array(4);\n        this._buttons = new Array(16);\n        this._buttonsUp = new Array(16);\n        this._buttonsDown = new Array(16);\n        for (let i = 0; i < this._buttons.length; i++) {\n            this._buttons[i] = 0;\n        }\n        for (let i = 0; i < this._axes.length; i++) {\n            this._axes[i] = 0;\n        }\n    }\n    update() {\n        // Reset buttonsDown and buttonsUp after update is complete\n        this._buttonsDown = new Array(16);\n        this._buttonsUp = new Array(16);\n    }\n    /**\n     * Whether or not the given button is pressed\n     * @deprecated will be removed in v0.28.0. Use isButtonHeld instead\n     * @param button     The button to query\n     * @param threshold  The threshold over which the button is considered to be pressed\n     */\n    isButtonPressed(button, threshold = 1) {\n        return this._buttons[button] >= threshold;\n    }\n    /**\n     * Tests if a certain button is held down. This is persisted between frames.\n     * @param button     The button to query\n     * @param threshold  The threshold over which the button is considered to be pressed\n     */\n    isButtonHeld(button, threshold = 1) {\n        return this._buttons[button] >= threshold;\n    }\n    /**\n     * Tests if a certain button was just pressed this frame. This is cleared at the end of the update frame.\n     * @param button Test whether a button was just pressed\n     * @param threshold  The threshold over which the button is considered to be pressed\n     */\n    wasButtonPressed(button, threshold = 1) {\n        return this._buttonsDown[button] >= threshold;\n    }\n    /**\n     * Tests if a certain button was just released this frame. This is cleared at the end of the update frame.\n     * @param button  Test whether a button was just released\n     */\n    wasButtonReleased(button) {\n        return Boolean(this._buttonsUp[button]);\n    }\n    /**\n     * Gets the given button value between 0 and 1\n     */\n    getButton(button) {\n        return this._buttons[button];\n    }\n    /**\n     * Gets the given axis value between -1 and 1. Values below\n     * [[MinAxisMoveThreshold]] are considered 0.\n     */\n    getAxes(axes) {\n        const value = this._axes[axes];\n        if (Math.abs(value) < Gamepads.MinAxisMoveThreshold) {\n            return 0;\n        }\n        else {\n            return value;\n        }\n    }\n    updateButton(buttonIndex, value) {\n        // button was just released\n        if (value === 0 && this._buttons[buttonIndex]) {\n            this._buttonsUp[buttonIndex] = 1;\n            // button was just pressed\n        }\n        else {\n            this._buttonsDown[buttonIndex] = value;\n        }\n        this._buttons[buttonIndex] = value;\n    }\n    updateAxes(axesIndex, value) {\n        this._axes[axesIndex] = value;\n    }\n    emit(eventName, event) {\n        this.events.emit(eventName, event);\n    }\n    on(eventName, handler) {\n        return this.events.on(eventName, handler);\n    }\n    once(eventName, handler) {\n        return this.events.once(eventName, handler);\n    }\n    off(eventName, handler) {\n        this.events.off(eventName, handler);\n    }\n}\n/**\n * Gamepad Buttons enumeration\n */\nvar Buttons;\n(function (Buttons) {\n    /**\n     * Face 1 button (e.g. A)\n     */\n    Buttons[Buttons[\"Face1\"] = 0] = \"Face1\";\n    /**\n     * Face 2 button (e.g. B)\n     */\n    Buttons[Buttons[\"Face2\"] = 1] = \"Face2\";\n    /**\n     * Face 3 button (e.g. X)\n     */\n    Buttons[Buttons[\"Face3\"] = 2] = \"Face3\";\n    /**\n     * Face 4 button (e.g. Y)\n     */\n    Buttons[Buttons[\"Face4\"] = 3] = \"Face4\";\n    /**\n     * Left bumper button\n     */\n    Buttons[Buttons[\"LeftBumper\"] = 4] = \"LeftBumper\";\n    /**\n     * Right bumper button\n     */\n    Buttons[Buttons[\"RightBumper\"] = 5] = \"RightBumper\";\n    /**\n     * Left trigger button\n     */\n    Buttons[Buttons[\"LeftTrigger\"] = 6] = \"LeftTrigger\";\n    /**\n     * Right trigger button\n     */\n    Buttons[Buttons[\"RightTrigger\"] = 7] = \"RightTrigger\";\n    /**\n     * Select button\n     */\n    Buttons[Buttons[\"Select\"] = 8] = \"Select\";\n    /**\n     * Start button\n     */\n    Buttons[Buttons[\"Start\"] = 9] = \"Start\";\n    /**\n     * Left analog stick press (e.g. L3)\n     */\n    Buttons[Buttons[\"LeftStick\"] = 10] = \"LeftStick\";\n    /**\n     * Right analog stick press (e.g. R3)\n     */\n    Buttons[Buttons[\"RightStick\"] = 11] = \"RightStick\";\n    /**\n     * D-pad up\n     */\n    Buttons[Buttons[\"DpadUp\"] = 12] = \"DpadUp\";\n    /**\n     * D-pad down\n     */\n    Buttons[Buttons[\"DpadDown\"] = 13] = \"DpadDown\";\n    /**\n     * D-pad left\n     */\n    Buttons[Buttons[\"DpadLeft\"] = 14] = \"DpadLeft\";\n    /**\n     * D-pad right\n     */\n    Buttons[Buttons[\"DpadRight\"] = 15] = \"DpadRight\";\n})(Buttons || (Buttons = {}));\n/**\n * Gamepad Axes enumeration\n */\nvar Axes;\n(function (Axes) {\n    /**\n     * Left analogue stick X direction\n     */\n    Axes[Axes[\"LeftStickX\"] = 0] = \"LeftStickX\";\n    /**\n     * Left analogue stick Y direction\n     */\n    Axes[Axes[\"LeftStickY\"] = 1] = \"LeftStickY\";\n    /**\n     * Right analogue stick X direction\n     */\n    Axes[Axes[\"RightStickX\"] = 2] = \"RightStickX\";\n    /**\n     * Right analogue stick Y direction\n     */\n    Axes[Axes[\"RightStickY\"] = 3] = \"RightStickY\";\n})(Axes || (Axes = {}));\n\n;// CONCATENATED MODULE: ./Input/InputMapper.ts\n/**\n * This allows you to map multiple inputs to specific commands! This is especially useful when\n * you need to allow multiple input sources to control a specific action.\n */\nclass InputMapper {\n    constructor(inputs) {\n        this.inputs = inputs;\n        this._handlers = new Map();\n    }\n    /**\n     * Executes the input map, called internally by Excalibur\n     */\n    execute() {\n        for (const [input, command] of this._handlers.entries()) {\n            const results = input(this.inputs);\n            if (results) {\n                command(results);\n            }\n        }\n    }\n    /**\n     * This allows you to map multiple inputs to specific commands! This is useful\n     *\n     * The inputHandler should return a truthy value if you wish the commandHandler to fire.\n     *\n     * Example:\n     * ```typescript\n     * const moveRight = (amount: number) => { actor.vel.x = 100 * amount }\n     * const moveLeft = (amount: number) => { actor.vel.x = -100 * amount }\n     * const moveUp = (amount: number) => { actor.vel.y = -100 * amount }\n     * const moveDown = (amount: number) => { actor.vel.y = 100 * amount }\n     *\n     * engine.inputMapper.on(({keyboard}) => keyboard.isHeld(ex.Keys.ArrowRight) ? 1 : 0, moveRight);\n     * engine.inputMapper.on(({gamepads}) => gamepads.at(0).isButtonPressed(ex.Buttons.DpadRight) ? 1 : 0, moveRight);\n     * engine.inputMapper.on(({gamepads}) => gamepads.at(0).getAxes(ex.Axes.LeftStickX) > 0 ?\n     *  gamepads.at(0).getAxes(ex.Axes.LeftStickX) : 0, moveRight);\n     * ```\n     * @param inputHandler\n     * @param commandHandler\n     */\n    on(inputHandler, commandHandler) {\n        this._handlers.set(inputHandler, commandHandler);\n    }\n}\n\n;// CONCATENATED MODULE: ./Util/IFrame.ts\n/**\n * Checks if excalibur is in a x-origin iframe\n */\nfunction isCrossOriginIframe() {\n    try {\n        // Try and listen to events on top window frame if within an iframe.\n        //\n        // See https://github.com/excaliburjs/Excalibur/issues/1294\n        //\n        // Attempt to add an event listener, which triggers a DOMException on\n        // cross-origin iframes\n        const noop = () => {\n            return;\n        };\n        window.top.addEventListener('blur', noop);\n        window.top.removeEventListener('blur', noop);\n    }\n    catch (_a) {\n        return true;\n    }\n    return false;\n}\n\n;// CONCATENATED MODULE: ./Input/Keyboard.ts\n\n\n\n\n/**\n * Enum representing physical input key codes\n */\nvar Keys;\n(function (Keys) {\n    // NUMPAD\n    Keys[\"Num0\"] = \"Numpad0\";\n    Keys[\"Num1\"] = \"Numpad1\";\n    Keys[\"Num2\"] = \"Numpad2\";\n    Keys[\"Num3\"] = \"Numpad3\";\n    Keys[\"Num4\"] = \"Numpad4\";\n    Keys[\"Num5\"] = \"Numpad5\";\n    Keys[\"Num6\"] = \"Numpad6\";\n    Keys[\"Num7\"] = \"Numpad7\";\n    Keys[\"Num8\"] = \"Numpad8\";\n    Keys[\"Num9\"] = \"Numpad9\";\n    Keys[\"NumAdd\"] = \"NumpadAdd\";\n    Keys[\"NumSubtract\"] = \"NumpadSubtract\";\n    Keys[\"NumMultiply\"] = \"NumpadMultiply\";\n    Keys[\"NumDivide\"] = \"NumpadDivide\";\n    // NumComma = 'NumpadComma', // not x-browser\n    Keys[\"NumDecimal\"] = \"NumpadDecimal\";\n    Keys[\"Numpad0\"] = \"Numpad0\";\n    Keys[\"Numpad1\"] = \"Numpad1\";\n    Keys[\"Numpad2\"] = \"Numpad2\";\n    Keys[\"Numpad3\"] = \"Numpad3\";\n    Keys[\"Numpad4\"] = \"Numpad4\";\n    Keys[\"Numpad5\"] = \"Numpad5\";\n    Keys[\"Numpad6\"] = \"Numpad6\";\n    Keys[\"Numpad7\"] = \"Numpad7\";\n    Keys[\"Numpad8\"] = \"Numpad8\";\n    Keys[\"Numpad9\"] = \"Numpad9\";\n    Keys[\"NumpadAdd\"] = \"NumpadAdd\";\n    Keys[\"NumpadSubtract\"] = \"NumpadSubtract\";\n    Keys[\"NumpadMultiply\"] = \"NumpadMultiply\";\n    Keys[\"NumpadDivide\"] = \"NumpadDivide\";\n    // NumpadComma = 'NumpadComma', // not x-browser\n    Keys[\"NumpadDecimal\"] = \"NumpadDecimal\";\n    // MODIFIERS\n    Keys[\"NumLock\"] = \"NumLock\";\n    Keys[\"ShiftLeft\"] = \"ShiftLeft\";\n    Keys[\"ShiftRight\"] = \"ShiftRight\";\n    Keys[\"AltLeft\"] = \"AltLeft\";\n    Keys[\"AltRight\"] = \"AltRight\";\n    Keys[\"ControlLeft\"] = \"ControlLeft\";\n    Keys[\"ControlRight\"] = \"ControlRight\";\n    Keys[\"MetaLeft\"] = \"MetaLeft\";\n    Keys[\"MetaRight\"] = \"MetaRight\";\n    // NUMBERS\n    Keys[\"Key0\"] = \"Digit0\";\n    Keys[\"Key1\"] = \"Digit1\";\n    Keys[\"Key2\"] = \"Digit2\";\n    Keys[\"Key3\"] = \"Digit3\";\n    Keys[\"Key4\"] = \"Digit4\";\n    Keys[\"Key5\"] = \"Digit5\";\n    Keys[\"Key6\"] = \"Digit6\";\n    Keys[\"Key7\"] = \"Digit7\";\n    Keys[\"Key8\"] = \"Digit8\";\n    Keys[\"Key9\"] = \"Digit9\";\n    Keys[\"Digit0\"] = \"Digit0\";\n    Keys[\"Digit1\"] = \"Digit1\";\n    Keys[\"Digit2\"] = \"Digit2\";\n    Keys[\"Digit3\"] = \"Digit3\";\n    Keys[\"Digit4\"] = \"Digit4\";\n    Keys[\"Digit5\"] = \"Digit5\";\n    Keys[\"Digit6\"] = \"Digit6\";\n    Keys[\"Digit7\"] = \"Digit7\";\n    Keys[\"Digit8\"] = \"Digit8\";\n    Keys[\"Digit9\"] = \"Digit9\";\n    // FUNCTION KEYS\n    Keys[\"F1\"] = \"F1\";\n    Keys[\"F2\"] = \"F2\";\n    Keys[\"F3\"] = \"F3\";\n    Keys[\"F4\"] = \"F4\";\n    Keys[\"F5\"] = \"F5\";\n    Keys[\"F6\"] = \"F6\";\n    Keys[\"F7\"] = \"F7\";\n    Keys[\"F8\"] = \"F8\";\n    Keys[\"F9\"] = \"F9\";\n    Keys[\"F10\"] = \"F10\";\n    Keys[\"F11\"] = \"F11\";\n    Keys[\"F12\"] = \"F12\";\n    // LETTERS\n    Keys[\"A\"] = \"KeyA\";\n    Keys[\"B\"] = \"KeyB\";\n    Keys[\"C\"] = \"KeyC\";\n    Keys[\"D\"] = \"KeyD\";\n    Keys[\"E\"] = \"KeyE\";\n    Keys[\"F\"] = \"KeyF\";\n    Keys[\"G\"] = \"KeyG\";\n    Keys[\"H\"] = \"KeyH\";\n    Keys[\"I\"] = \"KeyI\";\n    Keys[\"J\"] = \"KeyJ\";\n    Keys[\"K\"] = \"KeyK\";\n    Keys[\"L\"] = \"KeyL\";\n    Keys[\"M\"] = \"KeyM\";\n    Keys[\"N\"] = \"KeyN\";\n    Keys[\"O\"] = \"KeyO\";\n    Keys[\"P\"] = \"KeyP\";\n    Keys[\"Q\"] = \"KeyQ\";\n    Keys[\"R\"] = \"KeyR\";\n    Keys[\"S\"] = \"KeyS\";\n    Keys[\"T\"] = \"KeyT\";\n    Keys[\"U\"] = \"KeyU\";\n    Keys[\"V\"] = \"KeyV\";\n    Keys[\"W\"] = \"KeyW\";\n    Keys[\"X\"] = \"KeyX\";\n    Keys[\"Y\"] = \"KeyY\";\n    Keys[\"Z\"] = \"KeyZ\";\n    Keys[\"KeyA\"] = \"KeyA\";\n    Keys[\"KeyB\"] = \"KeyB\";\n    Keys[\"KeyC\"] = \"KeyC\";\n    Keys[\"KeyD\"] = \"KeyD\";\n    Keys[\"KeyE\"] = \"KeyE\";\n    Keys[\"KeyF\"] = \"KeyF\";\n    Keys[\"KeyG\"] = \"KeyG\";\n    Keys[\"KeyH\"] = \"KeyH\";\n    Keys[\"KeyI\"] = \"KeyI\";\n    Keys[\"KeyJ\"] = \"KeyJ\";\n    Keys[\"KeyK\"] = \"KeyK\";\n    Keys[\"KeyL\"] = \"KeyL\";\n    Keys[\"KeyM\"] = \"KeyM\";\n    Keys[\"KeyN\"] = \"KeyN\";\n    Keys[\"KeyO\"] = \"KeyO\";\n    Keys[\"KeyP\"] = \"KeyP\";\n    Keys[\"KeyQ\"] = \"KeyQ\";\n    Keys[\"KeyR\"] = \"KeyR\";\n    Keys[\"KeyS\"] = \"KeyS\";\n    Keys[\"KeyT\"] = \"KeyT\";\n    Keys[\"KeyU\"] = \"KeyU\";\n    Keys[\"KeyV\"] = \"KeyV\";\n    Keys[\"KeyW\"] = \"KeyW\";\n    Keys[\"KeyX\"] = \"KeyX\";\n    Keys[\"KeyY\"] = \"KeyY\";\n    Keys[\"KeyZ\"] = \"KeyZ\";\n    // SYMBOLS\n    Keys[\"Semicolon\"] = \"Semicolon\";\n    Keys[\"Quote\"] = \"Quote\";\n    Keys[\"Comma\"] = \"Comma\";\n    Keys[\"Minus\"] = \"Minus\";\n    Keys[\"Period\"] = \"Period\";\n    Keys[\"Slash\"] = \"Slash\";\n    Keys[\"Equal\"] = \"Equal\";\n    Keys[\"BracketLeft\"] = \"BracketLeft\";\n    Keys[\"Backslash\"] = \"Backslash\";\n    Keys[\"BracketRight\"] = \"BracketRight\";\n    Keys[\"Backquote\"] = \"Backquote\";\n    // DIRECTIONS\n    Keys[\"Up\"] = \"ArrowUp\";\n    Keys[\"Down\"] = \"ArrowDown\";\n    Keys[\"Left\"] = \"ArrowLeft\";\n    Keys[\"Right\"] = \"ArrowRight\";\n    Keys[\"ArrowUp\"] = \"ArrowUp\";\n    Keys[\"ArrowDown\"] = \"ArrowDown\";\n    Keys[\"ArrowLeft\"] = \"ArrowLeft\";\n    Keys[\"ArrowRight\"] = \"ArrowRight\";\n    // OTHER\n    Keys[\"Space\"] = \"Space\";\n    Keys[\"Backspace\"] = \"Backspace\";\n    Keys[\"Delete\"] = \"Delete\";\n    Keys[\"Esc\"] = \"Escape\";\n    Keys[\"Escape\"] = \"Escape\";\n    Keys[\"Enter\"] = \"Enter\";\n    Keys[\"NumpadEnter\"] = \"NumpadEnter\";\n    Keys[\"ContextMenu\"] = \"ContextMenu\";\n})(Keys || (Keys = {}));\n/**\n * Event thrown on a game object for a key event\n */\nclass KeyEvent extends GameEvent {\n    /**\n     * @param key  The key responsible for throwing the event\n     * @param value The key's typed value the browser detected\n     * @param originalEvent The original keyboard event that Excalibur handled\n     */\n    constructor(key, value, originalEvent) {\n        super();\n        this.key = key;\n        this.value = value;\n        this.originalEvent = originalEvent;\n    }\n}\nconst KeyEvents = {\n    Press: 'press',\n    Hold: 'hold',\n    Release: 'release'\n};\n/**\n * Provides keyboard support for Excalibur.\n */\nclass Keyboard {\n    constructor() {\n        this.events = new EventEmitter();\n        this._enabled = true;\n        /**\n         * Keys that are currently held down\n         */\n        this._keys = [];\n        /**\n         * Keys up in the current frame\n         */\n        this._keysUp = [];\n        /**\n         * Keys down in the current frame\n         */\n        this._keysDown = [];\n        this._releaseAllKeys = (ev) => {\n            for (const code of this._keys) {\n                const keyEvent = new KeyEvent(code, ev.key, ev);\n                this.events.emit('up', keyEvent);\n                this.events.emit('release', keyEvent);\n            }\n            this._keysUp = Array.from((new Set(this._keys.concat(this._keysUp))));\n            this._keys.length = 0;\n        };\n        this._handleKeyDown = (ev) => {\n            if (!this._enabled) {\n                return;\n            }\n            // handle macos meta key issue\n            // https://github.com/excaliburjs/Excalibur/issues/2608\n            if (!ev.metaKey && (this._keys.includes(Keys.MetaLeft) || this._keys.includes(Keys.MetaRight))) {\n                this._releaseAllKeys(ev);\n            }\n            const code = ev.code;\n            if (this._keys.indexOf(code) === -1) {\n                this._keys.push(code);\n                this._keysDown.push(code);\n                const keyEvent = new KeyEvent(code, ev.key, ev);\n                this.events.emit('down', keyEvent);\n                this.events.emit('press', keyEvent);\n            }\n        };\n        this._handleKeyUp = (ev) => {\n            if (!this._enabled) {\n                return;\n            }\n            const code = ev.code;\n            const key = this._keys.indexOf(code);\n            this._keys.splice(key, 1);\n            this._keysUp.push(code);\n            const keyEvent = new KeyEvent(code, ev.key, ev);\n            // alias the old api, we may want to deprecate this in the future\n            this.events.emit('up', keyEvent);\n            this.events.emit('release', keyEvent);\n            // handle macos meta key issue\n            // https://github.com/excaliburjs/Excalibur/issues/2608\n            if (ev.key === 'Meta') {\n                this._releaseAllKeys(ev);\n            }\n        };\n    }\n    emit(eventName, event) {\n        this.events.emit(eventName, event);\n    }\n    on(eventName, handler) {\n        return this.events.on(eventName, handler);\n    }\n    once(eventName, handler) {\n        return this.events.once(eventName, handler);\n    }\n    off(eventName, handler) {\n        this.events.off(eventName, handler);\n    }\n    /**\n     * Initialize Keyboard event listeners\n     */\n    init(keyboardOptions) {\n        let { global } = keyboardOptions;\n        const { grabWindowFocus } = keyboardOptions;\n        if (!global) {\n            if (isCrossOriginIframe()) {\n                global = window;\n                // Workaround for iframes like for itch.io or codesandbox\n                // https://www.reddit.com/r/gamemaker/comments/kfs5cs/keyboard_inputs_no_longer_working_in_html5_game/\n                // https://forum.gamemaker.io/index.php?threads/solved-keyboard-issue-on-itch-io.87336/\n                if (grabWindowFocus) {\n                    window.focus();\n                }\n                Logger.getInstance().warn('Excalibur might be in a cross-origin iframe, in order to receive keyboard events it must be in focus');\n            }\n            else {\n                global = window.top;\n            }\n        }\n        global.addEventListener('blur', () => {\n            this._keys.length = 0; // empties array efficiently\n        });\n        // key up is on window because canvas cannot have focus\n        global.addEventListener('keyup', this._handleKeyUp);\n        // key down is on window because canvas cannot have focus\n        global.addEventListener('keydown', this._handleKeyDown);\n    }\n    toggleEnabled(enabled) {\n        this._enabled = enabled;\n    }\n    update() {\n        // Reset keysDown and keysUp after update is complete\n        this._keysDown.length = 0;\n        this._keysUp.length = 0;\n        // Emit synthetic \"hold\" event\n        for (let i = 0; i < this._keys.length; i++) {\n            this.events.emit('hold', new KeyEvent(this._keys[i]));\n        }\n    }\n    /**\n     * Gets list of keys being pressed down\n     */\n    getKeys() {\n        return this._keys;\n    }\n    /**\n     * Tests if a certain key was just pressed this frame. This is cleared at the end of the update frame.\n     * @param key Test whether a key was just pressed\n     */\n    wasPressed(key) {\n        return this._keysDown.indexOf(key) > -1;\n    }\n    /**\n     * Tests if a certain key is held down. This is persisted between frames.\n     * @param key  Test whether a key is held down\n     */\n    isHeld(key) {\n        return this._keys.indexOf(key) > -1;\n    }\n    /**\n     * Tests if a certain key was just released this frame. This is cleared at the end of the update frame.\n     * @param key  Test whether a key was just released\n     */\n    wasReleased(key) {\n        return this._keysUp.indexOf(key) > -1;\n    }\n    /**\n     * Trigger a manual key event\n     * @param type\n     * @param key\n     * @param character\n     */\n    triggerEvent(type, key, character) {\n        if (type === 'down') {\n            this._handleKeyDown(new KeyboardEvent('keydown', {\n                code: key,\n                key: character !== null && character !== void 0 ? character : null\n            }));\n        }\n        if (type === 'up') {\n            this._handleKeyUp(new KeyboardEvent('keyup', {\n                code: key,\n                key: character !== null && character !== void 0 ? character : null\n            }));\n        }\n    }\n}\n\n;// CONCATENATED MODULE: ./Math/global-coordinates.ts\n\nclass GlobalCoordinates {\n    static fromPagePosition(xOrPos, yOrEngine, engineOrUndefined) {\n        let pageX;\n        let pageY;\n        let pagePos;\n        let engine;\n        if (arguments.length === 3) {\n            pageX = xOrPos;\n            pageY = yOrEngine;\n            pagePos = new Vector(pageX, pageY);\n            engine = engineOrUndefined;\n        }\n        else {\n            pagePos = xOrPos;\n            pageX = pagePos.x;\n            pageY = pagePos.y;\n            engine = yOrEngine;\n        }\n        const screenPos = engine.screen.pageToScreenCoordinates(pagePos);\n        const worldPos = engine.screen.screenToWorldCoordinates(screenPos);\n        return new GlobalCoordinates(worldPos, pagePos, screenPos);\n    }\n    constructor(worldPos, pagePos, screenPos) {\n        this.worldPos = worldPos;\n        this.pagePos = pagePos;\n        this.screenPos = screenPos;\n    }\n}\n\n;// CONCATENATED MODULE: ./Input/PointerEvent.ts\nclass PointerEvent {\n    cancel() {\n        this.active = false;\n    }\n    get pagePos() {\n        return this.coordinates.pagePos;\n    }\n    get screenPos() {\n        return this.coordinates.screenPos;\n    }\n    get worldPos() {\n        return this.coordinates.worldPos;\n    }\n    constructor(type, pointerId, button, pointerType, coordinates, nativeEvent) {\n        this.type = type;\n        this.pointerId = pointerId;\n        this.button = button;\n        this.pointerType = pointerType;\n        this.coordinates = coordinates;\n        this.nativeEvent = nativeEvent;\n        this.active = true;\n    }\n    ;\n}\n\n;// CONCATENATED MODULE: ./Input/WheelEvent.ts\nclass WheelEvent {\n    cancel() {\n        this.active = false;\n    }\n    constructor(x, y, pageX, pageY, screenX, screenY, index, deltaX, deltaY, deltaZ, deltaMode, ev) {\n        this.x = x;\n        this.y = y;\n        this.pageX = pageX;\n        this.pageY = pageY;\n        this.screenX = screenX;\n        this.screenY = screenY;\n        this.index = index;\n        this.deltaX = deltaX;\n        this.deltaY = deltaY;\n        this.deltaZ = deltaZ;\n        this.deltaMode = deltaMode;\n        this.ev = ev;\n        this.active = true;\n    }\n}\n\n;// CONCATENATED MODULE: ./Input/PointerAbstraction.ts\n\n\nclass PointerAbstraction {\n    constructor() {\n        this.events = new EventEmitter();\n        /**\n         * The last position on the document this pointer was at. Can be `null` if pointer was never active.\n         */\n        this.lastPagePos = Vector.Zero;\n        /**\n         * The last position on the screen this pointer was at. Can be `null` if pointer was never active.\n         */\n        this.lastScreenPos = Vector.Zero;\n        /**\n         * The last position in the game world coordinates this pointer was at. Can be `null` if pointer was never active.\n         */\n        this.lastWorldPos = Vector.Zero;\n        this._onPointerMove = (ev) => {\n            this.lastPagePos = new Vector(ev.pagePos.x, ev.pagePos.y);\n            this.lastScreenPos = new Vector(ev.screenPos.x, ev.screenPos.y);\n            this.lastWorldPos = new Vector(ev.worldPos.x, ev.worldPos.y);\n        };\n        this._onPointerDown = (ev) => {\n            this.lastPagePos = new Vector(ev.pagePos.x, ev.pagePos.y);\n            this.lastScreenPos = new Vector(ev.screenPos.x, ev.screenPos.y);\n            this.lastWorldPos = new Vector(ev.worldPos.x, ev.worldPos.y);\n        };\n        this.on('move', this._onPointerMove);\n        this.on('down', this._onPointerDown);\n    }\n    emit(eventName, event) {\n        this.events.emit(eventName, event);\n    }\n    on(eventName, handler) {\n        return this.events.on(eventName, handler);\n    }\n    once(eventName, handler) {\n        return this.events.once(eventName, handler);\n    }\n    off(eventName, handler) {\n        this.events.off(eventName, handler);\n    }\n}\n\n;// CONCATENATED MODULE: ./Input/WheelDeltaMode.ts\nvar WheelDeltaMode;\n(function (WheelDeltaMode) {\n    WheelDeltaMode[\"Pixel\"] = \"Pixel\";\n    WheelDeltaMode[\"Line\"] = \"Line\";\n    WheelDeltaMode[\"Page\"] = \"Page\";\n})(WheelDeltaMode || (WheelDeltaMode = {}));\n\n;// CONCATENATED MODULE: ./Input/NativePointerButton.ts\n/**\n * Native browser button enumeration\n */\nvar NativePointerButton;\n(function (NativePointerButton) {\n    NativePointerButton[NativePointerButton[\"NoButton\"] = -1] = \"NoButton\";\n    NativePointerButton[NativePointerButton[\"Left\"] = 0] = \"Left\";\n    NativePointerButton[NativePointerButton[\"Middle\"] = 1] = \"Middle\";\n    NativePointerButton[NativePointerButton[\"Right\"] = 2] = \"Right\";\n    NativePointerButton[NativePointerButton[\"Unknown\"] = 3] = \"Unknown\";\n})(NativePointerButton || (NativePointerButton = {}));\n\n;// CONCATENATED MODULE: ./Input/PointerButton.ts\n/**\n * The mouse button being pressed.\n */\nvar PointerButton;\n(function (PointerButton) {\n    PointerButton[\"Left\"] = \"Left\";\n    PointerButton[\"Middle\"] = \"Middle\";\n    PointerButton[\"Right\"] = \"Right\";\n    PointerButton[\"Unknown\"] = \"Unknown\";\n    PointerButton[\"NoButton\"] = \"NoButton\";\n})(PointerButton || (PointerButton = {}));\n\n;// CONCATENATED MODULE: ./Input/PointerType.ts\n/**\n * The type of pointer for a [[PointerEvent]].\n */\nvar PointerType;\n(function (PointerType) {\n    PointerType[\"Touch\"] = \"Touch\";\n    PointerType[\"Mouse\"] = \"Mouse\";\n    PointerType[\"Pen\"] = \"Pen\";\n    PointerType[\"Unknown\"] = \"Unknown\";\n})(PointerType || (PointerType = {}));\n\n;// CONCATENATED MODULE: ./Input/PointerEventReceiver.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst PointerEvents = {\n    Move: 'move',\n    Down: 'down',\n    Up: 'up',\n    Wheel: 'wheel'\n};\n/**\n * Is this event a native touch event?\n */\nfunction isTouchEvent(value) {\n    // Guard for Safari <= 13.1\n    return globalThis.TouchEvent && value instanceof globalThis.TouchEvent;\n}\n/**\n * Is this event a native pointer event\n */\nfunction isPointerEvent(value) {\n    // Guard for Safari <= 13.1\n    return globalThis.PointerEvent && value instanceof globalThis.PointerEvent;\n}\n/**\n * The PointerEventProcessor is responsible for collecting all the events from the canvas and transforming them into GlobalCoordinates\n */\nclass PointerEventReceiver {\n    constructor(target, engine) {\n        this.target = target;\n        this.engine = engine;\n        this.events = new EventEmitter();\n        this.primary = new PointerAbstraction();\n        this._activeNativePointerIdsToNormalized = new Map();\n        this.lastFramePointerCoords = new Map();\n        this.currentFramePointerCoords = new Map();\n        this.currentFramePointerDown = new Map();\n        this.lastFramePointerDown = new Map();\n        this.currentFrameDown = [];\n        this.currentFrameUp = [];\n        this.currentFrameMove = [];\n        this.currentFrameCancel = [];\n        this.currentFrameWheel = [];\n        this._enabled = true;\n        this._pointers = [this.primary];\n        this._boundHandle = this._handle.bind(this);\n        this._boundWheel = this._handleWheel.bind(this);\n    }\n    toggleEnabled(enabled) {\n        this._enabled = enabled;\n    }\n    /**\n     * Creates a new PointerEventReceiver with a new target and engine while preserving existing pointer event\n     * handlers.\n     * @param target\n     * @param engine\n     */\n    recreate(target, engine) {\n        const eventReceiver = new PointerEventReceiver(target, engine);\n        eventReceiver.primary = this.primary;\n        eventReceiver._pointers = this._pointers;\n        return eventReceiver;\n    }\n    /**\n     * Locates a specific pointer by id, creates it if it doesn't exist\n     * @param index\n     */\n    at(index) {\n        if (index >= this._pointers.length) {\n            // Ensure there is a pointer to retrieve\n            for (let i = this._pointers.length - 1, max = index; i < max; i++) {\n                this._pointers.push(new PointerAbstraction());\n            }\n        }\n        return this._pointers[index];\n    }\n    /**\n     * The number of pointers currently being tracked by excalibur\n     */\n    count() {\n        return this._pointers.length;\n    }\n    /**\n     * Is the specified pointer id down this frame\n     * @param pointerId\n     */\n    isDown(pointerId) {\n        var _a;\n        return (_a = this.currentFramePointerDown.get(pointerId)) !== null && _a !== void 0 ? _a : false;\n    }\n    /**\n     * Was the specified pointer id down last frame\n     * @param pointerId\n     */\n    wasDown(pointerId) {\n        var _a;\n        return (_a = this.lastFramePointerDown.get(pointerId)) !== null && _a !== void 0 ? _a : false;\n    }\n    /**\n     * Whether the Pointer is currently dragging.\n     */\n    isDragging(pointerId) {\n        return this.isDown(pointerId);\n    }\n    /**\n     * Whether the Pointer just started dragging.\n     */\n    isDragStart(pointerId) {\n        return this.isDown(pointerId) && !this.wasDown(pointerId);\n    }\n    /**\n     * Whether the Pointer just ended dragging.\n     */\n    isDragEnd(pointerId) {\n        return !this.isDown(pointerId) && this.wasDown(pointerId);\n    }\n    emit(eventName, event) {\n        this.events.emit(eventName, event);\n    }\n    on(eventName, handler) {\n        return this.events.on(eventName, handler);\n    }\n    once(eventName, handler) {\n        return this.events.once(eventName, handler);\n    }\n    off(eventName, handler) {\n        this.events.off(eventName, handler);\n    }\n    /**\n     * Called internally by excalibur\n     *\n     * Updates the current frame pointer info and emits raw pointer events\n     *\n     * This does not emit events to entities, see PointerSystem\n     */\n    update() {\n        this.lastFramePointerDown = new Map(this.currentFramePointerDown);\n        this.lastFramePointerCoords = new Map(this.currentFramePointerCoords);\n        for (const event of this.currentFrameDown) {\n            this.emit('down', event);\n            const pointer = this.at(event.pointerId);\n            pointer.emit('down', event);\n            this.primary.emit('pointerdown', event);\n        }\n        for (const event of this.currentFrameUp) {\n            this.emit('up', event);\n            const pointer = this.at(event.pointerId);\n            pointer.emit('up', event);\n        }\n        for (const event of this.currentFrameMove) {\n            this.emit('move', event);\n            const pointer = this.at(event.pointerId);\n            pointer.emit('move', event);\n        }\n        for (const event of this.currentFrameCancel) {\n            this.emit('cancel', event);\n            const pointer = this.at(event.pointerId);\n            pointer.emit('cancel', event);\n        }\n        for (const event of this.currentFrameWheel) {\n            this.emit('wheel', event);\n            this.primary.emit('pointerwheel', event);\n            this.primary.emit('wheel', event);\n        }\n    }\n    /**\n     * Clears the current frame event and pointer data\n     */\n    clear() {\n        for (const event of this.currentFrameUp) {\n            this.currentFramePointerCoords.delete(event.pointerId);\n            const ids = this._activeNativePointerIdsToNormalized.entries();\n            for (const [native, normalized] of ids) {\n                if (normalized === event.pointerId) {\n                    this._activeNativePointerIdsToNormalized.delete(native);\n                }\n            }\n        }\n        this.currentFrameDown.length = 0;\n        this.currentFrameUp.length = 0;\n        this.currentFrameMove.length = 0;\n        this.currentFrameCancel.length = 0;\n        this.currentFrameWheel.length = 0;\n    }\n    /**\n     * Initializes the pointer event receiver so that it can start listening to native\n     * browser events.\n     */\n    init(options) {\n        var _a;\n        // Disabling the touch action avoids browser/platform gestures from firing on the canvas\n        // It is important on mobile to have touch action 'none'\n        // https://stackoverflow.com/questions/48124372/pointermove-event-not-working-with-touch-why-not\n        if (this.target === this.engine.canvas) {\n            this.engine.canvas.style.touchAction = 'none';\n        }\n        else {\n            document.body.style.touchAction = 'none';\n        }\n        // Preferred pointer events\n        if (window.PointerEvent) {\n            this.target.addEventListener('pointerdown', this._boundHandle);\n            this.target.addEventListener('pointerup', this._boundHandle);\n            this.target.addEventListener('pointermove', this._boundHandle);\n            this.target.addEventListener('pointercancel', this._boundHandle);\n        }\n        else {\n            // Touch Events\n            this.target.addEventListener('touchstart', this._boundHandle);\n            this.target.addEventListener('touchend', this._boundHandle);\n            this.target.addEventListener('touchmove', this._boundHandle);\n            this.target.addEventListener('touchcancel', this._boundHandle);\n            // Mouse Events\n            this.target.addEventListener('mousedown', this._boundHandle);\n            this.target.addEventListener('mouseup', this._boundHandle);\n            this.target.addEventListener('mousemove', this._boundHandle);\n        }\n        // MDN MouseWheelEvent\n        const wheelOptions = {\n            passive: !(this.engine.pageScrollPreventionMode === ScrollPreventionMode.All ||\n                this.engine.pageScrollPreventionMode === ScrollPreventionMode.Canvas)\n        };\n        if ('onwheel' in document.createElement('div')) {\n            // Modern Browsers\n            this.target.addEventListener('wheel', this._boundWheel, wheelOptions);\n        }\n        else if (document.onmousewheel !== undefined) {\n            // Webkit and IE\n            this.target.addEventListener('mousewheel', this._boundWheel, wheelOptions);\n        }\n        else {\n            // Remaining browser and older Firefox\n            this.target.addEventListener('MozMousePixelScroll', this._boundWheel, wheelOptions);\n        }\n        const grabWindowFocus = (_a = options === null || options === void 0 ? void 0 : options.grabWindowFocus) !== null && _a !== void 0 ? _a : true;\n        // Handle cross origin iframe\n        if (grabWindowFocus && isCrossOriginIframe()) {\n            const grabFocus = () => {\n                window.focus();\n            };\n            // Preferred pointer events\n            if (window.PointerEvent) {\n                this.target.addEventListener('pointerdown', grabFocus);\n            }\n            else {\n                // Touch Events\n                this.target.addEventListener('touchstart', grabFocus);\n                // Mouse Events\n                this.target.addEventListener('mousedown', grabFocus);\n            }\n        }\n    }\n    detach() {\n        // Preferred pointer events\n        if (window.PointerEvent) {\n            this.target.removeEventListener('pointerdown', this._boundHandle);\n            this.target.removeEventListener('pointerup', this._boundHandle);\n            this.target.removeEventListener('pointermove', this._boundHandle);\n            this.target.removeEventListener('pointercancel', this._boundHandle);\n        }\n        else {\n            // Touch Events\n            this.target.removeEventListener('touchstart', this._boundHandle);\n            this.target.removeEventListener('touchend', this._boundHandle);\n            this.target.removeEventListener('touchmove', this._boundHandle);\n            this.target.removeEventListener('touchcancel', this._boundHandle);\n            // Mouse Events\n            this.target.removeEventListener('mousedown', this._boundHandle);\n            this.target.removeEventListener('mouseup', this._boundHandle);\n            this.target.removeEventListener('mousemove', this._boundHandle);\n        }\n        if ('onwheel' in document.createElement('div')) {\n            // Modern Browsers\n            this.target.removeEventListener('wheel', this._boundWheel);\n        }\n        else if (document.onmousewheel !== undefined) {\n            // Webkit and IE\n            this.target.addEventListener('mousewheel', this._boundWheel);\n        }\n        else {\n            // Remaining browser and older Firefox\n            this.target.addEventListener('MozMousePixelScroll', this._boundWheel);\n        }\n    }\n    /**\n     * Take native pointer id and map it to index in active pointers\n     * @param nativePointerId\n     */\n    _normalizePointerId(nativePointerId) {\n        // Add to the the native pointer set id\n        this._activeNativePointerIdsToNormalized.set(nativePointerId, -1);\n        // Native pointer ids in ascending order\n        const currentPointerIds = Array.from(this._activeNativePointerIdsToNormalized.keys()).sort((a, b) => a - b);\n        // The index into sorted ids will be the new id, will always have an id\n        const id = currentPointerIds.findIndex(p => p === nativePointerId);\n        // Save the mapping so we can reverse it later\n        this._activeNativePointerIdsToNormalized.set(nativePointerId, id);\n        // ignore pointer because game isn't watching\n        return id;\n    }\n    /**\n     * Responsible for handling and parsing pointer events\n     */\n    _handle(ev) {\n        if (!this._enabled) {\n            return;\n        }\n        ev.preventDefault();\n        const eventCoords = new Map();\n        let button;\n        let pointerType;\n        if (isTouchEvent(ev)) {\n            button = PointerButton.Unknown;\n            pointerType = PointerType.Touch;\n            // https://developer.mozilla.org/en-US/docs/Web/API/TouchEvent\n            for (let i = 0; i < ev.changedTouches.length; i++) {\n                const touch = ev.changedTouches[i];\n                const coordinates = GlobalCoordinates.fromPagePosition(touch.pageX, touch.pageY, this.engine);\n                const nativePointerId = i + 1;\n                const pointerId = this._normalizePointerId(nativePointerId);\n                this.currentFramePointerCoords.set(pointerId, coordinates);\n                eventCoords.set(pointerId, coordinates);\n            }\n        }\n        else {\n            button = this._nativeButtonToPointerButton(ev.button);\n            pointerType = PointerType.Mouse;\n            const coordinates = GlobalCoordinates.fromPagePosition(ev.pageX, ev.pageY, this.engine);\n            let nativePointerId = 1;\n            if (isPointerEvent(ev)) {\n                nativePointerId = ev.pointerId;\n                pointerType = this._stringToPointerType(ev.pointerType);\n            }\n            const pointerId = this._normalizePointerId(nativePointerId);\n            this.currentFramePointerCoords.set(pointerId, coordinates);\n            eventCoords.set(pointerId, coordinates);\n        }\n        for (const [pointerId, coord] of eventCoords.entries()) {\n            switch (ev.type) {\n                case 'mousedown':\n                case 'pointerdown':\n                case 'touchstart':\n                    this.currentFrameDown.push(new PointerEvent('down', pointerId, button, pointerType, coord, ev));\n                    this.currentFramePointerDown.set(pointerId, true);\n                    break;\n                case 'mouseup':\n                case 'pointerup':\n                case 'touchend':\n                    this.currentFrameUp.push(new PointerEvent('up', pointerId, button, pointerType, coord, ev));\n                    this.currentFramePointerDown.set(pointerId, false);\n                    break;\n                case 'mousemove':\n                case 'pointermove':\n                case 'touchmove':\n                    this.currentFrameMove.push(new PointerEvent('move', pointerId, button, pointerType, coord, ev));\n                    break;\n                case 'touchcancel':\n                case 'pointercancel':\n                    this.currentFrameCancel.push(new PointerEvent('cancel', pointerId, button, pointerType, coord, ev));\n                    break;\n            }\n        }\n    }\n    _handleWheel(ev) {\n        if (!this._enabled) {\n            return;\n        }\n        // Should we prevent page scroll because of this event\n        if (this.engine.pageScrollPreventionMode === ScrollPreventionMode.All ||\n            (this.engine.pageScrollPreventionMode === ScrollPreventionMode.Canvas && ev.target === this.engine.canvas)) {\n            ev.preventDefault();\n        }\n        const screen = this.engine.screen.pageToScreenCoordinates(vec(ev.pageX, ev.pageY));\n        const world = this.engine.screen.screenToWorldCoordinates(screen);\n        /**\n         * A constant used to normalize wheel events across different browsers\n         *\n         * This normalization factor is pulled from\n         * https://developer.mozilla.org/en-US/docs/Web/Events/wheel#Listening_to_this_event_across_browser\n         */\n        const ScrollWheelNormalizationFactor = -1 / 40;\n        const deltaX = ev.deltaX || ev.wheelDeltaX * ScrollWheelNormalizationFactor || 0;\n        const deltaY = ev.deltaY || ev.wheelDeltaY * ScrollWheelNormalizationFactor || ev.wheelDelta * ScrollWheelNormalizationFactor || ev.detail || 0;\n        const deltaZ = ev.deltaZ || 0;\n        let deltaMode = WheelDeltaMode.Pixel;\n        if (ev.deltaMode) {\n            if (ev.deltaMode === 1) {\n                deltaMode = WheelDeltaMode.Line;\n            }\n            else if (ev.deltaMode === 2) {\n                deltaMode = WheelDeltaMode.Page;\n            }\n        }\n        const we = new WheelEvent(world.x, world.y, ev.pageX, ev.pageY, screen.x, screen.y, 0, deltaX, deltaY, deltaZ, deltaMode, ev);\n        this.currentFrameWheel.push(we);\n    }\n    /**\n     * Triggers an excalibur pointer event in a world space pos\n     *\n     * Useful for testing pointers in excalibur\n     * @param type\n     * @param pos\n     */\n    triggerEvent(type, pos) {\n        const page = this.engine.screen.worldToPageCoordinates(pos);\n        // Send an event to the event receiver\n        if (window.PointerEvent) {\n            this._handle(new window.PointerEvent('pointer' + type, {\n                pointerId: 0,\n                clientX: page.x,\n                clientY: page.y\n            }));\n        }\n        else {\n            // Safari hack\n            this._handle(new window.MouseEvent('mouse' + type, {\n                clientX: page.x,\n                clientY: page.y\n            }));\n        }\n        // Force update pointer system\n        const pointerSystem = this.engine.currentScene.world.get(PointerSystem);\n        pointerSystem.preupdate(this.engine.currentScene, 1);\n        pointerSystem.update(1);\n    }\n    _nativeButtonToPointerButton(s) {\n        switch (s) {\n            case NativePointerButton.NoButton:\n                return PointerButton.NoButton;\n            case NativePointerButton.Left:\n                return PointerButton.Left;\n            case NativePointerButton.Middle:\n                return PointerButton.Middle;\n            case NativePointerButton.Right:\n                return PointerButton.Right;\n            case NativePointerButton.Unknown:\n                return PointerButton.Unknown;\n            default:\n                return fail(s);\n        }\n    }\n    _stringToPointerType(s) {\n        switch (s) {\n            case 'touch':\n                return PointerType.Touch;\n            case 'mouse':\n                return PointerType.Mouse;\n            case 'pen':\n                return PointerType.Pen;\n            default:\n                return PointerType.Unknown;\n        }\n    }\n}\n\n;// CONCATENATED MODULE: ./Input/InputHost.ts\n\n\n\n\nclass InputHost {\n    constructor(options) {\n        this._enabled = true;\n        const { pointerTarget, grabWindowFocus, engine } = options;\n        this.keyboard = new Keyboard();\n        this.pointers = new PointerEventReceiver(pointerTarget, engine);\n        this.gamepads = new Gamepads();\n        this.keyboard.init({ grabWindowFocus });\n        this.pointers.init({ grabWindowFocus });\n        this.gamepads.init();\n        this.inputMapper = new InputMapper({\n            keyboard: this.keyboard,\n            pointers: this.pointers,\n            gamepads: this.gamepads\n        });\n    }\n    get enabled() {\n        return this._enabled;\n    }\n    toggleEnabled(enabled) {\n        this._enabled = enabled;\n        this.keyboard.toggleEnabled(this._enabled);\n        this.pointers.toggleEnabled(this._enabled);\n        this.gamepads.toggleEnabled(this._enabled);\n    }\n    update() {\n        if (this._enabled) {\n            this.inputMapper.execute();\n            this.keyboard.update();\n            this.gamepads.update();\n        }\n    }\n}\n\n;// CONCATENATED MODULE: ./Scene.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass PreLoadEvent {\n}\nconst SceneEvents = {\n    Initialize: 'initialize',\n    Activate: 'activate',\n    Deactivate: 'deactivate',\n    PreUpdate: 'preupdate',\n    PostUpdate: 'postupdate',\n    PreDraw: 'predraw',\n    PostDraw: 'postdraw',\n    PreDebugDraw: 'predebugdraw',\n    PostDebugDraw: 'postdebugdraw',\n    PreLoad: 'preload'\n};\n/**\n *\n */\nfunction isSceneConstructor(x) {\n    var _a, _b;\n    return !!(x === null || x === void 0 ? void 0 : x.prototype) && !!((_b = (_a = x === null || x === void 0 ? void 0 : x.prototype) === null || _a === void 0 ? void 0 : _a.constructor) === null || _b === void 0 ? void 0 : _b.name);\n}\n/**\n * [[Actor|Actors]] are composed together into groupings called Scenes in\n * Excalibur. The metaphor models the same idea behind real world\n * actors in a scene. Only actors in scenes will be updated and drawn.\n *\n * Typical usages of a scene include: levels, menus, loading screens, etc.\n */\nclass Scene {\n    /**\n     * The actors in the current scene\n     */\n    get actors() {\n        return this.world.entityManager.entities.filter((e) => {\n            return e instanceof Actor;\n        });\n    }\n    /**\n     * The entities in the current scene\n     */\n    get entities() {\n        return this.world.entityManager.entities;\n    }\n    /**\n     * The triggers in the current scene\n     */\n    get triggers() {\n        return this.world.entityManager.entities.filter((e) => {\n            return e instanceof Trigger;\n        });\n    }\n    /**\n     * The [[TileMap]]s in the scene, if any\n     */\n    get tileMaps() {\n        return this.world.entityManager.entities.filter((e) => {\n            return e instanceof TileMap;\n        });\n    }\n    get timers() {\n        return this._timers;\n    }\n    constructor() {\n        // Initialize systems\n        this._logger = Logger.getInstance();\n        this.events = new EventEmitter();\n        /**\n         * Gets or sets the current camera for the scene\n         */\n        this.camera = new Camera();\n        /**\n         * The ECS world for the scene\n         */\n        this.world = new World(this);\n        /**\n         * The Excalibur physics world for the scene. Used to interact\n         * with colliders included in the scene.\n         *\n         * Can be used to perform scene ray casts, track colliders, broadphase, and narrowphase.\n         */\n        this.physics = new PhysicsWorld(DefaultPhysicsConfig);\n        this._isInitialized = false;\n        this._timers = [];\n        this._cancelQueue = [];\n        // Update\n        this.world.add(ActionsSystem);\n        this.world.add(new MotionSystem(this.world, this.physics));\n        this.world.add(new CollisionSystem(this.world, this.physics));\n        this.world.add(PointerSystem);\n        this.world.add(IsometricEntitySystem);\n        // Draw\n        this.world.add(OffscreenSystem);\n        this.world.add(GraphicsSystem);\n        this.world.add(DebugSystem);\n    }\n    emit(eventName, event) {\n        this.events.emit(eventName, event);\n    }\n    on(eventName, handler) {\n        return this.events.on(eventName, handler);\n    }\n    once(eventName, handler) {\n        return this.events.once(eventName, handler);\n    }\n    off(eventName, handler) {\n        this.events.off(eventName, handler);\n    }\n    /**\n     * Event hook to provide Scenes a way of loading scene specific resources.\n     *\n     * This is called before the Scene.onInitialize during scene transition. It will only ever fire once for a scene.\n     * @param loader\n     */\n    onPreLoad(loader) {\n        // will be overridden\n    }\n    /**\n     * Event hook fired directly before transition, either \"in\" or \"out\" of the scene\n     *\n     * This overrides the Engine scene definition. However transitions specified in goToScene take highest precedence\n     *\n     * ```typescript\n     * // Overrides all\n     * Engine.goToScene('scene', { destinationIn: ..., sourceOut: ... });\n     * ```\n     *\n     * This can be used to configure custom transitions for a scene dynamically\n     */\n    onTransition(direction) {\n        // will be overridden\n        return undefined;\n    }\n    /**\n     * This is called before the first update of the [[Scene]]. Initializes scene members like the camera. This method is meant to be\n     * overridden. This is where initialization of child actors should take place.\n     */\n    onInitialize(engine) {\n        // will be overridden\n    }\n    /**\n     * This is called when the scene is made active and started. It is meant to be overridden,\n     * this is where you should setup any DOM UI or event handlers needed for the scene.\n     */\n    onActivate(context) {\n        // will be overridden\n    }\n    /**\n     * This is called when the scene is made transitioned away from and stopped. It is meant to be overridden,\n     * this is where you should cleanup any DOM UI or event handlers needed for the scene.\n     */\n    onDeactivate(context) {\n        // will be overridden\n    }\n    /**\n     * Safe to override onPreUpdate lifecycle event handler. Synonymous with `.on('preupdate', (evt) =>{...})`\n     *\n     * `onPreUpdate` is called directly before a scene is updated.\n     */\n    onPreUpdate(engine, delta) {\n        // will be overridden\n    }\n    /**\n     * Safe to override onPostUpdate lifecycle event handler. Synonymous with `.on('preupdate', (evt) =>{...})`\n     *\n     * `onPostUpdate` is called directly after a scene is updated.\n     */\n    onPostUpdate(engine, delta) {\n        // will be overridden\n    }\n    /**\n     * Safe to override onPreDraw lifecycle event handler. Synonymous with `.on('preupdate', (evt) =>{...})`\n     *\n     * `onPreDraw` is called directly before a scene is drawn.\n     *\n     */\n    onPreDraw(ctx, delta) {\n        // will be overridden\n    }\n    /**\n     * Safe to override onPostDraw lifecycle event handler. Synonymous with `.on('preupdate', (evt) =>{...})`\n     *\n     * `onPostDraw` is called directly after a scene is drawn.\n     *\n     */\n    onPostDraw(ctx, delta) {\n        // will be overridden\n    }\n    /**\n     * Initializes actors in the scene\n     */\n    _initializeChildren() {\n        for (const child of this.entities) {\n            child._initialize(this.engine);\n        }\n    }\n    /**\n     * Gets whether or not the [[Scene]] has been initialized\n     */\n    get isInitialized() {\n        return this._isInitialized;\n    }\n    /**\n     * It is not recommended that internal excalibur methods be overridden, do so at your own risk.\n     *\n     * Initializes the scene before the first update, meant to be called by engine not by users of\n     * Excalibur\n     * @internal\n     */\n    async _initialize(engine) {\n        var _a;\n        if (!this.isInitialized) {\n            try {\n                this.engine = engine;\n                // PhysicsWorld config is watched so things will automagically update\n                this.physics.config = this.engine.physics;\n                this.input = new InputHost({\n                    pointerTarget: engine.pointerScope === PointerScope.Canvas ? engine.canvas : document,\n                    grabWindowFocus: engine.grabWindowFocus,\n                    engine\n                });\n                // Initialize camera first\n                this.camera._initialize(engine);\n                this.world.systemManager.initialize();\n                // This order is important! we want to be sure any custom init that add actors\n                // fire before the actor init\n                await this.onInitialize(engine);\n                this._initializeChildren();\n                this._logger.debug('Scene.onInitialize', this, engine);\n                this.events.emit('initialize', new InitializeEvent(engine, this));\n            }\n            catch (e) {\n                this._logger.error(`Error during scene initialization for scene ${(_a = engine.director) === null || _a === void 0 ? void 0 : _a.getSceneName(this)}!`);\n                throw e;\n            }\n            this._isInitialized = true;\n        }\n    }\n    /**\n     * It is not recommended that internal excalibur methods be overridden, do so at your own risk.\n     *\n     * Activates the scene with the base behavior, then calls the overridable `onActivate` implementation.\n     * @internal\n     */\n    async _activate(context) {\n        var _a, _b;\n        try {\n            this._logger.debug('Scene.onActivate', this);\n            this.input.toggleEnabled(true);\n            await this.onActivate(context);\n        }\n        catch (e) {\n            this._logger.error(`Error during scene activation for scene ${(_b = (_a = this.engine) === null || _a === void 0 ? void 0 : _a.director) === null || _b === void 0 ? void 0 : _b.getSceneName(this)}!`);\n            throw e;\n        }\n    }\n    /**\n     * It is not recommended that internal excalibur methods be overridden, do so at your own risk.\n     *\n     * Deactivates the scene with the base behavior, then calls the overridable `onDeactivate` implementation.\n     * @internal\n     */\n    async _deactivate(context) {\n        this._logger.debug('Scene.onDeactivate', this);\n        this.input.toggleEnabled(false);\n        await this.onDeactivate(context);\n    }\n    /**\n     * It is not recommended that internal excalibur methods be overridden, do so at your own risk.\n     *\n     * Internal _preupdate handler for [[onPreUpdate]] lifecycle event\n     * @internal\n     */\n    _preupdate(engine, delta) {\n        this.emit('preupdate', new PreUpdateEvent(engine, delta, this));\n        this.onPreUpdate(engine, delta);\n    }\n    /**\n     *  It is not recommended that internal excalibur methods be overridden, do so at your own risk.\n     *\n     * Internal _preupdate handler for [[onPostUpdate]] lifecycle event\n     * @internal\n     */\n    _postupdate(engine, delta) {\n        this.emit('postupdate', new PostUpdateEvent(engine, delta, this));\n        this.onPostUpdate(engine, delta);\n    }\n    /**\n     * It is not recommended that internal excalibur methods be overridden, do so at your own risk.\n     *\n     * Internal _predraw handler for [[onPreDraw]] lifecycle event\n     * @internal\n     */\n    _predraw(ctx, delta) {\n        this.emit('predraw', new PreDrawEvent(ctx, delta, this));\n        this.onPreDraw(ctx, delta);\n    }\n    /**\n     * It is not recommended that internal excalibur methods be overridden, do so at your own risk.\n     *\n     * Internal _postdraw handler for [[onPostDraw]] lifecycle event\n     * @internal\n     */\n    _postdraw(ctx, delta) {\n        this.emit('postdraw', new PostDrawEvent(ctx, delta, this));\n        this.onPostDraw(ctx, delta);\n    }\n    /**\n     * Updates all the actors and timers in the scene. Called by the [[Engine]].\n     * @param engine  Reference to the current Engine\n     * @param delta   The number of milliseconds since the last update\n     */\n    update(engine, delta) {\n        var _a;\n        if (!this.isInitialized) {\n            this._logger.warnOnce(`Scene update called before initialize for scene ${(_a = engine.director) === null || _a === void 0 ? void 0 : _a.getSceneName(this)}!`);\n            return;\n        }\n        this._preupdate(engine, delta);\n        // TODO differed entity removal for timers\n        let i, len;\n        // Remove timers in the cancel queue before updating them\n        for (i = 0, len = this._cancelQueue.length; i < len; i++) {\n            this.removeTimer(this._cancelQueue[i]);\n        }\n        this._cancelQueue.length = 0;\n        // Cycle through timers updating timers\n        for (const timer of this._timers) {\n            timer.update(delta);\n        }\n        this.world.update(SystemType.Update, delta);\n        // Camera last keeps renders smooth that are based on entity/actor\n        if (this.camera) {\n            this.camera.update(engine, delta);\n        }\n        this._collectActorStats(engine);\n        this._postupdate(engine, delta);\n        this.input.update();\n    }\n    /**\n     * Draws all the actors in the Scene. Called by the [[Engine]].\n     * @param ctx    The current rendering context\n     * @param delta  The number of milliseconds since the last draw\n     */\n    draw(ctx, delta) {\n        var _a;\n        if (!this.isInitialized) {\n            this._logger.warnOnce(`Scene draw called before initialize!`);\n            return;\n        }\n        this._predraw(ctx, delta);\n        this.world.update(SystemType.Draw, delta);\n        if ((_a = this.engine) === null || _a === void 0 ? void 0 : _a.isDebug) {\n            this.debugDraw(ctx);\n        }\n        this._postdraw(ctx, delta);\n    }\n    /**\n     * Draws all the actors' debug information in the Scene. Called by the [[Engine]].\n     * @param ctx  The current rendering context\n     */\n    /* istanbul ignore next */\n    debugDraw(ctx) {\n        this.emit('predebugdraw', new PreDebugDrawEvent(ctx, this));\n        // pass\n        this.emit('postdebugdraw', new PostDebugDrawEvent(ctx, this));\n    }\n    /**\n     * Checks whether an actor is contained in this scene or not\n     */\n    contains(actor) {\n        return this.actors.indexOf(actor) > -1;\n    }\n    add(entity) {\n        this.emit('entityadded', { target: entity });\n        this.world.add(entity);\n        entity.scene = this;\n        if (entity instanceof Timer) {\n            if (!contains(this._timers, entity)) {\n                this.addTimer(entity);\n            }\n            return;\n        }\n    }\n    /**\n     * Removes an [[Entity]] (Actor, TileMap, Trigger, etc) or [[Timer]] from it's current scene\n     * and adds it to this scene.\n     *\n     * Useful if you want to have an object be present in only 1 scene at a time.\n     * @param entity\n     */\n    transfer(entity) {\n        let scene;\n        if (entity instanceof Entity && entity.scene && entity.scene !== this) {\n            scene = entity.scene;\n            entity.scene.world.remove(entity, false);\n        }\n        if (entity instanceof Timer && entity.scene) {\n            scene = entity.scene;\n            entity.scene.removeTimer(entity);\n        }\n        scene === null || scene === void 0 ? void 0 : scene.emit('entityremoved', { target: entity });\n        this.add(entity);\n    }\n    remove(entity) {\n        if (entity instanceof Entity) {\n            this.emit('entityremoved', { target: entity });\n            if (entity.active) {\n                entity.kill();\n            }\n            this.world.remove(entity);\n        }\n        if (entity instanceof Timer) {\n            this.removeTimer(entity);\n        }\n    }\n    /**\n     * Removes all entities and timers from the scene, optionally indicate whether deferred should or shouldn't be used.\n     *\n     * By default entities use deferred removal\n     * @param deferred\n     */\n    clear(deferred = true) {\n        for (let i = this.entities.length - 1; i >= 0; i--) {\n            this.world.remove(this.entities[i], deferred);\n        }\n        for (let i = this.timers.length - 1; i >= 0; i--) {\n            this.removeTimer(this.timers[i]);\n        }\n    }\n    /**\n     * Adds a [[Timer]] to the scene\n     * @param timer  The timer to add\n     */\n    addTimer(timer) {\n        this._timers.push(timer);\n        timer.scene = this;\n        return timer;\n    }\n    /**\n     * Removes a [[Timer]] from the scene.\n     * @warning Can be dangerous, use [[cancelTimer]] instead\n     * @param timer  The timer to remove\n     */\n    removeTimer(timer) {\n        const i = this._timers.indexOf(timer);\n        if (i !== -1) {\n            this._timers.splice(i, 1);\n        }\n        return timer;\n    }\n    /**\n     * Cancels a [[Timer]], removing it from the scene nicely\n     * @param timer  The timer to cancel\n     */\n    cancelTimer(timer) {\n        this._cancelQueue.push(timer);\n        return timer;\n    }\n    /**\n     * Tests whether a [[Timer]] is active in the scene\n     */\n    isTimerActive(timer) {\n        return this._timers.indexOf(timer) > -1 && !timer.complete;\n    }\n    isCurrentScene() {\n        if (this.engine) {\n            return this.engine.currentScene === this;\n        }\n        return false;\n    }\n    _collectActorStats(engine) {\n        const screenElements = this.actors.filter((a) => a instanceof ScreenElement);\n        for (const _ui of screenElements) {\n            engine.stats.currFrame.actors.ui++;\n        }\n        for (const actor of this.actors) {\n            engine.stats.currFrame.actors.alive++;\n            for (const child of actor.children) {\n                if (isScreenElement(child)) {\n                    // TODO not true\n                    engine.stats.currFrame.actors.ui++;\n                }\n                else {\n                    engine.stats.currFrame.actors.alive++;\n                }\n            }\n        }\n    }\n}\n\n;// CONCATENATED MODULE: ./Graphics/PostProcessor/ColorBlindnessMode.ts\nvar ColorBlindnessMode;\n(function (ColorBlindnessMode) {\n    ColorBlindnessMode[\"Protanope\"] = \"Protanope\";\n    ColorBlindnessMode[\"Deuteranope\"] = \"Deuteranope\";\n    ColorBlindnessMode[\"Tritanope\"] = \"Tritanope\";\n})(ColorBlindnessMode || (ColorBlindnessMode = {}));\n\n;// CONCATENATED MODULE: ./Graphics/PostProcessor/color-blind-fragment.glsl\n/* harmony default export */ const color_blind_fragment = (\"#version 300 es\\r\\nprecision mediump float;\\r\\n// our texture\\r\\nuniform sampler2D u_image;\\r\\n// the texCoords passed in from the vertex shader.\\r\\nin vec2 v_texcoord;\\r\\n\\r\\n// color blind type\\r\\nuniform int u_type;\\r\\n\\r\\n// simulation?\\r\\nuniform bool u_simulate;\\r\\n\\r\\nout vec4 fragColor;\\r\\n\\r\\nvoid main() {\\r\\n  vec4 o =  texture(u_image, v_texcoord);\\r\\n  // RGB to LMS matrix conversion\\r\\n  float L = (17.8824 * o.r) + (43.5161 * o.g) + (4.11935 * o.b);\\r\\n  float M = (3.45565 * o.r) + (27.1554 * o.g) + (3.86714 * o.b);\\r\\n  float S = (0.0299566 * o.r) + (0.184309 * o.g) + (1.46709 * o.b);\\r\\n  // Simulate color blindness\\r\\n  float l;\\r\\n  float m;\\r\\n  float s;\\r\\n  //MODE CODE//\\r\\n  if (u_type == 0) {\\r\\n    // Protanope\\r\\n    l = 0.0 * L + 2.02344 * M + -2.52581 * S;\\r\\n    m = 0.0 * L + 1.0 * M + 0.0 * S;\\r\\n    s = 0.0 * L + 0.0 * M + 1.0 * S;;\\r\\n  } else if (u_type == 1) {\\r\\n    // Deuteranope\\r\\n    l = 1.0 * L + 0.0 * M + 0.0 * S;\\r\\n    m = 0.494207 * L + 0.0 * M + 1.24827 * S;\\r\\n    s = 0.0 * L + 0.0 * M + 1.0 * S;\\r\\n  } else if (u_type == 2) {\\r\\n    // Tritanope\\r\\n    l = 1.0 * L + 0.0 * M + 0.0 * S;\\r\\n    m = 0.0 * L + 1.0 * M + 0.0 * S;\\r\\n    s = -0.395913 * L + 0.801109 * M + 0.0 * S;\\r\\n  }\\r\\n\\r\\n  // LMS to RGB matrix conversion\\r\\n  vec4 error; // simulate the colors\\r\\n  error.r = (0.0809444479 * l) + (-0.130504409 * m) + (0.116721066 * s);\\r\\n  error.g = (-0.0102485335 * l) + (0.0540193266 * m) + (-0.113614708 * s);\\r\\n  error.b = (-0.000365296938 * l) + (-0.00412161469 * m) + (0.693511405 * s);\\r\\n  error.a = 1.0;\\r\\n  vec4 diff = o - error;\\r\\n  vec4 correction; // correct the colors\\r\\n  correction.r = 0.0;\\r\\n  correction.g =  (diff.r * 0.7) + (diff.g * 1.0);\\r\\n  correction.b =  (diff.r * 0.7) + (diff.b * 1.0);\\r\\n  correction = o + correction;\\r\\n  correction.a = o.a;\\r\\n  //SIMULATE//\\r\\n\\r\\n  // sim \\r\\n  if (u_simulate) {\\r\\n    fragColor = error.rgba;\\r\\n  } else {\\r\\n    fragColor = correction.rgba;\\r\\n  }\\r\\n}\");\n;// CONCATENATED MODULE: ./Graphics/PostProcessor/ScreenShader.ts\n\n\n\n/**\n * Helper that defines a whole screen renderer, just provide a fragment source!\n *\n * Currently supports 1 varying\n * - vec2 a_texcoord between 0-1 which corresponds to screen position\n */\nclass ScreenShader {\n    constructor(gl, fragmentSource) {\n        this._shader = new Shader({\n            gl,\n            vertexSource: `#version 300 es\r\n      in vec2 a_position;\r\n      in vec2 a_texcoord;\r\n      out vec2 v_texcoord;\r\n\r\n      void main() {\r\n        gl_Position = vec4(a_position, 0.0, 1.0);\r\n        // Pass the texcoord to the fragment shader.\r\n        v_texcoord = a_texcoord;\r\n      }`,\n            fragmentSource: fragmentSource\n        });\n        this._shader.compile();\n        // Setup memory layout\n        this._buffer = new VertexBuffer({\n            gl,\n            type: 'static',\n            // clip space quad + uv since we don't need a camera\n            data: new Float32Array([\n                -1, -1, 0, 0,\n                -1, 1, 0, 1,\n                1, -1, 1, 0,\n                1, -1, 1, 0,\n                -1, 1, 0, 1,\n                1, 1, 1, 1\n            ])\n        });\n        this._layout = new VertexLayout({\n            gl,\n            shader: this._shader,\n            vertexBuffer: this._buffer,\n            attributes: [\n                ['a_position', 2],\n                ['a_texcoord', 2]\n            ]\n        });\n        this._buffer.upload();\n    }\n    getShader() {\n        return this._shader;\n    }\n    getLayout() {\n        return this._layout;\n    }\n}\n\n;// CONCATENATED MODULE: ./Graphics/PostProcessor/ColorBlindnessPostProcessor.ts\n\n\n\nclass ColorBlindnessPostProcessor {\n    constructor(_colorBlindnessMode, simulate = false) {\n        this._colorBlindnessMode = _colorBlindnessMode;\n        this._simulate = false;\n        this._simulate = simulate;\n    }\n    initialize(gl) {\n        this._shader = new ScreenShader(gl, color_blind_fragment);\n        this.simulate = this._simulate;\n        this.colorBlindnessMode = this._colorBlindnessMode;\n    }\n    getShader() {\n        return this._shader.getShader();\n    }\n    getLayout() {\n        return this._shader.getLayout();\n    }\n    set colorBlindnessMode(colorBlindMode) {\n        this._colorBlindnessMode = colorBlindMode;\n        if (this._shader) {\n            const shader = this._shader.getShader();\n            shader.use();\n            if (this._colorBlindnessMode === ColorBlindnessMode.Protanope) {\n                shader.setUniformInt('u_type', 0);\n            }\n            else if (this._colorBlindnessMode === ColorBlindnessMode.Deuteranope) {\n                shader.setUniformInt('u_type', 1);\n            }\n            else if (this._colorBlindnessMode === ColorBlindnessMode.Tritanope) {\n                shader.setUniformInt('u_type', 2);\n            }\n        }\n    }\n    get colorBlindnessMode() {\n        return this._colorBlindnessMode;\n    }\n    set simulate(value) {\n        this._simulate = value;\n        if (this._shader) {\n            const shader = this._shader.getShader();\n            shader.use();\n            shader.setUniformBoolean('u_simulate', value);\n        }\n    }\n    get simulate() {\n        return this._simulate;\n    }\n}\n\n;// CONCATENATED MODULE: ./Debug/DebugFlags.ts\n\n\n\nclass ColorBlindFlags {\n    constructor(engine) {\n        this._engine = engine;\n        this._colorBlindPostProcessor = new ColorBlindnessPostProcessor(ColorBlindnessMode.Protanope);\n    }\n    /**\n     * Correct colors for a specified color blindness\n     * @param colorBlindness\n     */\n    correct(colorBlindness) {\n        if (this._engine.graphicsContext instanceof ExcaliburGraphicsContextWebGL) {\n            this.clear();\n            this._colorBlindPostProcessor.colorBlindnessMode = colorBlindness;\n            this._colorBlindPostProcessor.simulate = false;\n            this._engine.graphicsContext.addPostProcessor(this._colorBlindPostProcessor);\n        }\n    }\n    /**\n     * Simulate colors for a specified color blindness\n     * @param colorBlindness\n     */\n    simulate(colorBlindness) {\n        if (this._engine.graphicsContext instanceof ExcaliburGraphicsContextWebGL) {\n            this.clear();\n            this._colorBlindPostProcessor.colorBlindnessMode = colorBlindness;\n            this._colorBlindPostProcessor.simulate = true;\n            this._engine.graphicsContext.addPostProcessor(this._colorBlindPostProcessor);\n        }\n    }\n    /**\n     * Remove color blindness post processor\n     */\n    clear() {\n        this._engine.graphicsContext.removePostProcessor(this._colorBlindPostProcessor);\n    }\n}\n\n;// CONCATENATED MODULE: ./Debug/DebugConfig.ts\n\n\n/**\n * Debug statistics and flags for Excalibur. If polling these values, it would be\n * best to do so on the `postupdate` event for [[Engine]], after all values have been\n * updated during a frame.\n */\nclass DebugConfig {\n    constructor(engine) {\n        /**\n         * Performance statistics\n         */\n        this.stats = {\n            /**\n             * Current frame statistics. Engine reuses this instance, use [[FrameStats.clone]] to copy frame stats.\n             * Best accessed on [[postframe]] event. See [[FrameStats]]\n             */\n            currFrame: new FrameStats(),\n            /**\n             * Previous frame statistics. Engine reuses this instance, use [[FrameStats.clone]] to copy frame stats.\n             * Best accessed on [[preframe]] event. Best inspected on engine event `preframe`. See [[FrameStats]]\n             */\n            prevFrame: new FrameStats()\n        };\n        /**\n         * Filter debug context to named entities or entity ids\n         */\n        this.filter = {\n            /**\n             * Toggle filter on or off (default off) must be on for DebugDraw to use filters\n             */\n            useFilter: false,\n            /**\n             * Query for entities by name, if the entity name contains `nameQuery` it will be included\n             */\n            nameQuery: '',\n            /**\n             * Query for Entity ids, if the id matches it will be included\n             */\n            ids: []\n        };\n        /**\n         * Entity debug settings\n         */\n        this.entity = {\n            showAll: false,\n            showId: false,\n            showName: false\n        };\n        /**\n         * Transform component debug settings\n         */\n        this.transform = {\n            showAll: false,\n            debugZIndex: 10000000,\n            showPosition: false,\n            showPositionLabel: false,\n            positionColor: Color.Yellow,\n            showZIndex: false,\n            showScale: false,\n            scaleColor: Color.Green,\n            showRotation: false,\n            rotationColor: Color.Blue\n        };\n        /**\n         * Graphics component debug settings\n         */\n        this.graphics = {\n            showAll: false,\n            showBounds: false,\n            boundsColor: Color.Yellow\n        };\n        /**\n         * Collider component debug settings\n         */\n        this.collider = {\n            showAll: false,\n            showBounds: false,\n            boundsColor: Color.Blue,\n            showOwner: false,\n            showGeometry: true,\n            geometryColor: Color.Green,\n            geometryLineWidth: 1,\n            geometryPointSize: .5\n        };\n        /**\n         * Physics simulation debug settings\n         */\n        this.physics = {\n            showAll: false,\n            showBroadphaseSpacePartitionDebug: false,\n            showCollisionNormals: false,\n            collisionNormalColor: Color.Cyan,\n            showCollisionContacts: true,\n            contactSize: 2,\n            collisionContactColor: Color.Red\n        };\n        /**\n         * Motion component debug settings\n         */\n        this.motion = {\n            showAll: false,\n            showVelocity: false,\n            velocityColor: Color.Yellow,\n            showAcceleration: false,\n            accelerationColor: Color.Red\n        };\n        /**\n         * Body component debug settings\n         */\n        this.body = {\n            showAll: false,\n            showCollisionGroup: false,\n            showCollisionType: false,\n            showSleeping: false,\n            showMotion: false,\n            showMass: false\n        };\n        /**\n         * Camera debug settings\n         */\n        this.camera = {\n            showAll: false,\n            showFocus: false,\n            focusColor: Color.Red,\n            showZoom: false\n        };\n        this.tilemap = {\n            showAll: false,\n            showGrid: false,\n            gridColor: Color.Red,\n            gridWidth: .5,\n            showSolidBounds: false,\n            solidBoundsColor: Color.fromHex('#8080807F'), // grayish\n            showColliderGeometry: true\n        };\n        this.isometric = {\n            showAll: false,\n            showPosition: false,\n            positionColor: Color.Yellow,\n            positionSize: 1,\n            showGrid: false,\n            gridColor: Color.Red,\n            gridWidth: 1,\n            showColliderGeometry: true\n        };\n        this._engine = engine;\n        this.colorBlindMode = new ColorBlindFlags(this._engine);\n    }\n    /**\n     * Switch the current excalibur clock with the [[TestClock]] and return\n     * it in the same running state.\n     *\n     * This is useful when you need to debug frame by frame.\n     */\n    useTestClock() {\n        const clock = this._engine.clock;\n        const wasRunning = clock.isRunning();\n        clock.stop();\n        const testClock = clock.toTestClock();\n        if (wasRunning) {\n            testClock.start();\n        }\n        this._engine.clock = testClock;\n        return testClock;\n    }\n    /**\n     * Switch the current excalibur clock with the [[StandardClock]] and\n     * return it in the same running state.\n     *\n     * This is useful when you need to switch back to normal mode after\n     * debugging.\n     */\n    useStandardClock() {\n        const currentClock = this._engine.clock;\n        const wasRunning = currentClock.isRunning();\n        currentClock.stop();\n        const standardClock = currentClock.toStandardClock();\n        if (wasRunning) {\n            standardClock.start();\n        }\n        this._engine.clock = standardClock;\n        return standardClock;\n    }\n}\n/**\n * Implementation of a frame's stats. Meant to have values copied via [[FrameStats.reset]], avoid\n * creating instances of this every frame.\n */\nclass FrameStats {\n    constructor() {\n        this._id = 0;\n        this._delta = 0;\n        this._fps = 0;\n        this._actorStats = {\n            alive: 0,\n            killed: 0,\n            ui: 0,\n            get remaining() {\n                return this.alive - this.killed;\n            },\n            get total() {\n                return this.remaining + this.ui;\n            }\n        };\n        this._durationStats = {\n            update: 0,\n            draw: 0,\n            get total() {\n                return this.update + this.draw;\n            }\n        };\n        this._physicsStats = new PhysicsStats();\n        this._graphicsStats = {\n            drawCalls: 0,\n            drawnImages: 0\n        };\n    }\n    /**\n     * Zero out values or clone other IFrameStat stats. Allows instance reuse.\n     * @param [otherStats] Optional stats to clone\n     */\n    reset(otherStats) {\n        if (otherStats) {\n            this.id = otherStats.id;\n            this.delta = otherStats.delta;\n            this.fps = otherStats.fps;\n            this.actors.alive = otherStats.actors.alive;\n            this.actors.killed = otherStats.actors.killed;\n            this.actors.ui = otherStats.actors.ui;\n            this.duration.update = otherStats.duration.update;\n            this.duration.draw = otherStats.duration.draw;\n            this._physicsStats.reset(otherStats.physics);\n            this.graphics.drawCalls = otherStats.graphics.drawCalls;\n            this.graphics.drawnImages = otherStats.graphics.drawnImages;\n        }\n        else {\n            this.id = this.delta = this.fps = 0;\n            this.actors.alive = this.actors.killed = this.actors.ui = 0;\n            this.duration.update = this.duration.draw = 0;\n            this._physicsStats.reset();\n            this.graphics.drawnImages = this.graphics.drawCalls = 0;\n        }\n    }\n    /**\n     * Provides a clone of this instance.\n     */\n    clone() {\n        const fs = new FrameStats();\n        fs.reset(this);\n        return fs;\n    }\n    /**\n     * Gets the frame's id\n     */\n    get id() {\n        return this._id;\n    }\n    /**\n     * Sets the frame's id\n     */\n    set id(value) {\n        this._id = value;\n    }\n    /**\n     * Gets the frame's delta (time since last frame)\n     */\n    get delta() {\n        return this._delta;\n    }\n    /**\n     * Sets the frame's delta (time since last frame). Internal use only.\n     * @internal\n     */\n    set delta(value) {\n        this._delta = value;\n    }\n    /**\n     * Gets the frame's frames-per-second (FPS)\n     */\n    get fps() {\n        return this._fps;\n    }\n    /**\n     * Sets the frame's frames-per-second (FPS). Internal use only.\n     * @internal\n     */\n    set fps(value) {\n        this._fps = value;\n    }\n    /**\n     * Gets the frame's actor statistics\n     */\n    get actors() {\n        return this._actorStats;\n    }\n    /**\n     * Gets the frame's duration statistics\n     */\n    get duration() {\n        return this._durationStats;\n    }\n    /**\n     * Gets the frame's physics statistics\n     */\n    get physics() {\n        return this._physicsStats;\n    }\n    /**\n     * Gets the frame's graphics statistics\n     */\n    get graphics() {\n        return this._graphicsStats;\n    }\n}\nclass PhysicsStats {\n    constructor() {\n        this._pairs = 0;\n        this._collisions = 0;\n        this._contacts = new Map();\n        this._fastBodies = 0;\n        this._fastBodyCollisions = 0;\n        this._broadphase = 0;\n        this._narrowphase = 0;\n    }\n    /**\n     * Zero out values or clone other IPhysicsStats stats. Allows instance reuse.\n     * @param [otherStats] Optional stats to clone\n     */\n    reset(otherStats) {\n        if (otherStats) {\n            this.pairs = otherStats.pairs;\n            this.collisions = otherStats.collisions;\n            this.contacts = otherStats.contacts;\n            this.fastBodies = otherStats.fastBodies;\n            this.fastBodyCollisions = otherStats.fastBodyCollisions;\n            this.broadphase = otherStats.broadphase;\n            this.narrowphase = otherStats.narrowphase;\n        }\n        else {\n            this.pairs = this.collisions = this.fastBodies = 0;\n            this.fastBodyCollisions = this.broadphase = this.narrowphase = 0;\n            this.contacts.clear();\n        }\n    }\n    /**\n     * Provides a clone of this instance.\n     */\n    clone() {\n        const ps = new PhysicsStats();\n        ps.reset(this);\n        return ps;\n    }\n    get pairs() {\n        return this._pairs;\n    }\n    set pairs(value) {\n        this._pairs = value;\n    }\n    get collisions() {\n        return this._collisions;\n    }\n    set collisions(value) {\n        this._collisions = value;\n    }\n    get contacts() {\n        return this._contacts;\n    }\n    set contacts(contacts) {\n        this._contacts = contacts;\n    }\n    get fastBodies() {\n        return this._fastBodies;\n    }\n    set fastBodies(value) {\n        this._fastBodies = value;\n    }\n    get fastBodyCollisions() {\n        return this._fastBodyCollisions;\n    }\n    set fastBodyCollisions(value) {\n        this._fastBodyCollisions = value;\n    }\n    get broadphase() {\n        return this._broadphase;\n    }\n    set broadphase(value) {\n        this._broadphase = value;\n    }\n    get narrowphase() {\n        return this._narrowphase;\n    }\n    set narrowphase(value) {\n        this._narrowphase = value;\n    }\n}\n\n;// CONCATENATED MODULE: ./Util/Browser.ts\nclass BrowserComponent {\n    on(eventName, handler) {\n        if (this._nativeHandlers[eventName]) {\n            this.off(eventName, this._nativeHandlers[eventName]);\n        }\n        this._nativeHandlers[eventName] = this._decorate(handler);\n        this.nativeComponent.addEventListener(eventName, this._nativeHandlers[eventName]);\n    }\n    off(eventName, handler) {\n        if (!handler) {\n            handler = this._nativeHandlers[eventName];\n        }\n        this.nativeComponent.removeEventListener(eventName, handler);\n        this._nativeHandlers[eventName] = null;\n    }\n    _decorate(handler) {\n        return (evt) => {\n            if (!this._paused) {\n                handler(evt);\n            }\n        };\n    }\n    pause() {\n        this._paused = true;\n    }\n    resume() {\n        this._paused = false;\n    }\n    clear() {\n        for (const event in this._nativeHandlers) {\n            this.off(event);\n        }\n    }\n    constructor(nativeComponent) {\n        this.nativeComponent = nativeComponent;\n        this._paused = false;\n        this._nativeHandlers = {};\n    }\n}\nclass BrowserEvents {\n    constructor(_windowGlobal, _documentGlobal) {\n        this._windowGlobal = _windowGlobal;\n        this._documentGlobal = _documentGlobal;\n        this._windowComponent = new BrowserComponent(this._windowGlobal);\n        this._documentComponent = new BrowserComponent(this._documentGlobal);\n    }\n    get window() {\n        return this._windowComponent;\n    }\n    get document() {\n        return this._documentComponent;\n    }\n    pause() {\n        this.window.pause();\n        this.document.pause();\n    }\n    resume() {\n        this.window.resume();\n        this.document.resume();\n    }\n    clear() {\n        this.window.clear();\n        this.document.clear();\n    }\n}\n\n;// CONCATENATED MODULE: ./Graphics/Context/ExcaliburGraphicsContext.ts\n\nconst DefaultAntialiasOptions = {\n    pixelArtSampler: false,\n    nativeContextAntialiasing: false,\n    multiSampleAntialiasing: true,\n    filtering: ImageFiltering.Blended,\n    canvasImageRendering: 'auto'\n};\nconst DefaultPixelArtOptions = {\n    pixelArtSampler: true,\n    nativeContextAntialiasing: false,\n    multiSampleAntialiasing: true,\n    filtering: ImageFiltering.Blended,\n    canvasImageRendering: 'auto'\n};\n\n;// CONCATENATED MODULE: ./Util/Fps.ts\nclass FpsSampler {\n    constructor(options) {\n        var _a;\n        this._samplePeriod = 100;\n        this._currentFrameTime = 0;\n        this._frames = 0;\n        this._previousSampleTime = 0;\n        this._beginFrameTime = 0;\n        this._fps = options.initialFps;\n        this._samplePeriod = (_a = options.samplePeriod) !== null && _a !== void 0 ? _a : this._samplePeriod;\n        this._currentFrameTime = 1000 / options.initialFps;\n        this._nowFn = options.nowFn;\n        this._previousSampleTime = this._nowFn();\n    }\n    /**\n     * Start of code block to sample FPS for\n     */\n    start() {\n        this._beginFrameTime = this._nowFn();\n    }\n    /**\n     * End of code block to sample FPS for\n     */\n    end() {\n        this._frames++;\n        const time = this._nowFn();\n        this._currentFrameTime = time - this._beginFrameTime;\n        if (time >= this._previousSampleTime + this._samplePeriod) {\n            this._fps = (this._frames * 1000) / (time - this._previousSampleTime);\n            this._previousSampleTime = time;\n            this._frames = 0;\n        }\n    }\n    /**\n     * Return the currently sampled fps over the last sample period, by default every 100ms\n     */\n    get fps() {\n        return this._fps;\n    }\n    /**\n     * Return the instantaneous fps, this can be less useful because it will fluctuate given the current frames time\n     */\n    get instant() {\n        return 1000 / this._currentFrameTime;\n    }\n}\n\n;// CONCATENATED MODULE: ./Util/Clock.ts\n\n\n/**\n * Abstract Clock is the base type of all Clocks\n *\n * It has a few opinions\n * 1. It manages the calculation of what \"elapsed\" time means and thus maximum fps\n * 2. The default timing api is implemented in now()\n *\n * To implement your own clock, extend Clock and override start/stop to start and stop the clock, then call update() with whatever\n * method is unique to your clock implementation.\n */\nclass Clock {\n    constructor(options) {\n        var _a, _b, _c;\n        this._onFatalException = () => { };\n        this._maxFps = Infinity;\n        this._lastTime = 0;\n        this._elapsed = 1;\n        this._scheduledCbs = [];\n        this._totalElapsed = 0;\n        this._options = options;\n        this.tick = options.tick;\n        this._lastTime = (_a = this.now()) !== null && _a !== void 0 ? _a : 0;\n        this._maxFps = (_b = options.maxFps) !== null && _b !== void 0 ? _b : this._maxFps;\n        this._onFatalException = (_c = options.onFatalException) !== null && _c !== void 0 ? _c : this._onFatalException;\n        this.fpsSampler = new FpsSampler({\n            initialFps: 60,\n            nowFn: () => this.now()\n        });\n    }\n    /**\n     * Get the elapsed time for the last completed frame\n     */\n    elapsed() {\n        return this._elapsed;\n    }\n    /**\n     * Get the current time in milliseconds\n     */\n    now() {\n        return performance.now();\n    }\n    toTestClock() {\n        const testClock = new TestClock({\n            ...this._options,\n            defaultUpdateMs: 16.6\n        });\n        return testClock;\n    }\n    toStandardClock() {\n        const clock = new StandardClock({\n            ...this._options\n        });\n        return clock;\n    }\n    setFatalExceptionHandler(handler) {\n        this._onFatalException = handler;\n    }\n    /**\n     * Schedule a callback to fire given a timeout in milliseconds using the excalibur [[Clock]]\n     *\n     * This is useful to use over the built in browser `setTimeout` because callbacks will be tied to the\n     * excalibur update clock, instead of browser time, this means that callbacks wont fire if the game is\n     * stopped or paused.\n     * @param cb callback to fire\n     * @param timeoutMs Optionally specify a timeout in milliseconds from now, default is 0ms which means the next possible tick\n     */\n    schedule(cb, timeoutMs = 0) {\n        // Scheduled based on internal elapsed time\n        const scheduledTime = this._totalElapsed + timeoutMs;\n        this._scheduledCbs.push([cb, scheduledTime]);\n    }\n    _runScheduledCbs() {\n        // walk backwards to delete items as we loop\n        for (let i = this._scheduledCbs.length - 1; i > -1; i--) {\n            if (this._scheduledCbs[i][1] <= this._totalElapsed) {\n                this._scheduledCbs[i][0](this._elapsed);\n                this._scheduledCbs.splice(i, 1);\n            }\n        }\n    }\n    update(overrideUpdateMs) {\n        try {\n            this.fpsSampler.start();\n            // Get the time to calculate time-elapsed\n            const now = this.now();\n            let elapsed = now - this._lastTime || 1; // first frame\n            // Constrain fps\n            const fpsInterval = (1000 / this._maxFps);\n            // only run frame if enough time has elapsed\n            if (elapsed >= fpsInterval) {\n                let leftover = 0;\n                if (fpsInterval !== 0) {\n                    leftover = (elapsed % fpsInterval);\n                    elapsed = elapsed - leftover; // shift elapsed to be \"in phase\" with the current loop fps\n                }\n                // Resolves issue #138 if the game has been paused, or blurred for\n                // more than a 200 milliseconds, reset elapsed time to 1. This improves reliability\n                // and provides more expected behavior when the engine comes back\n                // into focus\n                if (elapsed > 200) {\n                    elapsed = 1;\n                }\n                // tick the mainloop and run scheduled callbacks\n                this._elapsed = overrideUpdateMs || elapsed;\n                this._totalElapsed += this._elapsed;\n                this._runScheduledCbs();\n                this.tick(overrideUpdateMs || elapsed);\n                if (fpsInterval !== 0) {\n                    this._lastTime = now - leftover;\n                }\n                else {\n                    this._lastTime = now;\n                }\n                this.fpsSampler.end();\n            }\n        }\n        catch (e) {\n            this._onFatalException(e);\n            this.stop();\n        }\n    }\n}\n/**\n * The [[StandardClock]] implements the requestAnimationFrame browser api to run the tick()\n */\nclass StandardClock extends Clock {\n    constructor(options) {\n        super(options);\n        this._running = false;\n    }\n    isRunning() {\n        return this._running;\n    }\n    start() {\n        if (this._running) {\n            return;\n        }\n        this._running = true;\n        const mainloop = () => {\n            // stop the loop\n            if (!this._running) {\n                return;\n            }\n            try {\n                // request next loop\n                this._requestId = window.requestAnimationFrame(mainloop);\n                this.update();\n            }\n            catch (e) {\n                window.cancelAnimationFrame(this._requestId);\n                throw e;\n            }\n        };\n        // begin the first frame\n        mainloop();\n    }\n    stop() {\n        window.cancelAnimationFrame(this._requestId);\n        this._running = false;\n    }\n}\n/**\n * The TestClock is meant for debugging interactions in excalibur that require precise timing to replicate or test\n */\nclass TestClock extends Clock {\n    constructor(options) {\n        super({\n            ...options\n        });\n        this._logger = Logger.getInstance();\n        this._running = false;\n        this._currentTime = 0;\n        this._updateMs = options.defaultUpdateMs;\n    }\n    /**\n     * Get the current time in milliseconds\n     */\n    now() {\n        var _a;\n        return (_a = this._currentTime) !== null && _a !== void 0 ? _a : 0;\n    }\n    isRunning() {\n        return this._running;\n    }\n    start() {\n        this._running = true;\n    }\n    stop() {\n        this._running = false;\n    }\n    /**\n     * Manually step the clock forward 1 tick, optionally specify an elapsed time in milliseconds\n     * @param overrideUpdateMs\n     */\n    step(overrideUpdateMs) {\n        const time = overrideUpdateMs !== null && overrideUpdateMs !== void 0 ? overrideUpdateMs : this._updateMs;\n        if (this._running) {\n            // to be comparable to RAF this needs to be a full blown Task\n            // For example, images cannot decode synchronously in a single step\n            this.update(time);\n            this._currentTime += time;\n        }\n        else {\n            this._logger.warn('The clock is not running, no step will be performed');\n        }\n    }\n    /**\n     * Run a number of steps that tick the clock, optionally specify an elapsed time in milliseconds\n     * @param numberOfSteps\n     * @param overrideUpdateMs\n     */\n    run(numberOfSteps, overrideUpdateMs) {\n        for (let i = 0; i < numberOfSteps; i++) {\n            this.step(overrideUpdateMs !== null && overrideUpdateMs !== void 0 ? overrideUpdateMs : this._updateMs);\n        }\n    }\n}\n\n// EXTERNAL MODULE: ./Util/Toaster.css\nvar Util_Toaster = __webpack_require__(7379);\n;// CONCATENATED MODULE: ./Util/Toaster.ts\n\n/**\n * The Toaster is only meant to be called from inside Excalibur to display messages to players\n */\nclass Toaster {\n    constructor() {\n        this._toasterCss = Util_Toaster/* default */.Z.toString();\n        this._isInitialized = false;\n    }\n    _initialize() {\n        if (!this._isInitialized) {\n            this._container = document.createElement('div');\n            this._container.id = 'ex-toast-container';\n            document.body.appendChild(this._container);\n            this._isInitialized = true;\n            this._styleBlock = document.createElement('style');\n            this._styleBlock.textContent = this._toasterCss;\n            document.head.appendChild(this._styleBlock);\n        }\n    }\n    dispose() {\n        this._container.parentElement.removeChild(this._container);\n        this._styleBlock.parentElement.removeChild(this._styleBlock);\n        this._isInitialized = false;\n    }\n    _createFragment(message) {\n        const toastMessage = document.createElement('span');\n        toastMessage.innerText = message;\n        return toastMessage;\n    }\n    /**\n     * Display a toast message to a player\n     * @param message Text of the message, messages may have a single \"[LINK]\" to influence placement\n     * @param linkTarget Optionally specify a link location\n     * @param linkName Optionally specify a name for that link location\n     */\n    toast(message, linkTarget, linkName) {\n        this._initialize();\n        const toast = document.createElement('div');\n        toast.className = 'ex-toast-message';\n        const messageFragments = message.split('[LINK]').map(message => this._createFragment(message));\n        if (linkTarget) {\n            const link = document.createElement('a');\n            link.href = linkTarget;\n            if (linkName) {\n                link.innerText = linkName;\n            }\n            else {\n                link.innerText = linkTarget;\n            }\n            messageFragments.splice(1, 0, link);\n        }\n        // Assembly message\n        const finalMessage = document.createElement('div');\n        messageFragments.forEach(message => {\n            finalMessage.appendChild(message);\n        });\n        toast.appendChild(finalMessage);\n        // Dismiss button\n        const dismissBtn = document.createElement('button');\n        dismissBtn.innerText = 'x';\n        dismissBtn.addEventListener('click', () => {\n            this._container.removeChild(toast);\n        });\n        toast.appendChild(dismissBtn);\n        // Escape to dismiss\n        const keydownHandler = (evt) => {\n            if (evt.key === 'Escape') {\n                try {\n                    this._container.removeChild(toast);\n                }\n                catch (_a) {\n                    // pass\n                }\n            }\n            document.removeEventListener('keydown', keydownHandler);\n        };\n        document.addEventListener('keydown', keydownHandler);\n        // Insert into container\n        const first = this._container.firstChild;\n        this._container.insertBefore(toast, first);\n    }\n}\n\n;// CONCATENATED MODULE: ./Director/Director.ts\n\n\n\n\n\n\nconst DirectorEvents = {\n    NavigationStart: 'navigationstart',\n    Navigation: 'navigation',\n    NavigationEnd: 'navigationend'\n};\n/**\n * The Director is responsible for managing scenes and changing scenes in Excalibur.\n *\n * It deals with transitions, scene loaders, switching scenes\n *\n * This is used internally by Excalibur, generally not mean to\n * be instantiated end users directly.\n */\nclass Director {\n    /**\n     * Gets whether the director currently transitioning between scenes\n     *\n     * Useful if you need to block behavior during transition\n     */\n    get isTransitioning() {\n        return this._isTransitioning;\n    }\n    constructor(_engine, scenes) {\n        this._engine = _engine;\n        this.events = new EventEmitter();\n        this._logger = Logger.getInstance();\n        this._initialized = false;\n        /**\n         * All registered scenes in Excalibur\n         */\n        this.scenes = {};\n        /**\n         * Holds all instantiated scenes\n         */\n        this._sceneToInstance = new Map();\n        this._sceneToLoader = new Map();\n        this._sceneToTransition = new Map();\n        /**\n         * Used to keep track of scenes that have already been loaded so we don't load multiple times\n         */\n        this._loadedScenes = new Set();\n        this._isTransitioning = false;\n        this.rootScene = this.currentScene = new Scene();\n        this.add('root', this.rootScene);\n        this.currentScene = this.rootScene;\n        this.currentSceneName = 'root';\n        for (const sceneKey in scenes) {\n            const sceneOrOptions = scenes[sceneKey];\n            this.add(sceneKey, sceneOrOptions);\n            if (sceneKey === 'root') {\n                this.rootScene = this.getSceneInstance('root');\n                this.currentScene = this.rootScene;\n            }\n        }\n    }\n    /**\n     * Initialize the director's internal state\n     */\n    async onInitialize() {\n        if (!this._initialized) {\n            this._initialized = true;\n            if (this._deferredGoto) {\n                const deferredScene = this._deferredGoto;\n                this._deferredGoto = null;\n                await this.swapScene(deferredScene);\n            }\n            else {\n                await this.swapScene('root');\n            }\n        }\n    }\n    get isInitialized() {\n        return this._initialized;\n    }\n    /**\n     * Configures the start scene, and optionally the transition & loader for the director\n     *\n     * Typically this is called at the beginning of the game to the start scene and transition and never again.\n     * @param startScene\n     * @param options\n     */\n    configureStart(startScene, options) {\n        const maybeLoaderOrCtor = options === null || options === void 0 ? void 0 : options.loader;\n        if (maybeLoaderOrCtor instanceof DefaultLoader) {\n            this.mainLoader = maybeLoaderOrCtor;\n        }\n        else if (isLoaderConstructor(maybeLoaderOrCtor)) {\n            this.mainLoader = new maybeLoaderOrCtor();\n        }\n        else {\n            this.mainLoader = new Loader();\n        }\n        let maybeStartTransition;\n        if (options) {\n            const { inTransition } = options;\n            maybeStartTransition = inTransition;\n        }\n        this.startScene = startScene;\n        // Fire and forget promise for the initial scene\n        if (maybeStartTransition) {\n            // eslint-disable-next-line @typescript-eslint/no-floating-promises\n            this.swapScene(this.startScene);\n            // eslint-disable-next-line @typescript-eslint/no-floating-promises\n            this.playTransition(maybeStartTransition);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-floating-promises\n            this.swapScene(this.startScene);\n        }\n        this.currentSceneName = this.startScene;\n    }\n    _getLoader(sceneName) {\n        return this._sceneToLoader.get(sceneName);\n    }\n    _getInTransition(sceneName) {\n        var _a;\n        const sceneOrRoute = this.scenes[sceneName];\n        if (sceneOrRoute instanceof Scene || isSceneConstructor(sceneOrRoute)) {\n            return null;\n        }\n        return (_a = sceneOrRoute === null || sceneOrRoute === void 0 ? void 0 : sceneOrRoute.transitions) === null || _a === void 0 ? void 0 : _a.in;\n    }\n    _getOutTransition(sceneName) {\n        var _a;\n        const sceneOrRoute = this.scenes[sceneName];\n        if (sceneOrRoute instanceof Scene || isSceneConstructor(sceneOrRoute)) {\n            return null;\n        }\n        return (_a = sceneOrRoute === null || sceneOrRoute === void 0 ? void 0 : sceneOrRoute.transitions) === null || _a === void 0 ? void 0 : _a.out;\n    }\n    getDeferredScene() {\n        const maybeDeferred = this.getSceneDefinition(this._deferredGoto);\n        if (this._deferredGoto && maybeDeferred) {\n            return maybeDeferred;\n        }\n        return null;\n    }\n    /**\n     * Returns a scene by name if it exists, might be the constructor and not the instance of a scene\n     * @param name\n     */\n    getSceneDefinition(name) {\n        const maybeScene = this.scenes[name];\n        if (maybeScene instanceof Scene || isSceneConstructor(maybeScene)) {\n            return maybeScene;\n        }\n        else if (maybeScene) {\n            return maybeScene.scene;\n        }\n        return undefined;\n    }\n    getSceneName(scene) {\n        for (const [name, sceneInstance] of this._sceneToInstance) {\n            if (scene === sceneInstance) {\n                return name;\n            }\n        }\n        return 'unknown scene name';\n    }\n    /**\n     * Returns the same Director, but asserts a scene DOES exist to the type system\n     * @param name\n     */\n    assertAdded(name) {\n        return this;\n    }\n    /**\n     * Returns the same Director, but asserts a scene DOES NOT exist to the type system\n     * @param name\n     */\n    assertRemoved(name) {\n        return this;\n    }\n    /**\n     * Adds additional Scenes to the game!\n     * @param name\n     * @param sceneOrRoute\n     */\n    add(name, sceneOrRoute) {\n        if (!(sceneOrRoute instanceof Scene) && !(isSceneConstructor(sceneOrRoute))) {\n            const { loader, transitions } = sceneOrRoute;\n            const { in: inTransition, out: outTransition } = transitions !== null && transitions !== void 0 ? transitions : {};\n            this._sceneToTransition.set(name, { in: inTransition, out: outTransition });\n            if (isLoaderConstructor(loader)) {\n                this._sceneToLoader.set(name, new loader());\n            }\n            else {\n                this._sceneToLoader.set(name, loader);\n            }\n        }\n        if (this.scenes[name]) {\n            this._logger.warn('Scene', name, 'already exists overwriting');\n        }\n        this.scenes[name] = sceneOrRoute;\n        return this.assertAdded(name);\n    }\n    remove(nameOrScene) {\n        if (nameOrScene instanceof Scene || isSceneConstructor(nameOrScene)) {\n            const sceneOrCtor = nameOrScene;\n            // remove scene\n            for (const key in this.scenes) {\n                if (this.scenes.hasOwnProperty(key)) {\n                    const potentialSceneOrOptions = this.scenes[key];\n                    let scene;\n                    if (potentialSceneOrOptions instanceof Scene || isSceneConstructor(potentialSceneOrOptions)) {\n                        scene = potentialSceneOrOptions;\n                    }\n                    else {\n                        scene = potentialSceneOrOptions.scene;\n                    }\n                    if (scene === sceneOrCtor) {\n                        if (key === this.currentSceneName) {\n                            throw new Error(`Cannot remove a currently active scene: ${key}`);\n                        }\n                        this._sceneToTransition.delete(key);\n                        this._sceneToLoader.delete(key);\n                        delete this.scenes[key];\n                    }\n                }\n            }\n        }\n        if (typeof nameOrScene === 'string') {\n            if (nameOrScene === this.currentSceneName) {\n                throw new Error(`Cannot remove a currently active scene: ${nameOrScene}`);\n            }\n            // remove scene\n            this._sceneToTransition.delete(nameOrScene);\n            this._sceneToLoader.delete(nameOrScene);\n            delete this.scenes[nameOrScene];\n        }\n    }\n    /**\n     * Go to a specific scene, and optionally override loaders and transitions\n     * @param destinationScene\n     * @param options\n     */\n    async goto(destinationScene, options) {\n        var _a, _b, _c, _d, _e, _f;\n        const maybeDest = this.getSceneInstance(destinationScene);\n        if (!maybeDest) {\n            this._logger.warn(`Scene ${destinationScene} does not exist! Check the name, are you sure you added it?`);\n            return;\n        }\n        const sourceScene = this.currentSceneName;\n        const engineInputEnabled = (_b = (_a = this._engine.input) === null || _a === void 0 ? void 0 : _a.enabled) !== null && _b !== void 0 ? _b : true;\n        this._isTransitioning = true;\n        const maybeSourceOut = (_c = this.getSceneInstance(sourceScene)) === null || _c === void 0 ? void 0 : _c.onTransition('out');\n        const maybeDestinationIn = maybeDest === null || maybeDest === void 0 ? void 0 : maybeDest.onTransition('in');\n        options = {\n            // Engine configuration then dynamic scene transitions\n            ...{ sourceOut: (_d = this._getOutTransition(this.currentSceneName)) !== null && _d !== void 0 ? _d : maybeSourceOut },\n            ...{ destinationIn: (_e = this._getInTransition(destinationScene)) !== null && _e !== void 0 ? _e : maybeDestinationIn },\n            // Goto options\n            ...options\n        };\n        const { sourceOut, destinationIn, sceneActivationData } = options;\n        const outTransition = sourceOut !== null && sourceOut !== void 0 ? sourceOut : this._getOutTransition(this.currentSceneName);\n        const inTransition = destinationIn !== null && destinationIn !== void 0 ? destinationIn : this._getInTransition(destinationScene);\n        const hideLoader = (outTransition === null || outTransition === void 0 ? void 0 : outTransition.hideLoader) || (inTransition === null || inTransition === void 0 ? void 0 : inTransition.hideLoader);\n        if (hideLoader) {\n            // Start hidden loader early and take advantage of the transition\n            // Don't await and block on a hidden loader\n            // eslint-disable-next-line @typescript-eslint/no-floating-promises\n            this.maybeLoadScene(destinationScene, hideLoader);\n        }\n        this._emitEvent('navigationstart', sourceScene, destinationScene);\n        // Run the out transition on the current scene if present\n        await this.playTransition(outTransition);\n        // Run the loader if present\n        await this.maybeLoadScene(destinationScene, hideLoader);\n        // Give incoming transition a chance to grab info from previous\n        await (inTransition === null || inTransition === void 0 ? void 0 : inTransition.onPreviousSceneDeactivate(this.currentScene));\n        // Swap to the new scene\n        await this.swapScene(destinationScene, sceneActivationData);\n        this._emitEvent('navigation', sourceScene, destinationScene);\n        // Run the in transition on the new scene if present\n        await this.playTransition(inTransition);\n        this._emitEvent('navigationend', sourceScene, destinationScene);\n        (_f = this._engine.input) === null || _f === void 0 ? void 0 : _f.toggleEnabled(engineInputEnabled);\n        this._isTransitioning = false;\n    }\n    /**\n     * Retrieves a scene instance by key if it's registered.\n     *\n     * This will call any constructors that were given as a definition\n     * @param scene\n     */\n    getSceneInstance(scene) {\n        const sceneDefinition = this.getSceneDefinition(scene);\n        if (!sceneDefinition) {\n            return undefined;\n        }\n        if (this._sceneToInstance.has(scene)) {\n            return this._sceneToInstance.get(scene);\n        }\n        if (sceneDefinition instanceof Scene) {\n            this._sceneToInstance.set(scene, sceneDefinition);\n            return sceneDefinition;\n        }\n        const newScene = new sceneDefinition();\n        this._sceneToInstance.set(scene, newScene);\n        return newScene;\n    }\n    /**\n     * Triggers scene loading if has not already been loaded\n     * @param scene\n     * @param hideLoader\n     */\n    async maybeLoadScene(scene, hideLoader = false) {\n        var _a;\n        const loader = (_a = this._getLoader(scene)) !== null && _a !== void 0 ? _a : new DefaultLoader();\n        const sceneToLoad = this.getSceneDefinition(scene);\n        const sceneToLoadInstance = this.getSceneInstance(scene);\n        if (sceneToLoad && sceneToLoadInstance && !this._loadedScenes.has(sceneToLoadInstance)) {\n            sceneToLoadInstance.onPreLoad(loader);\n            sceneToLoadInstance.events.emit('preload', { loader });\n            if (hideLoader) {\n                // Don't await a hidden loader\n                // eslint-disable-next-line @typescript-eslint/no-floating-promises\n                this._engine.load(loader, hideLoader);\n            }\n            else {\n                await this._engine.load(loader);\n            }\n            this._loadedScenes.add(sceneToLoadInstance);\n        }\n    }\n    /**\n     * Plays a transition in the current scene\n     * @param transition\n     */\n    async playTransition(transition) {\n        var _a, _b, _c, _d, _e, _f, _g;\n        if (transition) {\n            this.currentTransition = transition;\n            const currentScene = this._engine.currentScene;\n            const sceneInputEnabled = (_b = (_a = currentScene.input) === null || _a === void 0 ? void 0 : _a.enabled) !== null && _b !== void 0 ? _b : true;\n            (_c = currentScene.input) === null || _c === void 0 ? void 0 : _c.toggleEnabled(!transition.blockInput);\n            (_d = this._engine.input) === null || _d === void 0 ? void 0 : _d.toggleEnabled(!transition.blockInput);\n            await this.currentTransition.play(this._engine);\n            (_e = currentScene.input) === null || _e === void 0 ? void 0 : _e.toggleEnabled(sceneInputEnabled);\n        }\n        (_f = this.currentTransition) === null || _f === void 0 ? void 0 : _f.kill();\n        (_g = this.currentTransition) === null || _g === void 0 ? void 0 : _g.reset();\n        this.currentTransition = null;\n    }\n    /**\n     * Swaps the current and destination scene after performing required lifecycle events\n     * @param destinationScene\n     * @param data\n     */\n    async swapScene(destinationScene, data) {\n        const engine = this._engine;\n        // if not yet initialized defer goToScene\n        if (!this.isInitialized) {\n            this._deferredGoto = destinationScene;\n            return;\n        }\n        const maybeDest = this.getSceneInstance(destinationScene);\n        if (maybeDest) {\n            const previousScene = this.currentScene;\n            const nextScene = maybeDest;\n            this._logger.debug('Going to scene:', destinationScene);\n            // only deactivate when initialized\n            if (this.currentScene.isInitialized) {\n                const context = { engine, previousScene, nextScene };\n                await this.currentScene._deactivate(context);\n                this.currentScene.events.emit('deactivate', new DeactivateEvent(context, this.currentScene));\n            }\n            // wait for the scene to be loaded if needed\n            const destLoader = this._sceneToLoader.get(destinationScene);\n            await (destLoader === null || destLoader === void 0 ? void 0 : destLoader.areResourcesLoaded());\n            // set current scene to new one\n            this.currentScene = nextScene;\n            this.currentSceneName = destinationScene;\n            engine.screen.setCurrentCamera(nextScene.camera);\n            // initialize the current scene if has not been already\n            await this.currentScene._initialize(engine);\n            const context = { engine, previousScene, nextScene, data };\n            await this.currentScene._activate(context);\n            this.currentScene.events.emit('activate', new ActivateEvent(context, this.currentScene));\n        }\n        else {\n            this._logger.error('Scene', destinationScene, 'does not exist!');\n        }\n    }\n    _emitEvent(eventName, sourceScene, destinationScene) {\n        const source = this.getSceneDefinition(sourceScene);\n        const dest = this.getSceneDefinition(destinationScene);\n        this.events.emit(eventName, {\n            sourceScene: source,\n            sourceName: sourceScene,\n            destinationScene: dest,\n            destinationName: destinationScene\n        });\n    }\n}\n\n;// CONCATENATED MODULE: ./Engine.ts\n\n\n\n\n\n\npolyfill();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst EngineEvents = {\n    FallbackGraphicsContext: 'fallbackgraphicscontext',\n    Initialize: 'initialize',\n    Visible: 'visible',\n    Hidden: 'hidden',\n    Start: 'start',\n    Stop: 'stop',\n    PreUpdate: 'preupdate',\n    PostUpdate: 'postupdate',\n    PreFrame: 'preframe',\n    PostFrame: 'postframe',\n    PreDraw: 'predraw',\n    PostDraw: 'postdraw'\n};\n/**\n * Enum representing the different mousewheel event bubble prevention\n */\nvar ScrollPreventionMode;\n(function (ScrollPreventionMode) {\n    /**\n     * Do not prevent any page scrolling\n     */\n    ScrollPreventionMode[ScrollPreventionMode[\"None\"] = 0] = \"None\";\n    /**\n     * Prevent page scroll if mouse is over the game canvas\n     */\n    ScrollPreventionMode[ScrollPreventionMode[\"Canvas\"] = 1] = \"Canvas\";\n    /**\n     * Prevent all page scrolling via mouse wheel\n     */\n    ScrollPreventionMode[ScrollPreventionMode[\"All\"] = 2] = \"All\";\n})(ScrollPreventionMode || (ScrollPreventionMode = {}));\n/**\n * The Excalibur Engine\n *\n * The [[Engine]] is the main driver for a game. It is responsible for\n * starting/stopping the game, maintaining state, transmitting events,\n * loading resources, and managing the scene.\n */\nclass Engine {\n    /**\n     * The width of the game canvas in pixels (physical width component of the\n     * resolution of the canvas element)\n     */\n    get canvasWidth() {\n        return this.screen.canvasWidth;\n    }\n    /**\n     * Returns half width of the game canvas in pixels (half physical width component)\n     */\n    get halfCanvasWidth() {\n        return this.screen.halfCanvasWidth;\n    }\n    /**\n     * The height of the game canvas in pixels, (physical height component of\n     * the resolution of the canvas element)\n     */\n    get canvasHeight() {\n        return this.screen.canvasHeight;\n    }\n    /**\n     * Returns half height of the game canvas in pixels (half physical height component)\n     */\n    get halfCanvasHeight() {\n        return this.screen.halfCanvasHeight;\n    }\n    /**\n     * Returns the width of the engine's visible drawing surface in pixels including zoom and device pixel ratio.\n     */\n    get drawWidth() {\n        return this.screen.drawWidth;\n    }\n    /**\n     * Returns half the width of the engine's visible drawing surface in pixels including zoom and device pixel ratio.\n     */\n    get halfDrawWidth() {\n        return this.screen.halfDrawWidth;\n    }\n    /**\n     * Returns the height of the engine's visible drawing surface in pixels including zoom and device pixel ratio.\n     */\n    get drawHeight() {\n        return this.screen.drawHeight;\n    }\n    /**\n     * Returns half the height of the engine's visible drawing surface in pixels including zoom and device pixel ratio.\n     */\n    get halfDrawHeight() {\n        return this.screen.halfDrawHeight;\n    }\n    /**\n     * Returns whether excalibur detects the current screen to be HiDPI\n     */\n    get isHiDpi() {\n        return this.screen.isHiDpi;\n    }\n    /**\n     * Access [[stats]] that holds frame statistics.\n     */\n    get stats() {\n        return this.debug.stats;\n    }\n    /**\n     * The current [[Scene]] being drawn and updated on screen\n     */\n    get currentScene() {\n        return this.director.currentScene;\n    }\n    /**\n     * The current [[Scene]] being drawn and updated on screen\n     */\n    get currentSceneName() {\n        return this.director.currentSceneName;\n    }\n    /**\n     * The default [[Scene]] of the game, use [[Engine.goToScene]] to transition to different scenes.\n     */\n    get rootScene() {\n        return this.director.rootScene;\n    }\n    /**\n     * Contains all the scenes currently registered with Excalibur\n     */\n    get scenes() {\n        return this.director.scenes;\n    }\n    ;\n    /**\n     * Indicates whether the engine is set to fullscreen or not\n     */\n    get isFullscreen() {\n        return this.screen.isFullScreen;\n    }\n    /**\n     * Indicates the current [[DisplayMode]] of the engine.\n     */\n    get displayMode() {\n        return this.screen.displayMode;\n    }\n    /**\n     * Returns the calculated pixel ration for use in rendering\n     */\n    get pixelRatio() {\n        return this.screen.pixelRatio;\n    }\n    get isDebug() {\n        return this._isDebug;\n    }\n    /**\n     * Hints the graphics context to truncate fractional world space coordinates\n     */\n    get snapToPixel() {\n        return this.graphicsContext.snapToPixel;\n    }\n    ;\n    set snapToPixel(shouldSnapToPixel) {\n        this.graphicsContext.snapToPixel = shouldSnapToPixel;\n    }\n    ;\n    emit(eventName, event) {\n        this.events.emit(eventName, event);\n    }\n    on(eventName, handler) {\n        return this.events.on(eventName, handler);\n    }\n    once(eventName, handler) {\n        return this.events.once(eventName, handler);\n    }\n    off(eventName, handler) {\n        this.events.off(eventName, handler);\n    }\n    /**\n     * Creates a new game using the given [[EngineOptions]]. By default, if no options are provided,\n     * the game will be rendered full screen (taking up all available browser window space).\n     * You can customize the game rendering through [[EngineOptions]].\n     *\n     * Example:\n     *\n     * ```js\n     * var game = new ex.Engine({\n     *   width: 0, // the width of the canvas\n     *   height: 0, // the height of the canvas\n     *   enableCanvasTransparency: true, // the transparencySection of the canvas\n     *   canvasElementId: '', // the DOM canvas element ID, if you are providing your own\n     *   displayMode: ex.DisplayMode.FullScreen, // the display mode\n     *   pointerScope: ex.PointerScope.Document, // the scope of capturing pointer (mouse/touch) events\n     *   backgroundColor: ex.Color.fromHex('#2185d0') // background color of the engine\n     * });\n     *\n     * // call game.start, which is a Promise\n     * game.start().then(function () {\n     *   // ready, set, go!\n     * });\n     * ```\n     */\n    constructor(options) {\n        var _a, _b, _c, _d, _e, _f, _g;\n        /**\n         * Current Excalibur version string\n         *\n         * Useful for plugins or other tools that need to know what features are available\n         */\n        this.version = EX_VERSION;\n        /**\n         * Listen to and emit events on the Engine\n         */\n        this.events = new EventEmitter();\n        /**\n         * Optionally set the maximum fps if not set Excalibur will go as fast as the device allows.\n         *\n         * You may want to constrain max fps if your game cannot maintain fps consistently, it can look and feel better to have a 30fps game than\n         * one that bounces between 30fps and 60fps\n         */\n        this.maxFps = Number.POSITIVE_INFINITY;\n        this._inputEnabled = true;\n        this._suppressPlayButton = false;\n        /**\n         * Indicates whether audio should be paused when the game is no longer visible.\n         */\n        this.pauseAudioWhenHidden = true;\n        /**\n         * Indicates whether the engine should draw with debug information\n         */\n        this._isDebug = false;\n        /**\n         * Sets the Transparency for the engine.\n         */\n        this.enableCanvasTransparency = true;\n        /**\n         * The action to take when a fatal exception is thrown\n         */\n        this.onFatalException = (e) => {\n            Logger.getInstance().fatal(e, e.stack);\n        };\n        this._toaster = new Toaster();\n        this._timescale = 1.0;\n        this._isInitialized = false;\n        this._originalOptions = {};\n        this._performanceThresholdTriggered = false;\n        this._fpsSamples = [];\n        this._disposed = false;\n        this._isLoading = false;\n        this._hideLoader = false;\n        this._isReadyFuture = new Future();\n        /**\n         * Returns the current frames elapsed milliseconds\n         */\n        this.currentFrameElapsedMs = 0;\n        /**\n         * Returns the current frame lag when in fixed update mode\n         */\n        this.currentFrameLagMs = 0;\n        this._lagMs = 0;\n        this._screenShotRequests = [];\n        options = { ...Engine._DEFAULT_ENGINE_OPTIONS, ...options };\n        this._originalOptions = options;\n        Flags.freeze();\n        // Initialize browser events facade\n        this.browser = new BrowserEvents(window, document);\n        // Check compatibility\n        const detector = new Detector();\n        if (!options.suppressMinimumBrowserFeatureDetection && !(this._compatible = detector.test())) {\n            const message = document.createElement('div');\n            message.innerText = 'Sorry, your browser does not support all the features needed for Excalibur';\n            document.body.appendChild(message);\n            detector.failedTests.forEach(function (test) {\n                const testMessage = document.createElement('div');\n                testMessage.innerText = 'Browser feature missing ' + test;\n                document.body.appendChild(testMessage);\n            });\n            if (options.canvasElementId) {\n                const canvas = document.getElementById(options.canvasElementId);\n                if (canvas) {\n                    canvas.parentElement.removeChild(canvas);\n                }\n            }\n            return;\n        }\n        else {\n            this._compatible = true;\n        }\n        // Use native console API for color fun\n        // eslint-disable-next-line no-console\n        if (console.log && !options.suppressConsoleBootMessage) {\n            // eslint-disable-next-line no-console\n            console.log(`%cPowered by Excalibur.js (v${EX_VERSION})`, 'background: #176BAA; color: white; border-radius: 5px; padding: 15px; font-size: 1.5em; line-height: 80px;');\n            // eslint-disable-next-line no-console\n            console.log('\\n\\\r\n      /| ________________\\n\\\r\nO|===|* >________________>\\n\\\r\n      \\\\|');\n            // eslint-disable-next-line no-console\n            console.log('Visit', 'http://excaliburjs.com', 'for more information');\n        }\n        // Suppress play button\n        if (options.suppressPlayButton) {\n            this._suppressPlayButton = true;\n        }\n        this._logger = Logger.getInstance();\n        // If debug is enabled, let's log browser features to the console.\n        if (this._logger.defaultLevel === LogLevel.Debug) {\n            detector.logBrowserFeatures();\n        }\n        this._logger.debug('Building engine...');\n        this.canvasElementId = options.canvasElementId;\n        if (options.canvasElementId) {\n            this._logger.debug('Using Canvas element specified: ' + options.canvasElementId);\n            //test for existence of element\n            if (document.getElementById(options.canvasElementId) === null) {\n                throw new Error('Cannot find existing element in the DOM, please ensure element is created prior to engine creation.');\n            }\n            this.canvas = document.getElementById(options.canvasElementId);\n        }\n        else if (options.canvasElement) {\n            this._logger.debug('Using Canvas element specified:', options.canvasElement);\n            this.canvas = options.canvasElement;\n        }\n        else {\n            this._logger.debug('Using generated canvas element');\n            this.canvas = document.createElement('canvas');\n        }\n        let displayMode = (_a = options.displayMode) !== null && _a !== void 0 ? _a : DisplayMode.Fixed;\n        if ((options.width && options.height) || options.viewport) {\n            if (options.displayMode === undefined) {\n                displayMode = DisplayMode.Fixed;\n            }\n            this._logger.debug('Engine viewport is size ' + options.width + ' x ' + options.height);\n        }\n        else if (!options.displayMode) {\n            this._logger.debug('Engine viewport is fit');\n            displayMode = DisplayMode.FitScreen;\n        }\n        this._originalDisplayMode = displayMode;\n        let pixelArtSampler;\n        let uvPadding;\n        let nativeContextAntialiasing;\n        let canvasImageRendering;\n        let filtering;\n        let multiSampleAntialiasing;\n        if (typeof options.antialiasing === 'object') {\n            ({\n                pixelArtSampler,\n                nativeContextAntialiasing,\n                multiSampleAntialiasing,\n                filtering,\n                canvasImageRendering\n            } = {\n                ...(options.pixelArt ? DefaultPixelArtOptions : DefaultAntialiasOptions),\n                ...options.antialiasing\n            });\n        }\n        else {\n            pixelArtSampler = !!options.pixelArt;\n            nativeContextAntialiasing = false;\n            multiSampleAntialiasing = options.antialiasing;\n            canvasImageRendering = options.antialiasing ? 'auto' : 'pixelated';\n            filtering = options.antialiasing ? ImageFiltering.Blended : ImageFiltering.Pixel;\n        }\n        if (nativeContextAntialiasing && multiSampleAntialiasing) {\n            this._logger.warnOnce(`Cannot use antialias setting nativeContextAntialiasing and multiSampleAntialiasing` +\n                ` at the same time, they are incompatible settings. If you aren\\'t sure use multiSampleAntialiasing`);\n        }\n        if (options.pixelArt) {\n            uvPadding = .25;\n        }\n        if (!options.antialiasing || filtering === ImageFiltering.Pixel) {\n            uvPadding = 0;\n        }\n        // Override with any user option, if non default to .25 for pixel art, 0.01 for everything else\n        uvPadding = (_c = (_b = options.uvPadding) !== null && _b !== void 0 ? _b : uvPadding) !== null && _c !== void 0 ? _c : 0.01;\n        // Canvas 2D fallback can be flagged on\n        let useCanvasGraphicsContext = Flags.isEnabled('use-canvas-context');\n        if (!useCanvasGraphicsContext) {\n            // Attempt webgl first\n            try {\n                this.graphicsContext = new ExcaliburGraphicsContextWebGL({\n                    canvasElement: this.canvas,\n                    enableTransparency: this.enableCanvasTransparency,\n                    pixelArtSampler: pixelArtSampler,\n                    antialiasing: nativeContextAntialiasing,\n                    multiSampleAntialiasing: multiSampleAntialiasing,\n                    uvPadding: uvPadding,\n                    powerPreference: options.powerPreference,\n                    backgroundColor: options.backgroundColor,\n                    snapToPixel: options.snapToPixel,\n                    useDrawSorting: options.useDrawSorting\n                });\n            }\n            catch (e) {\n                this._logger.warn(`Excalibur could not load webgl for some reason (${e.message}) and loaded a Canvas 2D fallback. ` +\n                    `Some features of Excalibur will not work in this mode. \\n\\n` +\n                    'Read more about this issue at https://excaliburjs.com/docs/webgl');\n                // fallback to canvas in case of failure\n                useCanvasGraphicsContext = true;\n            }\n        }\n        if (useCanvasGraphicsContext) {\n            this.graphicsContext = new ExcaliburGraphicsContext2DCanvas({\n                canvasElement: this.canvas,\n                enableTransparency: this.enableCanvasTransparency,\n                antialiasing: nativeContextAntialiasing,\n                backgroundColor: options.backgroundColor,\n                snapToPixel: options.snapToPixel,\n                useDrawSorting: options.useDrawSorting\n            });\n        }\n        this.screen = new Screen({\n            canvas: this.canvas,\n            context: this.graphicsContext,\n            antialiasing: nativeContextAntialiasing,\n            canvasImageRendering: canvasImageRendering,\n            browser: this.browser,\n            viewport: (_d = options.viewport) !== null && _d !== void 0 ? _d : (options.width && options.height ? { width: options.width, height: options.height } : Resolution.SVGA),\n            resolution: options.resolution,\n            displayMode,\n            pixelRatio: options.suppressHiDPIScaling ? 1 : ((_e = options.pixelRatio) !== null && _e !== void 0 ? _e : null)\n        });\n        // TODO REMOVE STATIC!!!\n        // Set default filtering based on antialiasing\n        TextureLoader.filtering = filtering;\n        if (options.backgroundColor) {\n            this.backgroundColor = options.backgroundColor.clone();\n        }\n        this.grabWindowFocus = options.grabWindowFocus;\n        this.pointerScope = options.pointerScope;\n        this.maxFps = (_f = options.maxFps) !== null && _f !== void 0 ? _f : this.maxFps;\n        this.fixedUpdateFps = (_g = options.fixedUpdateFps) !== null && _g !== void 0 ? _g : this.fixedUpdateFps;\n        this.clock = new StandardClock({\n            maxFps: this.maxFps,\n            tick: this._mainloop.bind(this),\n            onFatalException: (e) => this.onFatalException(e)\n        });\n        this.enableCanvasTransparency = options.enableCanvasTransparency;\n        if (typeof options.physics === 'boolean') {\n            this.physics = {\n                ...DefaultPhysicsConfig,\n                ...DeprecatedStaticToConfig(),\n                enabled: options.physics\n            };\n        }\n        else {\n            this.physics = {\n                ...DefaultPhysicsConfig,\n                ...DeprecatedStaticToConfig(),\n                ...options.physics\n            };\n        }\n        this.debug = new DebugConfig(this);\n        this.director = new Director(this, options.scenes);\n        this._initialize(options);\n        window.___EXCALIBUR_DEVTOOL = this;\n    }\n    _monitorPerformanceThresholdAndTriggerFallback() {\n        const { allow } = this._originalOptions.configurePerformanceCanvas2DFallback;\n        let { threshold, showPlayerMessage } = this._originalOptions.configurePerformanceCanvas2DFallback;\n        if (threshold === undefined) {\n            threshold = Engine._DEFAULT_ENGINE_OPTIONS.configurePerformanceCanvas2DFallback.threshold;\n        }\n        if (showPlayerMessage === undefined) {\n            showPlayerMessage = Engine._DEFAULT_ENGINE_OPTIONS.configurePerformanceCanvas2DFallback.showPlayerMessage;\n        }\n        if (!Flags.isEnabled('use-canvas-context') && allow && this.ready && !this._performanceThresholdTriggered) {\n            // Calculate Average fps for last X number of frames after start\n            if (this._fpsSamples.length === threshold.numberOfFrames) {\n                this._fpsSamples.splice(0, 1);\n            }\n            this._fpsSamples.push(this.clock.fpsSampler.fps);\n            let total = 0;\n            for (let i = 0; i < this._fpsSamples.length; i++) {\n                total += this._fpsSamples[i];\n            }\n            const average = total / this._fpsSamples.length;\n            if (this._fpsSamples.length === threshold.numberOfFrames) {\n                if (average <= threshold.fps) {\n                    this._performanceThresholdTriggered = true;\n                    this._logger.warn(`Switching to browser 2D Canvas fallback due to performance. Some features of Excalibur will not work in this mode.\\n` +\n                        'this might mean your browser doesn\\'t have webgl enabled or hardware acceleration is unavailable.\\n\\n' +\n                        'If in Chrome:\\n' +\n                        '  * Visit Settings > Advanced > System, and ensure \"Use Hardware Acceleration\" is checked.\\n' +\n                        '  * Visit chrome://flags/#ignore-gpu-blocklist and ensure \"Override software rendering list\" is \"enabled\"\\n' +\n                        'If in Firefox, visit about:config\\n' +\n                        '  * Ensure webgl.disabled = false\\n' +\n                        '  * Ensure webgl.force-enabled = true\\n' +\n                        '  * Ensure layers.acceleration.force-enabled = true\\n\\n' +\n                        'Read more about this issue at https://excaliburjs.com/docs/performance');\n                    if (showPlayerMessage) {\n                        this._toaster.toast('Excalibur is encountering performance issues. ' +\n                            'It\\'s possible that your browser doesn\\'t have hardware acceleration enabled. ' +\n                            'Visit [LINK] for more information and potential solutions.', 'https://excaliburjs.com/docs/performance');\n                    }\n                    this.useCanvas2DFallback();\n                    this.emit('fallbackgraphicscontext', this.graphicsContext);\n                }\n            }\n        }\n    }\n    /**\n     * Switches the engine's graphics context to the 2D Canvas.\n     * @warning Some features of Excalibur will not work in this mode.\n     */\n    useCanvas2DFallback() {\n        var _a, _b, _c;\n        // Swap out the canvas\n        const newCanvas = this.canvas.cloneNode(false);\n        this.canvas.parentNode.replaceChild(newCanvas, this.canvas);\n        this.canvas = newCanvas;\n        const options = { ...this._originalOptions, antialiasing: this.getAntialiasing() };\n        const displayMode = this._originalDisplayMode;\n        // New graphics context\n        this.graphicsContext = new ExcaliburGraphicsContext2DCanvas({\n            canvasElement: this.canvas,\n            enableTransparency: this.enableCanvasTransparency,\n            antialiasing: options.antialiasing,\n            backgroundColor: options.backgroundColor,\n            snapToPixel: options.snapToPixel,\n            useDrawSorting: options.useDrawSorting\n        });\n        // Reset screen\n        if (this.screen) {\n            this.screen.dispose();\n        }\n        this.screen = new Screen({\n            canvas: this.canvas,\n            context: this.graphicsContext,\n            antialiasing: (_a = options.antialiasing) !== null && _a !== void 0 ? _a : true,\n            browser: this.browser,\n            viewport: (_b = options.viewport) !== null && _b !== void 0 ? _b : (options.width && options.height ? { width: options.width, height: options.height } : Resolution.SVGA),\n            resolution: options.resolution,\n            displayMode,\n            pixelRatio: options.suppressHiDPIScaling ? 1 : ((_c = options.pixelRatio) !== null && _c !== void 0 ? _c : null)\n        });\n        this.screen.setCurrentCamera(this.currentScene.camera);\n        // Reset pointers\n        this.input.pointers.detach();\n        const pointerTarget = options && options.pointerScope === PointerScope.Document ? document : this.canvas;\n        this.input.pointers = this.input.pointers.recreate(pointerTarget, this);\n        this.input.pointers.init();\n    }\n    /**\n     * Attempts to completely clean up excalibur resources, including removing the canvas from the dom.\n     *\n     * To start again you will need to new up an Engine.\n     */\n    dispose() {\n        if (!this._disposed) {\n            this._disposed = true;\n            this.stop();\n            this.input.toggleEnabled(false);\n            this.canvas.parentNode.removeChild(this.canvas);\n            this.canvas = null;\n            this.screen.dispose();\n            this.graphicsContext.dispose();\n            this.graphicsContext = null;\n        }\n    }\n    /**\n     * Returns a BoundingBox of the top left corner of the screen\n     * and the bottom right corner of the screen.\n     */\n    getWorldBounds() {\n        return this.screen.getWorldBounds();\n    }\n    /**\n     * Gets the current engine timescale factor (default is 1.0 which is 1:1 time)\n     */\n    get timescale() {\n        return this._timescale;\n    }\n    /**\n     * Sets the current engine timescale factor. Useful for creating slow-motion effects or fast-forward effects\n     * when using time-based movement.\n     */\n    set timescale(value) {\n        if (value <= 0) {\n            Logger.getInstance().error('Cannot set engine.timescale to a value of 0 or less than 0.');\n            return;\n        }\n        this._timescale = value;\n    }\n    /**\n     * Adds a [[Timer]] to the [[currentScene]].\n     * @param timer  The timer to add to the [[currentScene]].\n     */\n    addTimer(timer) {\n        return this.currentScene.addTimer(timer);\n    }\n    /**\n     * Removes a [[Timer]] from the [[currentScene]].\n     * @param timer  The timer to remove to the [[currentScene]].\n     */\n    removeTimer(timer) {\n        return this.currentScene.removeTimer(timer);\n    }\n    /**\n     * Adds a [[Scene]] to the engine, think of scenes in Excalibur as you\n     * would levels or menus.\n     * @param key  The name of the scene, must be unique\n     * @param scene The scene to add to the engine\n     */\n    addScene(key, scene) {\n        this.director.add(key, scene);\n        return this;\n    }\n    /**\n     * @internal\n     */\n    removeScene(entity) {\n        this.director.remove(entity);\n    }\n    add(entity) {\n        if (arguments.length === 2) {\n            this.director.add(arguments[0], arguments[1]);\n            return;\n        }\n        const maybeDeferred = this.director.getDeferredScene();\n        if (maybeDeferred instanceof Scene) {\n            maybeDeferred.add(entity);\n        }\n        else {\n            this.currentScene.add(entity);\n        }\n    }\n    remove(entity) {\n        if (entity instanceof Entity) {\n            this.currentScene.remove(entity);\n        }\n        if (entity instanceof Scene || isSceneConstructor(entity)) {\n            this.removeScene(entity);\n        }\n        if (typeof entity === 'string') {\n            this.removeScene(entity);\n        }\n    }\n    /**\n     * Changes the current scene with optionally supplied:\n     * * Activation data\n     * * Transitions\n     * * Loaders\n     *\n     * Example:\n     * ```typescript\n     * game.goToScene('myScene', {\n     *   sceneActivationData: {any: 'thing at all'},\n     *   destinationIn: new FadeInOut({duration: 1000, direction: 'in'}),\n     *   sourceOut: new FadeInOut({duration: 1000, direction: 'out'}),\n     *   loader: MyLoader\n     * });\n     * ```\n     *\n     * Scenes are defined in the Engine constructor\n     * ```typescript\n     * const engine = new ex.Engine({\n        scenes: {...}\n      });\n     * ```\n     * Or by adding dynamically\n     *\n     * ```typescript\n     * engine.addScene('myScene', new ex.Scene());\n     * ```\n     * @param destinationScene\n     * @param options\n     * @deprecated use goToScene, it now behaves the same as goto\n     */\n    async goto(destinationScene, options) {\n        await this.director.goto(destinationScene, options);\n    }\n    /**\n     * Changes the current scene with optionally supplied:\n     * * Activation data\n     * * Transitions\n     * * Loaders\n     *\n     * Example:\n     * ```typescript\n     * game.goToScene('myScene', {\n     *   sceneActivationData: {any: 'thing at all'},\n     *   destinationIn: new FadeInOut({duration: 1000, direction: 'in'}),\n     *   sourceOut: new FadeInOut({duration: 1000, direction: 'out'}),\n     *   loader: MyLoader\n     * });\n     * ```\n     *\n     * Scenes are defined in the Engine constructor\n     * ```typescript\n     * const engine = new ex.Engine({\n        scenes: {...}\n      });\n     * ```\n     * Or by adding dynamically\n     *\n     * ```typescript\n     * engine.addScene('myScene', new ex.Scene());\n     * ```\n     * @param destinationScene\n     * @param options\n     */\n    async goToScene(destinationScene, options) {\n        await this.director.goto(destinationScene, options);\n    }\n    /**\n     * Transforms the current x, y from screen coordinates to world coordinates\n     * @param point  Screen coordinate to convert\n     */\n    screenToWorldCoordinates(point) {\n        return this.screen.screenToWorldCoordinates(point);\n    }\n    /**\n     * Transforms a world coordinate, to a screen coordinate\n     * @param point  World coordinate to convert\n     */\n    worldToScreenCoordinates(point) {\n        return this.screen.worldToScreenCoordinates(point);\n    }\n    /**\n     * Initializes the internal canvas, rendering context, display mode, and native event listeners\n     */\n    _initialize(options) {\n        var _a, _b;\n        this.pageScrollPreventionMode = options.scrollPreventionMode;\n        // initialize inputs\n        const pointerTarget = options && options.pointerScope === PointerScope.Document ? document : this.canvas;\n        const grabWindowFocus = (_b = (_a = this._originalOptions) === null || _a === void 0 ? void 0 : _a.grabWindowFocus) !== null && _b !== void 0 ? _b : true;\n        this.input = new InputHost({\n            pointerTarget,\n            grabWindowFocus,\n            engine: this\n        });\n        this.inputMapper = this.input.inputMapper;\n        // Issue #385 make use of the visibility api\n        // https://developer.mozilla.org/en-US/docs/Web/Guide/User_experience/Using_the_Page_Visibility_API\n        this.browser.document.on('visibilitychange', () => {\n            if (document.visibilityState === 'hidden') {\n                this.events.emit('hidden', new HiddenEvent(this));\n                this._logger.debug('Window hidden');\n            }\n            else if (document.visibilityState === 'visible') {\n                this.events.emit('visible', new VisibleEvent(this));\n                this._logger.debug('Window visible');\n            }\n        });\n        if (!this.canvasElementId && !options.canvasElement) {\n            document.body.appendChild(this.canvas);\n        }\n    }\n    toggleInputEnabled(enabled) {\n        this._inputEnabled = enabled;\n        this.input.toggleEnabled(this._inputEnabled);\n    }\n    onInitialize(engine) {\n        // Override me\n    }\n    /**\n     * If supported by the browser, this will set the antialiasing flag on the\n     * canvas. Set this to `false` if you want a 'jagged' pixel art look to your\n     * image resources.\n     * @param isSmooth  Set smoothing to true or false\n     * @deprecated Set in engine constructor, will be removed in v0.30\n     */\n    setAntialiasing(isSmooth) {\n        this.screen.antialiasing = isSmooth;\n    }\n    /**\n     * Return the current smoothing status of the canvas\n     * @deprecated Set in engine constructor, will be removed in v0.30\n     */\n    getAntialiasing() {\n        return this.screen.antialiasing;\n    }\n    /**\n     * Gets whether the actor is Initialized\n     */\n    get isInitialized() {\n        return this._isInitialized;\n    }\n    async _overrideInitialize(engine) {\n        if (!this.isInitialized) {\n            await this.director.onInitialize();\n            await this.onInitialize(engine);\n            this.events.emit('initialize', new InitializeEvent(engine, this));\n            this._isInitialized = true;\n        }\n    }\n    /**\n     * Updates the entire state of the game\n     * @param delta  Number of milliseconds elapsed since the last update.\n     */\n    _update(delta) {\n        var _a;\n        if (this._isLoading) {\n            // suspend updates until loading is finished\n            (_a = this._loader) === null || _a === void 0 ? void 0 : _a.onUpdate(this, delta);\n            // Update input listeners\n            this.input.update();\n            return;\n        }\n        // Publish preupdate events\n        this._preupdate(delta);\n        // process engine level events\n        this.currentScene.update(this, delta);\n        // Update graphics postprocessors\n        this.graphicsContext.updatePostProcessors(delta);\n        // Publish update event\n        this._postupdate(delta);\n        // Update input listeners\n        this.input.update();\n    }\n    /**\n     * @internal\n     */\n    _preupdate(delta) {\n        this.emit('preupdate', new PreUpdateEvent(this, delta, this));\n        this.onPreUpdate(this, delta);\n    }\n    onPreUpdate(engine, delta) {\n        // Override me\n    }\n    /**\n     * @internal\n     */\n    _postupdate(delta) {\n        this.emit('postupdate', new PostUpdateEvent(this, delta, this));\n        this.onPostUpdate(this, delta);\n    }\n    onPostUpdate(engine, delta) {\n        // Override me\n    }\n    /**\n     * Draws the entire game\n     * @param delta  Number of milliseconds elapsed since the last draw.\n     */\n    _draw(delta) {\n        var _a, _b;\n        this.graphicsContext.beginDrawLifecycle();\n        this.graphicsContext.clear();\n        this._predraw(this.graphicsContext, delta);\n        // Drawing nothing else while loading\n        if (this._isLoading) {\n            if (!this._hideLoader) {\n                (_a = this._loader) === null || _a === void 0 ? void 0 : _a.canvas.draw(this.graphicsContext, 0, 0);\n                this.graphicsContext.flush();\n                this.graphicsContext.endDrawLifecycle();\n            }\n            return;\n        }\n        // Use scene background color if present, fallback to engine\n        this.graphicsContext.backgroundColor = (_b = this.currentScene.backgroundColor) !== null && _b !== void 0 ? _b : this.backgroundColor;\n        this.currentScene.draw(this.graphicsContext, delta);\n        this._postdraw(this.graphicsContext, delta);\n        // Flush any pending drawings\n        this.graphicsContext.flush();\n        this.graphicsContext.endDrawLifecycle();\n        this._checkForScreenShots();\n    }\n    /**\n     * @internal\n     */\n    _predraw(ctx, delta) {\n        this.emit('predraw', new PreDrawEvent(ctx, delta, this));\n        this.onPreDraw(ctx, delta);\n    }\n    onPreDraw(ctx, delta) {\n        // Override me\n    }\n    /**\n     * @internal\n     */\n    _postdraw(ctx, delta) {\n        this.emit('postdraw', new PostDrawEvent(ctx, delta, this));\n        this.onPostDraw(ctx, delta);\n    }\n    onPostDraw(ctx, delta) {\n        // Override me\n    }\n    /**\n     * Enable or disable Excalibur debugging functionality.\n     * @param toggle a value that debug drawing will be changed to\n     */\n    showDebug(toggle) {\n        this._isDebug = toggle;\n    }\n    /**\n     * Toggle Excalibur debugging functionality.\n     */\n    toggleDebug() {\n        this._isDebug = !this._isDebug;\n        return this._isDebug;\n    }\n    /**\n     * Returns true when loading is totally complete and the player has clicked start\n     */\n    get loadingComplete() {\n        return !this._isLoading;\n    }\n    get ready() {\n        return this._isReadyFuture.isCompleted;\n    }\n    isReady() {\n        return this._isReadyFuture.promise;\n    }\n    async start(sceneNameOrLoader, options) {\n        if (!this._compatible) {\n            throw new Error('Excalibur is incompatible with your browser');\n        }\n        this._isLoading = true;\n        let loader;\n        if (sceneNameOrLoader instanceof DefaultLoader) {\n            loader = sceneNameOrLoader;\n        }\n        else if (typeof sceneNameOrLoader === 'string') {\n            this.director.configureStart(sceneNameOrLoader, options);\n            loader = this.director.mainLoader;\n        }\n        // Start the excalibur clock which drives the mainloop\n        this._logger.debug('Starting game clock...');\n        this.browser.resume();\n        this.clock.start();\n        this._logger.debug('Game clock started');\n        await this.load(loader !== null && loader !== void 0 ? loader : new Loader());\n        // Initialize before ready\n        await this._overrideInitialize(this);\n        this._isReadyFuture.resolve();\n        this.emit('start', new GameStartEvent(this));\n        return this._isReadyFuture.promise;\n    }\n    _mainloop(elapsed) {\n        this.emit('preframe', new PreFrameEvent(this, this.stats.prevFrame));\n        const delta = elapsed * this.timescale;\n        this.currentFrameElapsedMs = delta;\n        // reset frame stats (reuse existing instances)\n        const frameId = this.stats.prevFrame.id + 1;\n        this.stats.currFrame.reset();\n        this.stats.currFrame.id = frameId;\n        this.stats.currFrame.delta = delta;\n        this.stats.currFrame.fps = this.clock.fpsSampler.fps;\n        GraphicsDiagnostics.clear();\n        const beforeUpdate = this.clock.now();\n        const fixedTimestepMs = 1000 / this.fixedUpdateFps;\n        if (this.fixedUpdateFps) {\n            this._lagMs += delta;\n            while (this._lagMs >= fixedTimestepMs) {\n                this._update(fixedTimestepMs);\n                this._lagMs -= fixedTimestepMs;\n            }\n        }\n        else {\n            this._update(delta);\n        }\n        const afterUpdate = this.clock.now();\n        this.currentFrameLagMs = this._lagMs;\n        this._draw(delta);\n        const afterDraw = this.clock.now();\n        this.stats.currFrame.duration.update = afterUpdate - beforeUpdate;\n        this.stats.currFrame.duration.draw = afterDraw - afterUpdate;\n        this.stats.currFrame.graphics.drawnImages = GraphicsDiagnostics.DrawnImagesCount;\n        this.stats.currFrame.graphics.drawCalls = GraphicsDiagnostics.DrawCallCount;\n        this.emit('postframe', new PostFrameEvent(this, this.stats.currFrame));\n        this.stats.prevFrame.reset(this.stats.currFrame);\n        this._monitorPerformanceThresholdAndTriggerFallback();\n    }\n    /**\n     * Stops Excalibur's main loop, useful for pausing the game.\n     */\n    stop() {\n        if (this.clock.isRunning()) {\n            this.emit('stop', new GameStopEvent(this));\n            this.browser.pause();\n            this.clock.stop();\n            this._logger.debug('Game stopped');\n        }\n    }\n    /**\n     * Returns the Engine's running status, Useful for checking whether engine is running or paused.\n     */\n    isRunning() {\n        return this.clock.isRunning();\n    }\n    /**\n     * Takes a screen shot of the current viewport and returns it as an\n     * HTML Image Element.\n     * @param preserveHiDPIResolution in the case of HiDPI return the full scaled backing image, by default false\n     */\n    screenshot(preserveHiDPIResolution = false) {\n        const screenShotPromise = new Promise((resolve) => {\n            this._screenShotRequests.push({ preserveHiDPIResolution, resolve });\n        });\n        return screenShotPromise;\n    }\n    _checkForScreenShots() {\n        // We must grab the draw buffer before we yield to the browser\n        // the draw buffer is cleared after compositing\n        // the reason for the asynchrony is setting `preserveDrawingBuffer: true`\n        // forces the browser to copy buffers which can have a mass perf impact on mobile\n        for (const request of this._screenShotRequests) {\n            const finalWidth = request.preserveHiDPIResolution ? this.canvas.width : this.screen.resolution.width;\n            const finalHeight = request.preserveHiDPIResolution ? this.canvas.height : this.screen.resolution.height;\n            const screenshot = document.createElement('canvas');\n            screenshot.width = finalWidth;\n            screenshot.height = finalHeight;\n            const ctx = screenshot.getContext('2d');\n            ctx.imageSmoothingEnabled = this.screen.antialiasing;\n            ctx.drawImage(this.canvas, 0, 0, finalWidth, finalHeight);\n            const result = new Image();\n            const raw = screenshot.toDataURL('image/png');\n            result.src = raw;\n            request.resolve(result);\n        }\n        // Reset state\n        this._screenShotRequests.length = 0;\n    }\n    /**\n     * Another option available to you to load resources into the game.\n     * Immediately after calling this the game will pause and the loading screen\n     * will appear.\n     * @param loader  Some [[Loadable]] such as a [[Loader]] collection, [[Sound]], or [[Texture]].\n     */\n    async load(loader, hideLoader = false) {\n        try {\n            // early exit if loaded\n            if (loader.isLoaded()) {\n                return;\n            }\n            this._loader = loader;\n            this._isLoading = true;\n            this._hideLoader = hideLoader;\n            if (loader instanceof Loader) {\n                loader.suppressPlayButton = this._suppressPlayButton;\n            }\n            this._loader.onInitialize(this);\n            await loader.load();\n        }\n        catch (e) {\n            this._logger.error('Error loading resources, things may not behave properly', e);\n            await Promise.resolve();\n        }\n        finally {\n            this._isLoading = false;\n            this._hideLoader = false;\n            this._loader = null;\n        }\n    }\n}\n/**\n * Default [[EngineOptions]]\n */\nEngine._DEFAULT_ENGINE_OPTIONS = {\n    width: 0,\n    height: 0,\n    enableCanvasTransparency: true,\n    useDrawSorting: true,\n    configurePerformanceCanvas2DFallback: {\n        allow: false,\n        showPlayerMessage: false,\n        threshold: { fps: 20, numberOfFrames: 100 }\n    },\n    canvasElementId: '',\n    canvasElement: undefined,\n    snapToPixel: false,\n    antialiasing: true,\n    pixelArt: false,\n    powerPreference: 'high-performance',\n    pointerScope: PointerScope.Canvas,\n    suppressConsoleBootMessage: null,\n    suppressMinimumBrowserFeatureDetection: null,\n    suppressHiDPIScaling: null,\n    suppressPlayButton: null,\n    grabWindowFocus: true,\n    scrollPreventionMode: ScrollPreventionMode.Canvas,\n    backgroundColor: Color.fromHex('#2185d0') // Excalibur blue\n};\n\n;// CONCATENATED MODULE: ./Math/Index.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n;// CONCATENATED MODULE: ./Debug/index.ts\n\n\n\n\n;// CONCATENATED MODULE: ./EventDispatcher.ts\n\n/**\n * @deprecated Use [[EventEmitter]] will be removed in v0.29.0\n */\nclass EventDispatcher {\n    constructor() {\n        this._handlers = {};\n        this._wiredEventDispatchers = [];\n        this._deferedHandlerRemovals = [];\n    }\n    /**\n     * Clears any existing handlers or wired event dispatchers on this event dispatcher\n     */\n    clear() {\n        this._handlers = {};\n        this._wiredEventDispatchers = [];\n    }\n    _processDeferredHandlerRemovals() {\n        for (const eventHandler of this._deferedHandlerRemovals) {\n            this._removeHandler(eventHandler.name, eventHandler.handler);\n        }\n        this._deferedHandlerRemovals.length = 0;\n    }\n    /**\n     * Emits an event for target\n     * @param eventName  The name of the event to publish\n     * @param event      Optionally pass an event data object to the handler\n     */\n    emit(eventName, event) {\n        this._processDeferredHandlerRemovals();\n        if (!eventName) {\n            // key not mapped\n            return;\n        }\n        eventName = eventName.toLowerCase();\n        if (typeof event === 'undefined' || event === null) {\n            event = new GameEvent();\n        }\n        let i, len;\n        if (this._handlers[eventName]) {\n            i = 0;\n            len = this._handlers[eventName].length;\n            for (i; i < len; i++) {\n                this._handlers[eventName][i](event);\n            }\n        }\n        i = 0;\n        len = this._wiredEventDispatchers.length;\n        for (i; i < len; i++) {\n            this._wiredEventDispatchers[i].emit(eventName, event);\n        }\n    }\n    /**\n     * Subscribe an event handler to a particular event name, multiple handlers per event name are allowed.\n     * @param eventName  The name of the event to subscribe to\n     * @param handler    The handler callback to fire on this event\n     */\n    on(eventName, handler) {\n        this._processDeferredHandlerRemovals();\n        eventName = eventName.toLowerCase();\n        if (!this._handlers[eventName]) {\n            this._handlers[eventName] = [];\n        }\n        this._handlers[eventName].push(handler);\n    }\n    /**\n     * Unsubscribe an event handler(s) from an event. If a specific handler\n     * is specified for an event, only that handler will be unsubscribed.\n     * Otherwise all handlers will be unsubscribed for that event.\n     * @param eventName  The name of the event to unsubscribe\n     * @param handler    Optionally the specific handler to unsubscribe\n     */\n    off(eventName, handler) {\n        this._deferedHandlerRemovals.push({ name: eventName, handler });\n    }\n    _removeHandler(eventName, handler) {\n        eventName = eventName.toLowerCase();\n        const eventHandlers = this._handlers[eventName];\n        if (eventHandlers) {\n            // if no explicit handler is give with the event name clear all handlers\n            if (!handler) {\n                this._handlers[eventName].length = 0;\n            }\n            else {\n                const index = eventHandlers.indexOf(handler);\n                if (index > -1) {\n                    this._handlers[eventName].splice(index, 1);\n                }\n            }\n        }\n    }\n    /**\n     * Once listens to an event one time, then unsubscribes from that event\n     * @param eventName The name of the event to subscribe to once\n     * @param handler   The handler of the event that will be auto unsubscribed\n     */\n    once(eventName, handler) {\n        this._processDeferredHandlerRemovals();\n        const metaHandler = (event) => {\n            const ev = event || new GameEvent();\n            this.off(eventName, metaHandler);\n            handler(ev);\n        };\n        this.on(eventName, metaHandler);\n    }\n    /**\n     * Wires this event dispatcher to also receive events from another\n     */\n    wire(eventDispatcher) {\n        eventDispatcher._wiredEventDispatchers.push(this);\n    }\n    /**\n     * Unwires this event dispatcher from another\n     */\n    unwire(eventDispatcher) {\n        const index = eventDispatcher._wiredEventDispatchers.indexOf(this);\n        if (index > -1) {\n            eventDispatcher._wiredEventDispatchers.splice(index, 1);\n        }\n    }\n}\n\n;// CONCATENATED MODULE: ./Label.ts\n\n\n\n\n\n/**\n * Labels are the way to draw small amounts of text to the screen. They are\n * actors and inherit all of the benefits and capabilities.\n */\nclass Label extends Actor {\n    get font() {\n        return this._font;\n    }\n    set font(newFont) {\n        this._font = newFont;\n        this._text.font = newFont;\n    }\n    /**\n     * The text to draw.\n     */\n    get text() {\n        return this._text.text;\n    }\n    set text(text) {\n        this._text.text = text;\n    }\n    get color() {\n        return this._text.color;\n    }\n    set color(color) {\n        if (this._text) {\n            this._text.color = color;\n        }\n    }\n    get opacity() {\n        return this._text.opacity;\n    }\n    set opacity(opacity) {\n        this._text.opacity = opacity;\n    }\n    /**\n     * The [[SpriteFont]] to use, if any. Overrides [[Font|font]] if present.\n     */\n    get spriteFont() {\n        return this._spriteFont;\n    }\n    set spriteFont(sf) {\n        if (sf) {\n            this._spriteFont = sf;\n            this._text.font = this._spriteFont;\n        }\n    }\n    /**\n     * Build a new label\n     * @param options\n     */\n    constructor(options) {\n        super(options);\n        this._font = new Font();\n        this._text = new Text({ text: '', font: this._font });\n        const { text, pos, x, y, spriteFont, font, color } = { text: '', ...options };\n        this.pos = pos !== null && pos !== void 0 ? pos : (x && y ? vec(x, y) : this.pos);\n        this.text = text !== null && text !== void 0 ? text : this.text;\n        this.font = font !== null && font !== void 0 ? font : this.font;\n        this.spriteFont = spriteFont !== null && spriteFont !== void 0 ? spriteFont : this.spriteFont;\n        this._text.color = color !== null && color !== void 0 ? color : this.color;\n        const gfx = this.get(GraphicsComponent);\n        gfx.anchor = Vector.Zero;\n        gfx.use(this._text);\n    }\n    _initialize(engine) {\n        super._initialize(engine);\n    }\n    /**\n     * Returns the width of the text in the label (in pixels);\n     */\n    getTextWidth() {\n        return this._text.width;\n    }\n}\n\n;// CONCATENATED MODULE: ./TileMap/IsometricMap.ts\n\n\n\n\n\n\n\n\n\n\nclass IsometricTile extends Entity {\n    getGraphics() {\n        return this._graphics;\n    }\n    /**\n     * Tile graphics\n     */\n    addGraphic(graphic, options) {\n        this._graphics.push(graphic);\n        this._gfx.visible = this.map.visible;\n        this._gfx.opacity = this.map.opacity;\n        if (options === null || options === void 0 ? void 0 : options.offset) {\n            this._gfx.offset = options.offset;\n        }\n        // TODO detect when this changes on the map and apply to all tiles\n        this._gfx.localBounds = this._recalculateBounds();\n    }\n    _recalculateBounds() {\n        let bounds = this._tileBounds.clone();\n        for (const graphic of this._graphics) {\n            const offset = vec(this.map.graphicsOffset.x - this.map.tileWidth / 2, this.map.graphicsOffset.y - (this.map.renderFromTopOfGraphic ? 0 : (graphic.height - this.map.tileHeight)));\n            bounds = bounds.combine(graphic.localBounds.translate(offset));\n        }\n        return bounds;\n    }\n    removeGraphic(graphic) {\n        const index = this._graphics.indexOf(graphic);\n        if (index > -1) {\n            this._graphics.splice(index, 1);\n        }\n        this._gfx.localBounds = this._recalculateBounds();\n    }\n    clearGraphics() {\n        this._graphics.length = 0;\n        this._gfx.visible = false;\n        this._gfx.localBounds = this._recalculateBounds();\n    }\n    getColliders() {\n        return this._colliders;\n    }\n    /**\n     * Adds a collider to the IsometricTile\n     *\n     * **Note!** the [[Tile.solid]] must be set to true for it to act as a \"fixed\" collider\n     * @param collider\n     */\n    addCollider(collider) {\n        this._colliders.push(collider);\n        this.map.flagCollidersDirty();\n    }\n    /**\n     * Removes a collider from the IsometricTile\n     * @param collider\n     */\n    removeCollider(collider) {\n        const index = this._colliders.indexOf(collider);\n        if (index > -1) {\n            this._colliders.splice(index, 1);\n        }\n        this.map.flagCollidersDirty();\n    }\n    /**\n     * Clears all colliders from the IsometricTile\n     */\n    clearColliders() {\n        this._colliders.length = 0;\n        this.map.flagCollidersDirty();\n    }\n    /**\n     * Returns the top left corner of the [[IsometricTile]] in world space\n     */\n    get pos() {\n        return this.map.tileToWorld(vec(this.x, this.y));\n    }\n    /**\n     * Returns the center of the [[IsometricTile]]\n     */\n    get center() {\n        return this.pos.add(vec(0, this.map.tileHeight / 2));\n    }\n    /**\n     * Construct a new IsometricTile\n     * @param x tile coordinate in x (not world position)\n     * @param y tile coordinate in y (not world position)\n     * @param graphicsOffset offset that tile should be shifted by (default (0, 0))\n     * @param map reference to owning IsometricMap\n     */\n    constructor(x, y, graphicsOffset, map) {\n        super([\n            new TransformComponent(),\n            new GraphicsComponent({\n                offset: graphicsOffset !== null && graphicsOffset !== void 0 ? graphicsOffset : Vector.Zero,\n                onPostDraw: (gfx, elapsed) => this.draw(gfx, elapsed)\n            }),\n            new IsometricEntityComponent(map)\n        ]);\n        /**\n         * Indicates whether this tile is solid\n         */\n        this.solid = false;\n        this._tileBounds = new BoundingBox();\n        this._graphics = [];\n        /**\n         * Tile colliders\n         */\n        this._colliders = [];\n        /**\n         * Arbitrary data storage per tile, useful for any game specific data\n         */\n        this.data = new Map();\n        this.x = x;\n        this.y = y;\n        this.map = map;\n        this._transform = this.get(TransformComponent);\n        this._isometricEntityComponent = this.get(IsometricEntityComponent);\n        const halfTileWidth = this.map.tileWidth / 2;\n        const halfTileHeight = this.map.tileHeight / 2;\n        // See https://clintbellanger.net/articles/isometric_math/ for formula\n        // The x position shifts left with every y step\n        const xPos = (this.x - this.y) * halfTileWidth;\n        // The y position needs to go down with every x step\n        const yPos = (this.x + this.y) * halfTileHeight;\n        this._transform.pos = vec(xPos, yPos);\n        this._isometricEntityComponent.elevation = map.elevation;\n        this._gfx = this.get(GraphicsComponent);\n        this._gfx.visible = false; // start not visible\n        const totalWidth = this.map.tileWidth;\n        const totalHeight = this.map.tileHeight;\n        // initial guess at gfx bounds based on the tile\n        const offset = vec(0, (this.map.renderFromTopOfGraphic ? totalHeight : 0));\n        this._gfx.localBounds = this._tileBounds = new BoundingBox({\n            left: -totalWidth / 2,\n            top: -totalHeight,\n            right: totalWidth / 2,\n            bottom: totalHeight\n        }).translate(offset);\n    }\n    draw(gfx, _elapsed) {\n        const halfTileWidth = this.map.tileWidth / 2;\n        gfx.save();\n        // shift left origin to corner of map, not the left corner of the first sprite\n        gfx.translate(-halfTileWidth, 0);\n        for (const graphic of this._graphics) {\n            graphic.draw(gfx, this.map.graphicsOffset.x, this.map.graphicsOffset.y - (this.map.renderFromTopOfGraphic ? 0 : (graphic.height - this.map.tileHeight)));\n        }\n        gfx.restore();\n    }\n}\n/**\n * The IsometricMap is a special tile map that provides isometric rendering support to Excalibur\n *\n * The tileWidth and tileHeight should be the height and width in pixels of the parallelogram of the base of the tile art asset.\n * The tileWidth and tileHeight is not necessarily the same as your graphic pixel width and height.\n *\n * Please refer to the docs https://excaliburjs.com for more details calculating what your tile width and height should be given\n * your art assets.\n */\nclass IsometricMap extends Entity {\n    constructor(options) {\n        super([\n            new TransformComponent(),\n            new BodyComponent({\n                type: CollisionType.Fixed\n            }),\n            new ColliderComponent(),\n            new DebugGraphicsComponent((ctx, debugFlags) => this.debug(ctx, debugFlags), false)\n        ], options.name);\n        this.elevation = 0;\n        /**\n         * Whether tiles should be visible\n         */\n        this.visible = true;\n        /**\n         * Opacity of tiles\n         */\n        this.opacity = 1.0;\n        /**\n         * Render the tile graphic from the top instead of the bottom\n         *\n         * default is `false` meaning rendering from the bottom\n         */\n        this.renderFromTopOfGraphic = false;\n        this.graphicsOffset = vec(0, 0);\n        this._collidersDirty = false;\n        this._originalOffsets = new WeakMap();\n        const { pos, tileWidth, tileHeight, columns: width, rows: height, renderFromTopOfGraphic, graphicsOffset, elevation } = options;\n        this.transform = this.get(TransformComponent);\n        if (pos) {\n            this.transform.pos = pos;\n        }\n        this.collider = this.get(ColliderComponent);\n        if (this.collider) {\n            this.collider.set(this._composite = new CompositeCollider([]));\n        }\n        this.renderFromTopOfGraphic = renderFromTopOfGraphic !== null && renderFromTopOfGraphic !== void 0 ? renderFromTopOfGraphic : this.renderFromTopOfGraphic;\n        this.graphicsOffset = graphicsOffset !== null && graphicsOffset !== void 0 ? graphicsOffset : this.graphicsOffset;\n        this.elevation = elevation !== null && elevation !== void 0 ? elevation : this.elevation;\n        this.tileWidth = tileWidth;\n        this.tileHeight = tileHeight;\n        this.columns = width;\n        this.rows = height;\n        this.tiles = new Array(width * height);\n        // build up tile representation\n        for (let y = 0; y < height; y++) {\n            for (let x = 0; x < width; x++) {\n                const tile = new IsometricTile(x, y, this.graphicsOffset, this);\n                this.tiles[x + y * width] = tile;\n                this.addChild(tile);\n            }\n        }\n    }\n    update() {\n        if (this._collidersDirty) {\n            this.updateColliders();\n            this._collidersDirty = false;\n        }\n    }\n    flagCollidersDirty() {\n        this._collidersDirty = true;\n    }\n    _getOrSetColliderOriginalOffset(collider) {\n        if (!this._originalOffsets.has(collider)) {\n            const originalOffset = collider.offset;\n            this._originalOffsets.set(collider, originalOffset);\n            return originalOffset;\n        }\n        else {\n            return this._originalOffsets.get(collider);\n        }\n    }\n    updateColliders() {\n        this._composite.clearColliders();\n        const pos = this.get(TransformComponent).pos;\n        for (const tile of this.tiles) {\n            if (tile.solid) {\n                for (const collider of tile.getColliders()) {\n                    const originalOffset = this._getOrSetColliderOriginalOffset(collider);\n                    collider.offset = this.tileToWorld(vec(tile.x, tile.y))\n                        .sub(pos)\n                        .add(originalOffset)\n                        .sub(vec(this.tileWidth / 2, this.tileHeight)); // We need to unshift height based on drawing\n                    collider.owner = this;\n                    this._composite.addCollider(collider);\n                }\n            }\n        }\n        this.collider.update();\n    }\n    /**\n     * Convert world space coordinates to the tile x, y coordinate\n     * @param worldCoordinate\n     */\n    worldToTile(worldCoordinate) {\n        worldCoordinate = worldCoordinate.sub(this.transform.globalPos);\n        const halfTileWidth = this.tileWidth / 2;\n        const halfTileHeight = this.tileHeight / 2;\n        // See https://clintbellanger.net/articles/isometric_math/ for formula\n        return vec(~~((worldCoordinate.x / halfTileWidth + (worldCoordinate.y / halfTileHeight)) / 2), ~~((worldCoordinate.y / halfTileHeight - (worldCoordinate.x / halfTileWidth)) / 2));\n    }\n    /**\n     * Given a tile coordinate, return the top left corner in world space\n     * @param tileCoordinate\n     */\n    tileToWorld(tileCoordinate) {\n        const halfTileWidth = this.tileWidth / 2;\n        const halfTileHeight = this.tileHeight / 2;\n        // The x position shifts left with every y step\n        const xPos = (tileCoordinate.x - tileCoordinate.y) * halfTileWidth;\n        // The y position needs to go down with every x step\n        const yPos = (tileCoordinate.x + tileCoordinate.y) * halfTileHeight;\n        return vec(xPos, yPos).add(this.transform.pos);\n    }\n    /**\n     * Returns the [[IsometricTile]] by its x and y coordinates\n     */\n    getTile(x, y) {\n        if (x < 0 || y < 0 || x >= this.columns || y >= this.rows) {\n            return null;\n        }\n        return this.tiles[x + y * this.columns];\n    }\n    /**\n     * Returns the [[IsometricTile]] by testing a point in world coordinates,\n     * returns `null` if no Tile was found.\n     */\n    getTileByPoint(point) {\n        const tileCoord = this.worldToTile(point);\n        const tile = this.getTile(tileCoord.x, tileCoord.y);\n        return tile;\n    }\n    _getMaxZIndex() {\n        let maxZ = Number.NEGATIVE_INFINITY;\n        for (const tile of this.tiles) {\n            const currentZ = tile.get(TransformComponent).z;\n            if (currentZ > maxZ) {\n                maxZ = currentZ;\n            }\n        }\n        return maxZ;\n    }\n    /**\n     * Debug draw for IsometricMap, called internally by excalibur when debug mode is toggled on\n     * @param gfx\n     */\n    debug(gfx, debugFlags) {\n        const { showAll, showPosition, positionColor, positionSize, showGrid, gridColor, gridWidth, showColliderGeometry } = debugFlags.isometric;\n        const { geometryColor, geometryLineWidth, geometryPointSize } = debugFlags.collider;\n        gfx.save();\n        gfx.z = this._getMaxZIndex() + 0.5;\n        if (showAll || showGrid) {\n            for (let y = 0; y < this.rows + 1; y++) {\n                const left = this.tileToWorld(vec(0, y));\n                const right = this.tileToWorld(vec(this.columns, y));\n                gfx.drawLine(left, right, gridColor, gridWidth);\n            }\n            for (let x = 0; x < this.columns + 1; x++) {\n                const top = this.tileToWorld(vec(x, 0));\n                const bottom = this.tileToWorld(vec(x, this.rows));\n                gfx.drawLine(top, bottom, gridColor, gridWidth);\n            }\n        }\n        if (showAll || showPosition) {\n            for (const tile of this.tiles) {\n                gfx.drawCircle(this.tileToWorld(vec(tile.x, tile.y)), positionSize, positionColor);\n            }\n        }\n        if (showAll || showColliderGeometry) {\n            for (const tile of this.tiles) {\n                if (tile.solid) { // only draw solid tiles\n                    for (const collider of tile.getColliders()) {\n                        collider.debug(gfx, geometryColor, { lineWidth: geometryLineWidth, pointSize: geometryPointSize });\n                    }\n                }\n            }\n        }\n        gfx.restore();\n    }\n}\n\n;// CONCATENATED MODULE: ./TileMap/index.ts\n\n\n\n\n\n;// CONCATENATED MODULE: ./Actions/Action/ActionSequence.ts\n\n/**\n * Action that can represent a sequence of actions, this can be useful in conjunction with\n * [[ParallelActions]] to run multiple sequences in parallel.\n */\nclass ActionSequence {\n    constructor(entity, actionBuilder) {\n        this._stopped = false;\n        this._sequenceBuilder = actionBuilder;\n        this._sequenceContext = new ActionContext(entity);\n        this._actionQueue = this._sequenceContext.getQueue();\n        this._sequenceBuilder(this._sequenceContext);\n    }\n    update(delta) {\n        this._actionQueue.update(delta);\n    }\n    isComplete() {\n        return this._stopped || this._actionQueue.isComplete();\n    }\n    stop() {\n        this._stopped = true;\n    }\n    reset() {\n        this._stopped = false;\n        this._actionQueue.reset();\n    }\n    clone(entity) {\n        return new ActionSequence(entity, this._sequenceBuilder);\n    }\n}\n\n;// CONCATENATED MODULE: ./Actions/Action/ParallelActions.ts\n/**\n * Action that can run multiple [[Action]]s or [[ActionSequence]]s at the same time\n */\nclass ParallelActions {\n    constructor(parallelActions) {\n        this._actions = parallelActions;\n    }\n    update(delta) {\n        for (let i = 0; i < this._actions.length; i++) {\n            this._actions[i].update(delta);\n        }\n    }\n    isComplete(entity) {\n        return this._actions.every(a => a.isComplete(entity));\n    }\n    reset() {\n        this._actions.forEach(a => a.reset());\n    }\n    stop() {\n        this._actions.forEach(a => a.stop());\n    }\n}\n\n;// CONCATENATED MODULE: ./Actions/Index.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n;// CONCATENATED MODULE: ./Collision/Detection/QuadTree.ts\n\n\n/**\n * QuadTree spatial data structure. Useful for quickly retrieving all objects that might\n * be in a specific location.\n */\nclass QuadTree {\n    constructor(bounds, options) {\n        this.bounds = bounds;\n        this.options = options;\n        this._defaultOptions = {\n            maxDepth: 10,\n            capacity: 10,\n            level: 0\n        };\n        this.items = [];\n        this._isDivided = false;\n        this.topLeft = null;\n        this.topRight = null;\n        this.bottomLeft = null;\n        this.bottomRight = null;\n        this.options = { ...this._defaultOptions, ...options };\n        this.halfWidth = bounds.width / 2;\n        this.halfHeight = bounds.height / 2;\n    }\n    /**\n     * Splits the quad tree one level deeper\n     */\n    _split() {\n        this._isDivided = true;\n        const newLevelOptions = {\n            maxDepth: this.options.maxDepth,\n            capacity: this.options.capacity,\n            level: this.options.level + 1\n        };\n        this.topLeft = new QuadTree(new BoundingBox({\n            left: this.bounds.left,\n            top: this.bounds.top,\n            right: this.bounds.left + this.halfWidth,\n            bottom: this.bounds.top + this.halfHeight\n        }), newLevelOptions);\n        this.topRight = new QuadTree(new BoundingBox({\n            left: this.bounds.left + this.halfWidth,\n            top: this.bounds.top,\n            right: this.bounds.right,\n            bottom: this.bounds.top + this.halfHeight\n        }), newLevelOptions);\n        this.bottomLeft = new QuadTree(new BoundingBox({\n            left: this.bounds.left,\n            top: this.bounds.top + this.halfHeight,\n            right: this.bounds.left + this.halfWidth,\n            bottom: this.bounds.bottom\n        }), newLevelOptions);\n        this.bottomRight = new QuadTree(new BoundingBox({\n            left: this.bounds.left + this.halfWidth,\n            top: this.bounds.top + this.halfHeight,\n            right: this.bounds.right,\n            bottom: this.bounds.bottom\n        }), newLevelOptions);\n    }\n    _insertIntoSubNodes(item) {\n        var _a, _b, _c, _d;\n        if ((_a = this.topLeft) === null || _a === void 0 ? void 0 : _a.bounds.overlaps(item.bounds)) {\n            this.topLeft.insert(item);\n        }\n        if ((_b = this.topRight) === null || _b === void 0 ? void 0 : _b.bounds.overlaps(item.bounds)) {\n            this.topRight.insert(item);\n        }\n        if ((_c = this.bottomLeft) === null || _c === void 0 ? void 0 : _c.bounds.overlaps(item.bounds)) {\n            this.bottomLeft.insert(item);\n        }\n        if ((_d = this.bottomRight) === null || _d === void 0 ? void 0 : _d.bounds.overlaps(item.bounds)) {\n            this.bottomRight.insert(item);\n        }\n    }\n    /**\n     * Insert an item to be tracked in the QuadTree\n     * @param item\n     */\n    insert(item) {\n        // add to subnodes if it matches\n        if (this._isDivided) {\n            this._insertIntoSubNodes(item);\n            return;\n        }\n        // leaf case\n        this.items.push(item);\n        // capacity\n        if (this.items.length > this.options.capacity && this.options.level < this.options.maxDepth) {\n            if (!this._isDivided) {\n                this._split();\n            }\n            // divide this level's items into it's subnodes\n            for (const item of this.items) {\n                this._insertIntoSubNodes(item);\n            }\n            // clear this level\n            this.items.length = 0;\n        }\n    }\n    /**\n     * Remove a tracked item in the QuadTree\n     * @param item\n     */\n    remove(item) {\n        var _a, _b, _c, _d;\n        if (!this.bounds.overlaps(item.bounds)) {\n            return;\n        }\n        if (!this._isDivided) {\n            const index = this.items.indexOf(item);\n            if (index > -1) {\n                this.items.splice(index, 1);\n            }\n            return;\n        }\n        if ((_a = this.topLeft) === null || _a === void 0 ? void 0 : _a.bounds.overlaps(item.bounds)) {\n            this.topLeft.remove(item);\n        }\n        if ((_b = this.topRight) === null || _b === void 0 ? void 0 : _b.bounds.overlaps(item.bounds)) {\n            this.topRight.remove(item);\n        }\n        if ((_c = this.bottomLeft) === null || _c === void 0 ? void 0 : _c.bounds.overlaps(item.bounds)) {\n            this.bottomLeft.remove(item);\n        }\n        if ((_d = this.bottomRight) === null || _d === void 0 ? void 0 : _d.bounds.overlaps(item.bounds)) {\n            this.bottomRight.remove(item);\n        }\n    }\n    /**\n     * Query the structure for all objects that intersect the bounding box\n     * @param boundingBox\n     * @returns items\n     */\n    query(boundingBox) {\n        let results = this.items;\n        if (this._isDivided) {\n            if (this.topLeft.bounds.overlaps(boundingBox)) {\n                results = results.concat(this.topLeft.query(boundingBox));\n            }\n            if (this.topRight.bounds.overlaps(boundingBox)) {\n                results = results.concat(this.topRight.query(boundingBox));\n            }\n            if (this.bottomLeft.bounds.overlaps(boundingBox)) {\n                results = results.concat(this.bottomLeft.query(boundingBox));\n            }\n            if (this.bottomRight.bounds.overlaps(boundingBox)) {\n                results = results.concat(this.bottomRight.query(boundingBox));\n            }\n        }\n        results = results.filter((item, index) => {\n            return results.indexOf(item) >= index;\n        });\n        return results;\n    }\n    clear() {\n        this.items = [];\n        this._isDivided = false;\n        this.topLeft = null;\n        this.topRight = null;\n        this.bottomLeft = null;\n        this.bottomRight = null;\n    }\n    getAllItems() {\n        let results = this.items;\n        if (this._isDivided) {\n            results = results.concat(this.topLeft.getAllItems());\n            results = results.concat(this.topRight.getAllItems());\n            results = results.concat(this.bottomLeft.getAllItems());\n            results = results.concat(this.bottomRight.getAllItems());\n        }\n        results = results.filter((item, index) => {\n            return results.indexOf(item) >= index;\n        });\n        return results;\n    }\n    getTreeDepth() {\n        if (!this._isDivided) {\n            return 0;\n        }\n        return 1 + Math.max(this.topLeft.getTreeDepth(), this.topRight.getTreeDepth(), this.bottomLeft.getTreeDepth(), this.bottomRight.getTreeDepth());\n    }\n    debug(ctx) {\n        this.bounds.draw(ctx, Color.Yellow);\n        if (this._isDivided) {\n            this.topLeft.bounds.draw(ctx, Color.Yellow);\n            this.topRight.bounds.draw(ctx, Color.Yellow);\n            this.bottomLeft.bounds.draw(ctx, Color.Yellow);\n            this.bottomRight.bounds.draw(ctx, Color.Yellow);\n        }\n    }\n}\n\n;// CONCATENATED MODULE: ./Collision/Index.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n;// CONCATENATED MODULE: ./Interfaces/LifecycleEvents.ts\n/**\n * Type guard checking for internal initialize method\n * @internal\n * @param a\n */\nfunction has_initialize(a) {\n    return !!a._initialize;\n}\n/**\n *\n */\nfunction hasOnInitialize(a) {\n    return !!a.onInitialize;\n}\n/**\n *\n */\nfunction has_preupdate(a) {\n    return !!a._preupdate;\n}\n/**\n *\n */\nfunction hasOnPreUpdate(a) {\n    return !!a.onPreUpdate;\n}\n/**\n *\n */\nfunction has_postupdate(a) {\n    return !!a.onPostUpdate;\n}\n/**\n *\n */\nfunction hasOnPostUpdate(a) {\n    return !!a.onPostUpdate;\n}\n/**\n *\n */\nfunction hasPreDraw(a) {\n    return !!a.onPreDraw;\n}\n/**\n *\n */\nfunction hasPostDraw(a) {\n    return !!a.onPostDraw;\n}\n\n;// CONCATENATED MODULE: ./Interfaces/Index.ts\n\n\n\n\n\n\n\n\n;// CONCATENATED MODULE: ./Resources/Sound/Index.ts\n\n\n\n\n;// CONCATENATED MODULE: ./Resources/Gif.ts\n\n\n\n\n\n\n/**\n * The [[Texture]] object allows games built in Excalibur to load image resources.\n * [[Texture]] is an [[Loadable]] which means it can be passed to a [[Loader]]\n * to pre-load before starting a level or game.\n */\nclass Gif {\n    /**\n     * @param path       Path to the image resource\n     * @param color      Optionally set the color to treat as transparent the gif, by default [[Color.Magenta]]\n     * @param bustCache  Optionally load texture with cache busting\n     */\n    constructor(path, color = Color.Magenta, bustCache = false) {\n        this.path = path;\n        this.color = color;\n        this._stream = null;\n        this._gif = null;\n        this._textures = [];\n        this._animation = null;\n        this._transparentColor = null;\n        this._resource = new Resource(path, 'arraybuffer', bustCache);\n        this._transparentColor = color;\n    }\n    /**\n     * Should excalibur add a cache busting querystring? By default false.\n     * Must be set before loading\n     */\n    get bustCache() {\n        return this._resource.bustCache;\n    }\n    set bustCache(val) {\n        this._resource.bustCache = val;\n    }\n    /**\n     * Begins loading the texture and returns a promise to be resolved on completion\n     */\n    async load() {\n        const arraybuffer = await this._resource.load();\n        this._stream = new Stream(arraybuffer);\n        this._gif = new ParseGif(this._stream, this._transparentColor);\n        const images = this._gif.images.map(i => new ImageSource(i.src, false));\n        // Load all textures\n        await Promise.all(images.map(t => t.load()));\n        return this.data = this._textures = images;\n    }\n    isLoaded() {\n        return !!this.data;\n    }\n    /**\n     * Return a frame of the gif as a sprite by id\n     * @param id\n     */\n    toSprite(id = 0) {\n        const sprite = this._textures[id].toSprite();\n        return sprite;\n    }\n    /**\n     * Return the gif as a spritesheet\n     */\n    toSpriteSheet() {\n        const sprites = this._textures.map((image) => {\n            return image.toSprite();\n        });\n        return new SpriteSheet({ sprites });\n    }\n    /**\n     * Transform the GIF into an animation with duration per frame\n     */\n    toAnimation(durationPerFrameMs) {\n        const spriteSheet = this.toSpriteSheet();\n        const length = spriteSheet.sprites.length;\n        this._animation = Animation.fromSpriteSheet(spriteSheet, range(0, length), durationPerFrameMs);\n        return this._animation;\n    }\n    get readCheckBytes() {\n        return this._gif.checkBytes;\n    }\n}\nconst bitsToNum = (ba) => {\n    return ba.reduce(function (s, n) {\n        return s * 2 + n;\n    }, 0);\n};\nconst byteToBitArr = (bite) => {\n    const a = [];\n    for (let i = 7; i >= 0; i--) {\n        a.push(!!(bite & (1 << i)));\n    }\n    return a;\n};\nclass Stream {\n    constructor(dataArray) {\n        this.data = null;\n        this.len = 0;\n        this.position = 0;\n        this.readByte = () => {\n            if (this.position >= this.data.byteLength) {\n                throw new Error('Attempted to read past end of stream.');\n            }\n            return this.data[this.position++];\n        };\n        this.readBytes = (n) => {\n            const bytes = [];\n            for (let i = 0; i < n; i++) {\n                bytes.push(this.readByte());\n            }\n            return bytes;\n        };\n        this.read = (n) => {\n            let s = '';\n            for (let i = 0; i < n; i++) {\n                s += String.fromCharCode(this.readByte());\n            }\n            return s;\n        };\n        this.readUnsigned = () => {\n            // Little-endian.\n            const a = this.readBytes(2);\n            return (a[1] << 8) + a[0];\n        };\n        this.data = new Uint8Array(dataArray);\n        this.len = this.data.byteLength;\n        if (this.len === 0) {\n            throw new Error('No data loaded from file');\n        }\n    }\n}\nconst lzwDecode = function (minCodeSize, data) {\n    // TODO: Now that the GIF parser is a bit different, maybe this should get an array of bytes instead of a String?\n    let pos = 0; // Maybe this streaming thing should be merged with the Stream?\n    const readCode = function (size) {\n        let code = 0;\n        for (let i = 0; i < size; i++) {\n            if (data.charCodeAt(pos >> 3) & (1 << (pos & 7))) {\n                code |= 1 << i;\n            }\n            pos++;\n        }\n        return code;\n    };\n    const output = [];\n    const clearCode = 1 << minCodeSize;\n    const eoiCode = clearCode + 1;\n    let codeSize = minCodeSize + 1;\n    let dict = [];\n    const clear = function () {\n        dict = [];\n        codeSize = minCodeSize + 1;\n        for (let i = 0; i < clearCode; i++) {\n            dict[i] = [i];\n        }\n        dict[clearCode] = [];\n        dict[eoiCode] = null;\n    };\n    let code;\n    let last;\n    while (true) {\n        last = code;\n        code = readCode(codeSize);\n        if (code === clearCode) {\n            clear();\n            continue;\n        }\n        if (code === eoiCode) {\n            break;\n        }\n        if (code < dict.length) {\n            if (last !== clearCode) {\n                dict.push(dict[last].concat(dict[code][0]));\n            }\n        }\n        else {\n            if (code !== dict.length) {\n                throw new Error('Invalid LZW code.');\n            }\n            dict.push(dict[last].concat(dict[last][0]));\n        }\n        output.push.apply(output, dict[code]);\n        if (dict.length === 1 << codeSize && codeSize < 12) {\n            // If we're at the last code and codeSize is 12, the next code will be a clearCode, and it'll be 12 bits long.\n            codeSize++;\n        }\n    }\n    // I don't know if this is technically an error, but some GIFs do it.\n    //if (Math.ceil(pos / 8) !== data.length) throw new Error('Extraneous LZW bytes.');\n    return output;\n};\n// The actual parsing; returns an object with properties.\nclass ParseGif {\n    constructor(stream, color = Color.Magenta) {\n        this._st = null;\n        this._handler = {};\n        this._transparentColor = null;\n        this.frames = [];\n        this.images = [];\n        this.globalColorTable = [];\n        this.checkBytes = [];\n        // LZW (GIF-specific)\n        this.parseColorTable = (entries) => {\n            // Each entry is 3 bytes, for RGB.\n            const ct = [];\n            for (let i = 0; i < entries; i++) {\n                const rgb = this._st.readBytes(3);\n                const rgba = '#' +\n                    rgb\n                        .map((x) => {\n                        const hex = x.toString(16);\n                        return hex.length === 1 ? '0' + hex : hex;\n                    })\n                        .join('');\n                ct.push(rgba);\n            }\n            return ct;\n        };\n        this.readSubBlocks = () => {\n            let size, data;\n            data = '';\n            do {\n                size = this._st.readByte();\n                data += this._st.read(size);\n            } while (size !== 0);\n            return data;\n        };\n        this.parseHeader = () => {\n            const hdr = {\n                sig: null,\n                ver: null,\n                width: null,\n                height: null,\n                colorRes: null,\n                globalColorTableSize: null,\n                gctFlag: null,\n                sorted: null,\n                globalColorTable: [],\n                bgColor: null,\n                pixelAspectRatio: null // if not 0, aspectRatio = (pixelAspectRatio + 15) / 64\n            };\n            hdr.sig = this._st.read(3);\n            hdr.ver = this._st.read(3);\n            if (hdr.sig !== 'GIF') {\n                throw new Error('Not a GIF file.'); // XXX: This should probably be handled more nicely.\n            }\n            hdr.width = this._st.readUnsigned();\n            hdr.height = this._st.readUnsigned();\n            const bits = byteToBitArr(this._st.readByte());\n            hdr.gctFlag = bits.shift();\n            hdr.colorRes = bitsToNum(bits.splice(0, 3));\n            hdr.sorted = bits.shift();\n            hdr.globalColorTableSize = bitsToNum(bits.splice(0, 3));\n            hdr.bgColor = this._st.readByte();\n            hdr.pixelAspectRatio = this._st.readByte(); // if not 0, aspectRatio = (pixelAspectRatio + 15) / 64\n            if (hdr.gctFlag) {\n                hdr.globalColorTable = this.parseColorTable(1 << (hdr.globalColorTableSize + 1));\n                this.globalColorTable = hdr.globalColorTable;\n            }\n            if (this._handler.hdr && this._handler.hdr(hdr)) {\n                this.checkBytes.push(this._handler.hdr);\n            }\n        };\n        this.parseExt = (block) => {\n            const parseGCExt = (block) => {\n                this.checkBytes.push(this._st.readByte()); // Always 4\n                const bits = byteToBitArr(this._st.readByte());\n                block.reserved = bits.splice(0, 3); // Reserved; should be 000.\n                block.disposalMethod = bitsToNum(bits.splice(0, 3));\n                block.userInput = bits.shift();\n                block.transparencyGiven = bits.shift();\n                block.delayTime = this._st.readUnsigned();\n                block.transparencyIndex = this._st.readByte();\n                block.terminator = this._st.readByte();\n                if (this._handler.gce && this._handler.gce(block)) {\n                    this.checkBytes.push(this._handler.gce);\n                }\n            };\n            const parseComExt = (block) => {\n                block.comment = this.readSubBlocks();\n                if (this._handler.com && this._handler.com(block)) {\n                    this.checkBytes.push(this._handler.com);\n                }\n            };\n            const parsePTExt = (block) => {\n                this.checkBytes.push(this._st.readByte()); // Always 12\n                block.ptHeader = this._st.readBytes(12);\n                block.ptData = this.readSubBlocks();\n                if (this._handler.pte && this._handler.pte(block)) {\n                    this.checkBytes.push(this._handler.pte);\n                }\n            };\n            const parseAppExt = (block) => {\n                const parseNetscapeExt = (block) => {\n                    this.checkBytes.push(this._st.readByte()); // Always 3\n                    block.unknown = this._st.readByte(); // Q: Always 1? What is this?\n                    block.iterations = this._st.readUnsigned();\n                    block.terminator = this._st.readByte();\n                    if (this._handler.app && this._handler.app.NETSCAPE && this._handler.app.NETSCAPE(block)) {\n                        this.checkBytes.push(this._handler.app);\n                    }\n                };\n                const parseUnknownAppExt = (block) => {\n                    block.appData = this.readSubBlocks();\n                    // FIXME: This won't work if a handler wants to match on any identifier.\n                    if (this._handler.app && this._handler.app[block.identifier] && this._handler.app[block.identifier](block)) {\n                        this.checkBytes.push(this._handler.app[block.identifier]);\n                    }\n                };\n                this.checkBytes.push(this._st.readByte()); // Always 11\n                block.identifier = this._st.read(8);\n                block.authCode = this._st.read(3);\n                switch (block.identifier) {\n                    case 'NETSCAPE':\n                        parseNetscapeExt(block);\n                        break;\n                    default:\n                        parseUnknownAppExt(block);\n                        break;\n                }\n            };\n            const parseUnknownExt = (block) => {\n                block.data = this.readSubBlocks();\n                if (this._handler.unknown && this._handler.unknown(block)) {\n                    this.checkBytes.push(this._handler.unknown);\n                }\n            };\n            block.label = this._st.readByte();\n            switch (block.label) {\n                case 0xf9:\n                    block.extType = 'gce';\n                    parseGCExt(block);\n                    break;\n                case 0xfe:\n                    block.extType = 'com';\n                    parseComExt(block);\n                    break;\n                case 0x01:\n                    block.extType = 'pte';\n                    parsePTExt(block);\n                    break;\n                case 0xff:\n                    block.extType = 'app';\n                    parseAppExt(block);\n                    break;\n                default:\n                    block.extType = 'unknown';\n                    parseUnknownExt(block);\n                    break;\n            }\n        };\n        this.parseImg = (img) => {\n            const deinterlace = (pixels, width) => {\n                // Of course this defeats the purpose of interlacing. And it's *probably*\n                // the least efficient way it's ever been implemented. But nevertheless...\n                const newPixels = new Array(pixels.length);\n                const rows = pixels.length / width;\n                const cpRow = (toRow, fromRow) => {\n                    const fromPixels = pixels.slice(fromRow * width, (fromRow + 1) * width);\n                    newPixels.splice.apply(newPixels, [toRow * width, width].concat(fromPixels));\n                };\n                const offsets = [0, 4, 2, 1];\n                const steps = [8, 8, 4, 2];\n                let fromRow = 0;\n                for (let pass = 0; pass < 4; pass++) {\n                    for (let toRow = offsets[pass]; toRow < rows; toRow += steps[pass]) {\n                        cpRow(toRow, fromRow);\n                        fromRow++;\n                    }\n                }\n                return newPixels;\n            };\n            img.leftPos = this._st.readUnsigned();\n            img.topPos = this._st.readUnsigned();\n            img.width = this._st.readUnsigned();\n            img.height = this._st.readUnsigned();\n            const bits = byteToBitArr(this._st.readByte());\n            img.lctFlag = bits.shift();\n            img.interlaced = bits.shift();\n            img.sorted = bits.shift();\n            img.reserved = bits.splice(0, 2);\n            img.lctSize = bitsToNum(bits.splice(0, 3));\n            if (img.lctFlag) {\n                img.lct = this.parseColorTable(1 << (img.lctSize + 1));\n            }\n            img.lzwMinCodeSize = this._st.readByte();\n            const lzwData = this.readSubBlocks();\n            img.pixels = lzwDecode(img.lzwMinCodeSize, lzwData);\n            if (img.interlaced) {\n                // Move\n                img.pixels = deinterlace(img.pixels, img.width);\n            }\n            this.frames.push(img);\n            this.arrayToImage(img);\n            if (this._handler.img && this._handler.img(img)) {\n                this.checkBytes.push(this._handler);\n            }\n        };\n        this.parseBlock = () => {\n            const block = {\n                sentinel: this._st.readByte(),\n                type: ''\n            };\n            const blockChar = String.fromCharCode(block.sentinel);\n            switch (blockChar) {\n                case '!':\n                    block.type = 'ext';\n                    this.parseExt(block);\n                    break;\n                case ',':\n                    block.type = 'img';\n                    this.parseImg(block);\n                    break;\n                case ';':\n                    block.type = 'eof';\n                    if (this._handler.eof && this._handler.eof(block)) {\n                        this.checkBytes.push(this._handler.eof);\n                    }\n                    break;\n                default:\n                    throw new Error('Unknown block: 0x' + block.sentinel.toString(16));\n            }\n            if (block.type !== 'eof') {\n                this.parseBlock();\n            }\n        };\n        this.arrayToImage = (frame) => {\n            let count = 0;\n            const c = document.createElement('canvas');\n            c.id = count.toString();\n            c.width = frame.width;\n            c.height = frame.height;\n            count++;\n            const context = c.getContext('2d');\n            const pixSize = 1;\n            let y = 0;\n            let x = 0;\n            for (let i = 0; i < frame.pixels.length; i++) {\n                if (x % frame.width === 0) {\n                    y++;\n                    x = 0;\n                }\n                if (this.globalColorTable[frame.pixels[i]] === this._transparentColor.toHex()) {\n                    context.fillStyle = `rgba(0, 0, 0, 0)`;\n                }\n                else {\n                    context.fillStyle = this.globalColorTable[frame.pixels[i]];\n                }\n                context.fillRect(x, y, pixSize, pixSize);\n                x++;\n            }\n            const img = new Image();\n            img.src = c.toDataURL();\n            this.images.push(img);\n        };\n        this._st = stream;\n        this._handler = {};\n        this._transparentColor = color;\n        this.parseHeader();\n        this.parseBlock();\n    }\n}\n\n;// CONCATENATED MODULE: ./Resources/Font.ts\n\n\nclass FontSource {\n    constructor(\n    /**\n     * Path to the font resource relative from the HTML document hosting the game, or absolute\n     */\n    path, \n    /**\n     * The font family name\n     */\n    family, { bustCache, ...options } = {}) {\n        this.path = path;\n        this.family = family;\n        this._isLoaded = false;\n        this._resource = new Resource(path, 'blob', bustCache);\n        this._options = options;\n    }\n    async load() {\n        if (this.isLoaded()) {\n            return this.data;\n        }\n        try {\n            const blob = await this._resource.load();\n            const url = URL.createObjectURL(blob);\n            if (!this.data) {\n                this.data = new FontFace(this.family, `url(${url})`);\n                document.fonts.add(this.data);\n            }\n            await this.data.load();\n            this._isLoaded = true;\n        }\n        catch (error) {\n            throw `Error loading FontSource from path '${this.path}' with error [${error.message}]`;\n        }\n        return this.data;\n    }\n    isLoaded() {\n        return this._isLoaded;\n    }\n    /**\n     * Build a font from this FontSource.\n     * @param options {FontOptions} Override the font options\n     */\n    toFont(options) {\n        return new Font({ family: this.family, ...this._options, ...options });\n    }\n}\n\n;// CONCATENATED MODULE: ./Resources/Index.ts\n\n\n\n\n\n;// CONCATENATED MODULE: ./EntityComponentSystem/index.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n;// CONCATENATED MODULE: ./Util/Coroutine.ts\n/**\n * Excalibur coroutine helper, returns a promise when complete. Coroutines run before frame update.\n *\n * Each coroutine yield is 1 excalibur frame. Coroutines get passed the elapsed time our of yield. Coroutines\n * run internally on the excalibur clock.\n *\n * If you yield a promise it will be awaited before resumed\n * If you yield a number it will wait that many ms before resumed\n * @param engine\n * @param coroutineGenerator\n */\nfunction coroutine(engine, coroutineGenerator) {\n    return new Promise((resolve, reject) => {\n        const generator = coroutineGenerator();\n        const loop = (elapsedMs) => {\n            try {\n                const { done, value } = generator.next(elapsedMs);\n                if (done) {\n                    resolve();\n                }\n                if (value instanceof Promise) {\n                    value.then(() => {\n                        // schedule next loop\n                        engine.clock.schedule(loop);\n                    });\n                }\n                else if (value === undefined || value === (void 0)) {\n                    // schedule next frame\n                    engine.clock.schedule(loop);\n                }\n                else {\n                    // schedule value milliseconds from now\n                    engine.clock.schedule(loop, value || 0);\n                }\n            }\n            catch (e) {\n                reject(e);\n            }\n        };\n        loop(engine.clock.elapsed()); // run first frame immediately\n    });\n}\n\n;// CONCATENATED MODULE: ./Director/Transition.ts\n\n\n\n\n\n\n\n\n\n/**\n * Base Transition that can be extended to provide custom scene transitions in Excalibur.\n */\nclass Transition extends Entity {\n    /**\n     * Returns a number between [0, 1] indicating what state the transition is in.\n     *\n     * * For 'out' direction transitions start at 0 and end at 1\n     * * For 'in' direction transitions start at 1 and end at 0\n     */\n    get progress() {\n        return this._currentProgress;\n    }\n    get complete() {\n        if (this.direction === 'out') {\n            return this.progress >= 1;\n        }\n        else {\n            return this.progress <= 0;\n        }\n    }\n    constructor(options) {\n        var _a, _b, _c, _d;\n        super();\n        this._logger = Logger.getInstance();\n        this.transform = new TransformComponent();\n        this.graphics = new GraphicsComponent();\n        this._completeFuture = new Future();\n        // State needs to be reset between uses\n        this.started = false;\n        this._currentDistance = 0;\n        this._currentProgress = 0;\n        this.done = this._completeFuture.promise;\n        this.name = `Transition#${this.id}`;\n        this.duration = options.duration;\n        this.easing = (_a = options.easing) !== null && _a !== void 0 ? _a : EasingFunctions.Linear;\n        this.direction = (_b = options.direction) !== null && _b !== void 0 ? _b : 'out';\n        this.hideLoader = (_c = options.hideLoader) !== null && _c !== void 0 ? _c : false;\n        this.blockInput = (_d = options.blockInput) !== null && _d !== void 0 ? _d : false;\n        this.transform.coordPlane = CoordPlane.Screen;\n        this.transform.pos = Vector.Zero;\n        this.transform.z = Infinity; // Transitions sit on top of everything\n        this.graphics.anchor = Vector.Zero;\n        this.addComponent(this.transform);\n        this.addComponent(this.graphics);\n        if (this.direction === 'out') {\n            this._currentProgress = 0;\n        }\n        else {\n            this._currentProgress = 1;\n        }\n    }\n    /**\n     * Overridable lifecycle method, called before each update.\n     *\n     * **WARNING BE SURE** to call `super.updateTransition()` if overriding in your own custom implementation\n     * @param engine\n     * @param delta\n     */\n    updateTransition(engine, delta) {\n        if (this.complete) {\n            return;\n        }\n        this._currentDistance += clamp(delta / this.duration, 0, 1);\n        if (this._currentDistance >= 1) {\n            this._currentDistance = 1;\n        }\n        if (this.direction === 'out') {\n            this._currentProgress = clamp(this.easing(this._currentDistance, 0, 1, 1), 0, 1);\n        }\n        else {\n            this._currentProgress = clamp(this.easing(this._currentDistance, 1, 0, 1), 0, 1);\n        }\n    }\n    /**\n     * Overridable lifecycle method, called right before the previous scene has deactivated.\n     *\n     * This gives incoming transition a chance to grab info from previous scene if desired\n     * @param scene\n     */\n    async onPreviousSceneDeactivate(scene) {\n        // override me\n    }\n    /**\n     * Overridable lifecycle method, called once at the beginning of the transition\n     *\n     * `progress` is given between 0 and 1\n     * @param progress\n     */\n    onStart(progress) {\n        // override me\n    }\n    /**\n     * Overridable lifecycle method, called every frame of the transition\n     *\n     * `progress` is given between 0 and 1\n     * @param progress\n     */\n    onUpdate(progress) {\n        // override me\n    }\n    /**\n     * Overridable lifecycle method, called at the end of the transition,\n     *\n     * `progress` is given between 0 and 1\n     * @param progress\n     */\n    onEnd(progress) {\n        // override me\n    }\n    /**\n     * Overridable lifecycle method, called when the transition is reset\n     *\n     * Use this to override and provide your own reset logic for internal state in custom transition implementations\n     */\n    onReset() {\n        // override me\n    }\n    /**\n     * reset() is called by the engine to reset transitions\n     */\n    reset() {\n        this.started = false;\n        this._completeFuture = new Future();\n        this.done = this._completeFuture.promise;\n        this._currentDistance = 0;\n        if (this.direction === 'out') {\n            this._currentProgress = 0;\n        }\n        else {\n            this._currentProgress = 1;\n        }\n        this.onReset();\n    }\n    play(engine) {\n        if (this.started) {\n            this._logger.warn(`Attempted to play a transition ${this.name} that is already playing`);\n            return Promise.resolve();\n        }\n        engine.add(this);\n        const self = this;\n        return coroutine(engine, function* () {\n            while (!self.complete) {\n                const elapsed = yield; // per frame\n                self.updateTransition(engine, elapsed);\n                self.execute();\n            }\n        });\n    }\n    /**\n     * execute() is called by the engine every frame to update the Transition lifecycle onStart/onUpdate/onEnd\n     */\n    execute() {\n        if (!this.isInitialized) {\n            return;\n        }\n        if (!this.started) {\n            this.started = true;\n            this.onStart(this.progress);\n        }\n        this.onUpdate(this.progress);\n        if (this.complete && !this._completeFuture.isCompleted) {\n            this.onEnd(this.progress);\n            this._completeFuture.resolve();\n        }\n    }\n}\n\n;// CONCATENATED MODULE: ./Director/FadeInOut.ts\n\n\n\n\nclass FadeInOut extends Transition {\n    constructor(options) {\n        var _a, _b;\n        super({\n            ...options,\n            duration: (_a = options.duration) !== null && _a !== void 0 ? _a : 2000\n        });\n        this.name = `FadeInOut#${this.id}`;\n        this.color = (_b = options.color) !== null && _b !== void 0 ? _b : Color.Black;\n    }\n    onInitialize(engine) {\n        const bounds = engine.screen.getWorldBounds();\n        this.transform.pos = vec(bounds.left, bounds.top);\n        this.screenCover = new Rectangle({\n            width: bounds.width,\n            height: bounds.height,\n            color: this.color\n        });\n        this.graphics.add(this.screenCover);\n        this.graphics.opacity = this.progress;\n    }\n    onReset() {\n        this.graphics.opacity = this.progress;\n    }\n    onStart(progress) {\n        this.graphics.opacity = progress;\n    }\n    onEnd(progress) {\n        this.graphics.opacity = progress;\n    }\n    onUpdate(progress) {\n        this.graphics.opacity = progress;\n    }\n}\n\n;// CONCATENATED MODULE: ./Director/CrossFade.ts\n\n\n\n/**\n * CrossFades between the previous scene and the destination scene\n *\n * Note: CrossFade only works as an \"in\" transition\n */\nclass CrossFade extends Transition {\n    constructor(options) {\n        super({ direction: 'in', ...options }); // default the correct direction\n        this.name = `CrossFade#${this.id}`;\n    }\n    async onPreviousSceneDeactivate(scene) {\n        this.image = await scene.engine.screenshot(true);\n        // Firefox is particularly slow\n        // needed in case the image isn't ready yet\n        await this.image.decode();\n    }\n    onInitialize(engine) {\n        this.engine = engine;\n        const bounds = engine.screen.getWorldBounds();\n        this.transform.pos = vec(bounds.left, bounds.top);\n        this.screenCover = ImageSource.fromHtmlImageElement(this.image).toSprite();\n        this.graphics.add(this.screenCover);\n        this.transform.scale = vec(1 / engine.screen.pixelRatio, 1 / engine.screen.pixelRatio);\n        this.graphics.opacity = this.progress;\n    }\n    onStart(_progress) {\n        this.graphics.opacity = this.progress;\n    }\n    onReset() {\n        this.graphics.opacity = this.progress;\n    }\n    onEnd(progress) {\n        this.graphics.opacity = progress;\n    }\n    onUpdate(progress) {\n        this.graphics.opacity = progress;\n    }\n}\n\n;// CONCATENATED MODULE: ./Director/index.ts\n\n\n\n\n\n\n\n;// CONCATENATED MODULE: ./Graphics/Line.ts\n\n\n\nclass Line extends Graphic {\n    constructor(options) {\n        super();\n        this.color = Color.Black;\n        this.thickness = 1;\n        const { start, end, color, thickness } = options;\n        this.start = start;\n        this.end = end;\n        this.color = color !== null && color !== void 0 ? color : this.color;\n        this.thickness = thickness !== null && thickness !== void 0 ? thickness : this.thickness;\n        this._localBounds = this._calculateBounds();\n        const { width, height } = this._localBounds;\n        this.width = width;\n        this.height = height;\n    }\n    get localBounds() {\n        return this._localBounds;\n    }\n    _calculateBounds() {\n        const lineNormal = this.end.sub(this.start).normal();\n        const halfThickness = this.thickness / 2;\n        const points = [\n            this.start.add(lineNormal.scale(halfThickness)),\n            this.end.add(lineNormal.scale(halfThickness)),\n            this.end.add(lineNormal.scale(-halfThickness)),\n            this.start.add(lineNormal.scale(-halfThickness))\n        ];\n        return BoundingBox.fromPoints(points);\n    }\n    _drawImage(ctx, _x, _y) {\n        ctx.drawLine(this.start, this.end, this.color, this.thickness);\n    }\n    clone() {\n        return new Line({\n            start: this.start,\n            end: this.end,\n            color: this.color,\n            thickness: this.thickness\n        });\n    }\n}\n\n;// CONCATENATED MODULE: ./Graphics/Polygon.ts\n\n\n\n/**\n * A polygon [[Graphic]] for drawing arbitrary polygons to the [[ExcaliburGraphicsContext]]\n *\n * Polygons default to [[ImageFiltering.Blended]]\n */\nclass Polygon extends Raster {\n    get points() {\n        return this._points;\n    }\n    set points(points) {\n        this._points = points;\n        const min = this.minPoint;\n        this.width = this._points.reduce((max, p) => Math.max(p.x, max), 0) - min.x;\n        this.height = this._points.reduce((max, p) => Math.max(p.y, max), 0) - min.y;\n        this.flagDirty();\n    }\n    get minPoint() {\n        const minX = this._points.reduce((min, p) => Math.min(p.x, min), Infinity);\n        const minY = this._points.reduce((min, p) => Math.min(p.y, min), Infinity);\n        return vec(minX, minY);\n    }\n    constructor(options) {\n        super(options);\n        this.points = options.points;\n        this.filtering = ImageFiltering.Blended;\n        this.rasterize();\n    }\n    clone() {\n        return new Polygon({\n            points: this.points.map((p) => p.clone()),\n            ...this.cloneGraphicOptions(),\n            ...this.cloneRasterOptions()\n        });\n    }\n    execute(ctx) {\n        if (this.points && this.points.length) {\n            ctx.beginPath();\n            // Iterate through the supplied points and construct a 'polygon'\n            const min = this.minPoint.negate();\n            const firstPoint = this.points[0].add(min);\n            ctx.moveTo(firstPoint.x, firstPoint.y);\n            this.points.forEach((point) => {\n                ctx.lineTo(point.x + min.x, point.y + min.y);\n            });\n            ctx.lineTo(firstPoint.x, firstPoint.y);\n            ctx.closePath();\n            if (this.color) {\n                ctx.fill();\n            }\n            if (this.strokeColor) {\n                ctx.stroke();\n            }\n        }\n    }\n}\n\n;// CONCATENATED MODULE: ./Graphics/index.ts\n// Graphics\n\n\n\n\n\n\n\n// Graphics ECS\n\n\n\n\n\n// Raster graphics\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// Post Processor\n\n\n\n\n\n\n// Rendering\n\n\n\n\n\n// Debug\n\n// Util\n\n\n\n;// CONCATENATED MODULE: ./Input/Index.ts\n// This import site is deprecated\n// TODO remove deprecated exports in v0.29.0\n\n\n\n\n\n\n\n\n\n\n\n// Re-export hack to deprecate import site gently\n\n\n;// CONCATENATED MODULE: ./Util/Index.ts\n\n\n\n\n\n\n\n;// CONCATENATED MODULE: ./Util/Decorators.ts\n\n\nconst maxMessages = 5;\nconst obsoleteMessage = {};\nconst resetObsoleteCounter = () => {\n    for (const message in obsoleteMessage) {\n        obsoleteMessage[message] = 0;\n    }\n};\nconst logMessage = (message, options) => {\n    const suppressObsoleteMessages = Flags.isEnabled('suppress-obsolete-message');\n    if (obsoleteMessage[message] < maxMessages && !suppressObsoleteMessages) {\n        Logger.getInstance().warn(message);\n        // tslint:disable-next-line: no-console\n        if (console.trace && options.showStackTrace) {\n            // tslint:disable-next-line: no-console\n            console.trace();\n        }\n    }\n    obsoleteMessage[message]++;\n};\n/**\n * Obsolete decorator for marking Excalibur methods obsolete, you can optionally specify a custom message and/or alternate replacement\n * method do the deprecated one. Inspired by https://github.com/jayphelps/core-decorators.js\n */\nfunction obsolete(options) {\n    options = {\n        message: 'This feature will be removed in future versions of Excalibur.',\n        alternateMethod: null,\n        showStackTrace: false,\n        ...options\n    };\n    return function (target, property, descriptor) {\n        if (descriptor &&\n            !(typeof descriptor.value === 'function' || typeof descriptor.get === 'function' || typeof descriptor.set === 'function')) {\n            throw new SyntaxError('Only classes/functions/getters/setters can be marked as obsolete');\n        }\n        const methodSignature = `${target.name || ''}${target.name && property ? '.' : ''}${property ? property : ''}`;\n        const message = `${methodSignature} is marked obsolete: ${options.message}` +\n            (options.alternateMethod ? ` Use ${options.alternateMethod} instead` : '');\n        if (!obsoleteMessage[message]) {\n            obsoleteMessage[message] = 0;\n        }\n        // If descriptor is null it is a class\n        const method = descriptor ? { ...descriptor } : target;\n        if (!descriptor) {\n            // with es2015 classes we need to change our decoration tactic\n            class DecoratedClass extends method {\n                constructor(...args) {\n                    logMessage(message, options);\n                    super(...args);\n                }\n            }\n            return DecoratedClass;\n        }\n        if (descriptor && descriptor.value) {\n            method.value = function () {\n                logMessage(message, options);\n                return descriptor.value.apply(this, arguments);\n            };\n            return method;\n        }\n        if (descriptor && descriptor.get) {\n            method.get = function () {\n                logMessage(message, options);\n                return descriptor.get.apply(this, arguments);\n            };\n        }\n        if (descriptor && descriptor.set) {\n            method.set = function () {\n                logMessage(message, options);\n                return descriptor.set.apply(this, arguments);\n            };\n        }\n        return method;\n    };\n}\n\n;// CONCATENATED MODULE: ./Util/Semaphore.ts\n\nclass AsyncWaitQueue {\n    constructor() {\n        // Code from StephenCleary https://gist.github.com/StephenCleary/ba50b2da419c03b9cba1d20cb4654d5e\n        this._queue = [];\n    }\n    get length() {\n        return this._queue.length;\n    }\n    enqueue() {\n        const future = new Future();\n        this._queue.push(future);\n        return future.promise;\n    }\n    dequeue(value) {\n        const future = this._queue.shift();\n        future.resolve(value);\n    }\n}\n/**\n * Semaphore allows you to limit the amount of async calls happening between `enter()` and `exit()`\n *\n * This can be useful when limiting the number of http calls, browser api calls, etc either for performance or to work\n * around browser limitations like max Image.decode() calls in chromium being 256.\n */\nclass Semaphore {\n    constructor(_count) {\n        this._count = _count;\n        this._waitQueue = new AsyncWaitQueue();\n    }\n    get count() {\n        return this._count;\n    }\n    get waiting() {\n        return this._waitQueue.length;\n    }\n    // eslint-disable-next-line require-await\n    async enter() {\n        if (this._count !== 0) {\n            this._count--;\n            return Promise.resolve();\n        }\n        return this._waitQueue.enqueue();\n    }\n    exit(count = 1) {\n        if (count === 0) {\n            return;\n        }\n        while (count !== 0 && this._waitQueue.length !== 0) {\n            this._waitQueue.dequeue(null);\n            count--;\n        }\n        this._count += count;\n    }\n}\n\n;// CONCATENATED MODULE: ./index.ts\n/**\n * The current Excalibur version string\n * @description `process.env.__EX_VERSION` gets replaced by Webpack on build\n */\nconst EX_VERSION = \"0.29.0\";\n\npolyfill();\n// This file is used as the bundle entry point and exports everything\n// that will be exposed as the `ex` global variable.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// ex.Events namespace\n\n\n// ex.Input namespace\n// TODO deprecated import site remove in v0.29.0\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// ex.Util namespaces\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// ex.Deprecated\n// import * as deprecated from './Deprecated';\n// export { deprecated as Deprecated };\n// export * from './Deprecated';\n\n})();\n\nvar __webpack_exports__ActionCompleteEvent = __webpack_exports__.y1j;\nvar __webpack_exports__ActionContext = __webpack_exports__.fWn;\nvar __webpack_exports__ActionQueue = __webpack_exports__.Ia8;\nvar __webpack_exports__ActionSequence = __webpack_exports__.rqv;\nvar __webpack_exports__ActionStartEvent = __webpack_exports__.zH6;\nvar __webpack_exports__ActionsComponent = __webpack_exports__.hLI;\nvar __webpack_exports__ActionsSystem = __webpack_exports__.yyv;\nvar __webpack_exports__ActivateEvent = __webpack_exports__.tX5;\nvar __webpack_exports__Actor = __webpack_exports__.vtX;\nvar __webpack_exports__AddedComponent = __webpack_exports__.r7K;\nvar __webpack_exports__AffineMatrix = __webpack_exports__.cE4;\nvar __webpack_exports__Animation = __webpack_exports__.fwF;\nvar __webpack_exports__AnimationDirection = __webpack_exports__.sce;\nvar __webpack_exports__AnimationEvents = __webpack_exports__.AQ6;\nvar __webpack_exports__AnimationStrategy = __webpack_exports__._c7;\nvar __webpack_exports__ArcadeSolver = __webpack_exports__.KUs;\nvar __webpack_exports__AudioContextFactory = __webpack_exports__.Ajp;\nvar __webpack_exports__Axes = __webpack_exports__.dkO;\nvar __webpack_exports__Axis = __webpack_exports__.RDh;\nvar __webpack_exports__BaseAlign = __webpack_exports__._H9;\nvar __webpack_exports__Blink = __webpack_exports__.mxs;\nvar __webpack_exports__BodyComponent = __webpack_exports__.OmD;\nvar __webpack_exports__BoundingBox = __webpack_exports__.kBf;\nvar __webpack_exports__BroadphaseStrategy = __webpack_exports__.C4F;\nvar __webpack_exports__BrowserComponent = __webpack_exports__.NQt;\nvar __webpack_exports__BrowserEvents = __webpack_exports__.JjN;\nvar __webpack_exports__Buttons = __webpack_exports__.EK_;\nvar __webpack_exports__Camera = __webpack_exports__.V1s;\nvar __webpack_exports__CameraEvents = __webpack_exports__.xHm;\nvar __webpack_exports__Canvas = __webpack_exports__.Xz7;\nvar __webpack_exports__Circle = __webpack_exports__.Cdc;\nvar __webpack_exports__CircleCollider = __webpack_exports__.FKn;\nvar __webpack_exports__Clock = __webpack_exports__.SUY;\nvar __webpack_exports__ClosestLine = __webpack_exports__.ab2;\nvar __webpack_exports__ClosestLineJumpTable = __webpack_exports__.GfZ;\nvar __webpack_exports__Collider = __webpack_exports__.YMS;\nvar __webpack_exports__ColliderComponent = __webpack_exports__.oyv;\nvar __webpack_exports__CollisionContact = __webpack_exports__.aUb;\nvar __webpack_exports__CollisionEndEvent = __webpack_exports__.SdD;\nvar __webpack_exports__CollisionGroup = __webpack_exports__.JUv;\nvar __webpack_exports__CollisionGroupManager = __webpack_exports__.jEj;\nvar __webpack_exports__CollisionJumpTable = __webpack_exports__.TFq;\nvar __webpack_exports__CollisionPostSolveEvent = __webpack_exports__.HDU;\nvar __webpack_exports__CollisionPreSolveEvent = __webpack_exports__.R_y;\nvar __webpack_exports__CollisionStartEvent = __webpack_exports__.t50;\nvar __webpack_exports__CollisionSystem = __webpack_exports__.s$$;\nvar __webpack_exports__CollisionType = __webpack_exports__.v2G;\nvar __webpack_exports__Color = __webpack_exports__.Ilk;\nvar __webpack_exports__ColorBlindFlags = __webpack_exports__.s9i;\nvar __webpack_exports__ColorBlindnessMode = __webpack_exports__.dxL;\nvar __webpack_exports__ColorBlindnessPostProcessor = __webpack_exports__.LLX;\nvar __webpack_exports__Component = __webpack_exports__.wA2;\nvar __webpack_exports__CompositeCollider = __webpack_exports__.R_p;\nvar __webpack_exports__Configurable = __webpack_exports__.IQ$;\nvar __webpack_exports__ConsoleAppender = __webpack_exports__.I5F;\nvar __webpack_exports__ContactConstraintPoint = __webpack_exports__.X8$;\nvar __webpack_exports__ContactEndEvent = __webpack_exports__.FR6;\nvar __webpack_exports__ContactSolveBias = __webpack_exports__.pTZ;\nvar __webpack_exports__ContactStartEvent = __webpack_exports__.U8o;\nvar __webpack_exports__CoordPlane = __webpack_exports__.kbG;\nvar __webpack_exports__CrossFade = __webpack_exports__.FEv;\nvar __webpack_exports__DeactivateEvent = __webpack_exports__.iS_;\nvar __webpack_exports__Debug = __webpack_exports__.cGG;\nvar __webpack_exports__DebugConfig = __webpack_exports__.ETM;\nvar __webpack_exports__DebugGraphicsComponent = __webpack_exports__.RPN;\nvar __webpack_exports__DebugSystem = __webpack_exports__.skb;\nvar __webpack_exports__DebugText = __webpack_exports__.SLU;\nvar __webpack_exports__DefaultAntialiasOptions = __webpack_exports__.Q3w;\nvar __webpack_exports__DefaultLoader = __webpack_exports__.xK2;\nvar __webpack_exports__DefaultPhysicsConfig = __webpack_exports__.vrO;\nvar __webpack_exports__DefaultPixelArtOptions = __webpack_exports__.EA2;\nvar __webpack_exports__DegreeOfFreedom = __webpack_exports__.RdJ;\nvar __webpack_exports__Delay = __webpack_exports__.cNu;\nvar __webpack_exports__DeprecatedStaticToConfig = __webpack_exports__.wtG;\nvar __webpack_exports__Detector = __webpack_exports__.gU7;\nvar __webpack_exports__Die = __webpack_exports__.LSk;\nvar __webpack_exports__Direction = __webpack_exports__.Nmp;\nvar __webpack_exports__Director = __webpack_exports__.twX;\nvar __webpack_exports__DirectorEvents = __webpack_exports__.UND;\nvar __webpack_exports__DisplayMode = __webpack_exports__.d1Y;\nvar __webpack_exports__DynamicTree = __webpack_exports__.xrL;\nvar __webpack_exports__DynamicTreeCollisionProcessor = __webpack_exports__.sRW;\nvar __webpack_exports__EX_VERSION = __webpack_exports__.cmV;\nvar __webpack_exports__EaseBy = __webpack_exports__.qWz;\nvar __webpack_exports__EaseTo = __webpack_exports__.N0Q;\nvar __webpack_exports__EasingFunctions = __webpack_exports__.q8b;\nvar __webpack_exports__EdgeCollider = __webpack_exports__.ynB;\nvar __webpack_exports__ElasticToActorStrategy = __webpack_exports__.jT9;\nvar __webpack_exports__EmitterType = __webpack_exports__.wAz;\nvar __webpack_exports__Engine = __webpack_exports__.D4V;\nvar __webpack_exports__EngineEvents = __webpack_exports__.NLr;\nvar __webpack_exports__EnterTriggerEvent = __webpack_exports__.N6H;\nvar __webpack_exports__EnterViewPortEvent = __webpack_exports__.W1A;\nvar __webpack_exports__Entity = __webpack_exports__.JHW;\nvar __webpack_exports__EntityEvents = __webpack_exports__.ZZ$;\nvar __webpack_exports__EntityManager = __webpack_exports__.v2K;\nvar __webpack_exports__EventDispatcher = __webpack_exports__.pBf;\nvar __webpack_exports__EventEmitter = __webpack_exports__.vpe;\nvar __webpack_exports__EventTypes = __webpack_exports__.GMl;\nvar __webpack_exports__Events = __webpack_exports__.zW2;\nvar __webpack_exports__ExResponse = __webpack_exports__.B0K;\nvar __webpack_exports__ExcaliburGraphicsContext2DCanvas = __webpack_exports__.Nv7;\nvar __webpack_exports__ExcaliburGraphicsContextWebGL = __webpack_exports__.C_p;\nvar __webpack_exports__ExitTriggerEvent = __webpack_exports__.MUA;\nvar __webpack_exports__ExitViewPortEvent = __webpack_exports__.xqU;\nvar __webpack_exports__Fade = __webpack_exports__.pTp;\nvar __webpack_exports__FadeInOut = __webpack_exports__.trb;\nvar __webpack_exports__Flags = __webpack_exports__.vUK;\nvar __webpack_exports__Follow = __webpack_exports__.j9l;\nvar __webpack_exports__Font = __webpack_exports__.Zxw;\nvar __webpack_exports__FontCache = __webpack_exports__.v51;\nvar __webpack_exports__FontSource = __webpack_exports__.gYv;\nvar __webpack_exports__FontStyle = __webpack_exports__.Hdx;\nvar __webpack_exports__FontUnit = __webpack_exports__.Z$d;\nvar __webpack_exports__FpsSampler = __webpack_exports__.iqV;\nvar __webpack_exports__FrameStats = __webpack_exports__.o$7;\nvar __webpack_exports__Future = __webpack_exports__.olM;\nvar __webpack_exports__GameEvent = __webpack_exports__.Zm$;\nvar __webpack_exports__GameStartEvent = __webpack_exports__.$QH;\nvar __webpack_exports__GameStopEvent = __webpack_exports__.i78;\nvar __webpack_exports__Gamepad = __webpack_exports__.nJg;\nvar __webpack_exports__GamepadAxisEvent = __webpack_exports__.h6u;\nvar __webpack_exports__GamepadButtonEvent = __webpack_exports__.hts;\nvar __webpack_exports__GamepadConnectEvent = __webpack_exports__.j88;\nvar __webpack_exports__GamepadDisconnectEvent = __webpack_exports__.VME;\nvar __webpack_exports__Gamepads = __webpack_exports__.fy2;\nvar __webpack_exports__Gif = __webpack_exports__.nt;\nvar __webpack_exports__GlobalCoordinates = __webpack_exports__.Ukr;\nvar __webpack_exports__Graphic = __webpack_exports__.zsu;\nvar __webpack_exports__GraphicsComponent = __webpack_exports__.oA6;\nvar __webpack_exports__GraphicsGroup = __webpack_exports__.TVh;\nvar __webpack_exports__GraphicsSystem = __webpack_exports__.xxj;\nvar __webpack_exports__HiddenEvent = __webpack_exports__.XdK;\nvar __webpack_exports__HorizontalFirst = __webpack_exports__.fBD;\nvar __webpack_exports__ImageFiltering = __webpack_exports__.Jmb;\nvar __webpack_exports__ImageSource = __webpack_exports__.cXo;\nvar __webpack_exports__InitializeEvent = __webpack_exports__.Dm5;\nvar __webpack_exports__Input = __webpack_exports__.IIB;\nvar __webpack_exports__InputHost = __webpack_exports__.IX$;\nvar __webpack_exports__InputMapper = __webpack_exports__.ebW;\nvar __webpack_exports__Integrator = __webpack_exports__.zI0;\nvar __webpack_exports__IsometricEntityComponent = __webpack_exports__.LYD;\nvar __webpack_exports__IsometricEntitySystem = __webpack_exports__.cEG;\nvar __webpack_exports__IsometricMap = __webpack_exports__.SEl;\nvar __webpack_exports__IsometricTile = __webpack_exports__.t9V;\nvar __webpack_exports__KeyEvent = __webpack_exports__.ez5;\nvar __webpack_exports__Keyboard = __webpack_exports__.N1d;\nvar __webpack_exports__Keys = __webpack_exports__.R8U;\nvar __webpack_exports__KillEvent = __webpack_exports__.SKZ;\nvar __webpack_exports__Label = __webpack_exports__.__J;\nvar __webpack_exports__LimitCameraBoundsStrategy = __webpack_exports__.RI$;\nvar __webpack_exports__Line = __webpack_exports__.x12;\nvar __webpack_exports__LineSegment = __webpack_exports__.ccz;\nvar __webpack_exports__Loader = __webpack_exports__.aNw;\nvar __webpack_exports__LoaderEvents = __webpack_exports__.XrL;\nvar __webpack_exports__LockCameraToActorAxisStrategy = __webpack_exports__.xwn;\nvar __webpack_exports__LockCameraToActorStrategy = __webpack_exports__.dNK;\nvar __webpack_exports__LogLevel = __webpack_exports__.ini;\nvar __webpack_exports__Logger = __webpack_exports__.YdH;\nvar __webpack_exports__Material = __webpack_exports__.F5T;\nvar __webpack_exports__Matrix = __webpack_exports__.y3G;\nvar __webpack_exports__MatrixLocations = __webpack_exports__.l57;\nvar __webpack_exports__MediaEvent = __webpack_exports__.xn0;\nvar __webpack_exports__Meet = __webpack_exports__.t2V;\nvar __webpack_exports__MotionComponent = __webpack_exports__.uxB;\nvar __webpack_exports__MotionSystem = __webpack_exports__.cpd;\nvar __webpack_exports__MoveBy = __webpack_exports__.fiy;\nvar __webpack_exports__MoveTo = __webpack_exports__.$XZ;\nvar __webpack_exports__NativePointerButton = __webpack_exports__.UG6;\nvar __webpack_exports__NativeSoundEvent = __webpack_exports__.uqK;\nvar __webpack_exports__NativeSoundProcessedEvent = __webpack_exports__.STE;\nvar __webpack_exports__None = __webpack_exports__.Hq9;\nvar __webpack_exports__Observable = __webpack_exports__.y$z;\nvar __webpack_exports__OffscreenSystem = __webpack_exports__.mAD;\nvar __webpack_exports__Pair = __webpack_exports__.sOq;\nvar __webpack_exports__ParallaxComponent = __webpack_exports__.hUw;\nvar __webpack_exports__ParallelActions = __webpack_exports__._0G;\nvar __webpack_exports__ParseGif = __webpack_exports__.Sqs;\nvar __webpack_exports__Particle = __webpack_exports__.hpZ;\nvar __webpack_exports__ParticleEmitter = __webpack_exports__.Vol;\nvar __webpack_exports__ParticleTransform = __webpack_exports__.vYX;\nvar __webpack_exports__Physics = __webpack_exports__.wIZ;\nvar __webpack_exports__PhysicsStats = __webpack_exports__.cBi;\nvar __webpack_exports__PhysicsWorld = __webpack_exports__.c30;\nvar __webpack_exports__PointerAbstraction = __webpack_exports__.PGK;\nvar __webpack_exports__PointerButton = __webpack_exports__.MPV;\nvar __webpack_exports__PointerComponent = __webpack_exports__.RFv;\nvar __webpack_exports__PointerEvent = __webpack_exports__.Ux6;\nvar __webpack_exports__PointerEventReceiver = __webpack_exports__.rxy;\nvar __webpack_exports__PointerScope = __webpack_exports__.I$c;\nvar __webpack_exports__PointerSystem = __webpack_exports__.kfC;\nvar __webpack_exports__PointerType = __webpack_exports__.VjY;\nvar __webpack_exports__Polygon = __webpack_exports__.mgq;\nvar __webpack_exports__PolygonCollider = __webpack_exports__.YVA;\nvar __webpack_exports__Pool = __webpack_exports__.Kgp;\nvar __webpack_exports__PostCollisionEvent = __webpack_exports__.HH$;\nvar __webpack_exports__PostDebugDrawEvent = __webpack_exports__.M_d;\nvar __webpack_exports__PostDrawEvent = __webpack_exports__.rgh;\nvar __webpack_exports__PostFrameEvent = __webpack_exports__.Ra6;\nvar __webpack_exports__PostKillEvent = __webpack_exports__.KhR;\nvar __webpack_exports__PostTransformDrawEvent = __webpack_exports__.gvQ;\nvar __webpack_exports__PostUpdateEvent = __webpack_exports__.BS5;\nvar __webpack_exports__PreCollisionEvent = __webpack_exports__.xhz;\nvar __webpack_exports__PreDebugDrawEvent = __webpack_exports__.xOq;\nvar __webpack_exports__PreDrawEvent = __webpack_exports__.a9j;\nvar __webpack_exports__PreFrameEvent = __webpack_exports__.bHk;\nvar __webpack_exports__PreKillEvent = __webpack_exports__.CgK;\nvar __webpack_exports__PreLoadEvent = __webpack_exports__.A0M;\nvar __webpack_exports__PreTransformDrawEvent = __webpack_exports__.cEd;\nvar __webpack_exports__PreUpdateEvent = __webpack_exports__.cuY;\nvar __webpack_exports__Projection = __webpack_exports__.kvE;\nvar __webpack_exports__QuadIndexBuffer = __webpack_exports__.SBu;\nvar __webpack_exports__QuadTree = __webpack_exports__.PsT;\nvar __webpack_exports__Query = __webpack_exports__.AE_;\nvar __webpack_exports__QueryManager = __webpack_exports__.ctO;\nvar __webpack_exports__RadiusAroundActorStrategy = __webpack_exports__.OLH;\nvar __webpack_exports__Random = __webpack_exports__.kky;\nvar __webpack_exports__Raster = __webpack_exports__.nSF;\nvar __webpack_exports__Ray = __webpack_exports__.zHn;\nvar __webpack_exports__RealisticSolver = __webpack_exports__.zwx;\nvar __webpack_exports__Rectangle = __webpack_exports__.AeJ;\nvar __webpack_exports__RemovedComponent = __webpack_exports__.hLz;\nvar __webpack_exports__Repeat = __webpack_exports__.wA;\nvar __webpack_exports__RepeatForever = __webpack_exports__.jhr;\nvar __webpack_exports__Resolution = __webpack_exports__.GVs;\nvar __webpack_exports__Resource = __webpack_exports__._zO;\nvar __webpack_exports__ResourceEvents = __webpack_exports__.LXZ;\nvar __webpack_exports__RotateBy = __webpack_exports__.w6$;\nvar __webpack_exports__RotateTo = __webpack_exports__.mhV;\nvar __webpack_exports__RotationType = __webpack_exports__.MOD;\nvar __webpack_exports__ScaleBy = __webpack_exports__.kwd;\nvar __webpack_exports__ScaleTo = __webpack_exports__.Lmr;\nvar __webpack_exports__Scene = __webpack_exports__.xsS;\nvar __webpack_exports__SceneEvents = __webpack_exports__.K5l;\nvar __webpack_exports__Screen = __webpack_exports__.lLr;\nvar __webpack_exports__ScreenAppender = __webpack_exports__.Z$r;\nvar __webpack_exports__ScreenElement = __webpack_exports__.IXb;\nvar __webpack_exports__ScreenEvents = __webpack_exports__.Xsu;\nvar __webpack_exports__ScreenShader = __webpack_exports__.SGH;\nvar __webpack_exports__ScrollPreventionMode = __webpack_exports__.SMj;\nvar __webpack_exports__Semaphore = __webpack_exports__.L34;\nvar __webpack_exports__Shader = __webpack_exports__.exe;\nvar __webpack_exports__Shape = __webpack_exports__.bnF;\nvar __webpack_exports__Side = __webpack_exports__.MFA;\nvar __webpack_exports__SolverStrategy = __webpack_exports__.kPj;\nvar __webpack_exports__Sound = __webpack_exports__.$uU;\nvar __webpack_exports__SoundEvents = __webpack_exports__.Sap;\nvar __webpack_exports__Sprite = __webpack_exports__.jyi;\nvar __webpack_exports__SpriteFont = __webpack_exports__.E03;\nvar __webpack_exports__SpriteSheet = __webpack_exports__.V6q;\nvar __webpack_exports__StandardClock = __webpack_exports__.rg2;\nvar __webpack_exports__StateMachine = __webpack_exports__.DVW;\nvar __webpack_exports__StrategyContainer = __webpack_exports__.nVo;\nvar __webpack_exports__Stream = __webpack_exports__.F6N;\nvar __webpack_exports__System = __webpack_exports__.xP7;\nvar __webpack_exports__SystemManager = __webpack_exports__.Odq;\nvar __webpack_exports__SystemPriority = __webpack_exports__.uY9;\nvar __webpack_exports__SystemType = __webpack_exports__.Zif;\nvar __webpack_exports__TagQuery = __webpack_exports__.c_d;\nvar __webpack_exports__TestClock = __webpack_exports__.MJk;\nvar __webpack_exports__Text = __webpack_exports__.xvT;\nvar __webpack_exports__TextAlign = __webpack_exports__.PHM;\nvar __webpack_exports__TextureLoader = __webpack_exports__.dpR;\nvar __webpack_exports__Tile = __webpack_exports__.n9L;\nvar __webpack_exports__TileMap = __webpack_exports__.KwO;\nvar __webpack_exports__TileMapEvents = __webpack_exports__.SxM;\nvar __webpack_exports__Timer = __webpack_exports__.B7y;\nvar __webpack_exports__Toaster = __webpack_exports__.x7r;\nvar __webpack_exports__Transform = __webpack_exports__.wx7;\nvar __webpack_exports__TransformComponent = __webpack_exports__.Uvn;\nvar __webpack_exports__Transition = __webpack_exports__.uTP;\nvar __webpack_exports__TreeNode = __webpack_exports__.OFT;\nvar __webpack_exports__Trigger = __webpack_exports__.xzN;\nvar __webpack_exports__TriggerEvents = __webpack_exports__.CcZ;\nvar __webpack_exports__TwoPI = __webpack_exports__.M5Z;\nvar __webpack_exports__Util = __webpack_exports__.ZrN;\nvar __webpack_exports__Vector = __webpack_exports__.OWs;\nvar __webpack_exports__VectorView = __webpack_exports__.dF9;\nvar __webpack_exports__VertexBuffer = __webpack_exports__.oZy;\nvar __webpack_exports__VertexLayout = __webpack_exports__.rD2;\nvar __webpack_exports__VerticalFirst = __webpack_exports__.KmN;\nvar __webpack_exports__VisibleEvent = __webpack_exports__.VHo;\nvar __webpack_exports__WebAudio = __webpack_exports__.ohE;\nvar __webpack_exports__WebAudioInstance = __webpack_exports__.R$E;\nvar __webpack_exports__WheelDeltaMode = __webpack_exports__.xQN;\nvar __webpack_exports__WheelEvent = __webpack_exports__.AdJ;\nvar __webpack_exports__World = __webpack_exports__.q3I;\nvar __webpack_exports__canonicalizeAngle = __webpack_exports__.Pab;\nvar __webpack_exports__clamp = __webpack_exports__.uZ5;\nvar __webpack_exports__coroutine = __webpack_exports__.TAE;\nvar __webpack_exports__createId = __webpack_exports__.McK;\nvar __webpack_exports__frac = __webpack_exports__.F9c;\nvar __webpack_exports__hasGraphicsTick = __webpack_exports__.k0b;\nvar __webpack_exports__hasOnInitialize = __webpack_exports__.hnT;\nvar __webpack_exports__hasOnPostUpdate = __webpack_exports__.RSJ;\nvar __webpack_exports__hasOnPreUpdate = __webpack_exports__.Mku;\nvar __webpack_exports__hasPostDraw = __webpack_exports__.h90;\nvar __webpack_exports__hasPreDraw = __webpack_exports__.rms;\nvar __webpack_exports__has_initialize = __webpack_exports__.ErP;\nvar __webpack_exports__has_postupdate = __webpack_exports__.aVg;\nvar __webpack_exports__has_preupdate = __webpack_exports__.lPc;\nvar __webpack_exports__isAddedComponent = __webpack_exports__.Z8E;\nvar __webpack_exports__isComponentCtor = __webpack_exports__.k15;\nvar __webpack_exports__isLoaderConstructor = __webpack_exports__.YsU;\nvar __webpack_exports__isRemovedComponent = __webpack_exports__.lNv;\nvar __webpack_exports__isSceneConstructor = __webpack_exports__.Xyg;\nvar __webpack_exports__isScreenElement = __webpack_exports__.cu9;\nvar __webpack_exports__isSystemConstructor = __webpack_exports__.p88;\nvar __webpack_exports__maxMessages = __webpack_exports__.MZQ;\nvar __webpack_exports__obsolete = __webpack_exports__.FUM;\nvar __webpack_exports__pixelSnapEpsilon = __webpack_exports__.BxR;\nvar __webpack_exports__randomInRange = __webpack_exports__.vdf;\nvar __webpack_exports__randomIntInRange = __webpack_exports__.iaL;\nvar __webpack_exports__range = __webpack_exports__.w6H;\nvar __webpack_exports__resetObsoleteCounter = __webpack_exports__.Q4c;\nvar __webpack_exports__sign = __webpack_exports__.Xxe;\nvar __webpack_exports__toDegrees = __webpack_exports__.Uxb;\nvar __webpack_exports__toRadians = __webpack_exports__.Yr5;\nvar __webpack_exports__vec = __webpack_exports__.Bhw;\nvar __webpack_exports__webgl = __webpack_exports__.yOA;\nexport { __webpack_exports__ActionCompleteEvent as ActionCompleteEvent, __webpack_exports__ActionContext as ActionContext, __webpack_exports__ActionQueue as ActionQueue, __webpack_exports__ActionSequence as ActionSequence, __webpack_exports__ActionStartEvent as ActionStartEvent, __webpack_exports__ActionsComponent as ActionsComponent, __webpack_exports__ActionsSystem as ActionsSystem, __webpack_exports__ActivateEvent as ActivateEvent, __webpack_exports__Actor as Actor, __webpack_exports__AddedComponent as AddedComponent, __webpack_exports__AffineMatrix as AffineMatrix, __webpack_exports__Animation as Animation, __webpack_exports__AnimationDirection as AnimationDirection, __webpack_exports__AnimationEvents as AnimationEvents, __webpack_exports__AnimationStrategy as AnimationStrategy, __webpack_exports__ArcadeSolver as ArcadeSolver, __webpack_exports__AudioContextFactory as AudioContextFactory, __webpack_exports__Axes as Axes, __webpack_exports__Axis as Axis, __webpack_exports__BaseAlign as BaseAlign, __webpack_exports__Blink as Blink, __webpack_exports__BodyComponent as BodyComponent, __webpack_exports__BoundingBox as BoundingBox, __webpack_exports__BroadphaseStrategy as BroadphaseStrategy, __webpack_exports__BrowserComponent as BrowserComponent, __webpack_exports__BrowserEvents as BrowserEvents, __webpack_exports__Buttons as Buttons, __webpack_exports__Camera as Camera, __webpack_exports__CameraEvents as CameraEvents, __webpack_exports__Canvas as Canvas, __webpack_exports__Circle as Circle, __webpack_exports__CircleCollider as CircleCollider, __webpack_exports__Clock as Clock, __webpack_exports__ClosestLine as ClosestLine, __webpack_exports__ClosestLineJumpTable as ClosestLineJumpTable, __webpack_exports__Collider as Collider, __webpack_exports__ColliderComponent as ColliderComponent, __webpack_exports__CollisionContact as CollisionContact, __webpack_exports__CollisionEndEvent as CollisionEndEvent, __webpack_exports__CollisionGroup as CollisionGroup, __webpack_exports__CollisionGroupManager as CollisionGroupManager, __webpack_exports__CollisionJumpTable as CollisionJumpTable, __webpack_exports__CollisionPostSolveEvent as CollisionPostSolveEvent, __webpack_exports__CollisionPreSolveEvent as CollisionPreSolveEvent, __webpack_exports__CollisionStartEvent as CollisionStartEvent, __webpack_exports__CollisionSystem as CollisionSystem, __webpack_exports__CollisionType as CollisionType, __webpack_exports__Color as Color, __webpack_exports__ColorBlindFlags as ColorBlindFlags, __webpack_exports__ColorBlindnessMode as ColorBlindnessMode, __webpack_exports__ColorBlindnessPostProcessor as ColorBlindnessPostProcessor, __webpack_exports__Component as Component, __webpack_exports__CompositeCollider as CompositeCollider, __webpack_exports__Configurable as Configurable, __webpack_exports__ConsoleAppender as ConsoleAppender, __webpack_exports__ContactConstraintPoint as ContactConstraintPoint, __webpack_exports__ContactEndEvent as ContactEndEvent, __webpack_exports__ContactSolveBias as ContactSolveBias, __webpack_exports__ContactStartEvent as ContactStartEvent, __webpack_exports__CoordPlane as CoordPlane, __webpack_exports__CrossFade as CrossFade, __webpack_exports__DeactivateEvent as DeactivateEvent, __webpack_exports__Debug as Debug, __webpack_exports__DebugConfig as DebugConfig, __webpack_exports__DebugGraphicsComponent as DebugGraphicsComponent, __webpack_exports__DebugSystem as DebugSystem, __webpack_exports__DebugText as DebugText, __webpack_exports__DefaultAntialiasOptions as DefaultAntialiasOptions, __webpack_exports__DefaultLoader as DefaultLoader, __webpack_exports__DefaultPhysicsConfig as DefaultPhysicsConfig, __webpack_exports__DefaultPixelArtOptions as DefaultPixelArtOptions, __webpack_exports__DegreeOfFreedom as DegreeOfFreedom, __webpack_exports__Delay as Delay, __webpack_exports__DeprecatedStaticToConfig as DeprecatedStaticToConfig, __webpack_exports__Detector as Detector, __webpack_exports__Die as Die, __webpack_exports__Direction as Direction, __webpack_exports__Director as Director, __webpack_exports__DirectorEvents as DirectorEvents, __webpack_exports__DisplayMode as DisplayMode, __webpack_exports__DynamicTree as DynamicTree, __webpack_exports__DynamicTreeCollisionProcessor as DynamicTreeCollisionProcessor, __webpack_exports__EX_VERSION as EX_VERSION, __webpack_exports__EaseBy as EaseBy, __webpack_exports__EaseTo as EaseTo, __webpack_exports__EasingFunctions as EasingFunctions, __webpack_exports__EdgeCollider as EdgeCollider, __webpack_exports__ElasticToActorStrategy as ElasticToActorStrategy, __webpack_exports__EmitterType as EmitterType, __webpack_exports__Engine as Engine, __webpack_exports__EngineEvents as EngineEvents, __webpack_exports__EnterTriggerEvent as EnterTriggerEvent, __webpack_exports__EnterViewPortEvent as EnterViewPortEvent, __webpack_exports__Entity as Entity, __webpack_exports__EntityEvents as EntityEvents, __webpack_exports__EntityManager as EntityManager, __webpack_exports__EventDispatcher as EventDispatcher, __webpack_exports__EventEmitter as EventEmitter, __webpack_exports__EventTypes as EventTypes, __webpack_exports__Events as Events, __webpack_exports__ExResponse as ExResponse, __webpack_exports__ExcaliburGraphicsContext2DCanvas as ExcaliburGraphicsContext2DCanvas, __webpack_exports__ExcaliburGraphicsContextWebGL as ExcaliburGraphicsContextWebGL, __webpack_exports__ExitTriggerEvent as ExitTriggerEvent, __webpack_exports__ExitViewPortEvent as ExitViewPortEvent, __webpack_exports__Fade as Fade, __webpack_exports__FadeInOut as FadeInOut, __webpack_exports__Flags as Flags, __webpack_exports__Follow as Follow, __webpack_exports__Font as Font, __webpack_exports__FontCache as FontCache, __webpack_exports__FontSource as FontSource, __webpack_exports__FontStyle as FontStyle, __webpack_exports__FontUnit as FontUnit, __webpack_exports__FpsSampler as FpsSampler, __webpack_exports__FrameStats as FrameStats, __webpack_exports__Future as Future, __webpack_exports__GameEvent as GameEvent, __webpack_exports__GameStartEvent as GameStartEvent, __webpack_exports__GameStopEvent as GameStopEvent, __webpack_exports__Gamepad as Gamepad, __webpack_exports__GamepadAxisEvent as GamepadAxisEvent, __webpack_exports__GamepadButtonEvent as GamepadButtonEvent, __webpack_exports__GamepadConnectEvent as GamepadConnectEvent, __webpack_exports__GamepadDisconnectEvent as GamepadDisconnectEvent, __webpack_exports__Gamepads as Gamepads, __webpack_exports__Gif as Gif, __webpack_exports__GlobalCoordinates as GlobalCoordinates, __webpack_exports__Graphic as Graphic, __webpack_exports__GraphicsComponent as GraphicsComponent, __webpack_exports__GraphicsGroup as GraphicsGroup, __webpack_exports__GraphicsSystem as GraphicsSystem, __webpack_exports__HiddenEvent as HiddenEvent, __webpack_exports__HorizontalFirst as HorizontalFirst, __webpack_exports__ImageFiltering as ImageFiltering, __webpack_exports__ImageSource as ImageSource, __webpack_exports__InitializeEvent as InitializeEvent, __webpack_exports__Input as Input, __webpack_exports__InputHost as InputHost, __webpack_exports__InputMapper as InputMapper, __webpack_exports__Integrator as Integrator, __webpack_exports__IsometricEntityComponent as IsometricEntityComponent, __webpack_exports__IsometricEntitySystem as IsometricEntitySystem, __webpack_exports__IsometricMap as IsometricMap, __webpack_exports__IsometricTile as IsometricTile, __webpack_exports__KeyEvent as KeyEvent, __webpack_exports__Keyboard as Keyboard, __webpack_exports__Keys as Keys, __webpack_exports__KillEvent as KillEvent, __webpack_exports__Label as Label, __webpack_exports__LimitCameraBoundsStrategy as LimitCameraBoundsStrategy, __webpack_exports__Line as Line, __webpack_exports__LineSegment as LineSegment, __webpack_exports__Loader as Loader, __webpack_exports__LoaderEvents as LoaderEvents, __webpack_exports__LockCameraToActorAxisStrategy as LockCameraToActorAxisStrategy, __webpack_exports__LockCameraToActorStrategy as LockCameraToActorStrategy, __webpack_exports__LogLevel as LogLevel, __webpack_exports__Logger as Logger, __webpack_exports__Material as Material, __webpack_exports__Matrix as Matrix, __webpack_exports__MatrixLocations as MatrixLocations, __webpack_exports__MediaEvent as MediaEvent, __webpack_exports__Meet as Meet, __webpack_exports__MotionComponent as MotionComponent, __webpack_exports__MotionSystem as MotionSystem, __webpack_exports__MoveBy as MoveBy, __webpack_exports__MoveTo as MoveTo, __webpack_exports__NativePointerButton as NativePointerButton, __webpack_exports__NativeSoundEvent as NativeSoundEvent, __webpack_exports__NativeSoundProcessedEvent as NativeSoundProcessedEvent, __webpack_exports__None as None, __webpack_exports__Observable as Observable, __webpack_exports__OffscreenSystem as OffscreenSystem, __webpack_exports__Pair as Pair, __webpack_exports__ParallaxComponent as ParallaxComponent, __webpack_exports__ParallelActions as ParallelActions, __webpack_exports__ParseGif as ParseGif, __webpack_exports__Particle as Particle, __webpack_exports__ParticleEmitter as ParticleEmitter, __webpack_exports__ParticleTransform as ParticleTransform, __webpack_exports__Physics as Physics, __webpack_exports__PhysicsStats as PhysicsStats, __webpack_exports__PhysicsWorld as PhysicsWorld, __webpack_exports__PointerAbstraction as PointerAbstraction, __webpack_exports__PointerButton as PointerButton, __webpack_exports__PointerComponent as PointerComponent, __webpack_exports__PointerEvent as PointerEvent, __webpack_exports__PointerEventReceiver as PointerEventReceiver, __webpack_exports__PointerScope as PointerScope, __webpack_exports__PointerSystem as PointerSystem, __webpack_exports__PointerType as PointerType, __webpack_exports__Polygon as Polygon, __webpack_exports__PolygonCollider as PolygonCollider, __webpack_exports__Pool as Pool, __webpack_exports__PostCollisionEvent as PostCollisionEvent, __webpack_exports__PostDebugDrawEvent as PostDebugDrawEvent, __webpack_exports__PostDrawEvent as PostDrawEvent, __webpack_exports__PostFrameEvent as PostFrameEvent, __webpack_exports__PostKillEvent as PostKillEvent, __webpack_exports__PostTransformDrawEvent as PostTransformDrawEvent, __webpack_exports__PostUpdateEvent as PostUpdateEvent, __webpack_exports__PreCollisionEvent as PreCollisionEvent, __webpack_exports__PreDebugDrawEvent as PreDebugDrawEvent, __webpack_exports__PreDrawEvent as PreDrawEvent, __webpack_exports__PreFrameEvent as PreFrameEvent, __webpack_exports__PreKillEvent as PreKillEvent, __webpack_exports__PreLoadEvent as PreLoadEvent, __webpack_exports__PreTransformDrawEvent as PreTransformDrawEvent, __webpack_exports__PreUpdateEvent as PreUpdateEvent, __webpack_exports__Projection as Projection, __webpack_exports__QuadIndexBuffer as QuadIndexBuffer, __webpack_exports__QuadTree as QuadTree, __webpack_exports__Query as Query, __webpack_exports__QueryManager as QueryManager, __webpack_exports__RadiusAroundActorStrategy as RadiusAroundActorStrategy, __webpack_exports__Random as Random, __webpack_exports__Raster as Raster, __webpack_exports__Ray as Ray, __webpack_exports__RealisticSolver as RealisticSolver, __webpack_exports__Rectangle as Rectangle, __webpack_exports__RemovedComponent as RemovedComponent, __webpack_exports__Repeat as Repeat, __webpack_exports__RepeatForever as RepeatForever, __webpack_exports__Resolution as Resolution, __webpack_exports__Resource as Resource, __webpack_exports__ResourceEvents as ResourceEvents, __webpack_exports__RotateBy as RotateBy, __webpack_exports__RotateTo as RotateTo, __webpack_exports__RotationType as RotationType, __webpack_exports__ScaleBy as ScaleBy, __webpack_exports__ScaleTo as ScaleTo, __webpack_exports__Scene as Scene, __webpack_exports__SceneEvents as SceneEvents, __webpack_exports__Screen as Screen, __webpack_exports__ScreenAppender as ScreenAppender, __webpack_exports__ScreenElement as ScreenElement, __webpack_exports__ScreenEvents as ScreenEvents, __webpack_exports__ScreenShader as ScreenShader, __webpack_exports__ScrollPreventionMode as ScrollPreventionMode, __webpack_exports__Semaphore as Semaphore, __webpack_exports__Shader as Shader, __webpack_exports__Shape as Shape, __webpack_exports__Side as Side, __webpack_exports__SolverStrategy as SolverStrategy, __webpack_exports__Sound as Sound, __webpack_exports__SoundEvents as SoundEvents, __webpack_exports__Sprite as Sprite, __webpack_exports__SpriteFont as SpriteFont, __webpack_exports__SpriteSheet as SpriteSheet, __webpack_exports__StandardClock as StandardClock, __webpack_exports__StateMachine as StateMachine, __webpack_exports__StrategyContainer as StrategyContainer, __webpack_exports__Stream as Stream, __webpack_exports__System as System, __webpack_exports__SystemManager as SystemManager, __webpack_exports__SystemPriority as SystemPriority, __webpack_exports__SystemType as SystemType, __webpack_exports__TagQuery as TagQuery, __webpack_exports__TestClock as TestClock, __webpack_exports__Text as Text, __webpack_exports__TextAlign as TextAlign, __webpack_exports__TextureLoader as TextureLoader, __webpack_exports__Tile as Tile, __webpack_exports__TileMap as TileMap, __webpack_exports__TileMapEvents as TileMapEvents, __webpack_exports__Timer as Timer, __webpack_exports__Toaster as Toaster, __webpack_exports__Transform as Transform, __webpack_exports__TransformComponent as TransformComponent, __webpack_exports__Transition as Transition, __webpack_exports__TreeNode as TreeNode, __webpack_exports__Trigger as Trigger, __webpack_exports__TriggerEvents as TriggerEvents, __webpack_exports__TwoPI as TwoPI, __webpack_exports__Util as Util, __webpack_exports__Vector as Vector, __webpack_exports__VectorView as VectorView, __webpack_exports__VertexBuffer as VertexBuffer, __webpack_exports__VertexLayout as VertexLayout, __webpack_exports__VerticalFirst as VerticalFirst, __webpack_exports__VisibleEvent as VisibleEvent, __webpack_exports__WebAudio as WebAudio, __webpack_exports__WebAudioInstance as WebAudioInstance, __webpack_exports__WheelDeltaMode as WheelDeltaMode, __webpack_exports__WheelEvent as WheelEvent, __webpack_exports__World as World, __webpack_exports__canonicalizeAngle as canonicalizeAngle, __webpack_exports__clamp as clamp, __webpack_exports__coroutine as coroutine, __webpack_exports__createId as createId, __webpack_exports__frac as frac, __webpack_exports__hasGraphicsTick as hasGraphicsTick, __webpack_exports__hasOnInitialize as hasOnInitialize, __webpack_exports__hasOnPostUpdate as hasOnPostUpdate, __webpack_exports__hasOnPreUpdate as hasOnPreUpdate, __webpack_exports__hasPostDraw as hasPostDraw, __webpack_exports__hasPreDraw as hasPreDraw, __webpack_exports__has_initialize as has_initialize, __webpack_exports__has_postupdate as has_postupdate, __webpack_exports__has_preupdate as has_preupdate, __webpack_exports__isAddedComponent as isAddedComponent, __webpack_exports__isComponentCtor as isComponentCtor, __webpack_exports__isLoaderConstructor as isLoaderConstructor, __webpack_exports__isRemovedComponent as isRemovedComponent, __webpack_exports__isSceneConstructor as isSceneConstructor, __webpack_exports__isScreenElement as isScreenElement, __webpack_exports__isSystemConstructor as isSystemConstructor, __webpack_exports__maxMessages as maxMessages, __webpack_exports__obsolete as obsolete, __webpack_exports__pixelSnapEpsilon as pixelSnapEpsilon, __webpack_exports__randomInRange as randomInRange, __webpack_exports__randomIntInRange as randomIntInRange, __webpack_exports__range as range, __webpack_exports__resetObsoleteCounter as resetObsoleteCounter, __webpack_exports__sign as sign, __webpack_exports__toDegrees as toDegrees, __webpack_exports__toRadians as toRadians, __webpack_exports__vec as vec, __webpack_exports__webgl as webgl };\n\n//# sourceMappingURL=excalibur.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Config = void 0;\nexports.Config = {\n    PlayerSpeed: 16 * 2, // pixels/sec\n    PlayerFrameSpeed: 200, // ms\n};\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst ex = __importStar(require(\"excalibur\"));\nconst resources_1 = require(\"./resources\");\nconst game = new ex.Engine({\n    width: 800,\n    height: 600,\n    canvasElementId: 'game',\n    pixelArt: true,\n    pixelRatio: 2\n});\ngame.start(resources_1.loader).then(() => {\n    resources_1.Resources.TiledMap.addToScene(game.currentScene);\n});\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Player = void 0;\nconst ex = __importStar(require(\"excalibur\"));\nconst resources_1 = require(\"./resources\");\nconst config_1 = require(\"./config\");\nclass Player extends ex.Actor {\n    constructor(pos) {\n        super({\n            pos,\n            width: 16,\n            height: 16,\n            collisionType: ex.CollisionType.Active\n        });\n    }\n    onInitialize(engine) {\n        const playerSpriteSheet = ex.SpriteSheet.fromImageSource({\n            image: resources_1.Resources.HeroSpriteSheetPng,\n            grid: {\n                spriteWidth: 16,\n                spriteHeight: 16,\n                rows: 8,\n                columns: 8\n            }\n        });\n        const leftIdle = new ex.Animation({\n            frames: [\n                { graphic: playerSpriteSheet.getSprite(0, 1), duration: config_1.Config.PlayerFrameSpeed },\n                { graphic: playerSpriteSheet.getSprite(1, 1), duration: config_1.Config.PlayerFrameSpeed },\n                { graphic: playerSpriteSheet.getSprite(2, 1), duration: config_1.Config.PlayerFrameSpeed },\n                { graphic: playerSpriteSheet.getSprite(3, 1), duration: config_1.Config.PlayerFrameSpeed },\n            ]\n        });\n        this.graphics.add('left-idle', leftIdle);\n        const rightIdle = new ex.Animation({\n            frames: [\n                { graphic: playerSpriteSheet.getSprite(0, 2), duration: config_1.Config.PlayerFrameSpeed },\n                { graphic: playerSpriteSheet.getSprite(1, 2), duration: config_1.Config.PlayerFrameSpeed },\n                { graphic: playerSpriteSheet.getSprite(2, 2), duration: config_1.Config.PlayerFrameSpeed },\n                { graphic: playerSpriteSheet.getSprite(3, 2), duration: config_1.Config.PlayerFrameSpeed },\n            ]\n        });\n        this.graphics.add('right-idle', rightIdle);\n        const upIdle = new ex.Animation({\n            frames: [\n                { graphic: playerSpriteSheet.getSprite(0, 3), duration: config_1.Config.PlayerFrameSpeed },\n                { graphic: playerSpriteSheet.getSprite(1, 3), duration: config_1.Config.PlayerFrameSpeed },\n                { graphic: playerSpriteSheet.getSprite(2, 3), duration: config_1.Config.PlayerFrameSpeed },\n                { graphic: playerSpriteSheet.getSprite(3, 3), duration: config_1.Config.PlayerFrameSpeed },\n            ]\n        });\n        this.graphics.add('up-idle', upIdle);\n        const downIdle = new ex.Animation({\n            frames: [\n                { graphic: playerSpriteSheet.getSprite(0, 0), duration: config_1.Config.PlayerFrameSpeed },\n                { graphic: playerSpriteSheet.getSprite(1, 0), duration: config_1.Config.PlayerFrameSpeed },\n                { graphic: playerSpriteSheet.getSprite(2, 0), duration: config_1.Config.PlayerFrameSpeed },\n                { graphic: playerSpriteSheet.getSprite(3, 0), duration: config_1.Config.PlayerFrameSpeed },\n            ]\n        });\n        this.graphics.add('down-idle', downIdle);\n        const leftWalk = new ex.Animation({\n            frames: [\n                { graphic: playerSpriteSheet.getSprite(0, 5), duration: config_1.Config.PlayerFrameSpeed },\n                { graphic: playerSpriteSheet.getSprite(1, 5), duration: config_1.Config.PlayerFrameSpeed },\n                { graphic: playerSpriteSheet.getSprite(2, 5), duration: config_1.Config.PlayerFrameSpeed },\n                { graphic: playerSpriteSheet.getSprite(3, 5), duration: config_1.Config.PlayerFrameSpeed },\n            ]\n        });\n        this.graphics.add('left-walk', leftWalk);\n        const rightWalk = new ex.Animation({\n            frames: [\n                { graphic: playerSpriteSheet.getSprite(0, 6), duration: config_1.Config.PlayerFrameSpeed },\n                { graphic: playerSpriteSheet.getSprite(1, 6), duration: config_1.Config.PlayerFrameSpeed },\n                { graphic: playerSpriteSheet.getSprite(2, 6), duration: config_1.Config.PlayerFrameSpeed },\n                { graphic: playerSpriteSheet.getSprite(3, 6), duration: config_1.Config.PlayerFrameSpeed },\n            ]\n        });\n        this.graphics.add('right-walk', rightWalk);\n        const upWalk = new ex.Animation({\n            frames: [\n                { graphic: playerSpriteSheet.getSprite(0, 7), duration: config_1.Config.PlayerFrameSpeed },\n                { graphic: playerSpriteSheet.getSprite(1, 7), duration: config_1.Config.PlayerFrameSpeed },\n                { graphic: playerSpriteSheet.getSprite(2, 7), duration: config_1.Config.PlayerFrameSpeed },\n                { graphic: playerSpriteSheet.getSprite(3, 7), duration: config_1.Config.PlayerFrameSpeed },\n            ]\n        });\n        this.graphics.add('up-walk', upWalk);\n        const downWalk = new ex.Animation({\n            frames: [\n                { graphic: playerSpriteSheet.getSprite(0, 4), duration: config_1.Config.PlayerFrameSpeed },\n                { graphic: playerSpriteSheet.getSprite(1, 4), duration: config_1.Config.PlayerFrameSpeed },\n                { graphic: playerSpriteSheet.getSprite(2, 4), duration: config_1.Config.PlayerFrameSpeed },\n                { graphic: playerSpriteSheet.getSprite(3, 4), duration: config_1.Config.PlayerFrameSpeed },\n            ]\n        });\n        this.graphics.add('down-walk', downWalk);\n    }\n    onPreUpdate(engine, elapsedMs) {\n        this.vel = ex.Vector.Zero;\n        this.graphics.use('down-idle');\n        if (engine.input.keyboard.isHeld(ex.Input.Keys.ArrowRight)) {\n            this.vel = ex.vec(config_1.Config.PlayerSpeed, 0);\n            this.graphics.use('right-walk');\n        }\n        if (engine.input.keyboard.isHeld(ex.Input.Keys.ArrowLeft)) {\n            this.vel = ex.vec(-config_1.Config.PlayerSpeed, 0);\n            this.graphics.use('left-walk');\n        }\n        if (engine.input.keyboard.isHeld(ex.Input.Keys.ArrowUp)) {\n            this.vel = ex.vec(0, -config_1.Config.PlayerSpeed);\n            this.graphics.use('up-walk');\n        }\n        if (engine.input.keyboard.isHeld(ex.Input.Keys.ArrowDown)) {\n            this.vel = ex.vec(0, config_1.Config.PlayerSpeed);\n            this.graphics.use('down-walk');\n        }\n    }\n}\nexports.Player = Player;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.loader = exports.Resources = void 0;\nconst excalibur_1 = require(\"excalibur\");\nconst plugin_tiled_1 = require(\"@excaliburjs/plugin-tiled\");\nconst player_1 = require(\"./player\");\nexports.Resources = {\n    HeroSpriteSheetPng: new excalibur_1.ImageSource('./img/Solaria Demo Pack Update 03/Solaria Demo Pack Update 03/16x16/Sprites/Hero 01.png', false, excalibur_1.ImageFiltering.Pixel),\n    TiledMap: new plugin_tiled_1.TiledResource('./res/first-level.tmx', {\n        entityClassNameFactories: {\n            player: (props) => {\n                const player = new player_1.Player(props.worldPos);\n                player.z = 100;\n                return player;\n            }\n        },\n    })\n};\nexports.loader = new excalibur_1.Loader();\nfor (let resource of Object.values(exports.Resources)) {\n    exports.loader.addResource(resource);\n}\n","if(typeof JSDOM === 'undefined') { var e = new Error(\"Cannot find module 'JSDOM'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }\n\nmodule.exports = JSDOM;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(927);\n"],"names":["t","self","e","i","r","d","compare","s","A","o","compareVersions","includes","a","Object","keys","TypeError","indexOf","Error","join","validateAndParse","pop","compareSegments","split","n","semver","match","shift","parseInt","isNaN","String","Math","max","length","buildOptions","attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","cdataTagName","cdataPositionChar","format","indentBy","supressEmptyNode","tagValueProcessor","attrValueProcessor","this","options","isAttribute","attrPrefixLen","p","isCDATA","I","replaceCDATAstr","replaceCDATAarr","l","processTextOrObjNode","indentate","u","tagEndChar","newLine","buildTextNode","h","buildObjNode","c","g","buildTextValNode","buildObjectNode","j2x","val","attrStr","replace","repeat","startsWith","substr","prototype","parse","Array","isArray","rootNodeName","Date","exports","fromCharCode","nilChar","missingChar","nilPremitive","missingPremitive","emptyChar","emptyValue","boundryChar","objStart","arrStart","arrayEnd","child","attrsMap","convert2nimn","defaultOptions","props","alwaysCreateTextNode","isEmptyObject","isExist","isTagNameInArrayMode","tagname","arrayMode","merge","hasOwnProperty","push","convertToJson","convertToJsonString","validate","err","msg","parseTrueNumberOnly","parseNodeValue","numParseOptions","leadingZeros","getTraversalObj","convertTonimn","j2xParser","parseToNimn","RegExp","getValue","test","isName","exec","getAllMatches","startIndex","lastIndex","nameRegexp","allowBooleanAttributes","f","trim","substring","C","m","value","index","code","line","tagClosed","tagName","tagStartPos","col","JSON","stringify","map","parent","addChild","Number","window","parseFloat","ignoreNameSpace","parseAttributeValue","trimValues","hex","stopNodes","charAt","data","lastIndexOf","assign","toString","level","method","chunkSize","windowBits","memLevel","strategy","to","raw","gzip","ended","chunks","strm","avail_out","deflateInit2","header","deflateSetHeader","dictionary","string2buf","call","Uint8Array","deflateSetDictionary","_dict_set","result","input","next_in","avail_in","output","Buf8","next_out","deflate","onEnd","onData","buf2binstring","shrinkBuf","deflateEnd","flattenChunks","Deflate","deflateRaw","inflateInit2","Z_OK","inflateGetHeader","inflateSetDictionary","Z_FINISH","Z_NO_FLUSH","binstring2buf","inflate","Z_NEED_DICT","Z_BUF_ERROR","Z_STREAM_END","Z_SYNC_FLUSH","utf8border","buf2string","arraySet","inflateEnd","Inflate","inflateRaw","ungzip","Uint16Array","Int32Array","slice","arguments","subarray","set","concat","apply","setTyped","Buf16","Buf32","charCodeAt","Z_PARTIAL_FLUSH","Z_FULL_FLUSH","Z_BLOCK","Z_TREES","Z_ERRNO","Z_STREAM_ERROR","Z_DATA_ERROR","Z_NO_COMPRESSION","Z_BEST_SPEED","Z_BEST_COMPRESSION","Z_DEFAULT_COMPRESSION","Z_FILTERED","Z_HUFFMAN_ONLY","Z_RLE","Z_FIXED","Z_DEFAULT_STRATEGY","Z_BINARY","Z_TEXT","Z_UNKNOWN","Z_DEFLATED","B","E","y","Q","w","b","_","v","x","T","state","pending","pending_buf","pending_out","total_out","k","_tr_flush_block","block_start","strstart","D","L","N","max_chain_length","prev_length","nice_match","w_size","w_mask","prev","good_match","lookahead","match_start","F","window_size","hash_size","head","wrap","adler","total_in","insert","ins_h","hash_shift","hash_mask","S","match_length","_tr_tally","max_lazy_match","last_lit","G","prev_match","match_available","j","good_length","max_lazy","nice_length","max_chain","func","M","status","pending_buf_size","gzhead","gzindex","last_flush","w_bits","hash_bits","dyn_ltree","dyn_dtree","bl_tree","l_desc","d_desc","bl_desc","bl_count","heap","heap_len","heap_max","depth","l_buf","lit_bufsize","d_buf","opt_len","static_len","matches","bi_buf","bi_valid","R","data_type","_tr_init","O","z","deflateInit","deflateReset","deflateResetKeep","text","hcrc","extra","name","comment","time","os","_tr_align","_tr_stored_block","deflateInfo","xflags","extra_len","done","dmax","wsize","whave","wnext","hold","bits","lencode","distcode","lenbits","distbits","mode","sane","last","havedict","flags","check","total","wbits","offset","ncode","nlen","ndist","have","next","lens","work","lendyn","distdyn","back","was","inflateReset","inflateReset2","inflateResetKeep","inflateInit","inflateInfo","static_tree","extra_bits","extra_base","elems","max_length","has_stree","dyn_tree","max_code","stat_desc","decimalPoint","eNotation","skipLike","search","FLIPPED_DIAGONALLY_FLAG","FLIPPED_HORIZONTALLY_FLAG","FLIPPED_VERTICALLY_FLAG","TiledEntity","TiledLayer","TiledLayerComponent","TiledMap","TiledMapFormat","TiledMapResource","TiledObject","TiledObjectComponent","TiledObjectGroup","TiledTileset","TiledTilesetTile","getCanonicalGid","getProperty","isFlippedDiagonally","isFlippedHorizontally","isFlippedVertically","parseExternalJson","parseExternalTsx","filter","toLocaleLowerCase","constructor","properties","Component","super","layer","type","Vector","Zero","parallaxFactor","encoding","id","vec","offsetx","offsety","parallaxx","parallaxy","width","height","compression","order","rawLayer","layers","tileSets","objectGroups","getExcaliburObjects","getObjectLayerByProperty","getObjects","getObjectLayerByName","getTileLayerByName","getTileLayersByProperty","fromTmx","property","objectgroup","object","objects","forEach","halign","valign","fontfamily","pixelsize","kerning","italic","bold","underline","strikeout","color","point","ellipse","polyline","points","polygon","imagelayers","image","source","imagelayer","tilesets","imagewidth","imageheight","objectalignment","tiles","_fromRawTiledMap","fromJson","_decompresslayers","orientation","rawMap","tileWidth","tilewidth","tileHeight","tileheight","decompressBase64","decompressCsv","Promise","ZSTDDecoder","init","then","decode","TMX","path","isoLayers","_layerZIndexStart","_mapToRawLayer","Map","mapFormatOverride","startingLayerZIndex","_resource","Resource","mapFormat","ex","imageMap","sheetMap","tileImageMap","convertPath","_addTiledCamera","camera","isIsometric","_isoTileToScreenCoords","zoom","_addTiledColliders","colliders","Actor","pos","collisionType","CollisionType","Fixed","Color","fromHex","BoundingBox","left","top","right","bottom","getPoints","collider","usePolygonCollider","useBoxCollider","useCircleCollider","radius","addComponent","tiled","add","zIndex","_addTiledText","getText","pixelSize","Label","anchor","_getEntityName","font","Font","family","fontFamily","size","unit","FontUnit","Px","textAlign","TextAlign","Left","baseAlign","BaseAlign","Top","rotation","Shape","Box","body","PreventCollision","_calculateZIndex","IsometricEntityComponent","elevation","_addTiledInsertedTiles","getInsertedTiles","gid","getSpriteForGid","getCollidersForGid","clear","CompositeCollider","graphics","destSize","use","useSolidLayers","getTileMapLayers","get","solid","addTiledMapToScene","_parseExcaliburInfo","find","getObjectByClass","getCamera","getObjectsByClass","isLoaded","load","_importMapData","firstgid","Logger","getInstance","error","all","ImageSource","debug","_createTileMap","getTilesetForTile","firstGid","tileCount","sprites","clone","PI","scale","_transformPoints","diagonalFlipTransform","multiply","horizontalFlipTransform","verticalFlipTransform","getPolygons","Polygon","getBoxes","getEllipses","Circle","min","getAnimationForGid","hasAnimation","getAnimation","spacing","floor","SpriteSheet","fromImageSource","grid","columns","rows","spriteWidth","spriteHeight","originOffset","margin","toSprite","TileMap","ParallaxComponent","addGraphic","addCollider","clearGraphics","IsometricMap","TransformComponent","updateColliders","getIsometricMapLayers","_lookupTile","tileset","getTileByPoint","getTileByCoordinate","getTile","getObjectByType","getObjectsByType","class","getObjectByName","getObjectsByName","getPolyLines","rawObjectGroup","visible","toRadians","rawObject","tilecount","tileOffset","tileoffset","tiledVersion","tiledversion","backgroundColor","backgroundcolor","transparentColor","transparentcolor","wangSets","wangsets","imageWidth","imageHeight","objectAlignment","Matrix","identity","translate","rotate","animation","graphic","tileid","duration","Animation","frames","animationStrategy","AnimationStrategy","Loop","terrain","frame","toLowerCase","End","Freeze","PingPong","TiledParser","q","TiledTemplate","TiledText","TiledTile","TiledTileLayer","TiledTileLayerInfinite","TiledTilesetFile","isCSV","isInfiniteLayer","isTiledTilesetCollectionOfImages","isTiledTilesetEmbedded","P","isTiledTilesetExternal","U","isTiledTilesetSingleImage","needsDecoding","string","literal","number","int","boolean","discriminatedUnion","optional","opacity","array","tintcolor","extend","startx","starty","union","template","draworder","repeatx","repeaty","probability","version","compressionlevel","infinite","nextlayerid","nextobjectid","parallaxoriginx","parallaxoriginy","hexsidelength","staggeraxis","or","staggerindex","renderorder","J","combine","_largestBounds","_coerceNumber","_coerceBoolean","Boolean","_coerceType","_parsePropertiesNode","children","getAttribute","innerHTML","_parseAttributes","attributes","_parseToDocument","DOMParser","parseFromString","JSDOM","contentType","document","console","message","parseObject","querySelector","textContent","parseTileset","parseTileLayer","parseObjectGroup","parseImageLayer","parseExternalTemplate","parseExternalTileset","Decoder","ExcaliburTiledProperties","TileData","Tiled","ZIndex","Camera","Zoom","Strategy","Layer","Solid","Collision","Type","FetchLoader","async","fetch","json","byClassCaseInsensitive","byNameCaseInsensitive","byPropertyCaseInsensitive","localeCompare","has","ImageLayer","tiledImageLayer","resource","imageActor","mapProps","pathRelativeToBase","pathMap","White","headless","tint","IsoTileLayer","tiledTileLayer","logger","_gidToTileInfo","getTilesByGid","getTilesByClassName","isometricMap","exTile","tiledTile","getTilesByProperty","warn","getTilesetForTileGid","getTileByGid","_recordTileData","updateTile","useExcaliburWiring","Transparent","isometricTiledCoordToWorld","TiledLayerDataComponent","LoaderCache","_loaded","cache","getOrAdd","values","from","entries","allSettled","reason","ObjectLayer","tiledObjectLayer","entities","_objectToEntity","_entityToObject","_logLoadedWarning","getEntitiesByName","getEntityByObject","getObjectByEntity","getObjectsByProperty","getEntitiesByProperty","getObjectsByClassName","getEntitiesByClassName","getTemplates","TemplateObject","runFactory","factories","worldPos","_recordObjectEntityMapping","_actorFromObject","InsertedTile","getTilesetAlignmentAnchor","tiledObject","sub","useCompositeCollider","Text","localPoints","isConvex","triangulate","Rectangle","Ellipse","parseObjects","GraphicsComponent","Active","Passive","TiledDataComponent","PluginObject","Point","Polyline","tiledTemplate","Black","_textAlignFromTiled","_textBaselineFromTiled","quality","maxWidth","Bottom","Middle","Center","Right","Start","textQuality","templates","filenameFromPath","templatePath","Half","mapPath","pathInMap","TemplateResource","strict","fileLoader","parser","imageLoader","TilesetResource","Template","TileLayer","tilemap","TiledResource","startZIndex","useMapBackgroundColor","useTilemapCameraStrategy","_imageLoader","_tilesetLoader","_templateLoader","entityClassNameFactories","registerEntityFactory","getObjectLayers","unregisterEntityFactory","delete","getTilesetByName","getTilesetByClassName","getTilesetByProperty","getTileMetadataByClassName","getTileMetadataByProperty","getTileLayers","getIsoTileLayers","getTilesByPoint","getImageLayers","getLayersByName","getLayersByClassName","getLayersByProperty","_parseMap","supportedTiledVersion","_collectTilesets","_collectTemplates","resolve","Tileset","tiledTileset","tileToImage","findIndex","addToScene","fromDimension","limitCameraBounds","Tile","AffineMatrix","spritesheet","_isometricTiledCoordToWorld","orientationOverride","One","_applyFlipsToPoints","jsdom","excalibur","BRAND","ye","DIRTY","EMPTY_PATH","INVALID","NEVER","ut","OK","ParseStatus","Schema","ZodAny","H","ZodArray","W","ZodBigInt","ZodBoolean","ZodBranded","Qe","ZodCatch","Be","ZodDate","ZodDefault","me","ZodDiscriminatedUnion","ie","ZodEffects","Ie","ZodEnum","he","ZodError","ZodFirstPartyTypeKind","xe","ZodFunction","le","ZodIntersection","se","ZodIssueCode","ZodLazy","de","ZodLiteral","ce","ZodMap","oe","ZodNaN","Ee","ZodNativeEnum","ue","ZodNever","K","ZodNull","Z","ZodNullable","Ce","ZodNumber","ZodObject","$","ZodOptional","fe","ZodParsedType","ZodPipeline","we","ZodPromise","pe","ZodReadonly","be","ZodRecord","ae","ZodSchema","ZodSet","ne","ZodString","ZodSymbol","ZodTransformer","ZodTuple","re","ZodType","ZodUndefined","ZodUnion","ee","ZodUnknown","Y","ZodVoid","V","addIssueToContext","any","Re","Ue","bigint","Ne","Fe","coerce","ht","custom","_e","date","Se","default","pt","defaultErrorMap","He","effect","rt","enum","it","function","$e","getErrorMap","getParsedType","instanceof","Te","intersection","Ye","isAborted","isAsync","isDirty","isValid","late","ve","lazy","et","tt","makeIssue","We","nan","Le","nativeEnum","At","never","ze","null","Me","nullable","ot","De","Je","objectUtil","oboolean","gt","onumber","ct","at","ostring","dt","pipeline","lt","preprocess","nt","promise","st","quotelessJson","record","Ve","Xe","setErrorMap","strictObject","qe","ke","symbol","Ge","transformer","tuple","Ke","undefined","je","Ze","unknown","Oe","util","void","Pe","assertEqual","assertIs","assertNever","arrayToEnum","getValidEnumValues","objectKeys","objectValues","isInteger","isFinite","joinValues","jsonStringifyReplacer","mergeShapes","catch","Set","issues","addIssue","addIssues","setPrototypeOf","__proto__","errors","_errors","unionErrors","returnTypeError","argumentsError","isEmpty","flatten","formErrors","fieldErrors","create","invalid_type","received","expected","invalid_literal","unrecognized_keys","invalid_union","invalid_union_discriminator","invalid_enum_value","invalid_arguments","invalid_return_type","invalid_date","invalid_string","validation","position","endsWith","too_small","exact","inclusive","minimum","too_big","maximum","invalid_intersection_types","not_multiple_of","multipleOf","not_finite","defaultError","errorMaps","issueData","reverse","common","contextualErrorMap","schemaErrorMap","dirty","abort","mergeArray","mergeObjectAsync","key","mergeObjectSync","alwaysSet","freeze","errToObj","_cachedPath","_path","_key","success","_error","errorMap","invalid_type_error","required_error","description","spa","safeParseAsync","_def","bind","safeParse","parseAsync","refine","refinement","superRefine","nullish","and","transform","brand","describe","pipe","readonly","isNullable","isOptional","_getType","_getOrReturnCtx","parsedType","_processInputParams","ctx","_parseSync","_parse","_parseAsync","_refinement","schema","typeName","innerType","defaultValue","catchValue","checks","kind","URL","regex","toUpperCase","precision","_regex","_addCheck","email","url","emoji","uuid","cuid","cuid2","ulid","ip","datetime","nonempty","isDatetime","isEmail","isURL","isEmoji","isUUID","isCUID","isCUID2","isULID","isIP","minLength","maxLength","toFixed","pow","gte","lte","step","setLimit","positive","negative","nonpositive","nonnegative","finite","safe","MIN_SAFE_INTEGER","MAX_SAFE_INTEGER","minValue","maxValue","isInt","BigInt","getTime","minDate","maxDate","_any","_unknown","exactLength","element","X","shape","unwrap","items","_cached","nonstrict","passthrough","augment","_getCached","catchall","unknownKeys","strip","setKey","pick","omit","deepPartial","partial","required","keyof","ge","strictCreate","lazycreate","te","discriminator","optionsMap","Ae","valid","rest","keySchema","keyType","valueSchema","valueType","minSize","maxSize","implement","returns","args","Reflect","parameters","returnType","strictImplement","getter","Values","Enum","extract","exclude","sourceType","fatal","createWithPreprocess","removeDefault","removeCatch","Symbol","in","out","env","emscripten_notify_memory_growth","memory","buffer","arrayBuffer","WebAssembly","instantiate","_init","Buffer","instance","byteLength","malloc","ZSTD_findDecompressedSize","ZSTD_decompress","free","__esModule","defineProperty","enumerable","toStringTag","Deprecated","module","__webpack_modules__","_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__","_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default","_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__","___CSS_LOADER_EXPORT___","_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default","__WEBPACK_DEFAULT_EXPORT__","cssWithMappingToString","list","item","content","needLayer","modules","media","dedupe","supports","alreadyImportedModules","_k","cssMapping","btoa","base64","unescape","encodeURIComponent","sourceMapping","__unused_webpack_exports","entryUnbind","isCallable","tryToString","$TypeError","argument","isObject","$String","toIndexedObject","toAbsoluteIndex","lengthOfArrayLike","createMethod","IS_INCLUDES","$this","el","fromIndex","fails","METHOD_NAME","uncurryThis","arraySlice","sort","comparefn","middle","llength","rlength","lindex","rindex","stringSlice","TO_STRING_TAG_SUPPORT","classofRaw","TO_STRING_TAG","wellKnownSymbol","$Object","CORRECT_ARGUMENTS","tag","tryGet","callee","hasOwn","ownKeys","getOwnPropertyDescriptorModule","definePropertyModule","target","exceptions","getOwnPropertyDescriptor","DESCRIPTORS","createPropertyDescriptor","bitmap","configurable","writable","makeBuiltIn","defineGlobalProperty","simple","global","unsafe","nonConfigurable","nonWritable","EXISTS","createElement","firefox","UA","navigator","userAgent","process","Deno","versions","v8","webkit","CONSTRUCTOR","METHOD","createNonEnumerableProperty","defineBuiltIn","copyConstructorProperties","isForced","targetProperty","sourceProperty","descriptor","TARGET","GLOBAL","STATIC","stat","dontCallGetSet","forced","sham","NATIVE_BIND","Function","FunctionPrototype","getDescriptor","PROPER","CONFIGURABLE","uncurryThisWithBind","fn","namespace","aCallable","isNullOrUndefined","globalThis","toObject","classof","propertyIsEnumerable","store","functionToString","inspectSource","NATIVE_WEAK_MAP","shared","sharedKey","hiddenKeys","OBJECT_ALREADY_INITIALIZED","WeakMap","metadata","facade","STATE","enforce","getterFor","TYPE","documentAll","replacement","feature","detection","normalize","POLYFILL","NATIVE","getBuiltIn","isPrototypeOf","USE_SYMBOL_AS_UID","$Symbol","toLength","obj","CONFIGURABLE_FUNCTION_NAME","InternalStateModule","enforceInternalState","getInternalState","CONFIGURABLE_LENGTH","TEMPLATE","setter","arity","ceil","trunc","__unused_webpack_module","IE8_DOM_DEFINE","V8_PROTOTYPE_DEFINE_BUG","anObject","toPropertyKey","$defineProperty","$getOwnPropertyDescriptor","ENUMERABLE","WRITABLE","Attributes","current","propertyIsEnumerableModule","internalObjectKeys","getOwnPropertyNames","getOwnPropertySymbols","names","enumBugKeys","$propertyIsEnumerable","NASHORN_BUG","pref","valueOf","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","uid","SHARED","IS_PURE","copyright","license","V8_VERSION","toIntegerOrInfinity","integer","IndexedObject","requireObjectCoercible","len","isSymbol","getMethod","ordinaryToPrimitive","TO_PRIMITIVE","exoticToPrim","toPrimitive","postfix","random","NATIVE_SYMBOL","iterator","WellKnownSymbolsStore","createWellKnownSymbol","withoutSetter","deletePropertyOrThrow","internalSort","arrayMethodIsStrict","FF","IE_OR_EDGE","V8","WEBKIT","nativeSort","FAILS_ON_UNDEFINED","FAILS_ON_NULL","STRICT_METHOD","STABLE_SORT","chr","proto","itemsLength","arrayLength","getSortCompare","nativeKeys","__webpack_module_cache__","moduleId","cachedModule","definition","prop","y1j","fWn","Ia8","rqv","zH6","hLI","yyv","tX5","vtX","r7K","cE4","fwF","sce","AQ6","_c7","KUs","Ajp","dkO","RDh","_H9","mxs","OmD","kBf","C4F","NQt","JjN","EK_","V1s","xHm","Xz7","Cdc","FKn","SUY","ab2","GfZ","YMS","oyv","aUb","SdD","JUv","jEj","TFq","HDU","R_y","t50","s$$","v2G","Ilk","s9i","dxL","LLX","wA2","R_p","IQ$","I5F","X8$","FR6","pTZ","U8o","kbG","FEv","iS_","cGG","ETM","RPN","skb","SLU","Q3w","xK2","vrO","EA2","RdJ","cNu","wtG","gU7","LSk","Nmp","twX","UND","d1Y","xrL","sRW","cmV","qWz","N0Q","q8b","ynB","jT9","wAz","D4V","NLr","N6H","W1A","JHW","ZZ$","v2K","pBf","vpe","GMl","zW2","B0K","Nv7","C_p","MUA","xqU","pTp","trb","vUK","j9l","Zxw","v51","gYv","Hdx","Z$d","iqV","o$7","olM","Zm$","$QH","i78","nJg","h6u","hts","j88","VME","fy2","Ukr","zsu","oA6","TVh","xxj","XdK","fBD","Jmb","cXo","Dm5","IIB","IX$","ebW","zI0","LYD","cEG","SEl","t9V","ez5","N1d","R8U","SKZ","__J","RI$","x12","ccz","aNw","XrL","xwn","dNK","ini","YdH","F5T","y3G","l57","xn0","t2V","uxB","cpd","fiy","$XZ","UG6","uqK","STE","Hq9","y$z","mAD","sOq","hUw","_0G","Sqs","hpZ","Vol","vYX","wIZ","cBi","c30","PGK","MPV","RFv","Ux6","rxy","I$c","kfC","VjY","mgq","YVA","Kgp","HH$","M_d","rgh","Ra6","KhR","gvQ","BS5","xhz","xOq","a9j","bHk","CgK","A0M","cEd","cuY","kvE","SBu","PsT","AE_","ctO","OLH","kky","nSF","zHn","zwx","AeJ","hLz","wA","jhr","GVs","_zO","LXZ","w6$","mhV","MOD","kwd","Lmr","xsS","K5l","lLr","Z$r","IXb","Xsu","SGH","SMj","L34","exe","bnF","MFA","kPj","$uU","Sap","jyi","E03","V6q","rg2","DVW","nVo","F6N","xP7","Odq","uY9","Zif","c_d","MJk","xvT","PHM","dpR","n9L","KwO","SxM","B7y","x7r","wx7","Uvn","uTP","OFT","xzN","CcZ","M5Z","ZrN","OWs","dF9","oZy","rD2","KmN","VHo","ohE","R$E","xQN","AdJ","q3I","Pab","uZ5","TAE","McK","F9c","k0b","hnT","RSJ","Mku","h90","rms","ErP","aVg","lPc","Z8E","k15","YsU","lNv","Xyg","cu9","p88","MZQ","FUM","BxR","vdf","iaL","w6H","Q4c","Xxe","Uxb","Yr5","Bhw","yOA","webgl_util_namespaceObject","getAttributeComponentSize","getAttributePointerType","getGlTypeSizeBytes","Events_namespaceObject","ActionCompleteEvent","ActionStartEvent","ActivateEvent","CollisionEndEvent","CollisionPostSolveEvent","CollisionPreSolveEvent","CollisionStartEvent","ContactEndEvent","ContactStartEvent","DeactivateEvent","EnterTriggerEvent","EnterViewPortEvent","EventTypes","ExitTriggerEvent","ExitViewPortEvent","GameEvent","GameStartEvent","GameStopEvent","GamepadAxisEvent","GamepadButtonEvent","GamepadConnectEvent","GamepadDisconnectEvent","HiddenEvent","InitializeEvent","KillEvent","PostCollisionEvent","PostDebugDrawEvent","PostDrawEvent","PostFrameEvent","PostKillEvent","PostTransformDrawEvent","PostUpdateEvent","PreCollisionEvent","PreDebugDrawEvent","PreDrawEvent","PreFrameEvent","PreKillEvent","PreTransformDrawEvent","PreUpdateEvent","VisibleEvent","DrawUtil_namespaceObject","circle","roundRect","vector","Input_Index_namespaceObject","Axes","Buttons","Gamepad","Gamepads","KeyEvent","Keyboard","Keys","NativePointerButton","PointerButton","PointerComponent","PointerEvent","PointerEventReceiver","PointerScope","PointerSystem","PointerType","WheelDeltaMode","WheelEvent","Util_Index_namespaceObject","polyfill","audioContext","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","callback","setInterval","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","AudioContext","webkitAudioContext","replaceMe","decodeAudioData","reject","mozAudioContext","msAudioContext","oAudioContext","devicePixelRatio","ConsoleAppender","DrawUtil","EasingFunctions","LogLevel","Observable","ScreenAppender","addItemToArray","contains","delay","fail","getPosition","removeItemFromArray","Flags","useCanvasGraphicsContext","enable","_FROZEN","_reset","_FLAGS","flagName","disable","isEnabled","show","createId","Future","_isCompleted","_resolver","_rejecter","isCompleted","EventEmitter","_paused","_listeners","_listenersOnce","_pipes","on","eventName","handler","_a","close","off","once","_b","newListeners","newOnceListeners","emit","event","onces","emitter","splice","unpipe","pause","unpause","BITMASK32","Random","seed","_lowerMask","_upperMask","_w","_n","_m","_u","_s","_t","_c","_l","_f","_mt","now","_index","_twist","mag01","nextInt","floating","bool","likelihood","pickOne","pickSet","numPicks","allowDuplicates","_pickSetWithDuplicates","_pickSetWithoutDuplicates","currentPick","tempArray","shuffle","swap","randomIndex","range","d4","d6","d8","d10","d12","d20","TwoPI","frac","sign","clamp","canonicalizeAngle","angle","tmpAngle","toDegrees","radians","degrees","_x","randomInRange","randomIntInRange","round","Up","Down","fromAngle","cos","sin","Infinity","distance","vec1","vec2","sqrt","_y","setTo","equals","tolerance","abs","deltaX","deltaY","squareDistance","clampMagnitude","magnitude","newSize","newLength","average","sizeOrScale","dest","addEqual","subEqual","scaleEqual","dot","cross","num","perpendicular","normal","negate","toAngle","atan2","sinAngle","cosAngle","fixed","fromRGB","fromRGBString","fromHSL","HSLColor","toRGBA","lighten","factor","temp","fromRGBA","darken","saturate","desaturate","newR","newG","newB","newA","screen","color1","invert","color2","equal","toHSLA","toHex","_componentToHex","fillStyle","Gray","LightGray","DarkGray","Yellow","Orange","Red","Vermilion","Rose","Magenta","Violet","Blue","Azure","Cyan","Viridian","Green","Chartreuse","ExcaliburBlue","hue2rgb","Side","MatrixLocations","_appenders","defaultLevel","Info","_logOnceSet","_INSTANCE","addAppender","appender","clearAppenders","_log","log","_logOnce","serialized","Debug","debugOnce","info","infoOnce","Warn","warnOnce","errorOnce","Fatal","fatalOnce","consoleArgs","unshift","_messages","_pos","_color","_options","canvas","_ctx","getContext","style","appendChild","_positionScreenAppenderCanvas","engine","events","_d","resolution","pagePos","screenToPageCoordinates","xPos","clearRect","fillText","getOpposite","side","None","fromDirection","direction","directions","directionEnum","MAX_VALUE","maxIndex","leftOrOptions","_points","getSideFromIntersection","fromPoints","minX","minY","maxX","maxY","hasZeroDimensions","center","topLeft","bottomRight","topRight","bottomLeft","shifted","matrix","xa1","xa2","xb1","xb2","ya1","ya2","yb1","yb2","matrixPos","getPerimeter","_left","_right","_top","_bottom","rayCast","ray","farClipDistance","tmin","tmax","xinv","dir","yinv","tx1","tx2","ty1","ty2","rayCastTime","other","dimensions","overlaps","epsilon","totalBoundingBox","intersect","overlapX","overlapY","intersectWithSide","bb","draw","drawRect","rect","getBoundingClientRect","scrollX","scrollY","milliseconds","clock","future","schedule","setTimeout","newObj","Float32Array","_scaleX","_scaleSignX","_scaleY","_scaleSignY","ortho","near","far","mat","toDOMMatrix","DOMMatrix","fromFloat32Array","reset","translation","sx","sy","angleRadians","vectorOrMatrix","resultX","resultY","a11","a21","a31","a41","a12","a22","a32","a42","a13","a23","a33","a43","a14","a24","a34","a44","b11","b21","b31","b41","b12","b22","b32","b42","b13","b23","b33","b43","b14","b24","b34","b44","getScale","setPosition","sine","cosine","setRotation","currentScale","getRotation","getScaleY","getScaleX","xscale","yscale","setScaleX","setScaleY","setScale","getBasisDeterminant","getAffineInverse","inverseDet","tx","ty","isIdentity","Float64Array","_scale","determinant","inverse","to4x4","TransformStack","_transforms","_currentTransform","save","restore","StateStack","_states","_currentState","_getDefaultState","material","_cloneState","ResourceEvents","Complete","Load","LoadStart","Progress","responseType","bustCache","_cacheBust","uri","request","XMLHttpRequest","open","addEventListener","response","statusText","send","watch","change","__isProxy","Proxy","createHandler","typeType","watchAny","Graphic","isStale","_transformStale","flipHorizontal","_flipHorizontal","flipVertical","_flipVertical","_rotation","origin","_origin","_g","_ID","showDebug","_width","_height","cloneGraphicOptions","localBounds","_preDraw","_drawImage","_postDraw","_rotate","_flip","scaleDirX","scaleDirY","Sprite","_logger","_dirty","sourceView","_updateSpriteDimensions","ready","newWidth","newHeight","nativeWidth","nativeHeight","drawImage","ImageFiltering","TextureLoader","gl","_textureMap","_gl","_MAX_TEXTURE_SIZE","getParameter","MAX_TEXTURE_SIZE","dispose","filtering","forceUpdate","tex","bindTexture","TEXTURE_2D","texImage2D","RGBA","UNSIGNED_BYTE","createTexture","checkImageSizeSupportedAndLog","pixelStorei","UNPACK_PREMULTIPLY_ALPHA_WEBGL","texParameteri","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","filterMode","TEXTURE_MIN_FILTER","Pixel","NEAREST","LINEAR","TEXTURE_MAG_FILTER","deleteTexture","originalSrc","dataset","_LOGGER","Blended","naturalWidth","naturalHeight","_src","src","Image","_readyFuture","fromHtmlImageElement","imageSource","setAttribute","blob","createObjectURL","loadedFuture","onload","unload","SpriteFont","_text","alphabet","shadow","caseInsensitive","lineHeight","spriteSheet","_getCharacterSprites","results","textToRender","letterIndex","letter","spriteIndex","letterSprite","measureText","lines","_getLinesFromText","maxWidthLine","reduce","sprite","xCursor","yCursor","render","bounds","_cachedText","_cachedRenderWidth","_cachedLines","getSprite","_h","_j","spriteWithOptions","fromImageSourceWithSourceViews","sourceViews","cols","offsetDefaults","marginDefaults","DebugText","fontSheet","_imageSource","_spriteSheet","_spriteFont","write","RenderSource","_texture","activeTexture","TEXTURE0","RenderTarget","antialias","samples","transparency","MAX_SAMPLES","drawingBufferFormat","bufferFormat","RGBA8","RGB8","_setupRenderBuffer","_setupFramebuffer","setResolution","_frameTexture","_renderBuffer","bindRenderbuffer","RENDERBUFFER","renderbufferStorageMultisample","renderBuffer","renderFrameBuffer","_renderFrameBuffer","frameBuffer","_frameBuffer","frameTexture","createRenderbuffer","createFramebuffer","bindFramebuffer","FRAMEBUFFER","framebufferRenderbuffer","COLOR_ATTACHMENT0","attachmentPoint","framebufferTexture2D","toRenderSource","blitRenderBufferToFrameBuffer","blitToScreen","READ_FRAMEBUFFER","DRAW_FRAMEBUFFER","clearBufferfv","COLOR","blitFramebuffer","COLOR_BUFFER_BIT","copyToTexture","texture","copyTexImage2D","viewport","FLOAT","SHORT","UNSIGNED_SHORT","BYTE","LOW_FLOAT","HIGH_FLOAT","FLOAT_VEC2","FLOAT_VEC3","FLOAT_VEC4","Shader","compiled","_compiled","uniforms","vertexSource","fragmentSource","deleteProgram","program","useProgram","_ACTIVE_SHADER_INSTANCE","isCurrentlyBound","compile","vertexShader","_compileShader","VERTEX_SHADER","fragmentShader","FRAGMENT_SHADER","_createProgram","getAttributes","attribute","getUniforms","uniform","uniformCount","getProgramParameter","ACTIVE_UNIFORMS","getActiveUniform","uniformLocation","getUniformLocation","glType","location","attributeCount","ACTIVE_ATTRIBUTES","getActiveAttrib","attributeLocation","getAttribLocation","normalized","setTexture","slotNumber","setUniformInt","setUniform","trySetUniformInt","trySetUniform","setUniformIntArray","trySetUniformIntArray","setUniformBoolean","trySetUniformBoolean","setUniformFloat","trySetUniformFloat","setUniformFloatArray","trySetUniformFloatArray","setUniformFloatVector","trySetUniformFloatVector","setUniformFloatColor","trySetUniformFloatColor","setUniformMatrix","trySetUniformMatrix","uniformType","createProgram","attachShader","linkProgram","LINK_STATUS","getProgramInfoLog","shader","createShader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","errorInfo","getShaderInfoLog","_processSourceForError","errorLineStart","errorLineEnd","error2","VertexBuffer","createBuffer","bufferData","bindBuffer","ARRAY_BUFFER","STATIC_DRAW","DYNAMIC_DRAW","upload","count","bufferSubData","deleteBuffer","VertexLayout","vertexBuffer","_vertexBuffer","_attributes","_layout","_vertexTotalSizeBytes","_shader","initialize","totalVertexSizeBytes","shaderAttributes","attrib","componentsPerVertex","vertAttribute","typeSize","uploadBuffer","vert","vertexAttribPointer","enableVertexAttribArray","GraphicsDiagnostics","DrawCallCount","DrawnImagesCount","LineRenderer","priority","_maxLines","_vertexIndex","_lineCount","context","_context","start","end","_isFull","flush","getTransform","finalStart","finalEnd","hasPendingDraws","drawArrays","LINES","PointRenderer","_maxPoints","_pointCount","_buffer","snapToPixel","finalPoint","pixelSnapEpsilon","POINTS","ScreenPassPainter","renderWithPostProcessor","postprocessor","getShader","getLayout","TRIANGLES","renderToScreen","QuadIndexBuffer","numberOfQuads","useUint16","ELEMENT_ARRAY_BUFFER","totalVertices","maxUint16","maxUint16Index","bufferGlType","Uint32Array","currentQuad","ImageRenderer","_maxImages","_maxTextures","_imageCount","_textures","pixelArtSampler","uvPadding","MAX_TEXTURE_IMAGE_UNITS","transformedFrag","_transformFragmentSource","_quads","maxTextures","newSource","texturePickerBuilder","_addImageAsTexture","maybeFiltering","force","textureLoader","removeAttribute","_bindTextures","_getTextureIdForImage","maybeTexture","swidth","sheight","dx","dy","dwidth","dheight","view","sw","sh","textureId","uvx0","uvy0","uvx1","uvy1","txWidth","txHeight","drawElements","RectangleRenderer","_maxRectangles","_rectangleCount","drawLine","drawRectangle","thickness","halfThick","startTop","startBottom","endTop","endBottom","stroke","strokeThickness","CircleRenderer","_maxCircles","_circleCount","Pool","builder","recycler","maxObjects","totalAllocations","disableWarnings","preallocate","using","borrow","poolIndex","DrawCall","Material","_initialized","_images","graphicsContext","images","_name","_vertexSource","_fragmentSource","ExcaliburGraphicsContextWebGL","_graphicsContext","_initialize","addImageSource","graphicsContextWebGL","__gl","_maxTextureSlots","isUsingScreenTexture","update","textureUniformName","removeImageSource","textureName","_loadImageSource","imageElement","uploadAndBind","startingTextureSlot","textureSlot","MaterialRenderer","vertexIndex","topLeftScreen","bottomRightScreen","screenUVX0","screenUVY0","screenUVX1","screenUVY1","performance","materialScreenTexture","ExcaliburGraphicsContextWebGLDebug","_webglCtx","_debugText","rectOptions","lineOptions","drawPoint","pointOptions","drawText","_state","_ortho","checkIfResolutionSupported","dim","supported","_renderers","_isDrawLifecycle","useDrawSorting","_drawCallPool","renderer","_drawCalls","_postProcessTargets","_postprocessors","_transform","smoothing","multiSampleAntialiasing","_disposed","_totalPostProcessorTime","canvasElement","enableTransparency","antialiasing","powerPreference","premultipliedAlpha","alpha","clearColor","BLEND","blendEquation","FUNC_ADD","blendFunc","ONE","ONE_MINUS_SRC_ALPHA","blendEquationSeparate","blendFuncSeparate","register","REPEAT","_screenRenderer","_renderTarget","_msaaTarget","rendererName","_isCurrentRenderer","_currentRenderer","beginDrawLifecycle","endDrawLifecycle","drawCall","resetTransform","updateViewport","trace","drawCircle","addPostProcessor","removePostProcessor","clearPostProcessors","updatePostProcessors","delta","onUpdate","createMaterial","currentTarget","originalSort","firstIndex","dc","originalSortOrder","oldTransform","oldState","currentRendererName","currentRenderer","ExcaliburGraphicsContext2DCanvas_pixelSnapEpsilon","ExcaliburGraphicsContext2DCanvasDebug","_ex","__ctx","strokeStyle","strokeRect","beginPath","moveTo","lineTo","lineWidth","closePath","arc","fill","ExcaliburGraphicsContext2DCanvas","imageSmoothingEnabled","_resolution","globalAlpha","fillRect","setTransform","_postprocessor","DisplayMode","Resolution","SVGA","Standard","Atari2600","GameBoy","GameBoyAdvance","NintendoDS","NES","SNES","ScreenEvents","ScreenResize","PixelRatioChange","FullScreenChange","Screen","_antialiasing","_canvasImageRendering","_resolutionStack","_viewportStack","_pixelRatioOverride","_isFullScreen","_isDisposed","_fullscreenChangeHandler","fullscreen","isFullScreen","_pixelRatioChangeHandler","_listenForPixelRatio","_devicePixelRatio","_calculateDevicePixelRatio","applyResolutionAndViewport","pixelRatio","_resizeHandler","_setResolutionAndViewportByDisplayMode","_contentArea","_contentResolution","_displayMode","displayMode","_canvas","canvasImageRendering","_browser","browser","_applyDisplayMode","_mediaQueryList","removeListener","nativeComponent","matchMedia","addListener","_resizeObserver","disconnect","removeEventListener","pixelRatioOverride","isHiDpi","FillContainer","FitContainer","FitContainerAndFill","FitContainerAndZoom","parentElement","_viewport","aspectRatio","scaledWidth","scaledHeight","setCurrentCamera","_camera","pushResolutionAndViewport","peekViewport","peekResolution","popResolutionAndViewport","imageRendering","isSmooth","goFullScreen","elementId","maybeElement","getElementById","requestFullscreen","exitFullScreen","exitFullscreen","pageToScreenCoordinates","newX","newY","innerWidth","innerHeight","screenHeight","screenWidth","contentArea","screenMarginY","screenMarginX","screenToWorldCoordinates","worldToScreenCoordinates","pageToWorldCoordinates","worldToPageCoordinates","getWorldBounds","getScreenBounds","canvasWidth","halfCanvasWidth","canvasHeight","halfCanvasHeight","drawWidth","halfDrawWidth","drawHeight","halfDrawHeight","_computeFit","overflow","aspect","adjustedWidth","adjustedHeight","_computeFitScreenAndFill","vw","vh","_computeFitAndFill","_computeFitContainerAndFill","clientWidth","clientHeight","clip","_computeFitScreenAndZoom","_computeFitAndZoom","_computeFitContainerAndZoom","scaleX","scaleY","maxScaleFactor","zoomedWidth","zoomedHeight","_computeFitContainer","Window","ResizeObserver","observe","FillScreen","FitScreen","FitScreenAndFill","FitScreenAndZoom","AudioContextFactory","WebAudio","unlock","_UNLOCKED","unlockTimeoutTimer","resume","createBufferSource","connect","destination","onended","playbackState","isLegacyWebAudioSource","currentTime","PLAYING_STATE","FINISHED_STATE","clearTimeout","isUnlocked","Raster","lineCap","_smoothing","flagDirty","_lineWidth","_lineDash","_padding","strokeColor","lineDash","padding","_bitmap","bitmapWidth","bitmapHeight","maybeCtx","cloneRasterOptions","_getTotalWidth","_originalWidth","_getTotalHeight","_originalHeight","_strokeColor","rasterize","_applyRasterProperties","execute","setLineDash","getLineDash","Canvas","ExResponse","arraybuffer","StateMachine","states","currentState","machineDescription","machine","stateName","transitionState","transitions","startState","go","eventData","potentialNewState","onExit","onEnter","onState","elapsedMs","saveKey","localStorage","setItem","getItem","WebAudioInstance","_createNewBufferSource","_instance","_audioContext","loop","playbackRate","_playbackRate","_volumeNode","_handleEnd","_playingFuture","_loop","volume","_volume","_stateMachine","gain","setTargetAtTime","_duration","getTotalPlaybackDuration","createGain","PLAYING","pausedAt","startedAt","_playStarted","stop","SEEK","STOPPED","PAUSED","isPlaying","isPaused","isStopped","play","playStarted","seek","getPlaybackPosition","_bubbles","bubbles","stopPropagation","prevStats","stats","gamepad","button","axis","actor","contact","lastContact","action","MediaEvent","_value","_val","propagate","layPath","_actor","NativeSoundEvent","track","NativeSoundProcessedEvent","_processedData","canPlayFile","file","Audio","filetype","canPlayType","SoundEvents","VolumeChange","Processed","Pause","Stop","PlaybackEnd","Resume","PlaybackStart","Sound","_tracks","instances","paths","_isStopped","_wasPlayingOnHidden","audiobuffer","decodeAudio","wireEngine","_engine","pauseAudioWhenHidden","instanceCount","some","_resumePlayback","_startPlayback","trackId","_getTrackInstance","getTrackId","resumed","complete","newTrack","LoaderEvents","BeforeLoad","AfterLoad","UserAction","LoadResourceStart","LoadResourceEnd","isLoaderConstructor","DefaultLoader","resources","_resources","onDraw","_numLoaded","_totalTimeMs","_loadingFuture","loadables","addResources","onInitialize","onUserAction","onBeforeLoad","onAfterLoad","addResource","loadable","markResourceComplete","progress","elapsedMilliseconds","seconds","speed","textbox","actualBoundingBoxLeft","actualBoundingBoxRight","actualBoundingBoxAscent","actualBoundingBoxDescent","areResourcesLoaded","finally","x1","y1","x2","y2","cap","br","tl","tr","bl","defaultRadius","quadraticCurveTo","Director_Loader","Loader","_image","_imageElement","logo","playButtonRootElement","_playButtonRootElement","playButtonElement","_playButtonElement","_playButton","existingRoot","_styleBlock","_playButtonStyles","startButtonFactory","loadablesOrOptions","_originalOptions","_playButtonShown","logoWidth","logoHeight","loadingBarColor","suppressPlayButton","playButtonText","buttonElement","display","_configuredPixelRatio","_DEFAULT_LOADER_OPTIONS","showPlayButton","resizeHandler","_positionPlayButton","evt","click","playButtonClicked","startButtonHandler","hidePlayButton","fullscreenAfterLoad","fullscreenContainer","HTMLElement","removeChild","offsetLeft","offsetTop","buttonWidth","buttonHeight","playButtonPosition","logoY","logoX","logoPosition","oldAntialias","getAntialiasing","setAntialiasing","loadingX","loadingY","loadingBarPosition","progressWidth","REPORTED_FEATURES","webgl","webaudio","gamepadapi","Detector","_features","failedTests","_criticalTests","canvasSupport","elem","arrayBufferSupport","xhr","dataUrlSupport","toDataURL","objectUrlSupport","rgbaSupport","cssText","_warningTest","webAudioSupport","webglSupport","_loadBrowserFeatures","getBrowserFeatures","logBrowserFeatures","dataurl","objecturl","rgba","getGamepads","failedCritical","warning","CoordPlane","SolverStrategy","BroadphaseStrategy","Integrator","ContactSolveBias","VectorView","_getX","getX","_getY","getY","_setX","setX","_setY","setY","WatchVector","original","transform_Transform","_parent","_children","_isDirty","_isInverseDirty","_matrix","_inverse","globalPos","localPos","canonRotation","globalRotation","inverseRotation","globalScale","inverseScale","globalScaleX","globalScaleY","_calculateMatrix","applyInverse","isComponentCtor","owner","newComponent","observers","subscriptions","observer","subscribe","unregister","unsubscribe","notifyAll","observersLength","notify","subscriptionsLength","_parentComponent","_addChildTransform","childTxComponent","zIndexChanged$","_z","_coordPlane","World","onAdd","childrenAdded$","childrenRemoved$","onRemove","_previousOwner","oldz","coordPlane","component","MotionComponent","vel","acc","scaleFactor","angularVelocity","torque","inertia","CollisionGroupManager","mask","_CURRENT_GROUP","_MAX_GROUPS","_GROUPS","existingGroup","group","CollisionGroup","_CURRENT_BIT","groups","groupByName","_STARTING_BIT","category","_category","_mask","canCollide","overlap1","overlap2","collisionGroups","combinedName","combinedMask","collidesWith","padStart","All","Pair","colliderA","colliderB","calculatePairHash","bodyA","BodyComponent","bodyB","active","collide","hasCollider","idA","idB","Projection","projection","getOverlap","TreeNode","isLeaf","DynamicTree","_config","worldBounds","root","nodes","_insert","leaf","leafAABB","currentRoot","area","combinedArea","cost","inheritanceCost","leftCost","leftCombined","newArea","oldArea","rightCost","rightCombined","oldParent","newParent","currentNode","_balance","_remove","grandParent","sibling","trackCollider","node","updateCollider","untrackCollider","boundsPadding","multdx","velocityMultiplier","multdy","balance","getHeight","query","helper","rayCastQuery","getNodes","Ray","numerator","begin","getSlope","divisor","getLength","intersectPoint","getPoint","DynamicTreeCollisionProcessor","_pairs","_collisionPairCache","_colliders","_dynamicCollisionTree","dynamicTree","getColliders","maxDistance","collisionGroup","collisionMask","searchAllColliders","maybeBody","ignoreCollisionGroupAll","hit","untrack","_pairExists","hash","broadphase","targets","potentialColliders","pair","physics","pairs","continuous","checkForFastBodies","updateDistance","minDimension","disableMinimumSpeedForFastBody","fastBodies","updateVec","oldPos","centerPoint","furthestPoint","getFurthestPoint","minCollider","surfaceEpsilon","minTranslate","fastBodyCollisions","narrowphase","contacts","newContacts","collisions","updated","Collider","composite","touching","Physics","gravity","useArcadePhysics","collisionResolutionStrategy","Arcade","useRealisticPhysics","Realistic","enabled","broadphaseStrategy","DynamicAABBTree","defaultMass","integrator","Euler","dynamicTreeVelocityMultiplier","positionIterations","velocityIterations","slop","steeringFactor","warmStart","bodiesCanSleepByDefault","sleepEpsilon","wakeThreshold","sleepBias","VerticalFirst","HorizontalFirst","DefaultPhysicsConfig","solver","compositeStrategy","bodies","canSleepByDefault","arcade","contactSolveBias","realistic","DeprecatedStaticToConfig","_compositeStrategy","_collisionProcessor","_dynamicAABBTree","clearColliders","removeCollider","axes","furthestPoints","bestPoint","getInertia","mass","totalInertia","otherColliders","potentialCollider","getClosestLineBetween","maybeLine","minLine","hits","minHit","minDistance","project","projections","proj","newProjection","LineSegment","slope","intercept","_normal","_dir","_slope","getEdge","_length","midpoint","flip","below","sideVector","clipTime","distanceToPoint","signed","x0","y0","findVectorToPoint","aMinusP","findPoint","hasPoint","currPoint","threshold","dxc","dyc","dx1","dy1","ClosestLine","p0","q0","w0","denom","sDenom","tDenom","tClosestParallel","sClosest","tClosest","ClosestLineJumpTable","PolygonPolygonClosestLine","polygonA","polygonB","otherWorldPos","otherDirection","thisDirection","rayTowardsOther","rayTowardsThis","thisPoint","otherPoint","thisFace","getClosestFace","otherFace","face","PolygonEdgeClosestLine","edge","edgeLine","asLine","PolygonCircleClosestLine","circlex","circley","CircleCircleClosestLine","circleA","circleB","CircleEdgeClosestLine","circleWorldPos","EdgeEdgeClosestLine","edgeA","edgeB","edgeLineA","edgeLineB","CircleCollider","_globalMatrix","_naturalRadius","orig","discriminant","toi","toi1","toi2","positiveToi","minToi","PolygonCollider","EdgeCollider","CollisionJumpTable","CollideCircleCircle","CollideCirclePolygon","CollideCircleEdge","getFurthestLocalPoint","scalars","dotProduct","CollisionContact","mtv","tangent","_canceled","colliderAId","colliderBId","matchAwake","sleeping","sleepMotion","setSleeping","isCanceled","cancel","SeparatingAxis","findPolygonPolygonSeparation","polyA","polyB","bestSeparation","bestSide","bestAxis","bestSideIndex","bestOtherPoint","sides","getSides","localSides","getLocalSides","vertB","vertSeparation","separation","localSide","sideId","localPoint","findCirclePolygonSeparation","polyDir","closestPointOnPoly","minOverlap","minAxis","minIndex","proj1","proj2","overlap","circleAPos","circleBPos","combinedRadius","mvt","local","samedir","findSide","findLocalSide","cc","edgeWorld","asLocalLine","da","dda","db","ddb","den","pointOnEdge","dd","CollideEdgeEdge","CollidePolygonEdge","pc","linePoly","CollidePolygonPolygon","separationA","separationB","incident","reference","refDir","clipRight","clipLeft","xf","FindContactSeparation","shapeA","txA","shapeB","txB","worldPoint","circlePoint","dist","_getTransformedBegin","_getTransformedEnd","transformedBegin","transformedEnd","_boundsFromBeginEnd","edgeNormal","registerGraphicsContext","debugDrawCall","drawLines","drawPolygon","firstPoint","drawBounds","boundingBox","drawRay","_localBoundsDirty","_localSidesDirty","_transformedPointsDirty","_sidesDirty","_transformedPoints","_sides","_localSides","_isCounterClockwiseWinding","suppressConvexWarning","_calculateTransformation","sum","oldPoint","newPoint","oldDirection","angleSum","tessellate","polygons","triangles","vertices","vertexCount","getPrevIndex","getNextIndex","va","vb","vc","leftArm","rightArm","convexVertices","isPointInTriangle","ab","bc","ca","ap","bp","cp","cross1","cross2","cross3","findEarTip","isEar","cutEarTip","getTransformedPoints","currentSide","mostDirection","testRay","accum","pts","POSITIVE_INFINITY","faceIndex","_localBounds","_cachedMass","_cachedInertia","denominator","iplusone","crossTerm","contactSide","minContactTime","contactIndex","contactTime","scalar","Edge","Capsule","ColliderComponent","$colliderAdded","$colliderRemoved","_collidersToRemove","_collider","processColliderRemoval","flipped","entity","precollision","onPreCollisionResolve","postcollision","onPostCollisionResolve","onCollisionStart","onCollisionEnd","poly","useEdgeCollider","DegreeOfFreedom","dependencies","__oldTransformCaptured","enableFixedUpdateInterpolate","_sleeping","bounciness","friction","useGravity","limitDegreeOfFreedom","oldVel","oldAcc","_bodyConfig","config","updatePhysicsConfig","_mass","_DEFAULT_CONFIG","canSleep","updateDefaultPhysicsConfig","newMass","_cachedInverseInertia","inverseMass","updateMotion","currentMotion","bias","maybeCollider","inverseInertia","motion","oldRotation","oldScale","applyImpulse","impulse","finalImpulse","Rotation","distanceFromCenter","applyLinearImpulse","applyAngularImpulse","captureOldTransform","AddedComponent","isAddedComponent","RemovedComponent","isRemovedComponent","EntityEvents","Initialize","PreUpdate","PostUpdate","Kill","Entity","componentsOrOptions","componentsToAdd","nameToAdd","_tags","componentAdded$","componentRemoved$","tagAdded$","tagRemoved$","components","_componentsToRemove","_instanceOfComponentCacheDirty","_instanceOfComponentCache","scene","_isInitialized","kill","unparent","isKilled","tags","hasTag","addTag","removeTag","types","getComponents","hasAll","requiredTypes","hasAllTags","requiredTags","_getCachedInstanceOfType","maybeComponent","getAncestors","removeAllChildren","getDescendants","queue","curr","newEntity","componentInstance","addTemplate","templateEntity","removeComponent","ctor","typeOrInstance","componentToRemove","clearComponents","processComponentRemoval","isInitialized","_preupdate","onPreUpdate","_postupdate","onPostUpdate","hasGraphicsTick","tick","_offset","recalculateBounds","_anchor","_current","_graphics","copyGraphics","onPreDraw","onPostDraw","onPreTransformDraw","onPostTransformDraw","graphicOrOptions","getGraphic","getOptions","getNames","currentOptions","nameOrGraphic","optionsToSet","graphicToSet","remove","hide","offsetX","offsetY","elapsed","idempotencyToken","_radius","useColliderShape","useGraphicsBounds","CreateReversibleEasingFunction","easing","CreateVectorEasingFunction","Linear","startValue","endValue","EaseInQuad","EaseOutQuad","EaseInOutQuad","EaseInCubic","EaseOutCubic","EaseInOutCubic","ActionQueue","_actions","_currentAction","_completedActions","_entity","clearActions","getActions","hasNext","isComplete","Repeat","repeatBuilder","_stopped","_repeatBuilder","_repeatContext","ActionContext","_actionQueue","getQueue","_repeat","_originalRepeat","RepeatForever","MoveBy","_started","_tx","_motion","_speed","_delta","_start","_end","_distance","MoveTo","destx","desty","RotationType","FontStyle","Direction","RotateTo","rotationType","_rotationType","ShortestPath","_currentNonCannonAngle","distance1","distance2","_shortDistance","_longDistance","_shortestPathIsPositive","_direction","LongestPath","Clockwise","CounterClockwise","distanceTraveled","RotateBy","angleRadiansOffset","ScaleTo","speedX","speedY","_endX","_endY","_speedX","_speedY","_startX","_startY","_distanceX","_distanceY","directionX","directionY","ScaleBy","scaleOffsetX","scaleOffsetY","_startScale","_endScale","_directionX","_directionY","CallMethod","_method","_hasBeenCalled","EaseTo","easingFcn","_currentLerpTime","_lerpDuration","_lerpStart","_lerpEnd","EaseBy","Blink","timeVisible","timeNotVisible","numBlinks","_timeVisible","_timeNotVisible","_elapsedTime","_totalTime","Fade","endOpacity","_multiplier","_endOpacity","_ogspeed","Delay","_delay","Die","ActionsComponent","Follow","entityToFollow","followDistance","_followTx","_followMotion","_maximumDistance","_distanceBetween","actorToFollowSpeed","Meet","actorToMeet","_speedWasSpecified","_meetTx","_meetMotion","actorToMeetSpeed","_queue","runAction","easeTo","easeBy","xOrPos","yOrSpeed","speedOrUndefined","moveBy","xOffsetOrVector","yOffsetOrSpeed","xOffset","yOffset","rotateTo","rotateBy","scaleTo","sizeXOrVector","sizeYOrSpeed","speedXOrUndefined","speedYOrUndefined","sizeX","sizeY","scaleBy","sizeOffsetXOrVector","sizeOffsetYOrSpeed","sizeOffsetX","sizeOffsetY","blink","fade","die","callMethod","times","repeatForever","follow","meet","toPromise","_getCtx","FontTextInstance","_textFragments","disposed","_setDimension","_lastHashCode","getHashCode","_applyFont","metrics","textHeight","lineAdjustedHeight","bottomBounds","textBounds","lineHeightRatio","fontString","includeColor","textBaseline","shadowColor","shadowBlur","blur","shadowOffsetX","shadowOffsetY","_drawText","strokeText","_splitTextBitmap","textImages","currentX","currentY","hashCode","frag","FontCache","_MEASURE_CACHE","measurement","measureTextWithoutCache","getTextInstance","textInstance","_TEXT_CACHE","_TEXT_USAGE","checkAndClearCache","deferred","currentHashCodes","FONT_TIMEOUT","newTextMeasurementCache","cacheSize","clearCache","_o","_p","_q","_r","_v","Normal","LeftToRight","_textBounds","_textMeasurement","colorOverride","_textWidth","_textHeight","_calculateDimension","_font","thePos","theVel","theAcc","theAngle","_handleAnchorChange","_handleOffsetChange","isOffScreen","draggable","_draggable","isDraggable","_pointerDragStartHandler","_pointerDragEndHandler","_pointerDragMoveHandler","_pointerDragLeaveHandler","currentGraphic","_dragging","defaults","pointer","actions","builtInComponents","_prekill","onPreKill","_postkill","onPostKill","unkill","newZ","getGlobalPos","localCenter","getGlobalScale","getGlobalRotation","recurse","geom","containment","within","otherCollider","isScreenElement","ScreenElement","useWorld","coords","Timer","_complete","fcn","interval","repeats","numberOfRepeats","randomRange","_totalTimeAlive","_running","_numberOfTicks","maxNumberOfRepeats","_baseInterval","_generateRandomInterval","_MAX_ID","_callbacks","newInterval","newNumberOfRepeats","timesRepeated","getTimeRunning","timeToNextAction","timeElapsedTowardNextAction","isRunning","cancelTimer","DebugGraphicsComponent","useTransform","TileMapEvents","PreDraw","PostDraw","flagCollidersDirty","_collidersDirty","flagTilesDirty","_token","_rows","_cols","renderFromTopOfGraphic","meshingLookBehind","_originalOffsets","debugFlags","_composite","_oldPos","_oldScale","currentCol","tile","_getOrSetColliderOriginalOffset","originalOffset","_updateColliders","shareEdges","checkAndCombine","maxLookBack","defaultGeometry","getTileByIndex","_getTileCoordinates","getRows","getColumns","getOnScreenTiles","maybeParallax","oneMinusFactor","parallaxOffset","currentScene","tileStartX","tileStartY","tileEndX","tileEndY","_oldRotation","graphicsIndex","graphicsLen","offsets","getGraphicsOffsets","getGraphics","gfx","showAll","showGrid","gridColor","gridWidth","showSolidBounds","showColliderBounds","solidBoundsColor","colliderBoundsColor","showColliderGeometry","geometryColor","geometryLineWidth","geometryPointSize","pointSize","_posDirty","_recalculate","_solid","_offsets","removeGraphic","geometryPos","_geometry","_bounds","StrategyContainer","lockToActor","addStrategy","LockCameraToActorStrategy","lockToActorAxis","LockCameraToActorAxisStrategy","elasticToActor","cameraElasticity","cameraFriction","ElasticToActorStrategy","radiusAroundActor","RadiusAroundActorStrategy","box","LimitCameraBoundsStrategy","Axis","cam","_eng","currentFocus","getFocus","focus","cameraVel","stretch","boundSizeChecked","focusX","focusY","CameraEvents","_cameraStrategies","dz","az","_angularVelocity","_posChanged","drawPos","_cameraMoving","_isShaking","_shakeMagnitudeX","_shakeMagnitudeY","_shakeDuration","_elapsedShakeTime","_xShake","_yShake","_isZooming","_zoomStart","_zoomEnd","_currentZoomTime","_zoomDuration","_zoomEasing","_easing","_halfWidth","_halfHeight","_snapPos","_follow","ax","ay","move","easingFn","_lerpPromise","_lerpResolve","shake","magnitudeX","magnitudeY","zoomOverTime","_zoomPromise","_zoomResolve","cameraStrategy","removeStrategy","clearAllStrategies","_screen","currentRes","loadingComplete","res","updateTransform","runStrategies","newZoom","zoomEasing","lerpPoint","moveEasing","_isDoneShaking","fixedUpdateFps","blend","currentFrameLagMs","interpolatedPos","snapPos","newCanvasWidth","newCanvasHeight","cameraPos","TriggerEvents","ExitTrigger","EnterTrigger","triggerDefaults","Trigger","opts","_dispatchAction","_target","SystemPriority","Highest","Higher","Average","Lower","Lowest","SystemType","AnimationDirection","System","EntityManager","_world","_entityIndex","_entitiesToRemove","updateEntities","removeEntity","findEntitiesForRemoval","addEntity","queryManager","idOrEntity","currFrame","actors","killed","processEntityRemovals","processComponentRemovals","getById","getByName","Query","requiredComponents","entityAdded$","entityRemoved$","checkAndAdd","getEntities","TagQuery","QueryManager","_queries","_addComponentHandlers","_removeComponentHandlers","_componentToQueriesIndex","_tagQueries","_addTagHandlers","_removeTagHandlers","_tagToQueriesIndex","_createAddComponentHandler","_createRemoveComponentHandler","_createAddTagHandler","_createRemoveTagHandler","createQuery","queries","createTagQuery","maybeAddComponent","maybeRemoveComponent","maybeAddTag","maybeRemoveTag","tagQuery","isSystemConstructor","SystemManager","systems","initialized","systemType","addSystem","systemOrCtor","system","removeSystem","updateSystems","preupdate","postupdate","entityManager","systemManager","queryTags","Update","entityOrSystem","clearEntities","clearSystems","EulerIntegrator","integrate","totalAcc","_ACC","_VEL","_POS","_VEL_ACC","_SCALE_FACTOR","_SCALE","MotionSystem","world","_physicsConfigDirty","$configUpdate","optionalBody","ArcadeSolver","directionMap","distanceMap","solve","preSolve","aDir","bDir","aDist","bDist","solvePosition","solveVelocity","postSolve","opposite","velAdj","ContactConstraintPoint","normalImpulse","tangentImpulse","normalMass","tangentMass","aToContact","bToContact","originalVelocityAndRestitution","aToContactNormal","bToContactNormal","aToContactTangent","bToContactTangent","getRelativeVelocity","velA","RealisticSolver","lastFrameContacts","idToContactConstraint","getContactConstraints","finishedContactIds","contactPoints","pointIndex","restitution","relativeVelocity","constraints","maxCorrection","steeringForce","impulseForce","impulseDelta","maxFriction","newImpulse","normalVelocity","CollisionSystem","_processor","_physics","collisionProcessor","_configDirty","_lastFrameContacts","_currentFrameContacts","_arcadeSolver","_realisticSolver","_trackCollider","_untrackCollider","colliderComponent","colliderComp","compositeColliders","getSolver","compositeId","runContactStartEnd","AnimationEvents","Frame","frameDuration","_idempotencyToken","_firstTick","_currentFrame","_timeLeftInFrame","_pingPongDirection","_done","_playing","_reversed","totalDuration","goToFrame","maybeFrame","currentFrame","fromSpriteSheet","frameIndices","durationPerFrameMs","invalidIndices","fromSpriteSheetCoordinates","frameCoordinates","defaultDuration","coord","currentFrameIndex","currentFrameTimeLeft","Backward","Forward","canFinish","frameNumber","frameIndex","_nextFrame","GraphicsGroup","members","_updateDimensions","member","useBounds","_isAnimationOrGroup","Configurable","base","EmitterType","ParticleTransform","ParticleImpl","emitterOrConfig","life","beginColor","endColor","velocity","acceleration","startSize","endSize","particleSprite","particleRotationalVelocity","currentRotation","focusAccel","fadeFlag","_rRate","_gRate","_bRate","_aRate","_currentColor","particleSize","sizeRate","elapsedMultiplier","isOffscreen","ParticleEmitter","particleTransform","Global","tmpColor","removeParticle","accel","Particle","_sprite","_particlesToEmit","numParticles","isEmitting","particles","deadParticles","minVel","maxVel","minAngle","maxAngle","emitRate","particleLife","emitterType","randomRotation","particle","emitParticles","particleCount","_createParticle","clearParticles","ranX","ranY","blendTransform","oldTx","newTx","oldTxWithNewParent","oldGlobalPos","oldGlobalScale","oldGlobalRotation","interpolatedScale","interpolatedRotation","GraphicsSystem","sortedTransforms","_sortedTransforms","Draw","_zHasChanged","_zIndexUpdate","_targetInterpolationTransform","parallax","_applyTransform","particleOpacity","_drawGraphicsComponent","graphicsComponent","transformComponent","oldFlipHorizontal","oldFlipVertical","isDebug","showBounds","boundsColor","ancestors","ancestor","DebugSystem","_collisionSystem","filterSettings","entitySettings","txSettings","motionSettings","colliderSettings","physicsSettings","graphicsSettings","debugDraw","bodySettings","cameraSettings","useFilter","ids","nameQuery","cursor","_pushCameraTransform","debugZIndex","showPosition","positionColor","showPositionLabel","showZIndex","showId","showName","showRotation","rotationColor","showScale","scaleColor","showCollisionGroup","showCollisionType","showMass","showMotion","showSleeping","showVelocity","velocityColor","showAcceleration","accelerationColor","showGeometry","showOwner","_popCameraTransform","showBroadphaseSpacePartitionDebug","showCollisionContacts","showCollisionNormals","contactSize","collisionContactColor","collisionNormalColor","showFocus","focusColor","showZoom","overrideUseColliderShape","overrideUseGraphicsBounds","lastFrameEntityToPointers","currentFrameEntityToPointers","_sortedEntities","_scene","_receivers","pointers","_engineReceiver","entityCurrentlyUnderPointer","pointerId","entityWasUnderPointer","entered","addPointerToEntity","_processPointerToEntity","_dispatchEvents","receiver","currentFramePointerCoords","screenPos","graphicBounds","_processDownAndEmit","lastDownPerPointer","currentFrameDown","isDragStart","_processUpAndEmit","lastUpPerPointer","currentFrameUp","isDragEnd","_processMoveAndEmit","lastMovePerPointer","currentFrameMove","isDragging","_processEnterLeaveAndEmit","lastUpDownMoveEvents","_processCancelAndEmit","currentFrameCancel","_processWheelAndEmit","currentFrameWheel","lastFrameEntities","currentFrameEntities","entitiesWithEvents","ActionsSystem","mapOrOptions","IsometricEntitySystem","iso","OffscreenSystem","_worldBounds","entityOffscreen","_isOffscreen","transformedBounds","PhysicsWorld","newConfig","_gamePadTimeStamps","_oldPads","_pads","_initSuccess","_navigator","_minimumConfiguration","_enabled","_clonePads","toggleEnabled","setMinimumGamepadConfiguration","_enableAndUpdate","_isGamepadValid","pad","axesLength","buttonLength","buttons","connected","gamepads","timestamp","bi","ai","navigatorGamepad","getButton","pressed","updateButton","getAxes","updateAxes","_clonePad","getValidGamepads","pads","arr","clonedPad","MinAxisMoveThreshold","_axes","_buttons","_buttonsUp","_buttonsDown","isButtonPressed","isButtonHeld","wasButtonPressed","wasButtonReleased","buttonIndex","axesIndex","InputMapper","inputs","_handlers","command","inputHandler","commandHandler","isCrossOriginIframe","noop","originalEvent","_keys","_keysUp","_keysDown","_releaseAllKeys","ev","keyEvent","_handleKeyDown","metaKey","MetaLeft","MetaRight","_handleKeyUp","keyboardOptions","grabWindowFocus","getKeys","wasPressed","isHeld","wasReleased","triggerEvent","character","KeyboardEvent","GlobalCoordinates","fromPagePosition","yOrEngine","engineOrUndefined","pageX","pageY","coordinates","pointerType","nativeEvent","screenX","screenY","deltaZ","deltaMode","PointerAbstraction","lastPagePos","lastScreenPos","lastWorldPos","_onPointerMove","_onPointerDown","primary","_activeNativePointerIdsToNormalized","lastFramePointerCoords","currentFramePointerDown","lastFramePointerDown","_pointers","_boundHandle","_handle","_boundWheel","_handleWheel","recreate","eventReceiver","isDown","wasDown","native","touchAction","wheelOptions","passive","pageScrollPreventionMode","ScrollPreventionMode","onmousewheel","grabFocus","detach","_normalizePointerId","nativePointerId","preventDefault","eventCoords","TouchEvent","Unknown","Touch","changedTouches","touch","_nativeButtonToPointerButton","Mouse","isPointerEvent","_stringToPointerType","ScrollWheelNormalizationFactor","wheelDeltaX","wheelDeltaY","wheelDelta","detail","Line","Page","page","clientX","clientY","MouseEvent","pointerSystem","NoButton","Pen","InputHost","pointerTarget","keyboard","inputMapper","PreLoadEvent","SceneEvents","Activate","Deactivate","PreDebugDraw","PostDebugDraw","PreLoad","isSceneConstructor","Scene","triggers","tileMaps","timers","_timers","_cancelQueue","onPreLoad","loader","onTransition","onActivate","onDeactivate","_initializeChildren","pointerScope","director","getSceneName","_activate","_deactivate","_predraw","_postdraw","removeTimer","timer","_collectActorStats","addTimer","transfer","isTimerActive","isCurrentScene","screenElements","_ui","ui","alive","ColorBlindnessMode","ScreenShader","ColorBlindnessPostProcessor","_colorBlindnessMode","simulate","_simulate","colorBlindnessMode","colorBlindMode","Protanope","Deuteranope","Tritanope","ColorBlindFlags","_colorBlindPostProcessor","correct","colorBlindness","DebugConfig","FrameStats","prevFrame","isometric","positionSize","useTestClock","wasRunning","testClock","toTestClock","useStandardClock","currentClock","standardClock","toStandardClock","_id","_fps","_actorStats","remaining","_durationStats","_physicsStats","PhysicsStats","_graphicsStats","drawCalls","drawnImages","otherStats","fps","fs","_collisions","_contacts","_fastBodies","_fastBodyCollisions","_broadphase","_narrowphase","ps","BrowserComponent","_nativeHandlers","_decorate","BrowserEvents","_windowGlobal","_documentGlobal","_windowComponent","_documentComponent","DefaultAntialiasOptions","nativeContextAntialiasing","DefaultPixelArtOptions","FpsSampler","_samplePeriod","_currentFrameTime","_frames","_previousSampleTime","_beginFrameTime","initialFps","samplePeriod","_nowFn","nowFn","instant","Clock","_onFatalException","_maxFps","_lastTime","_elapsed","_scheduledCbs","_totalElapsed","maxFps","onFatalException","fpsSampler","TestClock","defaultUpdateMs","StandardClock","setFatalExceptionHandler","cb","timeoutMs","scheduledTime","_runScheduledCbs","overrideUpdateMs","fpsInterval","leftover","mainloop","_requestId","_currentTime","_updateMs","run","numberOfSteps","Util_Toaster","Toaster","_toasterCss","_container","_createFragment","toastMessage","innerText","toast","linkTarget","linkName","className","messageFragments","link","href","finalMessage","dismissBtn","keydownHandler","first","firstChild","insertBefore","DirectorEvents","NavigationStart","Navigation","NavigationEnd","Director","isTransitioning","_isTransitioning","scenes","_sceneToInstance","_sceneToLoader","_sceneToTransition","_loadedScenes","rootScene","currentSceneName","sceneKey","sceneOrOptions","getSceneInstance","_deferredGoto","deferredScene","swapScene","configureStart","startScene","maybeLoaderOrCtor","maybeStartTransition","mainLoader","inTransition","playTransition","_getLoader","sceneName","_getInTransition","sceneOrRoute","_getOutTransition","getDeferredScene","maybeDeferred","getSceneDefinition","maybeScene","sceneInstance","assertAdded","assertRemoved","outTransition","nameOrScene","sceneOrCtor","potentialSceneOrOptions","goto","destinationScene","maybeDest","sourceScene","engineInputEnabled","maybeSourceOut","maybeDestinationIn","sourceOut","destinationIn","sceneActivationData","hideLoader","maybeLoadScene","_emitEvent","onPreviousSceneDeactivate","sceneDefinition","newScene","sceneToLoad","sceneToLoadInstance","transition","currentTransition","sceneInputEnabled","blockInput","previousScene","nextScene","destLoader","sourceName","destinationName","EngineEvents","FallbackGraphicsContext","Visible","Hidden","PreFrame","PostFrame","Engine","isFullscreen","_isDebug","shouldSnapToPixel","EX_VERSION","_inputEnabled","_suppressPlayButton","enableCanvasTransparency","stack","_toaster","_timescale","_performanceThresholdTriggered","_fpsSamples","_isLoading","_hideLoader","_isReadyFuture","currentFrameElapsedMs","_lagMs","_screenShotRequests","_DEFAULT_ENGINE_OPTIONS","detector","suppressMinimumBrowserFeatureDetection","_compatible","testMessage","canvasElementId","suppressConsoleBootMessage","_originalDisplayMode","pixelArt","suppressHiDPIScaling","_mainloop","___EXCALIBUR_DEVTOOL","_monitorPerformanceThresholdAndTriggerFallback","allow","configurePerformanceCanvas2DFallback","showPlayerMessage","numberOfFrames","useCanvas2DFallback","newCanvas","cloneNode","parentNode","replaceChild","Document","timescale","addScene","removeScene","goToScene","scrollPreventionMode","visibilityState","toggleInputEnabled","_overrideInitialize","_update","_loader","_draw","_checkForScreenShots","toggle","toggleDebug","isReady","sceneNameOrLoader","frameId","beforeUpdate","fixedTimestepMs","afterUpdate","afterDraw","screenshot","preserveHiDPIResolution","finalWidth","finalHeight","EventDispatcher","_wiredEventDispatchers","_deferedHandlerRemovals","_processDeferredHandlerRemovals","eventHandler","_removeHandler","eventHandlers","metaHandler","wire","eventDispatcher","unwire","newFont","spriteFont","sf","getTextWidth","IsometricTile","_gfx","_recalculateBounds","_tileBounds","graphicsOffset","tileToWorld","_isometricEntityComponent","halfTileWidth","halfTileHeight","yPos","totalWidth","totalHeight","worldToTile","worldCoordinate","tileCoordinate","tileCoord","_getMaxZIndex","maxZ","NEGATIVE_INFINITY","currentZ","ActionSequence","actionBuilder","_sequenceBuilder","_sequenceContext","ParallelActions","parallelActions","every","QuadTree","_defaultOptions","maxDepth","capacity","_isDivided","halfWidth","halfHeight","_split","newLevelOptions","_insertIntoSubNodes","getAllItems","getTreeDepth","has_initialize","hasOnInitialize","has_preupdate","hasOnPreUpdate","has_postupdate","hasOnPostUpdate","hasPreDraw","hasPostDraw","Gif","_stream","_gif","_animation","_transparentColor","Stream","ParseGif","toSpriteSheet","toAnimation","readCheckBytes","checkBytes","bitsToNum","ba","byteToBitArr","bite","dataArray","readByte","readBytes","bytes","read","readUnsigned","stream","_st","_handler","globalColorTable","parseColorTable","readSubBlocks","parseHeader","hdr","sig","ver","colorRes","globalColorTableSize","gctFlag","sorted","bgColor","pixelAspectRatio","parseExt","block","parseGCExt","reserved","disposalMethod","userInput","transparencyGiven","delayTime","transparencyIndex","terminator","gce","parseComExt","com","parsePTExt","ptHeader","ptData","pte","parseAppExt","identifier","authCode","iterations","app","NETSCAPE","parseNetscapeExt","appData","parseUnknownAppExt","parseUnknownExt","label","extType","parseImg","img","leftPos","topPos","lctFlag","interlaced","lctSize","lct","lzwMinCodeSize","lzwData","pixels","minCodeSize","readCode","clearCode","eoiCode","codeSize","dict","lzwDecode","newPixels","cpRow","toRow","fromRow","fromPixels","steps","pass","deinterlace","arrayToImage","parseBlock","sentinel","eof","FontSource","_isLoaded","FontFace","fonts","toFont","coroutine","coroutineGenerator","generator","Transition","_currentProgress","_completeFuture","started","_currentDistance","updateTransition","onStart","onReset","FadeInOut","screenCover","CrossFade","_progress","_calculateBounds","lineNormal","halfThickness","minPoint","maxMessages","obsoleteMessage","resetObsoleteCounter","logMessage","suppressObsoleteMessages","showStackTrace","obsolete","alternateMethod","SyntaxError","DecoratedClass","AsyncWaitQueue","enqueue","dequeue","Semaphore","_count","_waitQueue","waiting","enter","exit","__webpack_exports__ActionCompleteEvent","__webpack_exports__ActionContext","__webpack_exports__ActionQueue","__webpack_exports__ActionSequence","__webpack_exports__ActionStartEvent","__webpack_exports__ActionsComponent","__webpack_exports__ActionsSystem","__webpack_exports__ActivateEvent","__webpack_exports__Actor","__webpack_exports__AddedComponent","__webpack_exports__AffineMatrix","__webpack_exports__Animation","__webpack_exports__AnimationDirection","__webpack_exports__AnimationEvents","__webpack_exports__AnimationStrategy","__webpack_exports__ArcadeSolver","__webpack_exports__AudioContextFactory","__webpack_exports__Axes","__webpack_exports__Axis","__webpack_exports__BaseAlign","__webpack_exports__Blink","__webpack_exports__BodyComponent","__webpack_exports__BoundingBox","__webpack_exports__BroadphaseStrategy","__webpack_exports__BrowserComponent","__webpack_exports__BrowserEvents","__webpack_exports__Buttons","__webpack_exports__Camera","__webpack_exports__CameraEvents","__webpack_exports__Canvas","__webpack_exports__Circle","__webpack_exports__CircleCollider","__webpack_exports__Clock","__webpack_exports__ClosestLine","__webpack_exports__ClosestLineJumpTable","__webpack_exports__Collider","__webpack_exports__ColliderComponent","__webpack_exports__CollisionContact","__webpack_exports__CollisionEndEvent","__webpack_exports__CollisionGroup","__webpack_exports__CollisionGroupManager","__webpack_exports__CollisionJumpTable","__webpack_exports__CollisionPostSolveEvent","__webpack_exports__CollisionPreSolveEvent","__webpack_exports__CollisionStartEvent","__webpack_exports__CollisionSystem","__webpack_exports__CollisionType","__webpack_exports__Color","__webpack_exports__ColorBlindFlags","__webpack_exports__ColorBlindnessMode","__webpack_exports__ColorBlindnessPostProcessor","__webpack_exports__Component","__webpack_exports__CompositeCollider","__webpack_exports__Configurable","__webpack_exports__ConsoleAppender","__webpack_exports__ContactConstraintPoint","__webpack_exports__ContactEndEvent","__webpack_exports__ContactSolveBias","__webpack_exports__ContactStartEvent","__webpack_exports__CoordPlane","__webpack_exports__CrossFade","__webpack_exports__DeactivateEvent","__webpack_exports__Debug","__webpack_exports__DebugConfig","__webpack_exports__DebugGraphicsComponent","__webpack_exports__DebugSystem","__webpack_exports__DebugText","__webpack_exports__DefaultAntialiasOptions","__webpack_exports__DefaultLoader","__webpack_exports__DefaultPhysicsConfig","__webpack_exports__DefaultPixelArtOptions","__webpack_exports__DegreeOfFreedom","__webpack_exports__Delay","__webpack_exports__DeprecatedStaticToConfig","__webpack_exports__Detector","__webpack_exports__Die","__webpack_exports__Direction","__webpack_exports__Director","__webpack_exports__DirectorEvents","__webpack_exports__DisplayMode","__webpack_exports__DynamicTree","__webpack_exports__DynamicTreeCollisionProcessor","__webpack_exports__EX_VERSION","__webpack_exports__EaseBy","__webpack_exports__EaseTo","__webpack_exports__EasingFunctions","__webpack_exports__EdgeCollider","__webpack_exports__ElasticToActorStrategy","__webpack_exports__EmitterType","__webpack_exports__Engine","__webpack_exports__EngineEvents","__webpack_exports__EnterTriggerEvent","__webpack_exports__EnterViewPortEvent","__webpack_exports__Entity","__webpack_exports__EntityEvents","__webpack_exports__EntityManager","__webpack_exports__EventDispatcher","__webpack_exports__EventEmitter","__webpack_exports__EventTypes","__webpack_exports__Events","__webpack_exports__ExResponse","__webpack_exports__ExcaliburGraphicsContext2DCanvas","__webpack_exports__ExcaliburGraphicsContextWebGL","__webpack_exports__ExitTriggerEvent","__webpack_exports__ExitViewPortEvent","__webpack_exports__Fade","__webpack_exports__FadeInOut","__webpack_exports__Flags","__webpack_exports__Follow","__webpack_exports__Font","__webpack_exports__FontCache","__webpack_exports__FontSource","__webpack_exports__FontStyle","__webpack_exports__FontUnit","__webpack_exports__FpsSampler","__webpack_exports__FrameStats","__webpack_exports__Future","__webpack_exports__GameEvent","__webpack_exports__GameStartEvent","__webpack_exports__GameStopEvent","__webpack_exports__Gamepad","__webpack_exports__GamepadAxisEvent","__webpack_exports__GamepadButtonEvent","__webpack_exports__GamepadConnectEvent","__webpack_exports__GamepadDisconnectEvent","__webpack_exports__Gamepads","__webpack_exports__Gif","__webpack_exports__GlobalCoordinates","__webpack_exports__Graphic","__webpack_exports__GraphicsComponent","__webpack_exports__GraphicsGroup","__webpack_exports__GraphicsSystem","__webpack_exports__HiddenEvent","__webpack_exports__HorizontalFirst","__webpack_exports__ImageFiltering","__webpack_exports__ImageSource","__webpack_exports__InitializeEvent","__webpack_exports__Input","__webpack_exports__InputHost","__webpack_exports__InputMapper","__webpack_exports__Integrator","__webpack_exports__IsometricEntityComponent","__webpack_exports__IsometricEntitySystem","__webpack_exports__IsometricMap","__webpack_exports__IsometricTile","__webpack_exports__KeyEvent","__webpack_exports__Keyboard","__webpack_exports__Keys","__webpack_exports__KillEvent","__webpack_exports__Label","__webpack_exports__LimitCameraBoundsStrategy","__webpack_exports__Line","__webpack_exports__LineSegment","__webpack_exports__Loader","__webpack_exports__LoaderEvents","__webpack_exports__LockCameraToActorAxisStrategy","__webpack_exports__LockCameraToActorStrategy","__webpack_exports__LogLevel","__webpack_exports__Logger","__webpack_exports__Material","__webpack_exports__Matrix","__webpack_exports__MatrixLocations","__webpack_exports__MediaEvent","__webpack_exports__Meet","__webpack_exports__MotionComponent","__webpack_exports__MotionSystem","__webpack_exports__MoveBy","__webpack_exports__MoveTo","__webpack_exports__NativePointerButton","__webpack_exports__NativeSoundEvent","__webpack_exports__NativeSoundProcessedEvent","__webpack_exports__None","__webpack_exports__Observable","__webpack_exports__OffscreenSystem","__webpack_exports__Pair","__webpack_exports__ParallaxComponent","__webpack_exports__ParallelActions","__webpack_exports__ParseGif","__webpack_exports__Particle","__webpack_exports__ParticleEmitter","__webpack_exports__ParticleTransform","__webpack_exports__Physics","__webpack_exports__PhysicsStats","__webpack_exports__PhysicsWorld","__webpack_exports__PointerAbstraction","__webpack_exports__PointerButton","__webpack_exports__PointerComponent","__webpack_exports__PointerEvent","__webpack_exports__PointerEventReceiver","__webpack_exports__PointerScope","__webpack_exports__PointerSystem","__webpack_exports__PointerType","__webpack_exports__Polygon","__webpack_exports__PolygonCollider","__webpack_exports__Pool","__webpack_exports__PostCollisionEvent","__webpack_exports__PostDebugDrawEvent","__webpack_exports__PostDrawEvent","__webpack_exports__PostFrameEvent","__webpack_exports__PostKillEvent","__webpack_exports__PostTransformDrawEvent","__webpack_exports__PostUpdateEvent","__webpack_exports__PreCollisionEvent","__webpack_exports__PreDebugDrawEvent","__webpack_exports__PreDrawEvent","__webpack_exports__PreFrameEvent","__webpack_exports__PreKillEvent","__webpack_exports__PreLoadEvent","__webpack_exports__PreTransformDrawEvent","__webpack_exports__PreUpdateEvent","__webpack_exports__Projection","__webpack_exports__QuadIndexBuffer","__webpack_exports__QuadTree","__webpack_exports__Query","__webpack_exports__QueryManager","__webpack_exports__RadiusAroundActorStrategy","__webpack_exports__Random","__webpack_exports__Raster","__webpack_exports__Ray","__webpack_exports__RealisticSolver","__webpack_exports__Rectangle","__webpack_exports__RemovedComponent","__webpack_exports__Repeat","__webpack_exports__RepeatForever","__webpack_exports__Resolution","__webpack_exports__Resource","__webpack_exports__ResourceEvents","__webpack_exports__RotateBy","__webpack_exports__RotateTo","__webpack_exports__RotationType","__webpack_exports__ScaleBy","__webpack_exports__ScaleTo","__webpack_exports__Scene","__webpack_exports__SceneEvents","__webpack_exports__Screen","__webpack_exports__ScreenAppender","__webpack_exports__ScreenElement","__webpack_exports__ScreenEvents","__webpack_exports__ScreenShader","__webpack_exports__ScrollPreventionMode","__webpack_exports__Semaphore","__webpack_exports__Shader","__webpack_exports__Shape","__webpack_exports__Side","__webpack_exports__SolverStrategy","__webpack_exports__Sound","__webpack_exports__SoundEvents","__webpack_exports__Sprite","__webpack_exports__SpriteFont","__webpack_exports__SpriteSheet","__webpack_exports__StandardClock","__webpack_exports__StateMachine","__webpack_exports__StrategyContainer","__webpack_exports__Stream","__webpack_exports__System","__webpack_exports__SystemManager","__webpack_exports__SystemPriority","__webpack_exports__SystemType","__webpack_exports__TagQuery","__webpack_exports__TestClock","__webpack_exports__Text","__webpack_exports__TextAlign","__webpack_exports__TextureLoader","__webpack_exports__Tile","__webpack_exports__TileMap","__webpack_exports__TileMapEvents","__webpack_exports__Timer","__webpack_exports__Toaster","__webpack_exports__Transform","__webpack_exports__TransformComponent","__webpack_exports__Transition","__webpack_exports__TreeNode","__webpack_exports__Trigger","__webpack_exports__TriggerEvents","__webpack_exports__TwoPI","__webpack_exports__Util","__webpack_exports__Vector","__webpack_exports__VectorView","__webpack_exports__VertexBuffer","__webpack_exports__VertexLayout","__webpack_exports__VerticalFirst","__webpack_exports__VisibleEvent","__webpack_exports__WebAudio","__webpack_exports__WebAudioInstance","__webpack_exports__WheelDeltaMode","__webpack_exports__WheelEvent","__webpack_exports__World","__webpack_exports__canonicalizeAngle","__webpack_exports__clamp","__webpack_exports__coroutine","__webpack_exports__createId","__webpack_exports__frac","__webpack_exports__hasGraphicsTick","__webpack_exports__hasOnInitialize","__webpack_exports__hasOnPostUpdate","__webpack_exports__hasOnPreUpdate","__webpack_exports__hasPostDraw","__webpack_exports__hasPreDraw","__webpack_exports__has_initialize","__webpack_exports__has_postupdate","__webpack_exports__has_preupdate","__webpack_exports__isAddedComponent","__webpack_exports__isComponentCtor","__webpack_exports__isLoaderConstructor","__webpack_exports__isRemovedComponent","__webpack_exports__isSceneConstructor","__webpack_exports__isScreenElement","__webpack_exports__isSystemConstructor","__webpack_exports__maxMessages","__webpack_exports__obsolete","__webpack_exports__pixelSnapEpsilon","__webpack_exports__randomInRange","__webpack_exports__randomIntInRange","__webpack_exports__range","__webpack_exports__resetObsoleteCounter","__webpack_exports__sign","__webpack_exports__toDegrees","__webpack_exports__toRadians","__webpack_exports__vec","__webpack_exports__webgl","Config","PlayerSpeed","PlayerFrameSpeed","__createBinding","k2","desc","__setModuleDefault","__importStar","mod","resources_1","game","Resources","Player","config_1","playerSpriteSheet","HeroSpriteSheetPng","leftIdle","rightIdle","upIdle","downIdle","leftWalk","rightWalk","upWalk","downWalk","Input","ArrowRight","ArrowLeft","ArrowUp","ArrowDown","excalibur_1","plugin_tiled_1","player_1","player","__webpack_require__"],"sourceRoot":""}